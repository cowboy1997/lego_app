var uN=Object.defineProperty;var dN=(t,e,n)=>e in t?uN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ce=(t,e,n)=>(dN(t,typeof e!="symbol"?e+"":e,n),n);var I1e=fN((Ts,As)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Kb(t,e){const n=new Set(t.split(","));return i=>n.has(i)}const Dn={},ru=[],en=()=>{},hN=()=>!1,Og=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Yb=t=>t.startsWith("onUpdate:"),ni=Object.assign,Xb=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},pN=Object.prototype.hasOwnProperty,Ut=(t,e)=>pN.call(t,e),Ze=Array.isArray,ou=t=>oh(t)==="[object Map]",Lg=t=>oh(t)==="[object Set]",Wl=t=>oh(t)==="[object Date]",ht=t=>typeof t=="function",yt=t=>typeof t=="string",go=t=>typeof t=="symbol",Pt=t=>t!==null&&typeof t=="object",vf=t=>(Pt(t)||ht(t))&&ht(t.then)&&ht(t.catch),M2=Object.prototype.toString,oh=t=>M2.call(t),am=t=>oh(t).slice(8,-1),Km=t=>oh(t)==="[object Object]",qb=t=>yt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,qd=Kb(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ng=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},mN=/-(\w)/g,js=Ng(t=>t.replace(mN,(e,n)=>n?n.toUpperCase():"")),gN=/\B([A-Z])/g,Ia=Ng(t=>t.replace(gN,"-$1").toLowerCase()),ah=Ng(t=>t.charAt(0).toUpperCase()+t.slice(1)),lm=Ng(t=>t?`on${ah(t)}`:""),ya=(t,e)=>!Object.is(t,e),cm=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},C2=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Ny=t=>{const e=parseFloat(t);return isNaN(e)?t:e},vN=t=>{const e=yt(t)?Number(t):NaN;return isNaN(e)?t:e};let Wx;const E2=()=>Wx||(Wx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function nt(t){if(Ze(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=yt(i)?wN(i):nt(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(yt(t)||Pt(t))return t}const yN=/;(?![^(]*\))/g,bN=/:([^]+)/,_N=/\/\*[^]*?\*\//g;function wN(t){const e={};return t.replace(_N,"").split(yN).forEach(n=>{if(n){const i=n.split(bN);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function L(t){let e="";if(yt(t))e=t;else if(Ze(t))for(let n=0;n<t.length;n++){const i=L(t[n]);i&&(e+=i+" ")}else if(Pt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function co(t){if(!t)return null;let{class:e,style:n}=t;return e&&!yt(e)&&(t.class=L(e)),n&&(t.style=nt(n)),t}const xN="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",SN=Kb(xN);function T2(t){return!!t||t===""}function MN(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=bu(t[i],e[i]);return n}function bu(t,e){if(t===e)return!0;let n=Wl(t),i=Wl(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=go(t),i=go(e),n||i)return t===e;if(n=Ze(t),i=Ze(e),n||i)return n&&i?MN(t,e):!1;if(n=Pt(t),i=Pt(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,r=Object.keys(e).length;if(s!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!bu(t[o],e[o]))return!1}}return String(t)===String(e)}function A2(t,e){return t.findIndex(n=>bu(n,e))}const Ge=t=>yt(t)?t:t==null?"":Ze(t)||Pt(t)&&(t.toString===M2||!ht(t.toString))?JSON.stringify(t,R2,2):String(t),R2=(t,e)=>e&&e.__v_isRef?R2(t,e.value):ou(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[e0(i,r)+" =>"]=s,n),{})}:Lg(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>e0(n))}:go(e)?e0(e):Pt(e)&&!Ze(e)&&!Km(e)?String(e):e,e0=(t,e="")=>{var n;return go(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xs;class P2{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=xs,!e&&xs&&(this.index=(xs.scopes||(xs.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=xs;try{return xs=this,e()}finally{xs=n}}}on(){xs=this}off(){xs=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function CN(t){return new P2(t)}function EN(t,e=xs){e&&e.active&&e.effects.push(t)}function I2(){return xs}function k2(t){xs&&xs.cleanups.push(t)}let Ll;class jb{constructor(e,n,i,s){this.fn=e,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,EN(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,ka();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(TN(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Oa()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=fa,n=Ll;try{return fa=!0,Ll=this,this._runnings++,Gx(this),this.fn()}finally{Kx(this),this._runnings--,Ll=n,fa=e}}stop(){this.active&&(Gx(this),Kx(this),this.onStop&&this.onStop(),this.active=!1)}}function TN(t){return t.value}function Gx(t){t._trackId++,t._depsLength=0}function Kx(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)O2(t.deps[e],t);t.deps.length=t._depsLength}}function O2(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let fa=!0,Dy=0;const L2=[];function ka(){L2.push(fa),fa=!1}function Oa(){const t=L2.pop();fa=t===void 0?!0:t}function Zb(){Dy++}function Jb(){for(Dy--;!Dy&&Fy.length;)Fy.shift()()}function N2(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&O2(i,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Fy=[];function D2(t,e,n){Zb();for(const i of t.keys()){let s;i._dirtyLevel<e&&(s??(s=t.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(s??(s=t.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&Fy.push(i.scheduler)))}Jb()}const F2=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Ym=new WeakMap,Nl=Symbol(""),By=Symbol("");function gs(t,e,n){if(fa&&Ll){let i=Ym.get(t);i||Ym.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=F2(()=>i.delete(n))),N2(Ll,s)}}function ho(t,e,n,i,s,r){const o=Ym.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Ze(t)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||!go(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Ze(t)?qb(n)&&a.push(o.get("length")):(a.push(o.get(Nl)),ou(t)&&a.push(o.get(By)));break;case"delete":Ze(t)||(a.push(o.get(Nl)),ou(t)&&a.push(o.get(By)));break;case"set":ou(t)&&a.push(o.get(Nl));break}Zb();for(const l of a)l&&D2(l,4);Jb()}function AN(t,e){const n=Ym.get(t);return n&&n.get(e)}const RN=Kb("__proto__,__v_isRef,__isVue"),B2=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(go)),Yx=PN();function PN(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=tn(this);for(let r=0,o=this.length;r<o;r++)gs(i,"get",r+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(tn)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ka(),Zb();const i=tn(this)[e].apply(this,n);return Jb(),Oa(),i}}),t}function IN(t){go(t)||(t=String(t));const e=tn(this);return gs(e,"has",t),e.hasOwnProperty(t)}class U2{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?WN:H2:r?$2:V2).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=Ze(e);if(!s){if(o&&Ut(Yx,n))return Reflect.get(Yx,n,i);if(n==="hasOwnProperty")return IN}const a=Reflect.get(e,n,i);return(go(n)?B2.has(n):RN(n))||(s||gs(e,"get",n),r)?a:yn(a)?o&&qb(n)?a:a.value:Pt(a)?s?Ku(a):Xt(a):a}}class z2 extends U2{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const l=yf(r);if(!Xm(i)&&!yf(i)&&(r=tn(r),i=tn(i)),!Ze(e)&&yn(r)&&!yn(i))return l?!1:(r.value=i,!0)}const o=Ze(e)&&qb(n)?Number(n)<e.length:Ut(e,n),a=Reflect.set(e,n,i,s);return e===tn(s)&&(o?ya(i,r)&&ho(e,"set",n,i):ho(e,"add",n,i)),a}deleteProperty(e,n){const i=Ut(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&ho(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!go(n)||!B2.has(n))&&gs(e,"has",n),i}ownKeys(e){return gs(e,"iterate",Ze(e)?"length":Nl),Reflect.ownKeys(e)}}class kN extends U2{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const ON=new z2,LN=new kN,NN=new z2(!0),Qb=t=>t,Dg=t=>Reflect.getPrototypeOf(t);function Dh(t,e,n=!1,i=!1){t=t.__v_raw;const s=tn(t),r=tn(e);n||(ya(e,r)&&gs(s,"get",e),gs(s,"get",r));const{has:o}=Dg(s),a=i?Qb:n?n_:bf;if(o.call(s,e))return a(t.get(e));if(o.call(s,r))return a(t.get(r));t!==s&&t.get(e)}function Fh(t,e=!1){const n=this.__v_raw,i=tn(n),s=tn(t);return e||(ya(t,s)&&gs(i,"has",t),gs(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Bh(t,e=!1){return t=t.__v_raw,!e&&gs(tn(t),"iterate",Nl),Reflect.get(t,"size",t)}function Xx(t){t=tn(t);const e=tn(this);return Dg(e).has.call(e,t)||(e.add(t),ho(e,"add",t,t)),this}function qx(t,e){e=tn(e);const n=tn(this),{has:i,get:s}=Dg(n);let r=i.call(n,t);r||(t=tn(t),r=i.call(n,t));const o=s.call(n,t);return n.set(t,e),r?ya(e,o)&&ho(n,"set",t,e):ho(n,"add",t,e),this}function jx(t){const e=tn(this),{has:n,get:i}=Dg(e);let s=n.call(e,t);s||(t=tn(t),s=n.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return s&&ho(e,"delete",t,void 0),r}function Zx(){const t=tn(this),e=t.size!==0,n=t.clear();return e&&ho(t,"clear",void 0,void 0),n}function Uh(t,e){return function(i,s){const r=this,o=r.__v_raw,a=tn(o),l=e?Qb:t?n_:bf;return!t&&gs(a,"iterate",Nl),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function zh(t,e,n){return function(...i){const s=this.__v_raw,r=tn(s),o=ou(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...i),u=n?Qb:e?n_:bf;return!e&&gs(r,"iterate",l?By:Nl),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Do(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function DN(){const t={get(r){return Dh(this,r)},get size(){return Bh(this)},has:Fh,add:Xx,set:qx,delete:jx,clear:Zx,forEach:Uh(!1,!1)},e={get(r){return Dh(this,r,!1,!0)},get size(){return Bh(this)},has:Fh,add:Xx,set:qx,delete:jx,clear:Zx,forEach:Uh(!1,!0)},n={get(r){return Dh(this,r,!0)},get size(){return Bh(this,!0)},has(r){return Fh.call(this,r,!0)},add:Do("add"),set:Do("set"),delete:Do("delete"),clear:Do("clear"),forEach:Uh(!0,!1)},i={get(r){return Dh(this,r,!0,!0)},get size(){return Bh(this,!0)},has(r){return Fh.call(this,r,!0)},add:Do("add"),set:Do("set"),delete:Do("delete"),clear:Do("clear"),forEach:Uh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=zh(r,!1,!1),n[r]=zh(r,!0,!1),e[r]=zh(r,!1,!0),i[r]=zh(r,!0,!0)}),[t,n,e,i]}const[FN,BN,UN,zN]=DN();function e_(t,e){const n=e?t?zN:UN:t?BN:FN;return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Ut(n,s)&&s in i?n:i,s,r)}const VN={get:e_(!1,!1)},$N={get:e_(!1,!0)},HN={get:e_(!0,!1)},V2=new WeakMap,$2=new WeakMap,H2=new WeakMap,WN=new WeakMap;function GN(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function KN(t){return t.__v_skip||!Object.isExtensible(t)?0:GN(am(t))}function Xt(t){return yf(t)?t:t_(t,!1,ON,VN,V2)}function W2(t){return t_(t,!1,NN,$N,$2)}function Ku(t){return t_(t,!0,LN,HN,H2)}function t_(t,e,n,i,s){if(!Pt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const o=KN(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return s.set(t,a),a}function jd(t){return yf(t)?jd(t.__v_raw):!!(t&&t.__v_isReactive)}function yf(t){return!!(t&&t.__v_isReadonly)}function Xm(t){return!!(t&&t.__v_isShallow)}function G2(t){return t?!!t.__v_raw:!1}function tn(t){const e=t&&t.__v_raw;return e?tn(e):t}function au(t){return Object.isExtensible(t)&&C2(t,"__v_skip",!0),t}const bf=t=>Pt(t)?Xt(t):t,n_=t=>Pt(t)?Ku(t):t;class K2{constructor(e,n,i,s){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new jb(()=>e(this._value),()=>Zd(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=tn(this);return(!e._cacheable||e.effect.dirty)&&ya(e._value,e._value=e.effect.run())&&Zd(e,4),i_(e),e.effect._dirtyLevel>=2&&Zd(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Y2(t,e,n=!1){let i,s;const r=ht(t);return r?(i=t,s=en):(i=t.get,s=t.set),new K2(i,s,r||!s,n)}function i_(t){var e;fa&&Ll&&(t=tn(t),N2(Ll,(e=t.dep)!=null?e:t.dep=F2(()=>t.dep=void 0,t instanceof K2?t:void 0)))}function Zd(t,e=4,n){t=tn(t);const i=t.dep;i&&D2(i,e)}function yn(t){return!!(t&&t.__v_isRef===!0)}function z(t){return X2(t,!1)}function vn(t){return X2(t,!0)}function X2(t,e){return yn(t)?t:new YN(t,e)}class YN{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:tn(e),this._value=n?e:bf(e)}get value(){return i_(this),this._value}set value(e){const n=this.__v_isShallow||Xm(e)||yf(e);e=n?e:tn(e),ya(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:bf(e),Zd(this,4))}}function h(t){return yn(t)?t.value:t}const XN={get:(t,e,n)=>h(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return yn(s)&&!yn(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function q2(t){return jd(t)?t:new Proxy(t,XN)}class qN{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:i}=e(()=>i_(this),()=>Zd(this));this._get=n,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function jN(t){return new qN(t)}function Ti(t){const e=Ze(t)?new Array(t.length):{};for(const n in t)e[n]=j2(t,n);return e}class ZN{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return AN(tn(this._object),this._key)}}class JN{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function on(t,e,n){return yn(t)?t:ht(t)?new JN(t):Pt(t)&&arguments.length>1?j2(t,e,n):z(t)}function j2(t,e,n){const i=t[e];return yn(i)?i:new ZN(t,e,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ha(t,e,n,i){try{return i?t(...i):t()}catch(s){Fg(s,e,n)}}function Ks(t,e,n,i){if(ht(t)){const s=ha(t,e,n,i);return s&&vf(s)&&s.catch(r=>{Fg(r,e,n)}),s}if(Ze(t)){const s=[];for(let r=0;r<t.length;r++)s.push(Ks(t[r],e,n,i));return s}}function Fg(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){ka(),ha(l,null,10,[t,o,a]),Oa();return}}QN(t,n,s,i)}function QN(t,e,n,i=!0){console.error(t)}let _f=!1,Uy=!1;const $i=[];let kr=0;const lu=[];let ea=null,gl=0;const Z2=Promise.resolve();let s_=null;function rt(t){const e=s_||Z2;return t?e.then(this?t.bind(this):t):e}function eD(t){let e=kr+1,n=$i.length;for(;e<n;){const i=e+n>>>1,s=$i[i],r=wf(s);r<t||r===t&&s.pre?e=i+1:n=i}return e}function r_(t){(!$i.length||!$i.includes(t,_f&&t.allowRecurse?kr+1:kr))&&(t.id==null?$i.push(t):$i.splice(eD(t.id),0,t),J2())}function J2(){!_f&&!Uy&&(Uy=!0,s_=Z2.then(eA))}function tD(t){const e=$i.indexOf(t);e>kr&&$i.splice(e,1)}function nD(t){Ze(t)?lu.push(...t):(!ea||!ea.includes(t,t.allowRecurse?gl+1:gl))&&lu.push(t),J2()}function Jx(t,e,n=_f?kr+1:0){for(;n<$i.length;n++){const i=$i[n];if(i&&i.pre){if(t&&i.id!==t.uid)continue;$i.splice(n,1),n--,i()}}}function Q2(t){if(lu.length){const e=[...new Set(lu)].sort((n,i)=>wf(n)-wf(i));if(lu.length=0,ea){ea.push(...e);return}for(ea=e,gl=0;gl<ea.length;gl++)ea[gl]();ea=null,gl=0}}const wf=t=>t.id==null?1/0:t.id,iD=(t,e)=>{const n=wf(t)-wf(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function eA(t){Uy=!1,_f=!0,$i.sort(iD);try{for(kr=0;kr<$i.length;kr++){const e=$i[kr];e&&e.active!==!1&&ha(e,null,14)}}finally{kr=0,$i.length=0,Q2(),_f=!1,s_=null,($i.length||lu.length)&&eA()}}function sD(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Dn;let s=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=i[u]||Dn;f&&(s=n.map(p=>yt(p)?p.trim():p)),d&&(s=n.map(Ny))}let a,l=i[a=lm(e)]||i[a=lm(js(e))];!l&&r&&(l=i[a=lm(Ia(e))]),l&&Ks(l,t,6,s);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ks(c,t,6,s)}}function tA(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let o={},a=!1;if(!ht(t)){const l=c=>{const u=tA(c,e,!0);u&&(a=!0,ni(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Pt(t)&&i.set(t,null),null):(Ze(r)?r.forEach(l=>o[l]=null):ni(o,r),Pt(t)&&i.set(t,o),o)}function Bg(t,e){return!t||!Og(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ut(t,e[0].toLowerCase()+e.slice(1))||Ut(t,Ia(e))||Ut(t,e))}let mi=null,Ug=null;function qm(t){const e=mi;return mi=t,Ug=t&&t.type.__scopeId||null,e}function nA(t){Ug=t}function iA(){Ug=null}function ne(t,e=mi,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&fS(-1);const r=qm(e);let o;try{o=t(...s)}finally{qm(r),i._d&&fS(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function t0(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:p,ctx:g,inheritAttrs:m}=t,y=qm(t);let v,_;try{if(n.shapeFlag&4){const w=s||i,S=w;v=Ir(c.call(S,w,u,d,p,f,g)),_=a}else{const w=e;v=Ir(w.length>1?w(d,{attrs:a,slots:o,emit:l}):w(d,null)),_=e.props?a:rD(a)}}catch(w){nf.length=0,Fg(w,t,1),v=X(Hi)}let b=v;if(_&&m!==!1){const w=Object.keys(_),{shapeFlag:S}=b;w.length&&S&7&&(r&&w.some(Yb)&&(_=oD(_,r)),b=yo(b,_,!1,!0))}return n.dirs&&(b=yo(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),v=b,qm(y),v}const rD=t=>{let e;for(const n in t)(n==="class"||n==="style"||Og(n))&&((e||(e={}))[n]=t[n]);return e},oD=(t,e)=>{const n={};for(const i in t)(!Yb(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function aD(t,e,n){const{props:i,children:s,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Qx(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==i[f]&&!Bg(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Qx(i,o,c):!0:!!o;return!1}function Qx(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!Bg(n,r))return!0}return!1}function lD({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const o_="components",cD="directives";function bt(t,e){return a_(o_,t,!0,e)||t}const sA=Symbol.for("v-ndc");function kt(t){return yt(t)?a_(o_,t,!1)||t:t||sA}function zg(t){return a_(cD,t)}function a_(t,e,n=!0,i=!1){const s=mi||Pi;if(s){const r=s.type;if(t===o_){const a=JD(r,!1);if(a&&(a===e||a===js(e)||a===ah(js(e))))return r}const o=eS(s[t]||r[t],e)||eS(s.appContext[t],e);return!o&&i?r:o}}function eS(t,e){return t&&(t[e]||t[js(e)]||t[ah(js(e))])}const uD=t=>t.__isSuspense;function dD(t,e){e&&e.pendingBranch?Ze(t)?e.effects.push(...t):e.effects.push(t):nD(t)}const fD=Symbol.for("v-scx"),hD=()=>et(fD);function ki(t,e){return l_(t,null,e)}const Vh={};function ke(t,e,n){return l_(t,e,n)}function l_(t,e,{immediate:n,deep:i,flush:s,once:r,onTrack:o,onTrigger:a}=Dn){if(e&&r){const x=e;e=(...C)=>{x(...C),S()}}const l=Pi,c=x=>i===!0?x:wl(x,i===!1?1:void 0);let u,d=!1,f=!1;if(yn(t)?(u=()=>t.value,d=Xm(t)):jd(t)?(u=()=>c(t),d=!0):Ze(t)?(f=!0,d=t.some(x=>jd(x)||Xm(x)),u=()=>t.map(x=>{if(yn(x))return x.value;if(jd(x))return c(x);if(ht(x))return ha(x,l,2)})):ht(t)?e?u=()=>ha(t,l,2):u=()=>(p&&p(),Ks(t,l,3,[g])):u=en,e&&i){const x=u;u=()=>wl(x())}let p,g=x=>{p=b.onStop=()=>{ha(x,l,4),p=b.onStop=void 0}},m;if(Wg)if(g=en,e?n&&Ks(e,l,3,[u(),f?[]:void 0,g]):u(),s==="sync"){const x=hD();m=x.__watcherHandles||(x.__watcherHandles=[])}else return en;let y=f?new Array(t.length).fill(Vh):Vh;const v=()=>{if(!(!b.active||!b.dirty))if(e){const x=b.run();(i||d||(f?x.some((C,T)=>ya(C,y[T])):ya(x,y)))&&(p&&p(),Ks(e,l,3,[x,y===Vh?void 0:f&&y[0]===Vh?[]:y,g]),y=x)}else b.run()};v.allowRecurse=!!e;let _;s==="sync"?_=v:s==="post"?_=()=>us(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),_=()=>r_(v));const b=new jb(u,en,_),w=I2(),S=()=>{b.stop(),w&&Xb(w.effects,b)};return e?n?v():y=b.run():s==="post"?us(b.run.bind(b),l&&l.suspense):b.run(),m&&m.push(S),S}function pD(t,e,n){const i=this.proxy,s=yt(t)?t.includes(".")?rA(i,t):()=>i[t]:t.bind(i,i);let r;ht(e)?r=e:(r=e.handler,n=e);const o=lh(this),a=l_(s,r.bind(i),n);return o(),a}function rA(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function wl(t,e=1/0,n){if(e<=0||!Pt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,yn(t))wl(t.value,e,n);else if(Ze(t))for(let i=0;i<t.length;i++)wl(t[i],e,n);else if(Lg(t)||ou(t))t.forEach(i=>{wl(i,e,n)});else if(Km(t))for(const i in t)wl(t[i],e,n);return t}function St(t,e){if(mi===null)return t;const n=Gg(mi)||mi.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,o,a,l=Dn]=e[s];r&&(ht(r)&&(r={mounted:r,updated:r}),r.deep&&wl(o),i.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ka(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(ka(),Ks(l,n,8,[t.el,a,t,e]),Oa())}}const ta=Symbol("_leaveCb"),$h=Symbol("_enterCb");function oA(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mt(()=>{t.isMounted=!0}),fn(()=>{t.isUnmounting=!0}),t}const Ls=[Function,Array],aA={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ls,onEnter:Ls,onAfterEnter:Ls,onEnterCancelled:Ls,onBeforeLeave:Ls,onLeave:Ls,onAfterLeave:Ls,onLeaveCancelled:Ls,onBeforeAppear:Ls,onAppear:Ls,onAfterAppear:Ls,onAppearCancelled:Ls},mD={name:"BaseTransition",props:aA,setup(t,{slots:e}){const n=Tt(),i=oA();return()=>{const s=e.default&&c_(e.default(),!0);if(!s||!s.length)return;let r=s[0];if(s.length>1){for(const f of s)if(f.type!==Hi){r=f;break}}const o=tn(t),{mode:a}=o;if(i.isLeaving)return n0(r);const l=tS(r);if(!l)return n0(r);const c=xf(l,o,i,n);Sf(l,c);const u=n.subTree,d=u&&tS(u);if(d&&d.type!==Hi&&!vl(l,d)){const f=xf(d,o,i,n);if(Sf(d,f),a==="out-in"&&l.type!==Hi)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},n0(r);a==="in-out"&&l.type!==Hi&&(f.delayLeave=(p,g,m)=>{const y=lA(i,d);y[String(d.key)]=d,p[ta]=()=>{g(),p[ta]=void 0,delete c.delayedLeave},c.delayedLeave=m})}return r}}},gD=mD;function lA(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function xf(t,e,n,i){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:y,onAfterAppear:v,onAppearCancelled:_}=e,b=String(t.key),w=lA(n,t),S=(T,E)=>{T&&Ks(T,i,9,E)},x=(T,E)=>{const M=E[1];S(T,E),Ze(T)?T.every(R=>R.length<=1)&&M():T.length<=1&&M()},C={mode:r,persisted:o,beforeEnter(T){let E=a;if(!n.isMounted)if(s)E=m||a;else return;T[ta]&&T[ta](!0);const M=w[b];M&&vl(t,M)&&M.el[ta]&&M.el[ta](),S(E,[T])},enter(T){let E=l,M=c,R=u;if(!n.isMounted)if(s)E=y||l,M=v||c,R=_||u;else return;let O=!1;const F=T[$h]=V=>{O||(O=!0,V?S(R,[T]):S(M,[T]),C.delayedLeave&&C.delayedLeave(),T[$h]=void 0)};E?x(E,[T,F]):F()},leave(T,E){const M=String(t.key);if(T[$h]&&T[$h](!0),n.isUnmounting)return E();S(d,[T]);let R=!1;const O=T[ta]=F=>{R||(R=!0,E(),F?S(g,[T]):S(p,[T]),T[ta]=void 0,w[M]===t&&delete w[M])};w[M]=t,f?x(f,[T,O]):O()},clone(T){return xf(T,e,n,i)}};return C}function n0(t){if(Vg(t))return t=yo(t),t.children=null,t}function tS(t){if(!Vg(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ht(n.default))return n.default()}}function Sf(t,e){t.shapeFlag&6&&t.component?Sf(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function c_(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===st?(o.patchFlag&128&&s++,i=i.concat(c_(o.children,e,a))):(e||o.type!==Hi)&&i.push(a!=null?yo(o,{key:a}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function j(t,e){return ht(t)?ni({name:t.name},e,{setup:t}):t}const Jd=t=>!!t.type.__asyncLoader,Vg=t=>t.type.__isKeepAlive;function vD(t,e){uA(t,"a",e)}function cA(t,e){uA(t,"da",e)}function uA(t,e,n=Pi){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if($g(e,i,n),n){let s=n.parent;for(;s&&s.parent;)Vg(s.parent.vnode)&&yD(i,e,n,s),s=s.parent}}function yD(t,e,n,i){const s=$g(e,t,i,!0);La(()=>{Xb(i[e],s)},n)}function $g(t,e,n=Pi,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;ka();const a=lh(n),l=Ks(e,n,t,o);return a(),Oa(),l});return i?s.unshift(r):s.push(r),r}}const Mo=t=>(e,n=Pi)=>(!Wg||t==="sp")&&$g(t,(...i)=>e(...i),n),Hg=Mo("bm"),Mt=Mo("m"),dA=Mo("bu"),Co=Mo("u"),fn=Mo("bum"),La=Mo("um"),bD=Mo("sp"),_D=Mo("rtg"),wD=Mo("rtc");function xD(t,e=Pi){$g("ec",t,e)}function Dt(t,e,n,i){let s;const r=n;if(Ze(t)||yt(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,r)}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,r)}else if(Pt(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,r));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=e(t[c],c,a,r)}}else s=[];return s}function vo(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(Ze(i))for(let s=0;s<i.length;s++)t[i[s].name]=i[s].fn;else i&&(t[i.name]=i.key?(...s)=>{const r=i.fn(...s);return r&&(r.key=i.key),r}:i.fn)}return t}function Me(t,e,n={},i,s){if(mi.isCE||mi.parent&&Jd(mi.parent)&&mi.parent.isCE)return e!=="default"&&(n.name=e),X("slot",n,i&&i());let r=t[e];r&&r._c&&(r._d=!1),P();const o=r&&fA(r(n)),a=_e(st,{key:n.key||o&&o.key||`_${e}`},o||(i?i():[]),o&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function fA(t){return t.some(e=>xn(e)?!(e.type===Hi||e.type===st&&!fA(e.children)):!0)?t:null}function SD(t,e){const n={};for(const i in t)n[lm(i)]=t[i];return n}const zy=t=>t?AA(t)?Gg(t)||t.proxy:zy(t.parent):null,Qd=ni(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>zy(t.parent),$root:t=>zy(t.root),$emit:t=>t.emit,$options:t=>u_(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,r_(t.update)}),$nextTick:t=>t.n||(t.n=rt.bind(t.proxy)),$watch:t=>pD.bind(t)}),i0=(t,e)=>t!==Dn&&!t.__isScriptSetup&&Ut(t,e),MD={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(i0(i,e))return o[e]=1,i[e];if(s!==Dn&&Ut(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&Ut(c,e))return o[e]=3,r[e];if(n!==Dn&&Ut(n,e))return o[e]=4,n[e];Vy&&(o[e]=0)}}const u=Qd[e];let d,f;if(u)return e==="$attrs"&&gs(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Dn&&Ut(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Ut(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return i0(s,e)?(s[e]=n,!0):i!==Dn&&Ut(i,e)?(i[e]=n,!0):Ut(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||t!==Dn&&Ut(t,o)||i0(e,o)||(a=r[0])&&Ut(a,o)||Ut(i,o)||Ut(Qd,o)||Ut(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ut(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ci(){return hA().slots}function rc(){return hA().attrs}function hA(){const t=Tt();return t.setupContext||(t.setupContext=PA(t))}function nS(t){return Ze(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Vy=!0;function CD(t){const e=u_(t),n=t.proxy,i=t.ctx;Vy=!1,e.beforeCreate&&iS(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:g,activated:m,deactivated:y,beforeDestroy:v,beforeUnmount:_,destroyed:b,unmounted:w,render:S,renderTracked:x,renderTriggered:C,errorCaptured:T,serverPrefetch:E,expose:M,inheritAttrs:R,components:O,directives:F,filters:V}=e;if(c&&ED(c,i,null),o)for(const I in o){const N=o[I];ht(N)&&(i[I]=N.bind(n))}if(s){const I=s.call(n,n);Pt(I)&&(t.data=Xt(I))}if(Vy=!0,r)for(const I in r){const N=r[I],k=ht(N)?N.bind(n,n):ht(N.get)?N.get.bind(n,n):en,B=!ht(N)&&ht(N.set)?N.set.bind(n):en,G=A({get:k,set:B});Object.defineProperty(i,I,{enumerable:!0,configurable:!0,get:()=>G.value,set:J=>G.value=J})}if(a)for(const I in a)pA(a[I],i,n,I);if(l){const I=ht(l)?l.call(n):l;Reflect.ownKeys(I).forEach(N=>{Nt(N,I[N])})}u&&iS(u,t,"c");function D(I,N){Ze(N)?N.forEach(k=>I(k.bind(n))):N&&I(N.bind(n))}if(D(Hg,d),D(Mt,f),D(dA,p),D(Co,g),D(vD,m),D(cA,y),D(xD,T),D(wD,x),D(_D,C),D(fn,_),D(La,w),D(bD,E),Ze(M))if(M.length){const I=t.exposed||(t.exposed={});M.forEach(N=>{Object.defineProperty(I,N,{get:()=>n[N],set:k=>n[N]=k})})}else t.exposed||(t.exposed={});S&&t.render===en&&(t.render=S),R!=null&&(t.inheritAttrs=R),O&&(t.components=O),F&&(t.directives=F)}function ED(t,e,n=en){Ze(t)&&(t=$y(t));for(const i in t){const s=t[i];let r;Pt(s)?"default"in s?r=et(s.from||i,s.default,!0):r=et(s.from||i):r=et(s),yn(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function iS(t,e,n){Ks(Ze(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function pA(t,e,n,i){const s=i.includes(".")?rA(n,i):()=>n[i];if(yt(t)){const r=e[t];ht(r)&&ke(s,r)}else if(ht(t))ke(s,t.bind(n));else if(Pt(t))if(Ze(t))t.forEach(r=>pA(r,e,n,i));else{const r=ht(t.handler)?t.handler.bind(n):e[t.handler];ht(r)&&ke(s,r,t)}}function u_(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(c=>jm(l,c,o,!0)),jm(l,e,o)),Pt(e)&&r.set(e,l),l}function jm(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&jm(t,r,n,!0),s&&s.forEach(o=>jm(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=TD[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const TD={data:sS,props:rS,emits:rS,methods:Vd,computed:Vd,beforeCreate:Ji,created:Ji,beforeMount:Ji,mounted:Ji,beforeUpdate:Ji,updated:Ji,beforeDestroy:Ji,beforeUnmount:Ji,destroyed:Ji,unmounted:Ji,activated:Ji,deactivated:Ji,errorCaptured:Ji,serverPrefetch:Ji,components:Vd,directives:Vd,watch:RD,provide:sS,inject:AD};function sS(t,e){return e?t?function(){return ni(ht(t)?t.call(this,this):t,ht(e)?e.call(this,this):e)}:e:t}function AD(t,e){return Vd($y(t),$y(e))}function $y(t){if(Ze(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ji(t,e){return t?[...new Set([].concat(t,e))]:e}function Vd(t,e){return t?ni(Object.create(null),t,e):e}function rS(t,e){return t?Ze(t)&&Ze(e)?[...new Set([...t,...e])]:ni(Object.create(null),nS(t),nS(e??{})):e}function RD(t,e){if(!t)return e;if(!e)return t;const n=ni(Object.create(null),t);for(const i in e)n[i]=Ji(t[i],e[i]);return n}function mA(){return{app:null,config:{isNativeTag:hN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let PD=0;function ID(t,e){return function(i,s=null){ht(i)||(i=ni({},i)),s!=null&&!Pt(s)&&(s=null);const r=mA(),o=new WeakSet;let a=!1;const l=r.app={_uid:PD++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:e4,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&ht(c.install)?(o.add(c),c.install(l,...u)):ht(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,d){if(!a){const f=X(i,s);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),u&&e?e(f,c):t(f,c,d),a=!0,l._container=c,c.__vue_app__=l,Gg(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){const u=ef;ef=l;try{return c()}finally{ef=u}}};return l}}let ef=null;function Nt(t,e){if(Pi){let n=Pi.provides;const i=Pi.parent&&Pi.parent.provides;i===n&&(n=Pi.provides=Object.create(i)),n[t]=e}}function et(t,e,n=!1){const i=Pi||mi;if(i||ef){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:ef._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ht(e)?e.call(i&&i.proxy):e}}const gA={},vA=()=>Object.create(gA),yA=t=>Object.getPrototypeOf(t)===gA;function kD(t,e,n,i=!1){const s={},r=vA();t.propsDefaults=Object.create(null),bA(t,e,s,r);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=i?s:W2(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function OD(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=t,a=tn(s),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Bg(t.emitsOptions,f))continue;const p=e[f];if(l)if(Ut(r,f))p!==r[f]&&(r[f]=p,c=!0);else{const g=js(f);s[g]=Hy(l,a,g,p,t,!1)}else p!==r[f]&&(r[f]=p,c=!0)}}}else{bA(t,e,s,r)&&(c=!0);let u;for(const d in a)(!e||!Ut(e,d)&&((u=Ia(d))===d||!Ut(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=Hy(l,a,d,void 0,t,!0)):delete s[d]);if(r!==a)for(const d in r)(!e||!Ut(e,d))&&(delete r[d],c=!0)}c&&ho(t.attrs,"set","")}function bA(t,e,n,i){const[s,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(qd(l))continue;const c=e[l];let u;s&&Ut(s,u=js(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Bg(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=tn(n),c=a||Dn;for(let u=0;u<r.length;u++){const d=r[u];n[d]=Hy(s,l,d,c[d],t,!Ut(c,d))}}return o}function Hy(t,e,n,i,s,r){const o=t[n];if(o!=null){const a=Ut(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ht(l)){const{propsDefaults:c}=s;if(n in c)i=c[n];else{const u=lh(s);i=c[n]=l.call(null,e),u()}}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===Ia(n))&&(i=!0))}return i}function _A(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const r=t.props,o={},a=[];let l=!1;if(!ht(t)){const u=d=>{l=!0;const[f,p]=_A(d,e,!0);ni(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Pt(t)&&i.set(t,ru),ru;if(Ze(r))for(let u=0;u<r.length;u++){const d=js(r[u]);oS(d)&&(o[d]=Dn)}else if(r)for(const u in r){const d=js(u);if(oS(d)){const f=r[u],p=o[d]=Ze(f)||ht(f)?{type:f}:ni({},f);if(p){const g=cS(Boolean,p.type),m=cS(String,p.type);p[0]=g>-1,p[1]=m<0||g<m,(g>-1||Ut(p,"default"))&&a.push(d)}}}const c=[o,a];return Pt(t)&&i.set(t,c),c}function oS(t){return t[0]!=="$"&&!qd(t)}function aS(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function lS(t,e){return aS(t)===aS(e)}function cS(t,e){return Ze(e)?e.findIndex(n=>lS(n,t)):ht(e)&&lS(e,t)?0:-1}const wA=t=>t[0]==="_"||t==="$stable",d_=t=>Ze(t)?t.map(Ir):[Ir(t)],LD=(t,e,n)=>{if(e._n)return e;const i=ne((...s)=>d_(e(...s)),n);return i._c=!1,i},xA=(t,e,n)=>{const i=t._ctx;for(const s in t){if(wA(s))continue;const r=t[s];if(ht(r))e[s]=LD(s,r,i);else if(r!=null){const o=d_(r);e[s]=()=>o}}},SA=(t,e)=>{const n=d_(e);t.slots.default=()=>n},ND=(t,e)=>{const n=t.slots=vA();if(t.vnode.shapeFlag&32){const i=e._;i?(ni(n,e),C2(n,"_",i,!0)):xA(e,n)}else e&&SA(t,e)},DD=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,o=Dn;if(i.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:(ni(s,e),!n&&a===1&&delete s._):(r=!e.$stable,xA(e,s)),o=e}else e&&(SA(t,e),o={default:1});if(r)for(const a in s)!wA(a)&&o[a]==null&&delete s[a]};function Wy(t,e,n,i,s=!1){if(Ze(t)){t.forEach((f,p)=>Wy(f,e&&(Ze(e)?e[p]:e),n,i,s));return}if(Jd(i)&&!s)return;const r=i.shapeFlag&4?Gg(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Dn?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(yt(c)?(u[c]=null,Ut(d,c)&&(d[c]=null)):yn(c)&&(c.value=null)),ht(l))ha(l,a,12,[o,u]);else{const f=yt(l),p=yn(l);if(f||p){const g=()=>{if(t.f){const m=f?Ut(d,l)?d[l]:u[l]:l.value;s?Ze(m)&&Xb(m,r):Ze(m)?m.includes(r)||m.push(r):f?(u[l]=[r],Ut(d,l)&&(d[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,Ut(d,l)&&(d[l]=o)):p&&(l.value=o,t.k&&(u[t.k]=o))};o?(g.id=-1,us(g,n)):g()}}}const us=dD;function FD(t){return BD(t)}function BD(t,e){const n=E2();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:p=en,insertStaticContent:g}=t,m=(K,q,ue,ve=null,he=null,xe=null,W=void 0,$=null,ae=!!q.dynamicChildren)=>{if(K===q)return;K&&!vl(K,q)&&(ve=oe(K),J(K,he,xe,!0),K=null),q.patchFlag===-2&&(ae=!1,q.dynamicChildren=null);const{type:se,ref:Ee,shapeFlag:Re}=q;switch(se){case Xu:y(K,q,ue,ve);break;case Hi:v(K,q,ue,ve);break;case r0:K==null&&_(q,ue,ve,W);break;case st:O(K,q,ue,ve,he,xe,W,$,ae);break;default:Re&1?S(K,q,ue,ve,he,xe,W,$,ae):Re&6?F(K,q,ue,ve,he,xe,W,$,ae):(Re&64||Re&128)&&se.process(K,q,ue,ve,he,xe,W,$,ae,Q)}Ee!=null&&he&&Wy(Ee,K&&K.ref,xe,q||K,!q)},y=(K,q,ue,ve)=>{if(K==null)i(q.el=a(q.children),ue,ve);else{const he=q.el=K.el;q.children!==K.children&&c(he,q.children)}},v=(K,q,ue,ve)=>{K==null?i(q.el=l(q.children||""),ue,ve):q.el=K.el},_=(K,q,ue,ve)=>{[K.el,K.anchor]=g(K.children,q,ue,ve,K.el,K.anchor)},b=({el:K,anchor:q},ue,ve)=>{let he;for(;K&&K!==q;)he=f(K),i(K,ue,ve),K=he;i(q,ue,ve)},w=({el:K,anchor:q})=>{let ue;for(;K&&K!==q;)ue=f(K),s(K),K=ue;s(q)},S=(K,q,ue,ve,he,xe,W,$,ae)=>{q.type==="svg"?W="svg":q.type==="math"&&(W="mathml"),K==null?x(q,ue,ve,he,xe,W,$,ae):E(K,q,he,xe,W,$,ae)},x=(K,q,ue,ve,he,xe,W,$)=>{let ae,se;const{props:Ee,shapeFlag:Re,transition:be,dirs:Pe}=K;if(ae=K.el=o(K.type,xe,Ee&&Ee.is,Ee),Re&8?u(ae,K.children):Re&16&&T(K.children,ae,null,ve,he,s0(K,xe),W,$),Pe&&Ka(K,null,ve,"created"),C(ae,K,K.scopeId,W,ve),Ee){for(const it in Ee)it!=="value"&&!qd(it)&&r(ae,it,null,Ee[it],xe,K.children,ve,he,te);"value"in Ee&&r(ae,"value",null,Ee.value,xe),(se=Ee.onVnodeBeforeMount)&&Er(se,ve,K)}Pe&&Ka(K,null,ve,"beforeMount");const Fe=UD(he,be);Fe&&be.beforeEnter(ae),i(ae,q,ue),((se=Ee&&Ee.onVnodeMounted)||Fe||Pe)&&us(()=>{se&&Er(se,ve,K),Fe&&be.enter(ae),Pe&&Ka(K,null,ve,"mounted")},he)},C=(K,q,ue,ve,he)=>{if(ue&&p(K,ue),ve)for(let xe=0;xe<ve.length;xe++)p(K,ve[xe]);if(he){let xe=he.subTree;if(q===xe){const W=he.vnode;C(K,W,W.scopeId,W.slotScopeIds,he.parent)}}},T=(K,q,ue,ve,he,xe,W,$,ae=0)=>{for(let se=ae;se<K.length;se++){const Ee=K[se]=$?na(K[se]):Ir(K[se]);m(null,Ee,q,ue,ve,he,xe,W,$)}},E=(K,q,ue,ve,he,xe,W)=>{const $=q.el=K.el;let{patchFlag:ae,dynamicChildren:se,dirs:Ee}=q;ae|=K.patchFlag&16;const Re=K.props||Dn,be=q.props||Dn;let Pe;if(ue&&Ya(ue,!1),(Pe=be.onVnodeBeforeUpdate)&&Er(Pe,ue,q,K),Ee&&Ka(q,K,ue,"beforeUpdate"),ue&&Ya(ue,!0),se?M(K.dynamicChildren,se,$,ue,ve,s0(q,he),xe):W||N(K,q,$,null,ue,ve,s0(q,he),xe,!1),ae>0){if(ae&16)R($,q,Re,be,ue,ve,he);else if(ae&2&&Re.class!==be.class&&r($,"class",null,be.class,he),ae&4&&r($,"style",Re.style,be.style,he),ae&8){const Fe=q.dynamicProps;for(let it=0;it<Fe.length;it++){const Ye=Fe[it],He=Re[Ye],Se=be[Ye];(Se!==He||Ye==="value")&&r($,Ye,He,Se,he,K.children,ue,ve,te)}}ae&1&&K.children!==q.children&&u($,q.children)}else!W&&se==null&&R($,q,Re,be,ue,ve,he);((Pe=be.onVnodeUpdated)||Ee)&&us(()=>{Pe&&Er(Pe,ue,q,K),Ee&&Ka(q,K,ue,"updated")},ve)},M=(K,q,ue,ve,he,xe,W)=>{for(let $=0;$<q.length;$++){const ae=K[$],se=q[$],Ee=ae.el&&(ae.type===st||!vl(ae,se)||ae.shapeFlag&70)?d(ae.el):ue;m(ae,se,Ee,null,ve,he,xe,W,!0)}},R=(K,q,ue,ve,he,xe,W)=>{if(ue!==ve){if(ue!==Dn)for(const $ in ue)!qd($)&&!($ in ve)&&r(K,$,ue[$],null,W,q.children,he,xe,te);for(const $ in ve){if(qd($))continue;const ae=ve[$],se=ue[$];ae!==se&&$!=="value"&&r(K,$,se,ae,W,q.children,he,xe,te)}"value"in ve&&r(K,"value",ue.value,ve.value,W)}},O=(K,q,ue,ve,he,xe,W,$,ae)=>{const se=q.el=K?K.el:a(""),Ee=q.anchor=K?K.anchor:a("");let{patchFlag:Re,dynamicChildren:be,slotScopeIds:Pe}=q;Pe&&($=$?$.concat(Pe):Pe),K==null?(i(se,ue,ve),i(Ee,ue,ve),T(q.children||[],ue,Ee,he,xe,W,$,ae)):Re>0&&Re&64&&be&&K.dynamicChildren?(M(K.dynamicChildren,be,ue,he,xe,W,$),(q.key!=null||he&&q===he.subTree)&&f_(K,q,!0)):N(K,q,ue,Ee,he,xe,W,$,ae)},F=(K,q,ue,ve,he,xe,W,$,ae)=>{q.slotScopeIds=$,K==null?q.shapeFlag&512?he.ctx.activate(q,ue,ve,W,ae):V(q,ue,ve,he,xe,W,ae):U(K,q,ae)},V=(K,q,ue,ve,he,xe,W)=>{const $=K.component=XD(K,ve,he);if(Vg(K)&&($.ctx.renderer=Q),qD($),$.asyncDep){if(he&&he.registerDep($,D),!K.el){const ae=$.subTree=X(Hi);v(null,ae,q,ue)}}else D($,K,q,ue,he,xe,W)},U=(K,q,ue)=>{const ve=q.component=K.component;if(aD(K,q,ue))if(ve.asyncDep&&!ve.asyncResolved){I(ve,q,ue);return}else ve.next=q,tD(ve.update),ve.effect.dirty=!0,ve.update();else q.el=K.el,ve.vnode=q},D=(K,q,ue,ve,he,xe,W)=>{const $=()=>{if(K.isMounted){let{next:Ee,bu:Re,u:be,parent:Pe,vnode:Fe}=K;{const Le=MA(K);if(Le){Ee&&(Ee.el=Fe.el,I(K,Ee,W)),Le.asyncDep.then(()=>{K.isUnmounted||$()});return}}let it=Ee,Ye;Ya(K,!1),Ee?(Ee.el=Fe.el,I(K,Ee,W)):Ee=Fe,Re&&cm(Re),(Ye=Ee.props&&Ee.props.onVnodeBeforeUpdate)&&Er(Ye,Pe,Ee,Fe),Ya(K,!0);const He=t0(K),Se=K.subTree;K.subTree=He,m(Se,He,d(Se.el),oe(Se),K,he,xe),Ee.el=He.el,it===null&&lD(K,He.el),be&&us(be,he),(Ye=Ee.props&&Ee.props.onVnodeUpdated)&&us(()=>Er(Ye,Pe,Ee,Fe),he)}else{let Ee;const{el:Re,props:be}=q,{bm:Pe,m:Fe,parent:it}=K,Ye=Jd(q);if(Ya(K,!1),Pe&&cm(Pe),!Ye&&(Ee=be&&be.onVnodeBeforeMount)&&Er(Ee,it,q),Ya(K,!0),Re&&me){const He=()=>{K.subTree=t0(K),me(Re,K.subTree,K,he,null)};Ye?q.type.__asyncLoader().then(()=>!K.isUnmounted&&He()):He()}else{const He=K.subTree=t0(K);m(null,He,ue,ve,K,he,xe),q.el=He.el}if(Fe&&us(Fe,he),!Ye&&(Ee=be&&be.onVnodeMounted)){const He=q;us(()=>Er(Ee,it,He),he)}(q.shapeFlag&256||it&&Jd(it.vnode)&&it.vnode.shapeFlag&256)&&K.a&&us(K.a,he),K.isMounted=!0,q=ue=ve=null}},ae=K.effect=new jb($,en,()=>r_(se),K.scope),se=K.update=()=>{ae.dirty&&ae.run()};se.id=K.uid,Ya(K,!0),se()},I=(K,q,ue)=>{q.component=K;const ve=K.vnode.props;K.vnode=q,K.next=null,OD(K,q.props,ve,ue),DD(K,q.children,ue),ka(),Jx(K),Oa()},N=(K,q,ue,ve,he,xe,W,$,ae=!1)=>{const se=K&&K.children,Ee=K?K.shapeFlag:0,Re=q.children,{patchFlag:be,shapeFlag:Pe}=q;if(be>0){if(be&128){B(se,Re,ue,ve,he,xe,W,$,ae);return}else if(be&256){k(se,Re,ue,ve,he,xe,W,$,ae);return}}Pe&8?(Ee&16&&te(se,he,xe),Re!==se&&u(ue,Re)):Ee&16?Pe&16?B(se,Re,ue,ve,he,xe,W,$,ae):te(se,he,xe,!0):(Ee&8&&u(ue,""),Pe&16&&T(Re,ue,ve,he,xe,W,$,ae))},k=(K,q,ue,ve,he,xe,W,$,ae)=>{K=K||ru,q=q||ru;const se=K.length,Ee=q.length,Re=Math.min(se,Ee);let be;for(be=0;be<Re;be++){const Pe=q[be]=ae?na(q[be]):Ir(q[be]);m(K[be],Pe,ue,null,he,xe,W,$,ae)}se>Ee?te(K,he,xe,!0,!1,Re):T(q,ue,ve,he,xe,W,$,ae,Re)},B=(K,q,ue,ve,he,xe,W,$,ae)=>{let se=0;const Ee=q.length;let Re=K.length-1,be=Ee-1;for(;se<=Re&&se<=be;){const Pe=K[se],Fe=q[se]=ae?na(q[se]):Ir(q[se]);if(vl(Pe,Fe))m(Pe,Fe,ue,null,he,xe,W,$,ae);else break;se++}for(;se<=Re&&se<=be;){const Pe=K[Re],Fe=q[be]=ae?na(q[be]):Ir(q[be]);if(vl(Pe,Fe))m(Pe,Fe,ue,null,he,xe,W,$,ae);else break;Re--,be--}if(se>Re){if(se<=be){const Pe=be+1,Fe=Pe<Ee?q[Pe].el:ve;for(;se<=be;)m(null,q[se]=ae?na(q[se]):Ir(q[se]),ue,Fe,he,xe,W,$,ae),se++}}else if(se>be)for(;se<=Re;)J(K[se],he,xe,!0),se++;else{const Pe=se,Fe=se,it=new Map;for(se=Fe;se<=be;se++){const je=q[se]=ae?na(q[se]):Ir(q[se]);je.key!=null&&it.set(je.key,se)}let Ye,He=0;const Se=be-Fe+1;let Le=!1,we=0;const pe=new Array(Se);for(se=0;se<Se;se++)pe[se]=0;for(se=Pe;se<=Re;se++){const je=K[se];if(He>=Se){J(je,he,xe,!0);continue}let fe;if(je.key!=null)fe=it.get(je.key);else for(Ye=Fe;Ye<=be;Ye++)if(pe[Ye-Fe]===0&&vl(je,q[Ye])){fe=Ye;break}fe===void 0?J(je,he,xe,!0):(pe[fe-Fe]=se+1,fe>=we?we=fe:Le=!0,m(je,q[fe],ue,null,he,xe,W,$,ae),He++)}const Ae=Le?zD(pe):ru;for(Ye=Ae.length-1,se=Se-1;se>=0;se--){const je=Fe+se,fe=q[je],le=je+1<Ee?q[je+1].el:ve;pe[se]===0?m(null,fe,ue,le,he,xe,W,$,ae):Le&&(Ye<0||se!==Ae[Ye]?G(fe,ue,le,2):Ye--)}}},G=(K,q,ue,ve,he=null)=>{const{el:xe,type:W,transition:$,children:ae,shapeFlag:se}=K;if(se&6){G(K.component.subTree,q,ue,ve);return}if(se&128){K.suspense.move(q,ue,ve);return}if(se&64){W.move(K,q,ue,Q);return}if(W===st){i(xe,q,ue);for(let Re=0;Re<ae.length;Re++)G(ae[Re],q,ue,ve);i(K.anchor,q,ue);return}if(W===r0){b(K,q,ue);return}if(ve!==2&&se&1&&$)if(ve===0)$.beforeEnter(xe),i(xe,q,ue),us(()=>$.enter(xe),he);else{const{leave:Re,delayLeave:be,afterLeave:Pe}=$,Fe=()=>i(xe,q,ue),it=()=>{Re(xe,()=>{Fe(),Pe&&Pe()})};be?be(xe,Fe,it):it()}else i(xe,q,ue)},J=(K,q,ue,ve=!1,he=!1)=>{const{type:xe,props:W,ref:$,children:ae,dynamicChildren:se,shapeFlag:Ee,patchFlag:Re,dirs:be}=K;if($!=null&&Wy($,null,ue,K,!0),Ee&256){q.ctx.deactivate(K);return}const Pe=Ee&1&&be,Fe=!Jd(K);let it;if(Fe&&(it=W&&W.onVnodeBeforeUnmount)&&Er(it,q,K),Ee&6)ye(K.component,ue,ve);else{if(Ee&128){K.suspense.unmount(ue,ve);return}Pe&&Ka(K,null,q,"beforeUnmount"),Ee&64?K.type.remove(K,q,ue,he,Q,ve):se&&(xe!==st||Re>0&&Re&64)?te(se,q,ue,!1,!0):(xe===st&&Re&384||!he&&Ee&16)&&te(ae,q,ue),ve&&re(K)}(Fe&&(it=W&&W.onVnodeUnmounted)||Pe)&&us(()=>{it&&Er(it,q,K),Pe&&Ka(K,null,q,"unmounted")},ue)},re=K=>{const{type:q,el:ue,anchor:ve,transition:he}=K;if(q===st){ee(ue,ve);return}if(q===r0){w(K);return}const xe=()=>{s(ue),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(K.shapeFlag&1&&he&&!he.persisted){const{leave:W,delayLeave:$}=he,ae=()=>W(ue,xe);$?$(K.el,xe,ae):ae()}else xe()},ee=(K,q)=>{let ue;for(;K!==q;)ue=f(K),s(K),K=ue;s(q)},ye=(K,q,ue)=>{const{bum:ve,scope:he,update:xe,subTree:W,um:$}=K;ve&&cm(ve),he.stop(),xe&&(xe.active=!1,J(W,K,q,ue)),$&&us($,q),us(()=>{K.isUnmounted=!0},q),q&&q.pendingBranch&&!q.isUnmounted&&K.asyncDep&&!K.asyncResolved&&K.suspenseId===q.pendingId&&(q.deps--,q.deps===0&&q.resolve())},te=(K,q,ue,ve=!1,he=!1,xe=0)=>{for(let W=xe;W<K.length;W++)J(K[W],q,ue,ve,he)},oe=K=>K.shapeFlag&6?oe(K.component.subTree):K.shapeFlag&128?K.suspense.next():f(K.anchor||K.el);let de=!1;const Ne=(K,q,ue)=>{K==null?q._vnode&&J(q._vnode,null,null,!0):m(q._vnode||null,K,q,null,null,null,ue),de||(de=!0,Jx(),Q2(),de=!1),q._vnode=K},Q={p:m,um:J,m:G,r:re,mt:V,mc:T,pc:N,pbc:M,n:oe,o:t};let Te,me;return{render:Ne,hydrate:Te,createApp:ID(Ne,Te)}}function s0({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ya({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function UD(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function f_(t,e,n=!1){const i=t.children,s=e.children;if(Ze(i)&&Ze(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=na(s[r]),a.el=o.el),n||f_(o,a)),a.type===Xu&&(a.el=o.el)}}function zD(t){const e=t.slice(),n=[0];let i,s,r,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(s=n[n.length-1],t[s]<c){e[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function MA(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:MA(e)}const VD=t=>t.__isTeleport,tf=t=>t&&(t.disabled||t.disabled===""),uS=t=>typeof SVGElement<"u"&&t instanceof SVGElement,dS=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Gy=(t,e)=>{const n=t&&t.to;return yt(n)?e?e(n):null:n},$D={name:"Teleport",__isTeleport:!0,process(t,e,n,i,s,r,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:p,querySelector:g,createText:m,createComment:y}}=c,v=tf(e.props);let{shapeFlag:_,children:b,dynamicChildren:w}=e;if(t==null){const S=e.el=m(""),x=e.anchor=m("");p(S,n,i),p(x,n,i);const C=e.target=Gy(e.props,g),T=e.targetAnchor=m("");C&&(p(T,C),o==="svg"||uS(C)?o="svg":(o==="mathml"||dS(C))&&(o="mathml"));const E=(M,R)=>{_&16&&u(b,M,R,s,r,o,a,l)};v?E(n,x):C&&E(C,T)}else{e.el=t.el;const S=e.anchor=t.anchor,x=e.target=t.target,C=e.targetAnchor=t.targetAnchor,T=tf(t.props),E=T?n:x,M=T?S:C;if(o==="svg"||uS(x)?o="svg":(o==="mathml"||dS(x))&&(o="mathml"),w?(f(t.dynamicChildren,w,E,s,r,o,a),f_(t,e,!0)):l||d(t,e,E,M,s,r,o,a,!1),v)T?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Hh(e,n,S,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const R=e.target=Gy(e.props,g);R&&Hh(e,R,null,c,0)}else T&&Hh(e,x,C,c,1)}CA(e)},remove(t,e,n,i,{um:s,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:d,props:f}=t;if(d&&r(u),o&&r(c),a&16){const p=o||!tf(f);for(let g=0;g<l.length;g++){const m=l[g];s(m,e,n,p,!!m.dynamicChildren)}}},move:Hh,hydrate:HD};function Hh(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=r===2;if(d&&i(o,e,n),(!d||tf(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],e,n,2);d&&i(a,e,n)}function HD(t,e,n,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=Gy(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(tf(e.props))e.anchor=c(o(t),e,a(t),n,i,s,r),e.targetAnchor=d;else{e.anchor=o(t);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(d,e,u,n,i,s,r)}CA(e)}return e.anchor&&o(e.anchor)}const Yu=$D;function CA(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const st=Symbol.for("v-fgt"),Xu=Symbol.for("v-txt"),Hi=Symbol.for("v-cmt"),r0=Symbol.for("v-stc"),nf=[];let fr=null;function P(t=!1){nf.push(fr=t?null:[])}function WD(){nf.pop(),fr=nf[nf.length-1]||null}let Mf=1;function fS(t){Mf+=t}function EA(t){return t.dynamicChildren=Mf>0?fr||ru:null,WD(),Mf>0&&fr&&fr.push(t),t}function H(t,e,n,i,s,r){return EA(Y(t,e,n,i,s,r,!0))}function _e(t,e,n,i,s){return EA(X(t,e,n,i,s,!0))}function xn(t){return t?t.__v_isVNode===!0:!1}function vl(t,e){return t.type===e.type&&t.key===e.key}const TA=({key:t})=>t??null,um=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?yt(t)||yn(t)||ht(t)?{i:mi,r:t,k:e,f:!!n}:t:null);function Y(t,e=null,n=null,i=0,s=null,r=t===st?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&TA(e),ref:e&&um(e),scopeId:Ug,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:mi};return a?(h_(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=yt(n)?8:16),Mf>0&&!o&&fr&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&fr.push(l),l}const X=GD;function GD(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===sA)&&(t=Hi),xn(t)){const a=yo(t,e,!0);return n&&h_(a,n),Mf>0&&!r&&fr&&(a.shapeFlag&6?fr[fr.indexOf(t)]=a:fr.push(a)),a.patchFlag|=-2,a}if(QD(t)&&(t=t.__vccOpts),e){e=_u(e);let{class:a,style:l}=e;a&&!yt(a)&&(e.class=L(a)),Pt(l)&&(G2(l)&&!Ze(l)&&(l=ni({},l)),e.style=nt(l))}const o=yt(t)?1:uD(t)?128:VD(t)?64:Pt(t)?4:ht(t)?2:0;return Y(t,e,n,i,s,o,r,!0)}function _u(t){return t?G2(t)||yA(t)?ni({},t):t:null}function yo(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?Lt(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&TA(c),ref:e&&e.ref?n&&r?Ze(r)?r.concat(um(e)):[r,um(e)]:um(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==st?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&yo(t.ssContent),ssFallback:t.ssFallback&&yo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&(u.transition=l.clone(u)),u}function zt(t=" ",e=0){return X(Xu,null,t,e)}function ge(t="",e=!1){return e?(P(),_e(Hi,null,t)):X(Hi,null,t)}function Ir(t){return t==null||typeof t=="boolean"?X(Hi):Ze(t)?X(st,null,t.slice()):typeof t=="object"?na(t):X(Xu,null,String(t))}function na(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:yo(t)}function h_(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ze(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),h_(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!yA(e)?e._ctx=mi:s===3&&mi&&(mi.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ht(e)?(e={default:e,_ctx:mi},n=32):(e=String(e),i&64?(n=16,e=[zt(e)]):n=8);t.children=e,t.shapeFlag|=n}function Lt(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=L([e.class,i.class]));else if(s==="style")e.style=nt([e.style,i.style]);else if(Og(s)){const r=e[s],o=i[s];o&&r!==o&&!(Ze(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function Er(t,e,n,i=null){Ks(t,e,7,[n,i])}const KD=mA();let YD=0;function XD(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||KD,r={uid:YD++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new P2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_A(i,s),emitsOptions:tA(i,s),emit:null,emitted:null,propsDefaults:Dn,inheritAttrs:i.inheritAttrs,ctx:Dn,data:Dn,props:Dn,attrs:Dn,slots:Dn,refs:Dn,setupState:Dn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=sD.bind(null,r),t.ce&&t.ce(r),r}let Pi=null;const Tt=()=>Pi||mi;let Zm,Ky;{const t=E2(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};Zm=e("__VUE_INSTANCE_SETTERS__",n=>Pi=n),Ky=e("__VUE_SSR_SETTERS__",n=>Wg=n)}const lh=t=>{const e=Pi;return Zm(t),t.scope.on(),()=>{t.scope.off(),Zm(e)}},hS=()=>{Pi&&Pi.scope.off(),Zm(null)};function AA(t){return t.vnode.shapeFlag&4}let Wg=!1;function qD(t,e=!1){e&&Ky(e);const{props:n,children:i}=t.vnode,s=AA(t);kD(t,n,s,e),ND(t,i);const r=s?jD(t,e):void 0;return e&&Ky(!1),r}function jD(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,MD);const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?PA(t):null,r=lh(t);ka();const o=ha(i,t,0,[t.props,s]);if(Oa(),r(),vf(o)){if(o.then(hS,hS),e)return o.then(a=>{pS(t,a,e)}).catch(a=>{Fg(a,t,0)});t.asyncDep=o}else pS(t,o,e)}else RA(t,e)}function pS(t,e,n){ht(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Pt(e)&&(t.setupState=q2(e)),RA(t,n)}let mS;function RA(t,e,n){const i=t.type;if(!t.render){if(!e&&mS&&!i.render){const s=i.template||u_(t).template;if(s){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=ni(ni({isCustomElement:r,delimiters:a},o),l);i.render=mS(s,c)}}t.render=i.render||en}{const s=lh(t);ka();try{CD(t)}finally{Oa(),s()}}}const ZD={get(t,e){return gs(t,"get",""),t[e]}};function PA(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,ZD),slots:t.slots,emit:t.emit,expose:e}}function Gg(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(q2(au(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Qd)return Qd[n](t)},has(e,n){return n in e||n in Qd}}))}function JD(t,e=!0){return ht(t)?t.displayName||t.name:t.name||e&&t.__name}function QD(t){return ht(t)&&"__vccOpts"in t}const A=(t,e)=>Y2(t,e,Wg);function at(t,e,n){const i=arguments.length;return i===2?Pt(e)&&!Ze(e)?xn(e)?X(t,null,[e]):X(t,e):X(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&xn(n)&&(n=[n]),X(t,e,n))}const e4="3.4.27",t4=en;/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const n4="http://www.w3.org/2000/svg",i4="http://www.w3.org/1998/Math/MathML",ia=typeof document<"u"?document:null,gS=ia&&ia.createElement("template"),s4={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?ia.createElementNS(n4,t):e==="mathml"?ia.createElementNS(i4,t):ia.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>ia.createTextNode(t),createComment:t=>ia.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ia.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const o=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{gS.innerHTML=i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t;const a=gS.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Fo="transition",hd="animation",wu=Symbol("_vtc"),ii=(t,{slots:e})=>at(gD,kA(t),e);ii.displayName="Transition";const IA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},r4=ii.props=ni({},aA,IA),Xa=(t,e=[])=>{Ze(t)?t.forEach(n=>n(...e)):t&&t(...e)},vS=t=>t?Ze(t)?t.some(e=>e.length>1):t.length>1:!1;function kA(t){const e={};for(const O in t)O in IA||(e[O]=t[O]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=o4(s),m=g&&g[0],y=g&&g[1],{onBeforeEnter:v,onEnter:_,onEnterCancelled:b,onLeave:w,onLeaveCancelled:S,onBeforeAppear:x=v,onAppear:C=_,onAppearCancelled:T=b}=e,E=(O,F,V)=>{qo(O,F?u:a),qo(O,F?c:o),V&&V()},M=(O,F)=>{O._isLeaving=!1,qo(O,d),qo(O,p),qo(O,f),F&&F()},R=O=>(F,V)=>{const U=O?C:_,D=()=>E(F,O,V);Xa(U,[F,D]),yS(()=>{qo(F,O?l:r),no(F,O?u:a),vS(U)||bS(F,i,m,D)})};return ni(e,{onBeforeEnter(O){Xa(v,[O]),no(O,r),no(O,o)},onBeforeAppear(O){Xa(x,[O]),no(O,l),no(O,c)},onEnter:R(!1),onAppear:R(!0),onLeave(O,F){O._isLeaving=!0;const V=()=>M(O,F);no(O,d),no(O,f),LA(),yS(()=>{O._isLeaving&&(qo(O,d),no(O,p),vS(w)||bS(O,i,y,V))}),Xa(w,[O,V])},onEnterCancelled(O){E(O,!1),Xa(b,[O])},onAppearCancelled(O){E(O,!0),Xa(T,[O])},onLeaveCancelled(O){M(O),Xa(S,[O])}})}function o4(t){if(t==null)return null;if(Pt(t))return[o0(t.enter),o0(t.leave)];{const e=o0(t);return[e,e]}}function o0(t){return vN(t)}function no(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[wu]||(t[wu]=new Set)).add(e)}function qo(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[wu];n&&(n.delete(e),n.size||(t[wu]=void 0))}function yS(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let a4=0;function bS(t,e,n,i){const s=t._endId=++a4,r=()=>{s===t._endId&&i()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=OA(t,e);if(!o)return i();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),r()},f=p=>{p.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function OA(t,e){const n=window.getComputedStyle(t),i=g=>(n[g]||"").split(", "),s=i(`${Fo}Delay`),r=i(`${Fo}Duration`),o=_S(s,r),a=i(`${hd}Delay`),l=i(`${hd}Duration`),c=_S(a,l);let u=null,d=0,f=0;e===Fo?o>0&&(u=Fo,d=o,f=r.length):e===hd?c>0&&(u=hd,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?Fo:hd:null,f=u?u===Fo?r.length:l.length:0);const p=u===Fo&&/\b(transform|all)(,|$)/.test(i(`${Fo}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:p}}function _S(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>wS(n)+wS(t[i])))}function wS(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function LA(){return document.body.offsetHeight}function l4(t,e,n){const i=t[wu];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Jm=Symbol("_vod"),NA=Symbol("_vsh"),Kt={beforeMount(t,{value:e},{transition:n}){t[Jm]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):pd(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),pd(t,!0),i.enter(t)):i.leave(t,()=>{pd(t,!1)}):pd(t,e))},beforeUnmount(t,{value:e}){pd(t,e)}};function pd(t,e){t.style.display=e?t[Jm]:"none",t[NA]=!e}const c4=Symbol(""),u4=/(^|;)\s*display\s*:/;function d4(t,e,n){const i=t.style,s=yt(n);let r=!1;if(n&&!s){if(e)if(yt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&dm(i,a,"")}else for(const o in e)n[o]==null&&dm(i,o,"");for(const o in n)o==="display"&&(r=!0),dm(i,o,n[o])}else if(s){if(e!==n){const o=i[c4];o&&(n+=";"+o),i.cssText=n,r=u4.test(n)}}else e&&t.removeAttribute("style");Jm in t&&(t[Jm]=r?i.display:"",t[NA]&&(i.display="none"))}const xS=/\s*!important$/;function dm(t,e,n){if(Ze(n))n.forEach(i=>dm(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=f4(t,e);xS.test(n)?t.setProperty(Ia(i),n.replace(xS,""),"important"):t[i]=n}}const SS=["Webkit","Moz","ms"],a0={};function f4(t,e){const n=a0[e];if(n)return n;let i=js(e);if(i!=="filter"&&i in t)return a0[e]=i;i=ah(i);for(let s=0;s<SS.length;s++){const r=SS[s]+i;if(r in t)return a0[e]=r}return e}const MS="http://www.w3.org/1999/xlink";function h4(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(MS,e.slice(6,e.length)):t.setAttributeNS(MS,e,n);else{const r=SN(e);n==null||r&&!T2(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function p4(t,e,n,i,s,r,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,s,r),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const c=a==="OPTION"?t.getAttribute("value")||"":t.value,u=n??"";(c!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=T2(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function oa(t,e,n,i){t.addEventListener(e,n,i)}function m4(t,e,n,i){t.removeEventListener(e,n,i)}const CS=Symbol("_vei");function g4(t,e,n,i,s=null){const r=t[CS]||(t[CS]={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=v4(e);if(i){const c=r[e]=_4(i,s);oa(t,a,c,l)}else o&&(m4(t,a,o,l),r[e]=void 0)}}const ES=/(?:Once|Passive|Capture)$/;function v4(t){let e;if(ES.test(t)){e={};let i;for(;i=t.match(ES);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ia(t.slice(2)),e]}let l0=0;const y4=Promise.resolve(),b4=()=>l0||(y4.then(()=>l0=0),l0=Date.now());function _4(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Ks(w4(i,n.value),e,5,[i])};return n.value=t,n.attached=b4(),n}function w4(t,e){if(Ze(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const TS=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,x4=(t,e,n,i,s,r,o,a,l)=>{const c=s==="svg";e==="class"?l4(t,i,c):e==="style"?d4(t,n,i):Og(e)?Yb(e)||g4(t,e,n,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):S4(t,e,i,c))?p4(t,e,i,r,o,a,l):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),h4(t,e,i,c))};function S4(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&TS(e)&&ht(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return TS(e)&&yt(n)?!1:e in t}const DA=new WeakMap,FA=new WeakMap,Qm=Symbol("_moveCb"),AS=Symbol("_enterCb"),BA={name:"TransitionGroup",props:ni({},r4,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Tt(),i=oA();let s,r;return Co(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!A4(s[0].el,n.vnode.el,o))return;s.forEach(C4),s.forEach(E4);const a=s.filter(T4);LA(),a.forEach(l=>{const c=l.el,u=c.style;no(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[Qm]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[Qm]=null,qo(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=tn(t),a=kA(o);let l=o.tag||st;if(s=[],r)for(let c=0;c<r.length;c++){const u=r[c];u.el&&u.el instanceof Element&&(s.push(u),Sf(u,xf(u,a,i,n)),DA.set(u,u.el.getBoundingClientRect()))}r=e.default?c_(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&Sf(u,xf(u,a,i,n))}return X(l,null,r)}}},M4=t=>delete t.mode;BA.props;const UA=BA;function C4(t){const e=t.el;e[Qm]&&e[Qm](),e[AS]&&e[AS]()}function E4(t){FA.set(t,t.el.getBoundingClientRect())}function T4(t){const e=DA.get(t),n=FA.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function A4(t,e,n){const i=t.cloneNode(),s=t[wu];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:o}=OA(i);return r.removeChild(i),o}const xu=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ze(e)?n=>cm(e,n):e};function R4(t){t.target.composing=!0}function RS(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const po=Symbol("_assign"),p_={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[po]=xu(s);const r=i||s.props&&s.props.type==="number";oa(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=Ny(a)),t[po](a)}),n&&oa(t,"change",()=>{t.value=t.value.trim()}),e||(oa(t,"compositionstart",R4),oa(t,"compositionend",RS),oa(t,"change",RS))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},r){if(t[po]=xu(r),t.composing)return;const o=(s||t.type==="number")&&!/^0\d/.test(t.value)?Ny(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===a)||(t.value=a))}},eg={deep:!0,created(t,e,n){t[po]=xu(n),oa(t,"change",()=>{const i=t._modelValue,s=VA(t),r=t.checked,o=t[po];if(Ze(i)){const a=A2(i,s),l=a!==-1;if(r&&!l)o(i.concat(s));else if(!r&&l){const c=[...i];c.splice(a,1),o(c)}}else if(Lg(i)){const a=new Set(i);r?a.add(s):a.delete(s),o(a)}else o($A(t,r))})},mounted:PS,beforeUpdate(t,e,n){t[po]=xu(n),PS(t,e,n)}};function PS(t,{value:e,oldValue:n},i){t._modelValue=e,Ze(e)?t.checked=A2(e,i.props.value)>-1:Lg(e)?t.checked=e.has(i.props.value):e!==n&&(t.checked=bu(e,$A(t,!0)))}const zA={created(t,{value:e},n){t.checked=bu(e,n.props.value),t[po]=xu(n),oa(t,"change",()=>{t[po](VA(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t[po]=xu(i),e!==n&&(t.checked=bu(e,i.props.value))}};function VA(t){return"_value"in t?t._value:t.value}function $A(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const P4=["ctrl","shift","alt","meta"],I4={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>P4.some(n=>t[`${n}Key`]&&!e.includes(n))},gt=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let o=0;o<e.length;o++){const a=I4[e[o]];if(a&&a(s,e))return}return t(s,...r)})},k4={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Gt=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=s=>{if(!("key"in s))return;const r=Ia(s.key);if(e.some(o=>o===r||k4[o]===r))return t(s)})},O4=ni({patchProp:x4},s4);let IS;function HA(){return IS||(IS=FD(O4))}const ba=(...t)=>{HA().render(...t)},WA=(...t)=>{const e=HA().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=N4(i);if(!s)return;const r=e._component;!ht(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,L4(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function L4(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function N4(t){return yt(t)?document.querySelector(t):t}var D4=0;window.bindCaller=(t,e)=>{if(e==null)return null;e.__id__==null&&(e.__id__=D4++);let n;return t.hx__closures__==null?t.hx__closures__={}:n=t.hx__closures__[e.__id__],n==null&&(n=e.bind(t),n.scope=t,n.method=e,t.hx__closures__[e.__id__]=n),n};window.i18n=t=>t;const F4='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',B4=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,kS=t=>Array.from(t.querySelectorAll(F4)).filter(e=>U4(e)&&B4(e)),U4=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},fm=function(t,e,...n){let i;e.includes("mouse")||e.includes("click")?i="MouseEvents":e.includes("key")?i="KeyboardEvent":i="HTMLEvents";const s=document.createEvent(i);return s.initEvent(e,...n),t.dispatchEvent(s),t},GA=t=>!t.getAttribute("aria-owns"),KA=(t,e,n)=>{const{parentNode:i}=t;if(!i)return null;const s=i.querySelectorAll(n),r=Array.prototype.indexOf.call(s,t);return s[r+e]||null},hm=t=>{t&&(t.focus(),!GA(t)&&t.click())},kn=(t,e,{checkForDefaultPrevented:n=!0}={})=>s=>{const r=t==null?void 0:t(s);if(n===!1||!r)return e==null?void 0:e(s)},OS=t=>e=>e.pointerType==="mouse"?t(e):void 0;var z4=Object.defineProperty,V4=Object.defineProperties,$4=Object.getOwnPropertyDescriptors,LS=Object.getOwnPropertySymbols,H4=Object.prototype.hasOwnProperty,W4=Object.prototype.propertyIsEnumerable,NS=(t,e,n)=>e in t?z4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G4=(t,e)=>{for(var n in e||(e={}))H4.call(e,n)&&NS(t,n,e[n]);if(LS)for(var n of LS(e))W4.call(e,n)&&NS(t,n,e[n]);return t},K4=(t,e)=>V4(t,$4(e));function DS(t,e){var n;const i=vn();return ki(()=>{i.value=t()},K4(G4({},e),{flush:(n=void 0)!=null?n:"sync"})),Ku(i)}var FS;const Ft=typeof window<"u",Y4=t=>typeof t<"u",Yy=t=>typeof t=="function",X4=t=>typeof t=="string",Su=()=>{},q4=Ft&&((FS=window==null?void 0:window.navigator)==null?void 0:FS.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function _a(t){return typeof t=="function"?t():h(t)}function YA(t,e){function n(...i){return new Promise((s,r)=>{Promise.resolve(t(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(s).catch(r)})}return n}function j4(t,e={}){let n,i,s=Su;const r=a=>{clearTimeout(a),s(),s=Su};return a=>{const l=_a(t),c=_a(e.maxWait);return n&&r(n),l<=0||c!==void 0&&c<=0?(i&&(r(i),i=null),Promise.resolve(a())):new Promise((u,d)=>{s=e.rejectOnCancel?d:u,c&&!i&&(i=setTimeout(()=>{n&&r(n),i=null,u(a())},c)),n=setTimeout(()=>{i&&r(i),i=null,u(a())},l)})}}function Z4(t,e=!0,n=!0,i=!1){let s=0,r,o=!0,a=Su,l;const c=()=>{r&&(clearTimeout(r),r=void 0,a(),a=Su)};return d=>{const f=_a(t),p=Date.now()-s,g=()=>l=d();return c(),f<=0?(s=Date.now(),g()):(p>f&&(n||!o)?(s=Date.now(),g()):e&&(l=new Promise((m,y)=>{a=i?y:m,r=setTimeout(()=>{s=Date.now(),o=!0,m(g()),c()},Math.max(0,f-p))})),!n&&!r&&(r=setTimeout(()=>o=!0,f)),o=!1,l)}}function J4(t){return t}function Q4(t,e){let n,i,s;const r=z(!0),o=()=>{r.value=!0,s()};ke(t,o,{flush:"sync"});const a=Yy(e)?e:e.get,l=Yy(e)?void 0:e.set,c=jN((u,d)=>(i=u,s=d,{get(){return r.value&&(n=a(),r.value=!1),i(),n},set(f){l==null||l(f)}}));return Object.isExtensible(c)&&(c.trigger=o),c}function ch(t){return I2()?(k2(t),!0):!1}function eF(t,e=200,n={}){return YA(j4(e,n),t)}function tF(t,e=200,n={}){const i=z(t.value),s=eF(()=>{i.value=t.value},e,n);return ke(t,()=>s()),i}function XA(t,e=200,n=!1,i=!0,s=!1){return YA(Z4(e,n,i,s),t)}function m_(t,e=!0){Tt()?Mt(t):e?t():rt(t)}function Gl(t,e,n={}){const{immediate:i=!0}=n,s=z(!1);let r=null;function o(){r&&(clearTimeout(r),r=null)}function a(){s.value=!1,o()}function l(...c){o(),s.value=!0,r=setTimeout(()=>{s.value=!1,r=null,t(...c)},_a(e))}return i&&(s.value=!0,Ft&&l()),ch(a),{isPending:Ku(s),start:l,stop:a}}function fs(t){var e;const n=_a(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Na=Ft?window:void 0,nF=Ft?window.document:void 0;function pn(...t){let e,n,i,s;if(X4(t[0])||Array.isArray(t[0])?([n,i,s]=t,e=Na):[e,n,i,s]=t,!e)return Su;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const r=[],o=()=>{r.forEach(u=>u()),r.length=0},a=(u,d,f,p)=>(u.addEventListener(d,f,p),()=>u.removeEventListener(d,f,p)),l=ke(()=>[fs(e),_a(s)],([u,d])=>{o(),u&&r.push(...n.flatMap(f=>i.map(p=>a(u,f,p,d))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return ch(c),c}let BS=!1;function g_(t,e,n={}){const{window:i=Na,ignore:s=[],capture:r=!0,detectIframe:o=!1}=n;if(!i)return;q4&&!BS&&(BS=!0,Array.from(i.document.body.children).forEach(f=>f.addEventListener("click",Su)));let a=!0;const l=f=>s.some(p=>{if(typeof p=="string")return Array.from(i.document.querySelectorAll(p)).some(g=>g===f.target||f.composedPath().includes(g));{const g=fs(p);return g&&(f.target===g||f.composedPath().includes(g))}}),u=[pn(i,"click",f=>{const p=fs(t);if(!(!p||p===f.target||f.composedPath().includes(p))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}e(f)}},{passive:!0,capture:r}),pn(i,"pointerdown",f=>{const p=fs(t);p&&(a=!f.composedPath().includes(p)&&!l(f))},{passive:!0}),o&&pn(i,"blur",f=>{var p;const g=fs(t);((p=i.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(g!=null&&g.contains(i.document.activeElement))&&e(f)})].filter(Boolean);return()=>u.forEach(f=>f())}function iF(t={}){var e;const{window:n=Na}=t,i=(e=t.document)!=null?e:n==null?void 0:n.document,s=Q4(()=>null,()=>i==null?void 0:i.activeElement);return n&&(pn(n,"blur",r=>{r.relatedTarget===null&&s.trigger()},!0),pn(n,"focus",s.trigger,!0)),s}function qA(t,e=!1){const n=z(),i=()=>n.value=!!t();return i(),m_(i,e),n}function sF(t){return JSON.parse(JSON.stringify(t))}const US=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zS="__vueuse_ssr_handlers__";US[zS]=US[zS]||{};function rF(t,e,{window:n=Na,initialValue:i=""}={}){const s=z(i),r=A(()=>{var o;return fs(e)||((o=n==null?void 0:n.document)==null?void 0:o.documentElement)});return ke([r,()=>_a(t)],([o,a])=>{var l;if(o&&n){const c=(l=n.getComputedStyle(o).getPropertyValue(a))==null?void 0:l.trim();s.value=c||i}},{immediate:!0}),ke(s,o=>{var a;(a=r.value)!=null&&a.style&&r.value.style.setProperty(_a(t),o)}),s}function oF({document:t=nF}={}){if(!t)return z("visible");const e=z(t.visibilityState);return pn(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var VS=Object.getOwnPropertySymbols,aF=Object.prototype.hasOwnProperty,lF=Object.prototype.propertyIsEnumerable,cF=(t,e)=>{var n={};for(var i in t)aF.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&VS)for(var i of VS(t))e.indexOf(i)<0&&lF.call(t,i)&&(n[i]=t[i]);return n};function Mn(t,e,n={}){const i=n,{window:s=Na}=i,r=cF(i,["window"]);let o;const a=qA(()=>s&&"ResizeObserver"in s),l=()=>{o&&(o.disconnect(),o=void 0)},c=ke(()=>fs(t),d=>{l(),a.value&&s&&d&&(o=new ResizeObserver(e),o.observe(d,r))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return ch(u),{isSupported:a,stop:u}}function $S(t,e={}){const{reset:n=!0,windowResize:i=!0,windowScroll:s=!0,immediate:r=!0}=e,o=z(0),a=z(0),l=z(0),c=z(0),u=z(0),d=z(0),f=z(0),p=z(0);function g(){const m=fs(t);if(!m){n&&(o.value=0,a.value=0,l.value=0,c.value=0,u.value=0,d.value=0,f.value=0,p.value=0);return}const y=m.getBoundingClientRect();o.value=y.height,a.value=y.bottom,l.value=y.left,c.value=y.right,u.value=y.top,d.value=y.width,f.value=y.x,p.value=y.y}return Mn(t,g),ke(()=>fs(t),m=>!m&&g()),s&&pn("scroll",g,{capture:!0,passive:!0}),i&&pn("resize",g,{passive:!0}),m_(()=>{r&&g()}),{height:o,bottom:a,left:l,right:c,top:u,width:d,x:f,y:p,update:g}}var HS=Object.getOwnPropertySymbols,uF=Object.prototype.hasOwnProperty,dF=Object.prototype.propertyIsEnumerable,fF=(t,e)=>{var n={};for(var i in t)uF.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&HS)for(var i of HS(t))e.indexOf(i)<0&&dF.call(t,i)&&(n[i]=t[i]);return n};function jA(t,e,n={}){const i=n,{window:s=Na}=i,r=fF(i,["window"]);let o;const a=qA(()=>s&&"MutationObserver"in s),l=()=>{o&&(o.disconnect(),o=void 0)},c=ke(()=>fs(t),d=>{l(),a.value&&s&&d&&(o=new MutationObserver(e),o.observe(d,r))},{immediate:!0}),u=()=>{l(),c()};return ch(u),{isSupported:a,stop:u}}var WS;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(WS||(WS={}));var hF=Object.defineProperty,GS=Object.getOwnPropertySymbols,pF=Object.prototype.hasOwnProperty,mF=Object.prototype.propertyIsEnumerable,KS=(t,e,n)=>e in t?hF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gF=(t,e)=>{for(var n in e||(e={}))pF.call(e,n)&&KS(t,n,e[n]);if(GS)for(var n of GS(e))mF.call(e,n)&&KS(t,n,e[n]);return t};const vF={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};gF({linear:J4},vF);function ZA(t,e,n,i={}){var s,r,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d}=i,f=Tt(),p=n||(f==null?void 0:f.emit)||((s=f==null?void 0:f.$emit)==null?void 0:s.bind(f))||((o=(r=f==null?void 0:f.proxy)==null?void 0:r.$emit)==null?void 0:o.bind(f==null?void 0:f.proxy));let g=c;e||(e="modelValue"),g=c||g||`update:${e.toString()}`;const m=v=>a?Yy(a)?a(v):sF(v):v,y=()=>Y4(t[e])?m(t[e]):d;if(l){const v=y(),_=z(v);return ke(()=>t[e],b=>_.value=m(b)),ke(_,b=>{(b!==t[e]||u)&&p(g,b)},{deep:u}),_}else return A({get(){return y()},set(v){p(g,v)}})}function yF({window:t=Na}={}){if(!t)return z(!1);const e=z(t.document.hasFocus());return pn(t,"blur",()=>{e.value=!1}),pn(t,"focus",()=>{e.value=!0}),e}function bF(t={}){const{window:e=Na,initialWidth:n=1/0,initialHeight:i=1/0,listenOrientation:s=!0,includeScrollbar:r=!0}=t,o=z(n),a=z(i),l=()=>{e&&(r?(o.value=e.innerWidth,a.value=e.innerHeight):(o.value=e.document.documentElement.clientWidth,a.value=e.document.documentElement.clientHeight))};return l(),m_(l),pn("resize",l,{passive:!0}),s&&pn("orientationchange",l,{passive:!0}),{width:o,height:a}}const JA=()=>Ft&&/firefox/i.test(window.navigator.userAgent),_F=(t,e)=>{if(!Ft||!t||!e)return!1;const n=t.getBoundingClientRect();let i;return e instanceof Element?i=e.getBoundingClientRect():i={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<i.bottom&&n.bottom>i.top&&n.right>i.left&&n.left<i.right},YS=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},Xy=(t,e)=>Math.abs(YS(t)-YS(e)),v_=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}};function wF(t,e,n,i){const s=n-e;return t/=i/2,t<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e}var QA=typeof global=="object"&&global&&global.Object===Object&&global,xF=typeof self=="object"&&self&&self.Object===Object&&self,yr=QA||xF||Function("return this")(),Zs=yr.Symbol,eR=Object.prototype,SF=eR.hasOwnProperty,MF=eR.toString,md=Zs?Zs.toStringTag:void 0;function CF(t){var e=SF.call(t,md),n=t[md];try{t[md]=void 0;var i=!0}catch{}var s=MF.call(t);return i&&(e?t[md]=n:delete t[md]),s}var EF=Object.prototype,TF=EF.toString;function AF(t){return TF.call(t)}var RF="[object Null]",PF="[object Undefined]",XS=Zs?Zs.toStringTag:void 0;function oc(t){return t==null?t===void 0?PF:RF:XS&&XS in Object(t)?CF(t):AF(t)}function Ur(t){return t!=null&&typeof t=="object"}var IF="[object Symbol]";function Kg(t){return typeof t=="symbol"||Ur(t)&&oc(t)==IF}function y_(t,e){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=e(t[n],n,t);return s}var ss=Array.isArray,kF=1/0,qS=Zs?Zs.prototype:void 0,jS=qS?qS.toString:void 0;function tR(t){if(typeof t=="string")return t;if(ss(t))return y_(t,tR)+"";if(Kg(t))return jS?jS.call(t):"";var e=t+"";return e=="0"&&1/t==-kF?"-0":e}var OF=/\s/;function LF(t){for(var e=t.length;e--&&OF.test(t.charAt(e)););return e}var NF=/^\s+/;function DF(t){return t&&t.slice(0,LF(t)+1).replace(NF,"")}function rs(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ZS=NaN,FF=/^[-+]0x[0-9a-f]+$/i,BF=/^0b[01]+$/i,UF=/^0o[0-7]+$/i,zF=parseInt;function JS(t){if(typeof t=="number")return t;if(Kg(t))return ZS;if(rs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=rs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=DF(t);var n=BF.test(t);return n||UF.test(t)?zF(t.slice(2),n?2:8):FF.test(t)?ZS:+t}function b_(t){return t}var VF="[object AsyncFunction]",$F="[object Function]",HF="[object GeneratorFunction]",WF="[object Proxy]";function __(t){if(!rs(t))return!1;var e=oc(t);return e==$F||e==HF||e==VF||e==WF}var c0=yr["__core-js_shared__"],QS=function(){var t=/[^.]+$/.exec(c0&&c0.keys&&c0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function GF(t){return!!QS&&QS in t}var KF=Function.prototype,YF=KF.toString;function ac(t){if(t!=null){try{return YF.call(t)}catch{}try{return t+""}catch{}}return""}var XF=/[\\^$.*+?()[\]{}|]/g,qF=/^\[object .+?Constructor\]$/,jF=Function.prototype,ZF=Object.prototype,JF=jF.toString,QF=ZF.hasOwnProperty,eB=RegExp("^"+JF.call(QF).replace(XF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tB(t){if(!rs(t)||GF(t))return!1;var e=__(t)?eB:qF;return e.test(ac(t))}function nB(t,e){return t==null?void 0:t[e]}function lc(t,e){var n=nB(t,e);return tB(n)?n:void 0}var qy=lc(yr,"WeakMap"),eM=Object.create,iB=function(){function t(){}return function(e){if(!rs(e))return{};if(eM)return eM(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function sB(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function rB(){}function nR(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var oB=800,aB=16,lB=Date.now;function cB(t){var e=0,n=0;return function(){var i=lB(),s=aB-(i-n);if(n=i,s>0){if(++e>=oB)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function uB(t){return function(){return t}}var tg=function(){try{var t=lc(Object,"defineProperty");return t({},"",{}),t}catch{}}(),dB=tg?function(t,e){return tg(t,"toString",{configurable:!0,enumerable:!1,value:uB(e),writable:!0})}:b_,iR=cB(dB);function fB(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function sR(t,e,n,i){for(var s=t.length,r=n+(i?1:-1);i?r--:++r<s;)if(e(t[r],r,t))return r;return-1}function hB(t){return t!==t}function pB(t,e,n){for(var i=n-1,s=t.length;++i<s;)if(t[i]===e)return i;return-1}function mB(t,e,n){return e===e?pB(t,e,n):sR(t,hB,n)}function gB(t,e){var n=t==null?0:t.length;return!!n&&mB(t,e,0)>-1}var vB=9007199254740991,yB=/^(?:0|[1-9]\d*)$/;function Yg(t,e){var n=typeof t;return e=e??vB,!!e&&(n=="number"||n!="symbol"&&yB.test(t))&&t>-1&&t%1==0&&t<e}function w_(t,e,n){e=="__proto__"&&tg?tg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function uh(t,e){return t===e||t!==t&&e!==e}var bB=Object.prototype,_B=bB.hasOwnProperty;function x_(t,e,n){var i=t[e];(!(_B.call(t,e)&&uh(i,n))||n===void 0&&!(e in t))&&w_(t,e,n)}function qu(t,e,n,i){var s=!n;n||(n={});for(var r=-1,o=e.length;++r<o;){var a=e[r],l=void 0;l===void 0&&(l=t[a]),s?w_(n,a,l):x_(n,a,l)}return n}var tM=Math.max;function rR(t,e,n){return e=tM(e===void 0?t.length-1:e,0),function(){for(var i=arguments,s=-1,r=tM(i.length-e,0),o=Array(r);++s<r;)o[s]=i[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=i[s];return a[e]=n(o),sB(t,this,a)}}function oR(t,e){return iR(rR(t,e,b_),t+"")}var wB=9007199254740991;function S_(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wB}function ju(t){return t!=null&&S_(t.length)&&!__(t)}function xB(t,e,n){if(!rs(n))return!1;var i=typeof e;return(i=="number"?ju(n)&&Yg(e,n.length):i=="string"&&e in n)?uh(n[e],t):!1}function SB(t){return oR(function(e,n){var i=-1,s=n.length,r=s>1?n[s-1]:void 0,o=s>2?n[2]:void 0;for(r=t.length>3&&typeof r=="function"?(s--,r):void 0,o&&xB(n[0],n[1],o)&&(r=s<3?void 0:r,s=1),e=Object(e);++i<s;){var a=n[i];a&&t(e,a,i,r)}return e})}var MB=Object.prototype;function M_(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||MB;return t===n}function CB(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var EB="[object Arguments]";function nM(t){return Ur(t)&&oc(t)==EB}var aR=Object.prototype,TB=aR.hasOwnProperty,AB=aR.propertyIsEnumerable,Cf=nM(function(){return arguments}())?nM:function(t){return Ur(t)&&TB.call(t,"callee")&&!AB.call(t,"callee")};function RB(){return!1}var lR=typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,iM=lR&&typeof As=="object"&&As&&!As.nodeType&&As,PB=iM&&iM.exports===lR,sM=PB?yr.Buffer:void 0,IB=sM?sM.isBuffer:void 0,Ef=IB||RB,kB="[object Arguments]",OB="[object Array]",LB="[object Boolean]",NB="[object Date]",DB="[object Error]",FB="[object Function]",BB="[object Map]",UB="[object Number]",zB="[object Object]",VB="[object RegExp]",$B="[object Set]",HB="[object String]",WB="[object WeakMap]",GB="[object ArrayBuffer]",KB="[object DataView]",YB="[object Float32Array]",XB="[object Float64Array]",qB="[object Int8Array]",jB="[object Int16Array]",ZB="[object Int32Array]",JB="[object Uint8Array]",QB="[object Uint8ClampedArray]",eU="[object Uint16Array]",tU="[object Uint32Array]",Nn={};Nn[YB]=Nn[XB]=Nn[qB]=Nn[jB]=Nn[ZB]=Nn[JB]=Nn[QB]=Nn[eU]=Nn[tU]=!0;Nn[kB]=Nn[OB]=Nn[GB]=Nn[LB]=Nn[KB]=Nn[NB]=Nn[DB]=Nn[FB]=Nn[BB]=Nn[UB]=Nn[zB]=Nn[VB]=Nn[$B]=Nn[HB]=Nn[WB]=!1;function nU(t){return Ur(t)&&S_(t.length)&&!!Nn[oc(t)]}function C_(t){return function(e){return t(e)}}var cR=typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,sf=cR&&typeof As=="object"&&As&&!As.nodeType&&As,iU=sf&&sf.exports===cR,u0=iU&&QA.process,Mu=function(){try{var t=sf&&sf.require&&sf.require("util").types;return t||u0&&u0.binding&&u0.binding("util")}catch{}}(),rM=Mu&&Mu.isTypedArray,E_=rM?C_(rM):nU,sU=Object.prototype,rU=sU.hasOwnProperty;function uR(t,e){var n=ss(t),i=!n&&Cf(t),s=!n&&!i&&Ef(t),r=!n&&!i&&!s&&E_(t),o=n||i||s||r,a=o?CB(t.length,String):[],l=a.length;for(var c in t)(e||rU.call(t,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Yg(c,l)))&&a.push(c);return a}function dR(t,e){return function(n){return t(e(n))}}var oU=dR(Object.keys,Object),aU=Object.prototype,lU=aU.hasOwnProperty;function cU(t){if(!M_(t))return oU(t);var e=[];for(var n in Object(t))lU.call(t,n)&&n!="constructor"&&e.push(n);return e}function dh(t){return ju(t)?uR(t):cU(t)}function uU(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var dU=Object.prototype,fU=dU.hasOwnProperty;function hU(t){if(!rs(t))return uU(t);var e=M_(t),n=[];for(var i in t)i=="constructor"&&(e||!fU.call(t,i))||n.push(i);return n}function fh(t){return ju(t)?uR(t,!0):hU(t)}var pU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mU=/^\w*$/;function T_(t,e){if(ss(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Kg(t)?!0:mU.test(t)||!pU.test(t)||e!=null&&t in Object(e)}var Tf=lc(Object,"create");function gU(){this.__data__=Tf?Tf(null):{},this.size=0}function vU(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var yU="__lodash_hash_undefined__",bU=Object.prototype,_U=bU.hasOwnProperty;function wU(t){var e=this.__data__;if(Tf){var n=e[t];return n===yU?void 0:n}return _U.call(e,t)?e[t]:void 0}var xU=Object.prototype,SU=xU.hasOwnProperty;function MU(t){var e=this.__data__;return Tf?e[t]!==void 0:SU.call(e,t)}var CU="__lodash_hash_undefined__";function EU(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Tf&&e===void 0?CU:e,this}function Kl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Kl.prototype.clear=gU;Kl.prototype.delete=vU;Kl.prototype.get=wU;Kl.prototype.has=MU;Kl.prototype.set=EU;function TU(){this.__data__=[],this.size=0}function Xg(t,e){for(var n=t.length;n--;)if(uh(t[n][0],e))return n;return-1}var AU=Array.prototype,RU=AU.splice;function PU(t){var e=this.__data__,n=Xg(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():RU.call(e,n,1),--this.size,!0}function IU(t){var e=this.__data__,n=Xg(e,t);return n<0?void 0:e[n][1]}function kU(t){return Xg(this.__data__,t)>-1}function OU(t,e){var n=this.__data__,i=Xg(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Eo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Eo.prototype.clear=TU;Eo.prototype.delete=PU;Eo.prototype.get=IU;Eo.prototype.has=kU;Eo.prototype.set=OU;var Af=lc(yr,"Map");function LU(){this.size=0,this.__data__={hash:new Kl,map:new(Af||Eo),string:new Kl}}function NU(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function qg(t,e){var n=t.__data__;return NU(e)?n[typeof e=="string"?"string":"hash"]:n.map}function DU(t){var e=qg(this,t).delete(t);return this.size-=e?1:0,e}function FU(t){return qg(this,t).get(t)}function BU(t){return qg(this,t).has(t)}function UU(t,e){var n=qg(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function To(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}To.prototype.clear=LU;To.prototype.delete=DU;To.prototype.get=FU;To.prototype.has=BU;To.prototype.set=UU;var zU="Expected a function";function jg(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zU);var n=function(){var i=arguments,s=e?e.apply(this,i):i[0],r=n.cache;if(r.has(s))return r.get(s);var o=t.apply(this,i);return n.cache=r.set(s,o)||r,o};return n.cache=new(jg.Cache||To),n}jg.Cache=To;var VU=500;function $U(t){var e=jg(t,function(i){return n.size===VU&&n.clear(),i}),n=e.cache;return e}var HU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WU=/\\(\\)?/g,GU=$U(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(HU,function(n,i,s,r){e.push(s?r.replace(WU,"$1"):i||n)}),e});function KU(t){return t==null?"":tR(t)}function Zu(t,e){return ss(t)?t:T_(t,e)?[t]:GU(KU(t))}var YU=1/0;function Ju(t){if(typeof t=="string"||Kg(t))return t;var e=t+"";return e=="0"&&1/t==-YU?"-0":e}function Zg(t,e){e=Zu(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[Ju(e[n++])];return n&&n==i?t:void 0}function Fn(t,e,n){var i=t==null?void 0:Zg(t,e);return i===void 0?n:i}function A_(t,e){for(var n=-1,i=e.length,s=t.length;++n<i;)t[s+n]=e[n];return t}var oM=Zs?Zs.isConcatSpreadable:void 0;function XU(t){return ss(t)||Cf(t)||!!(oM&&t&&t[oM])}function hh(t,e,n,i,s){var r=-1,o=t.length;for(n||(n=XU),s||(s=[]);++r<o;){var a=t[r];e>0&&n(a)?e>1?hh(a,e-1,n,i,s):A_(s,a):i||(s[s.length]=a)}return s}function fR(t){var e=t==null?0:t.length;return e?hh(t,1):[]}function hR(t){return iR(rR(t,void 0,fR),t+"")}var R_=dR(Object.getPrototypeOf,Object),qU="[object Object]",jU=Function.prototype,ZU=Object.prototype,pR=jU.toString,JU=ZU.hasOwnProperty,QU=pR.call(Object);function mR(t){if(!Ur(t)||oc(t)!=qU)return!1;var e=R_(t);if(e===null)return!0;var n=JU.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&pR.call(n)==QU}function e5(t,e,n){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(s);++i<s;)r[i]=t[i+e];return r}function wa(){if(!arguments.length)return[];var t=arguments[0];return ss(t)?t:[t]}function t5(){this.__data__=new Eo,this.size=0}function n5(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function i5(t){return this.__data__.get(t)}function s5(t){return this.__data__.has(t)}var r5=200;function o5(t,e){var n=this.__data__;if(n instanceof Eo){var i=n.__data__;if(!Af||i.length<r5-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new To(i)}return n.set(t,e),this.size=n.size,this}function mr(t){var e=this.__data__=new Eo(t);this.size=e.size}mr.prototype.clear=t5;mr.prototype.delete=n5;mr.prototype.get=i5;mr.prototype.has=s5;mr.prototype.set=o5;function a5(t,e){return t&&qu(e,dh(e),t)}function l5(t,e){return t&&qu(e,fh(e),t)}var gR=typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,aM=gR&&typeof As=="object"&&As&&!As.nodeType&&As,c5=aM&&aM.exports===gR,lM=c5?yr.Buffer:void 0,cM=lM?lM.allocUnsafe:void 0;function vR(t,e){if(e)return t.slice();var n=t.length,i=cM?cM(n):new t.constructor(n);return t.copy(i),i}function u5(t,e){for(var n=-1,i=t==null?0:t.length,s=0,r=[];++n<i;){var o=t[n];e(o,n,t)&&(r[s++]=o)}return r}function yR(){return[]}var d5=Object.prototype,f5=d5.propertyIsEnumerable,uM=Object.getOwnPropertySymbols,P_=uM?function(t){return t==null?[]:(t=Object(t),u5(uM(t),function(e){return f5.call(t,e)}))}:yR;function h5(t,e){return qu(t,P_(t),e)}var p5=Object.getOwnPropertySymbols,bR=p5?function(t){for(var e=[];t;)A_(e,P_(t)),t=R_(t);return e}:yR;function m5(t,e){return qu(t,bR(t),e)}function _R(t,e,n){var i=e(t);return ss(t)?i:A_(i,n(t))}function jy(t){return _R(t,dh,P_)}function wR(t){return _R(t,fh,bR)}var Zy=lc(yr,"DataView"),Jy=lc(yr,"Promise"),cu=lc(yr,"Set"),dM="[object Map]",g5="[object Object]",fM="[object Promise]",hM="[object Set]",pM="[object WeakMap]",mM="[object DataView]",v5=ac(Zy),y5=ac(Af),b5=ac(Jy),_5=ac(cu),w5=ac(qy),cr=oc;(Zy&&cr(new Zy(new ArrayBuffer(1)))!=mM||Af&&cr(new Af)!=dM||Jy&&cr(Jy.resolve())!=fM||cu&&cr(new cu)!=hM||qy&&cr(new qy)!=pM)&&(cr=function(t){var e=oc(t),n=e==g5?t.constructor:void 0,i=n?ac(n):"";if(i)switch(i){case v5:return mM;case y5:return dM;case b5:return fM;case _5:return hM;case w5:return pM}return e});var x5=Object.prototype,S5=x5.hasOwnProperty;function M5(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&S5.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var ng=yr.Uint8Array;function I_(t){var e=new t.constructor(t.byteLength);return new ng(e).set(new ng(t)),e}function C5(t,e){var n=e?I_(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var E5=/\w*$/;function T5(t){var e=new t.constructor(t.source,E5.exec(t));return e.lastIndex=t.lastIndex,e}var gM=Zs?Zs.prototype:void 0,vM=gM?gM.valueOf:void 0;function A5(t){return vM?Object(vM.call(t)):{}}function xR(t,e){var n=e?I_(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var R5="[object Boolean]",P5="[object Date]",I5="[object Map]",k5="[object Number]",O5="[object RegExp]",L5="[object Set]",N5="[object String]",D5="[object Symbol]",F5="[object ArrayBuffer]",B5="[object DataView]",U5="[object Float32Array]",z5="[object Float64Array]",V5="[object Int8Array]",$5="[object Int16Array]",H5="[object Int32Array]",W5="[object Uint8Array]",G5="[object Uint8ClampedArray]",K5="[object Uint16Array]",Y5="[object Uint32Array]";function X5(t,e,n){var i=t.constructor;switch(e){case F5:return I_(t);case R5:case P5:return new i(+t);case B5:return C5(t,n);case U5:case z5:case V5:case $5:case H5:case W5:case G5:case K5:case Y5:return xR(t,n);case I5:return new i;case k5:case N5:return new i(t);case O5:return T5(t);case L5:return new i;case D5:return A5(t)}}function SR(t){return typeof t.constructor=="function"&&!M_(t)?iB(R_(t)):{}}var q5="[object Map]";function j5(t){return Ur(t)&&cr(t)==q5}var yM=Mu&&Mu.isMap,Z5=yM?C_(yM):j5,J5="[object Set]";function Q5(t){return Ur(t)&&cr(t)==J5}var bM=Mu&&Mu.isSet,ez=bM?C_(bM):Q5,tz=1,nz=2,iz=4,MR="[object Arguments]",sz="[object Array]",rz="[object Boolean]",oz="[object Date]",az="[object Error]",CR="[object Function]",lz="[object GeneratorFunction]",cz="[object Map]",uz="[object Number]",ER="[object Object]",dz="[object RegExp]",fz="[object Set]",hz="[object String]",pz="[object Symbol]",mz="[object WeakMap]",gz="[object ArrayBuffer]",vz="[object DataView]",yz="[object Float32Array]",bz="[object Float64Array]",_z="[object Int8Array]",wz="[object Int16Array]",xz="[object Int32Array]",Sz="[object Uint8Array]",Mz="[object Uint8ClampedArray]",Cz="[object Uint16Array]",Ez="[object Uint32Array]",Pn={};Pn[MR]=Pn[sz]=Pn[gz]=Pn[vz]=Pn[rz]=Pn[oz]=Pn[yz]=Pn[bz]=Pn[_z]=Pn[wz]=Pn[xz]=Pn[cz]=Pn[uz]=Pn[ER]=Pn[dz]=Pn[fz]=Pn[hz]=Pn[pz]=Pn[Sz]=Pn[Mz]=Pn[Cz]=Pn[Ez]=!0;Pn[az]=Pn[CR]=Pn[mz]=!1;function uu(t,e,n,i,s,r){var o,a=e&tz,l=e&nz,c=e&iz;if(n&&(o=s?n(t,i,s,r):n(t)),o!==void 0)return o;if(!rs(t))return t;var u=ss(t);if(u){if(o=M5(t),!a)return nR(t,o)}else{var d=cr(t),f=d==CR||d==lz;if(Ef(t))return vR(t,a);if(d==ER||d==MR||f&&!s){if(o=l||f?{}:SR(t),!a)return l?m5(t,l5(o,t)):h5(t,a5(o,t))}else{if(!Pn[d])return s?t:{};o=X5(t,d,a)}}r||(r=new mr);var p=r.get(t);if(p)return p;r.set(t,o),ez(t)?t.forEach(function(y){o.add(uu(y,e,n,y,t,r))}):Z5(t)&&t.forEach(function(y,v){o.set(v,uu(y,e,n,v,t,r))});var g=c?l?wR:jy:l?fh:dh,m=u?void 0:g(t);return fB(m||t,function(y,v){m&&(v=y,y=t[v]),x_(o,v,uu(y,e,n,v,t,r))}),o}var Tz=4;function _M(t){return uu(t,Tz)}var Az=1,Rz=4;function ig(t){return uu(t,Az|Rz)}var Pz="__lodash_hash_undefined__";function Iz(t){return this.__data__.set(t,Pz),this}function kz(t){return this.__data__.has(t)}function Rf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new To;++e<n;)this.add(t[e])}Rf.prototype.add=Rf.prototype.push=Iz;Rf.prototype.has=kz;function Oz(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function TR(t,e){return t.has(e)}var Lz=1,Nz=2;function AR(t,e,n,i,s,r){var o=n&Lz,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=r.get(t),u=r.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,p=n&Nz?new Rf:void 0;for(r.set(t,e),r.set(e,t);++d<a;){var g=t[d],m=e[d];if(i)var y=o?i(m,g,d,e,t,r):i(g,m,d,t,e,r);if(y!==void 0){if(y)continue;f=!1;break}if(p){if(!Oz(e,function(v,_){if(!TR(p,_)&&(g===v||s(g,v,n,i,r)))return p.push(_)})){f=!1;break}}else if(!(g===m||s(g,m,n,i,r))){f=!1;break}}return r.delete(t),r.delete(e),f}function Dz(t){var e=-1,n=Array(t.size);return t.forEach(function(i,s){n[++e]=[s,i]}),n}function k_(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var Fz=1,Bz=2,Uz="[object Boolean]",zz="[object Date]",Vz="[object Error]",$z="[object Map]",Hz="[object Number]",Wz="[object RegExp]",Gz="[object Set]",Kz="[object String]",Yz="[object Symbol]",Xz="[object ArrayBuffer]",qz="[object DataView]",wM=Zs?Zs.prototype:void 0,d0=wM?wM.valueOf:void 0;function jz(t,e,n,i,s,r,o){switch(n){case qz:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Xz:return!(t.byteLength!=e.byteLength||!r(new ng(t),new ng(e)));case Uz:case zz:case Hz:return uh(+t,+e);case Vz:return t.name==e.name&&t.message==e.message;case Wz:case Kz:return t==e+"";case $z:var a=Dz;case Gz:var l=i&Fz;if(a||(a=k_),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;i|=Bz,o.set(t,e);var u=AR(a(t),a(e),i,s,r,o);return o.delete(t),u;case Yz:if(d0)return d0.call(t)==d0.call(e)}return!1}var Zz=1,Jz=Object.prototype,Qz=Jz.hasOwnProperty;function e8(t,e,n,i,s,r){var o=n&Zz,a=jy(t),l=a.length,c=jy(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:Qz.call(e,f)))return!1}var p=r.get(t),g=r.get(e);if(p&&g)return p==e&&g==t;var m=!0;r.set(t,e),r.set(e,t);for(var y=o;++d<l;){f=a[d];var v=t[f],_=e[f];if(i)var b=o?i(_,v,f,e,t,r):i(v,_,f,t,e,r);if(!(b===void 0?v===_||s(v,_,n,i,r):b)){m=!1;break}y||(y=f=="constructor")}if(m&&!y){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(m=!1)}return r.delete(t),r.delete(e),m}var t8=1,xM="[object Arguments]",SM="[object Array]",Wh="[object Object]",n8=Object.prototype,MM=n8.hasOwnProperty;function i8(t,e,n,i,s,r){var o=ss(t),a=ss(e),l=o?SM:cr(t),c=a?SM:cr(e);l=l==xM?Wh:l,c=c==xM?Wh:c;var u=l==Wh,d=c==Wh,f=l==c;if(f&&Ef(t)){if(!Ef(e))return!1;o=!0,u=!1}if(f&&!u)return r||(r=new mr),o||E_(t)?AR(t,e,n,i,s,r):jz(t,e,l,n,i,s,r);if(!(n&t8)){var p=u&&MM.call(t,"__wrapped__"),g=d&&MM.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,y=g?e.value():e;return r||(r=new mr),s(m,y,n,i,r)}}return f?(r||(r=new mr),e8(t,e,n,i,s,r)):!1}function Jg(t,e,n,i,s){return t===e?!0:t==null||e==null||!Ur(t)&&!Ur(e)?t!==t&&e!==e:i8(t,e,n,i,Jg,s)}var s8=1,r8=2;function o8(t,e,n,i){var s=n.length,r=s;if(t==null)return!r;for(t=Object(t);s--;){var o=n[s];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++s<r;){o=n[s];var a=o[0],l=t[a],c=o[1];if(o[2]){if(l===void 0&&!(a in t))return!1}else{var u=new mr,d;if(!(d===void 0?Jg(c,l,s8|r8,i,u):d))return!1}}return!0}function RR(t){return t===t&&!rs(t)}function a8(t){for(var e=dh(t),n=e.length;n--;){var i=e[n],s=t[i];e[n]=[i,s,RR(s)]}return e}function PR(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function l8(t){var e=a8(t);return e.length==1&&e[0][2]?PR(e[0][0],e[0][1]):function(n){return n===t||o8(n,t,e)}}function c8(t,e){return t!=null&&e in Object(t)}function u8(t,e,n){e=Zu(e,t);for(var i=-1,s=e.length,r=!1;++i<s;){var o=Ju(e[i]);if(!(r=t!=null&&n(t,o)))break;t=t[o]}return r||++i!=s?r:(s=t==null?0:t.length,!!s&&S_(s)&&Yg(o,s)&&(ss(t)||Cf(t)))}function IR(t,e){return t!=null&&u8(t,e,c8)}var d8=1,f8=2;function h8(t,e){return T_(t)&&RR(e)?PR(Ju(t),e):function(n){var i=Fn(n,t);return i===void 0&&i===e?IR(n,t):Jg(e,i,d8|f8)}}function p8(t){return function(e){return e==null?void 0:e[t]}}function m8(t){return function(e){return Zg(e,t)}}function g8(t){return T_(t)?p8(Ju(t)):m8(t)}function kR(t){return typeof t=="function"?t:t==null?b_:typeof t=="object"?ss(t)?h8(t[0],t[1]):l8(t):g8(t)}function v8(t){return function(e,n,i){for(var s=-1,r=Object(e),o=i(e),a=o.length;a--;){var l=o[++s];if(n(r[l],l,r)===!1)break}return e}}var OR=v8();function y8(t,e){return t&&OR(t,e,dh)}function b8(t,e){return function(n,i){if(n==null)return n;if(!ju(n))return t(n,i);for(var s=n.length,r=-1,o=Object(n);++r<s&&i(o[r],r,o)!==!1;);return n}}var _8=b8(y8),f0=function(){return yr.Date.now()},w8="Expected a function",x8=Math.max,S8=Math.min;function vs(t,e,n){var i,s,r,o,a,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(w8);e=JS(e)||0,rs(n)&&(u=!!n.leading,d="maxWait"in n,r=d?x8(JS(n.maxWait)||0,e):r,f="trailing"in n?!!n.trailing:f);function p(x){var C=i,T=s;return i=s=void 0,c=x,o=t.apply(T,C),o}function g(x){return c=x,a=setTimeout(v,e),u?p(x):o}function m(x){var C=x-l,T=x-c,E=e-C;return d?S8(E,r-T):E}function y(x){var C=x-l,T=x-c;return l===void 0||C>=e||C<0||d&&T>=r}function v(){var x=f0();if(y(x))return _(x);a=setTimeout(v,m(x))}function _(x){return a=void 0,f&&i?p(x):(i=s=void 0,o)}function b(){a!==void 0&&clearTimeout(a),c=0,i=l=s=a=void 0}function w(){return a===void 0?o:_(f0())}function S(){var x=f0(),C=y(x);if(i=arguments,s=this,l=x,C){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(v,e),p(l)}return a===void 0&&(a=setTimeout(v,e)),o}return S.cancel=b,S.flush=w,S}function Qy(t,e,n){(n!==void 0&&!uh(t[e],n)||n===void 0&&!(e in t))&&w_(t,e,n)}function LR(t){return Ur(t)&&ju(t)}function e1(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function M8(t){return qu(t,fh(t))}function C8(t,e,n,i,s,r,o){var a=e1(t,n),l=e1(e,n),c=o.get(l);if(c){Qy(t,n,c);return}var u=r?r(a,l,n+"",t,e,o):void 0,d=u===void 0;if(d){var f=ss(l),p=!f&&Ef(l),g=!f&&!p&&E_(l);u=l,f||p||g?ss(a)?u=a:LR(a)?u=nR(a):p?(d=!1,u=vR(l,!0)):g?(d=!1,u=xR(l,!0)):u=[]:mR(l)||Cf(l)?(u=a,Cf(a)?u=M8(a):(!rs(a)||__(a))&&(u=SR(l))):d=!1}d&&(o.set(l,u),s(u,l,i,r,o),o.delete(l)),Qy(t,n,u)}function NR(t,e,n,i,s){t!==e&&OR(e,function(r,o){if(s||(s=new mr),rs(r))C8(t,e,o,n,NR,i,s);else{var a=i?i(e1(t,o),r,o+"",t,e,s):void 0;a===void 0&&(a=r),Qy(t,o,a)}},fh)}function E8(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function DR(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var s=i-1;return sR(t,kR(e),s,!0)}function T8(t,e){var n=-1,i=ju(t)?Array(t.length):[];return _8(t,function(s,r,o){i[++n]=e(s,r,o)}),i}function A8(t,e){var n=ss(t)?y_:T8;return n(t,kR(e))}function R8(t,e){return hh(A8(t,e),1)}var P8=1/0;function I8(t){var e=t==null?0:t.length;return e?hh(t,P8):[]}function sg(t){for(var e=-1,n=t==null?0:t.length,i={};++e<n;){var s=t[e];i[s[0]]=s[1]}return i}function k8(t,e){return e.length<2?t:Zg(t,e5(e,0,-1))}function Gi(t,e){return Jg(t,e)}function yi(t){return t==null}function FR(t){return t===void 0}var O8=SB(function(t,e,n){NR(t,e,n)});function L8(t,e){return e=Zu(e,t),t=k8(t,e),t==null||delete t[Ju(E8(e))]}function N8(t){return mR(t)?void 0:t}var D8=1,F8=2,B8=4,U8=hR(function(t,e){var n={};if(t==null)return n;var i=!1;e=y_(e,function(r){return r=Zu(r,t),i||(i=r.length>1),r}),qu(t,wR(t),n),i&&(n=uu(n,D8|F8|B8,N8));for(var s=e.length;s--;)L8(n,e[s]);return n});function BR(t,e,n,i){if(!rs(t))return t;e=Zu(e,t);for(var s=-1,r=e.length,o=r-1,a=t;a!=null&&++s<r;){var l=Ju(e[s]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(s!=o){var u=a[l];c=void 0,c===void 0&&(c=rs(u)?u:Yg(e[s+1])?[]:{})}x_(a,l,c),a=a[l]}return t}function z8(t,e,n){for(var i=-1,s=e.length,r={};++i<s;){var o=e[i],a=Zg(t,o);n(a,o)&&BR(r,Zu(o,t),a)}return r}function V8(t,e){return z8(t,e,function(n,i){return IR(t,i)})}var Lr=hR(function(t,e){return t==null?{}:V8(t,e)});function $8(t,e,n){return t==null?t:BR(t,e,n)}var H8="Expected a function";function Dl(t,e,n){var i=!0,s=!0;if(typeof t!="function")throw new TypeError(H8);return rs(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),vs(t,e,{leading:i,maxWait:e,trailing:s})}var W8=1/0,G8=cu&&1/k_(new cu([,-0]))[1]==W8?function(t){return new cu(t)}:rB,K8=200;function Y8(t,e,n){var i=-1,s=gB,r=t.length,o=!0,a=[],l=a;if(r>=K8){var c=G8(t);if(c)return k_(c);o=!1,s=TR,l=new Rf}else l=a;e:for(;++i<r;){var u=t[i],d=u;if(u=u!==0?u:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;a.push(u)}else s(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}var h0=oR(function(t){return Y8(hh(t,1,LR,!0))});const Kn=t=>t===void 0,Yn=t=>typeof t=="boolean",ft=t=>typeof t=="number",Vs=t=>!t&&t!==0||Ze(t)&&t.length===0||Pt(t)&&!Object.keys(t).length,Js=t=>typeof Element>"u"?!1:t instanceof Element,Yl=t=>yi(t),X8=t=>yt(t)?!Number.isNaN(Number(t)):!1,Qg=t=>t===window,xa=t=>Ft?window.requestAnimationFrame(t):setTimeout(t,16),Xl=t=>Ft?window.cancelAnimationFrame(t):clearTimeout(t),O_=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Or=t=>ah(t),Cu=t=>Object.keys(t),q8=t=>Object.entries(t),pm=(t,e,n)=>({get value(){return Fn(t,e,n)},set value(i){$8(t,e,i)}});class j8 extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function si(t,e){throw new j8(`[${t}] ${e}`)}const UR=(t="")=>t.split(" ").filter(e=>!!e.trim()),Ys=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},$s=(t,e)=>{!t||!e.trim()||t.classList.add(...UR(e))},Ki=(t,e)=>{!t||!e.trim()||t.classList.remove(...UR(e))},aa=(t,e)=>{var n;if(!Ft||!t||!e)return"";let i=js(e);i==="float"&&(i="cssFloat");try{const s=t.style[i];if(s)return s;const r=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return r?r[i]:""}catch{return t.style[i]}};function On(t,e="px"){if(!t)return"";if(ft(t)||X8(t))return`${t}${e}`;if(yt(t))return t}const Z8=(t,e)=>{if(!Ft)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],i=aa(t,n);return["scroll","auto","overlay"].some(s=>i.includes(s))},L_=(t,e)=>{if(!Ft)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(Z8(n,e))return n;n=n.parentNode}return n};let Gh;const zR=t=>{var e;if(!Ft)return 0;if(Gh!==void 0)return Gh;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const i=n.offsetWidth;n.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",n.appendChild(s);const r=s.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),Gh=i-r,Gh};function VR(t,e){if(!Ft)return;if(!e){t.scrollTop=0;return}const n=[];let i=e.offsetParent;for(;i!==null&&t!==i&&t.contains(i);)n.push(i),i=i.offsetParent;const s=e.offsetTop+n.reduce((l,c)=>l+c.offsetTop,0),r=s+e.offsetHeight,o=t.scrollTop,a=o+t.clientHeight;s<o?t.scrollTop=s:r>a&&(t.scrollTop=r-t.clientHeight)}function J8(t,e,n,i,s){const r=Date.now();let o;const a=()=>{const c=Date.now()-r,u=wF(c>i?i:c,e,n,i);Qg(t)?t.scrollTo(window.pageXOffset,u):t.scrollTop=u,c<i?o=xa(a):typeof s=="function"&&s()};return a(),()=>{o&&Xl(o)}}const CM=(t,e)=>Qg(e)?t.ownerDocument.documentElement:e,EM=t=>Qg(t)?window.scrollY:t.scrollTop,Kh=t=>{if(!Ft||t==="")return null;if(yt(t))try{return document.querySelector(t)}catch{return null}return t};/*! Element Plus Icons Vue v2.3.1 */var Q8=j({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Ao=Q8,eV=j({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Sa=eV,tV=j({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),ts=tV,nV=j({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),N_=nV,iV=j({name:"Back",__name:"back",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),Y("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),sV=iV,rV=j({name:"Calendar",__name:"calendar",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),oV=rV,aV=j({name:"CaretLeft",__name:"caret-left",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M672 192 288 511.936 672 832z"})]))}}),$R=aV,lV=j({name:"CaretRight",__name:"caret-right",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),ev=lV,cV=j({name:"CaretTop",__name:"caret-top",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),uV=cV,dV=j({name:"Check",__name:"check",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),ph=dV,fV=j({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),hV=fV,pV=j({name:"CircleCheck",__name:"circle-check",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Y("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),D_=pV,mV=j({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),F_=mV,gV=j({name:"CircleClose",__name:"circle-close",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Y("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Da=gV,vV=j({name:"Clock",__name:"clock",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Y("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Y("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),HR=vV,yV=j({name:"Close",__name:"close",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),gr=yV,bV=j({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),Eu=bV,_V=j({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),Tu=_V,wV=j({name:"DCaret",__name:"d-caret",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"m512 128 288 320H224zM224 576h576L512 896z"})]))}}),xV=wV,SV=j({name:"Delete",__name:"delete",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),MV=SV,CV=j({name:"Document",__name:"document",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),EV=CV,TV=j({name:"FullScreen",__name:"full-screen",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),AV=TV,RV=j({name:"Hide",__name:"hide",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),Y("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),PV=RV,IV=j({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),B_=IV,kV=j({name:"Loading",__name:"loading",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Fa=kV,OV=j({name:"Minus",__name:"minus",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),LV=OV,NV=j({name:"MoreFilled",__name:"more-filled",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),TM=NV,DV=j({name:"More",__name:"more",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),FV=DV,BV=j({name:"PictureFilled",__name:"picture-filled",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),UV=BV,zV=j({name:"Plus",__name:"plus",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),WR=zV,VV=j({name:"Pointer",__name:"pointer",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M511.552 128c-35.584 0-64.384 28.8-64.384 64.448v516.48L274.048 570.88a94.272 94.272 0 0 0-112.896-3.456 44.416 44.416 0 0 0-8.96 62.208L332.8 870.4A64 64 0 0 0 384 896h512V575.232a64 64 0 0 0-45.632-61.312l-205.952-61.76A96 96 0 0 1 576 360.192V192.448C576 156.8 547.2 128 511.552 128M359.04 556.8l24.128 19.2V192.448a128.448 128.448 0 1 1 256.832 0v167.744a32 32 0 0 0 22.784 30.656l206.016 61.76A128 128 0 0 1 960 575.232V896a64 64 0 0 1-64 64H384a128 128 0 0 1-102.4-51.2L101.056 668.032A108.416 108.416 0 0 1 128 512.512a158.272 158.272 0 0 1 185.984 8.32z"})]))}}),$V=VV,HV=j({name:"QuestionFilled",__name:"question-filled",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),WV=HV,GV=j({name:"Rank",__name:"rank",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"m186.496 544 41.408 41.344a32 32 0 1 1-45.248 45.312l-96-96a32 32 0 0 1 0-45.312l96-96a32 32 0 1 1 45.248 45.312L186.496 480h290.816V186.432l-41.472 41.472a32 32 0 1 1-45.248-45.184l96-96.128a32 32 0 0 1 45.312 0l96 96.064a32 32 0 0 1-45.248 45.184l-41.344-41.28V480H832l-41.344-41.344a32 32 0 0 1 45.248-45.312l96 96a32 32 0 0 1 0 45.312l-96 96a32 32 0 0 1-45.248-45.312L832 544H541.312v293.44l41.344-41.28a32 32 0 1 1 45.248 45.248l-96 96a32 32 0 0 1-45.312 0l-96-96a32 32 0 1 1 45.312-45.248l41.408 41.408V544H186.496z"})]))}}),KV=GV,YV=j({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),XV=YV,qV=j({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),jV=qV,ZV=j({name:"Refresh",__name:"refresh",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"})]))}}),JV=ZV,QV=j({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),e$=QV,t$=j({name:"Search",__name:"search",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),n$=t$,i$=j({name:"SortDown",__name:"sort-down",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),s$=i$,r$=j({name:"SortUp",__name:"sort-up",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),o$=r$,a$=j({name:"StarFilled",__name:"star-filled",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),Yh=a$,l$=j({name:"Star",__name:"star",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),c$=l$,u$=j({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),GR=u$,d$=j({name:"Tickets",__name:"tickets",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M192 128v768h640V128zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h192v64H320zm0 384h384v64H320z"})]))}}),KR=d$,f$=j({name:"View",__name:"view",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),h$=f$,p$=j({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),tv=p$,m$=j({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),YR=m$,g$=j({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,n)=>(P(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Y("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),v$=g$;const XR="__epPropKey",ce=t=>t,y$=t=>Pt(t)&&!!t[XR],br=(t,e)=>{if(!Pt(t)||y$(t))return t;const{values:n,required:i,default:s,type:r,validator:o}=t,l={type:r,required:!!i,validator:n||o?c=>{let u=!1,d=[];if(n&&(d=Array.from(n),Ut(t,"default")&&d.push(s),u||(u=d.includes(c))),o&&(u||(u=o(c))),!u&&d.length>0){const f=[...new Set(d)].map(p=>JSON.stringify(p)).join(", ");t4(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[XR]:!0};return Ut(t,"default")&&(l.default=s),l},ze=t=>sg(Object.entries(t).map(([e,n])=>[e,br(n,e)])),sn=ce([String,Object,Function]),U_={Close:gr},z_={Close:gr,SuccessFilled:GR,InfoFilled:B_,WarningFilled:tv,CircleCloseFilled:F_},Ma={success:GR,warning:tv,error:F_,info:B_},V_={validating:Fa,success:D_,error:Da},At=(t,e)=>{if(t.install=n=>{for(const i of[t,...Object.values(e??{})])n.component(i.name,i)},e)for(const[n,i]of Object.entries(e))t[n]=i;return t},qR=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),b$=(t,e)=>(t.install=n=>{n.directive(e,t)},t),En=t=>(t.install=en,t),nv=(...t)=>e=>{t.forEach(n=>{ht(n)?n(e):n.value=e})},lt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},_$=["year","years","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],p0=["sun","mon","tue","wed","thu","fri","sat"],It="update:modelValue",mn="change",ns="input",AM=Symbol("INSTALLED_KEY"),Gr=["","default","small","large"],jR=t=>["",...Gr].includes(t);var Us=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(Us||{});function t1(t){return xn(t)&&t.type===st}function w$(t){return xn(t)&&t.type===Hi}function x$(t){return xn(t)&&!t1(t)&&!w$(t)}const S$=t=>{if(!xn(t))return{};const e=t.props||{},n=(xn(t.type)?t.type.props:void 0)||{},i={};return Object.keys(n).forEach(s=>{Ut(n[s],"default")&&(i[s]=n[s].default)}),Object.keys(e).forEach(s=>{i[js(s)]=e[s]}),i},M$=t=>{if(!Ze(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},pa=t=>{const e=Ze(t)?t:[t],n=[];return e.forEach(i=>{var s;Ze(i)?n.push(...pa(i)):xn(i)&&Ze(i.children)?n.push(...pa(i.children)):(n.push(i),xn(i)&&((s=i.component)!=null&&s.subTree)&&n.push(...pa(i.component.subTree)))}),n},RM=t=>[...new Set(t)],Ss=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],$_=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),Cn=t=>t;function C$(t){let e=0;const n=(...i)=>{e&&Xl(e),e=xa(()=>{t(...i),e=0})};return n.cancel=()=>{Xl(e),e=0},n}const E$=["class","style"],T$=/^on[A-Z]/,H_=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,i=A(()=>((n==null?void 0:n.value)||[]).concat(E$)),s=Tt();return A(s?()=>{var r;return sg(Object.entries((r=s.proxy)==null?void 0:r.$attrs).filter(([o])=>!i.value.includes(o)&&!(e&&T$.test(o))))}:()=>({}))},gi=({from:t,replacement:e,scope:n,version:i,ref:s,type:r="API"},o)=>{ke(()=>h(o),a=>{},{immediate:!0})},ZR=(t,e,n,i)=>{let s={offsetX:0,offsetY:0};const r=l=>{const c=l.clientX,u=l.clientY,{offsetX:d,offsetY:f}=s,p=t.value.getBoundingClientRect(),g=p.left,m=p.top,y=p.width,v=p.height,_=document.documentElement.clientWidth,b=document.documentElement.clientHeight,w=-g+d,S=-m+f,x=_-g-y+d,C=b-m-v+f,T=M=>{let R=d+M.clientX-c,O=f+M.clientY-u;i!=null&&i.value||(R=Math.min(Math.max(R,w),x),O=Math.min(Math.max(O,S),C)),s={offsetX:R,offsetY:O},t.value&&(t.value.style.transform=`translate(${On(R)}, ${On(O)})`)},E=()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",E)};document.addEventListener("mousemove",T),document.addEventListener("mouseup",E)},o=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",r)},a=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",r)};Mt(()=>{ki(()=>{n.value?o():a()})}),fn(()=>{a()})};var A$={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const R$=t=>(e,n)=>P$(e,n,h(t)),P$=(t,e,n)=>Fn(n,t,t).replace(/\{(\w+)\}/g,(i,s)=>{var r;return`${(r=e==null?void 0:e[s])!=null?r:`{${s}}`}`}),I$=t=>{const e=A(()=>h(t).name),n=yn(t)?t:z(t);return{lang:e,locale:n,t:R$(t)}},JR=Symbol("localeContextKey"),$t=t=>{const e=t||et(JR,z());return I$(A(()=>e.value||A$))},rf="el",k$="is-",qa=(t,e,n,i,s)=>{let r=`${t}-${e}`;return n&&(r+=`-${n}`),i&&(r+=`__${i}`),s&&(r+=`--${s}`),r},QR=Symbol("namespaceContextKey"),W_=t=>{const e=t||(Tt()?et(QR,z(rf)):z(rf));return A(()=>h(e)||rf)},Oe=(t,e)=>{const n=W_(e);return{namespace:n,b:(m="")=>qa(n.value,t,m,"",""),e:m=>m?qa(n.value,t,"",m,""):"",m:m=>m?qa(n.value,t,"","",m):"",be:(m,y)=>m&&y?qa(n.value,t,m,y,""):"",em:(m,y)=>m&&y?qa(n.value,t,"",m,y):"",bm:(m,y)=>m&&y?qa(n.value,t,m,"",y):"",bem:(m,y,v)=>m&&y&&v?qa(n.value,t,m,y,v):"",is:(m,...y)=>{const v=y.length>=1?y[0]:!0;return m&&v?`${k$}${m}`:""},cssVar:m=>{const y={};for(const v in m)m[v]&&(y[`--${n.value}-${v}`]=m[v]);return y},cssVarName:m=>`--${n.value}-${m}`,cssVarBlock:m=>{const y={};for(const v in m)m[v]&&(y[`--${n.value}-${t}-${v}`]=m[v]);return y},cssVarBlockName:m=>`--${n.value}-${t}-${m}`}},G_=(t,e={})=>{yn(t)||si("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||Oe("popup"),i=Y2(()=>n.bm("parent","hidden"));if(!Ft||Ys(document.body,i.value))return;let s=0,r=!1,o="0";const a=()=>{setTimeout(()=>{Ki(document==null?void 0:document.body,i.value),r&&document&&(document.body.style.width=o)},200)};ke(t,l=>{if(!l){a();return}r=!Ys(document.body,i.value),r&&(o=document.body.style.width),s=zR(n.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,u=aa(document.body,"overflowY");s>0&&(c||u==="scroll")&&r&&(document.body.style.width=`calc(100% - ${s}px)`),$s(document.body,i.value)}),k2(()=>a())},O$=br({type:ce(Boolean),default:null}),L$=br({type:ce(Function)}),e3=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,i=[e],s={[t]:O$,[n]:L$};return{useModelToggle:({indicator:o,toggleReason:a,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:u,onHide:d})=>{const f=Tt(),{emit:p}=f,g=f.props,m=A(()=>ht(g[n])),y=A(()=>g[t]===null),v=C=>{o.value!==!0&&(o.value=!0,a&&(a.value=C),ht(u)&&u(C))},_=C=>{o.value!==!1&&(o.value=!1,a&&(a.value=C),ht(d)&&d(C))},b=C=>{if(g.disabled===!0||ht(c)&&!c())return;const T=m.value&&Ft;T&&p(e,!0),(y.value||!T)&&v(C)},w=C=>{if(g.disabled===!0||!Ft)return;const T=m.value&&Ft;T&&p(e,!1),(y.value||!T)&&_(C)},S=C=>{Yn(C)&&(g.disabled&&C?m.value&&p(e,!1):o.value!==C&&(C?v():_()))},x=()=>{o.value?w():b()};return ke(()=>g[t],S),l&&f.appContext.config.globalProperties.$route!==void 0&&ke(()=>({...f.proxy.$route}),()=>{l.value&&o.value&&w()}),Mt(()=>{S(g[t])}),{hide:w,show:b,toggle:x,hasUpdateHandler:m}},useModelToggleProps:s,useModelToggleEmits:i}};e3("modelValue");const t3=t=>{const e=Tt();return A(()=>{var n,i;return(i=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:i[t]})};var ps="top",Qs="bottom",er="right",ms="left",K_="auto",mh=[ps,Qs,er,ms],Au="start",Pf="end",N$="clippingParents",n3="viewport",gd="popper",D$="reference",PM=mh.reduce(function(t,e){return t.concat([e+"-"+Au,e+"-"+Pf])},[]),cc=[].concat(mh,[K_]).reduce(function(t,e){return t.concat([e,e+"-"+Au,e+"-"+Pf])},[]),F$="beforeRead",B$="read",U$="afterRead",z$="beforeMain",V$="main",$$="afterMain",H$="beforeWrite",W$="write",G$="afterWrite",K$=[F$,B$,U$,z$,V$,$$,H$,W$,G$];function zr(t){return t?(t.nodeName||"").toLowerCase():null}function _r(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ru(t){var e=_r(t).Element;return t instanceof e||t instanceof Element}function Xs(t){var e=_r(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Y_(t){if(typeof ShadowRoot>"u")return!1;var e=_r(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Y$(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},s=e.attributes[n]||{},r=e.elements[n];!Xs(r)||!zr(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var a=s[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function X$(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],r=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Xs(s)||!zr(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}}var i3={name:"applyStyles",enabled:!0,phase:"write",fn:Y$,effect:X$,requires:["computeStyles"]};function Fr(t){return t.split("-")[0]}var Fl=Math.max,rg=Math.min,Pu=Math.round;function Iu(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),i=1,s=1;if(Xs(t)&&e){var r=t.offsetHeight,o=t.offsetWidth;o>0&&(i=Pu(n.width)/o||1),r>0&&(s=Pu(n.height)/r||1)}return{width:n.width/i,height:n.height/s,top:n.top/s,right:n.right/i,bottom:n.bottom/s,left:n.left/i,x:n.left/i,y:n.top/s}}function X_(t){var e=Iu(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function s3(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Y_(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function bo(t){return _r(t).getComputedStyle(t)}function q$(t){return["table","td","th"].indexOf(zr(t))>=0}function Ba(t){return((Ru(t)?t.ownerDocument:t.document)||window.document).documentElement}function iv(t){return zr(t)==="html"?t:t.assignedSlot||t.parentNode||(Y_(t)?t.host:null)||Ba(t)}function IM(t){return!Xs(t)||bo(t).position==="fixed"?null:t.offsetParent}function j$(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Xs(t)){var i=bo(t);if(i.position==="fixed")return null}var s=iv(t);for(Y_(s)&&(s=s.host);Xs(s)&&["html","body"].indexOf(zr(s))<0;){var r=bo(s);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return s;s=s.parentNode}return null}function gh(t){for(var e=_r(t),n=IM(t);n&&q$(n)&&bo(n).position==="static";)n=IM(n);return n&&(zr(n)==="html"||zr(n)==="body"&&bo(n).position==="static")?e:n||j$(t)||e}function q_(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function of(t,e,n){return Fl(t,rg(e,n))}function Z$(t,e,n){var i=of(t,e,n);return i>n?n:i}function r3(){return{top:0,right:0,bottom:0,left:0}}function o3(t){return Object.assign({},r3(),t)}function a3(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var J$=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,o3(typeof t!="number"?t:a3(t,mh))};function Q$(t){var e,n=t.state,i=t.name,s=t.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Fr(n.placement),l=q_(a),c=[ms,er].indexOf(a)>=0,u=c?"height":"width";if(!(!r||!o)){var d=J$(s.padding,n),f=X_(r),p=l==="y"?ps:ms,g=l==="y"?Qs:er,m=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],y=o[l]-n.rects.reference[l],v=gh(r),_=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,b=m/2-y/2,w=d[p],S=_-f[u]-d[g],x=_/2-f[u]/2+b,C=of(w,x,S),T=l;n.modifiersData[i]=(e={},e[T]=C,e.centerOffset=C-x,e)}}function eH(t){var e=t.state,n=t.options,i=n.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||!s3(e.elements.popper,s)||(e.elements.arrow=s))}var tH={name:"arrow",enabled:!0,phase:"main",fn:Q$,effect:eH,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ku(t){return t.split("-")[1]}var nH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function iH(t){var e=t.x,n=t.y,i=window,s=i.devicePixelRatio||1;return{x:Pu(e*s)/s||0,y:Pu(n*s)/s||0}}function kM(t){var e,n=t.popper,i=t.popperRect,s=t.placement,r=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,p=f===void 0?0:f,g=o.y,m=g===void 0?0:g,y=typeof u=="function"?u({x:p,y:m}):{x:p,y:m};p=y.x,m=y.y;var v=o.hasOwnProperty("x"),_=o.hasOwnProperty("y"),b=ms,w=ps,S=window;if(c){var x=gh(n),C="clientHeight",T="clientWidth";if(x===_r(n)&&(x=Ba(n),bo(x).position!=="static"&&a==="absolute"&&(C="scrollHeight",T="scrollWidth")),x=x,s===ps||(s===ms||s===er)&&r===Pf){w=Qs;var E=d&&x===S&&S.visualViewport?S.visualViewport.height:x[C];m-=E-i.height,m*=l?1:-1}if(s===ms||(s===ps||s===Qs)&&r===Pf){b=er;var M=d&&x===S&&S.visualViewport?S.visualViewport.width:x[T];p-=M-i.width,p*=l?1:-1}}var R=Object.assign({position:a},c&&nH),O=u===!0?iH({x:p,y:m}):{x:p,y:m};if(p=O.x,m=O.y,l){var F;return Object.assign({},R,(F={},F[w]=_?"0":"",F[b]=v?"0":"",F.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",F))}return Object.assign({},R,(e={},e[w]=_?m+"px":"",e[b]=v?p+"px":"",e.transform="",e))}function sH(t){var e=t.state,n=t.options,i=n.gpuAcceleration,s=i===void 0?!0:i,r=n.adaptive,o=r===void 0?!0:r,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Fr(e.placement),variation:ku(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,kM(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,kM(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var l3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:sH,data:{}},Xh={passive:!0};function rH(t){var e=t.state,n=t.instance,i=t.options,s=i.scroll,r=s===void 0?!0:s,o=i.resize,a=o===void 0?!0:o,l=_r(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach(function(u){u.addEventListener("scroll",n.update,Xh)}),a&&l.addEventListener("resize",n.update,Xh),function(){r&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Xh)}),a&&l.removeEventListener("resize",n.update,Xh)}}var c3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rH,data:{}},oH={left:"right",right:"left",bottom:"top",top:"bottom"};function mm(t){return t.replace(/left|right|bottom|top/g,function(e){return oH[e]})}var aH={start:"end",end:"start"};function OM(t){return t.replace(/start|end/g,function(e){return aH[e]})}function j_(t){var e=_r(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Z_(t){return Iu(Ba(t)).left+j_(t).scrollLeft}function lH(t){var e=_r(t),n=Ba(t),i=e.visualViewport,s=n.clientWidth,r=n.clientHeight,o=0,a=0;return i&&(s=i.width,r=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,a=i.offsetTop)),{width:s,height:r,x:o+Z_(t),y:a}}function cH(t){var e,n=Ba(t),i=j_(t),s=(e=t.ownerDocument)==null?void 0:e.body,r=Fl(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Fl(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+Z_(t),l=-i.scrollTop;return bo(s||n).direction==="rtl"&&(a+=Fl(n.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function J_(t){var e=bo(t),n=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+i)}function u3(t){return["html","body","#document"].indexOf(zr(t))>=0?t.ownerDocument.body:Xs(t)&&J_(t)?t:u3(iv(t))}function af(t,e){var n;e===void 0&&(e=[]);var i=u3(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),r=_r(i),o=s?[r].concat(r.visualViewport||[],J_(i)?i:[]):i,a=e.concat(o);return s?a:a.concat(af(iv(o)))}function n1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function uH(t){var e=Iu(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function LM(t,e){return e===n3?n1(lH(t)):Ru(e)?uH(e):n1(cH(Ba(t)))}function dH(t){var e=af(iv(t)),n=["absolute","fixed"].indexOf(bo(t).position)>=0,i=n&&Xs(t)?gh(t):t;return Ru(i)?e.filter(function(s){return Ru(s)&&s3(s,i)&&zr(s)!=="body"}):[]}function fH(t,e,n){var i=e==="clippingParents"?dH(t):[].concat(e),s=[].concat(i,[n]),r=s[0],o=s.reduce(function(a,l){var c=LM(t,l);return a.top=Fl(c.top,a.top),a.right=rg(c.right,a.right),a.bottom=rg(c.bottom,a.bottom),a.left=Fl(c.left,a.left),a},LM(t,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function d3(t){var e=t.reference,n=t.element,i=t.placement,s=i?Fr(i):null,r=i?ku(i):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case ps:l={x:o,y:e.y-n.height};break;case Qs:l={x:o,y:e.y+e.height};break;case er:l={x:e.x+e.width,y:a};break;case ms:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?q_(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(r){case Au:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Pf:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function If(t,e){e===void 0&&(e={});var n=e,i=n.placement,s=i===void 0?t.placement:i,r=n.boundary,o=r===void 0?N$:r,a=n.rootBoundary,l=a===void 0?n3:a,c=n.elementContext,u=c===void 0?gd:c,d=n.altBoundary,f=d===void 0?!1:d,p=n.padding,g=p===void 0?0:p,m=o3(typeof g!="number"?g:a3(g,mh)),y=u===gd?D$:gd,v=t.rects.popper,_=t.elements[f?y:u],b=fH(Ru(_)?_:_.contextElement||Ba(t.elements.popper),o,l),w=Iu(t.elements.reference),S=d3({reference:w,element:v,strategy:"absolute",placement:s}),x=n1(Object.assign({},v,S)),C=u===gd?x:w,T={top:b.top-C.top+m.top,bottom:C.bottom-b.bottom+m.bottom,left:b.left-C.left+m.left,right:C.right-b.right+m.right},E=t.modifiersData.offset;if(u===gd&&E){var M=E[s];Object.keys(T).forEach(function(R){var O=[er,Qs].indexOf(R)>=0?1:-1,F=[ps,Qs].indexOf(R)>=0?"y":"x";T[R]+=M[F]*O})}return T}function hH(t,e){e===void 0&&(e={});var n=e,i=n.placement,s=n.boundary,r=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?cc:l,u=ku(i),d=u?a?PM:PM.filter(function(g){return ku(g)===u}):mh,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var p=f.reduce(function(g,m){return g[m]=If(t,{placement:m,boundary:s,rootBoundary:r,padding:o})[Fr(m)],g},{});return Object.keys(p).sort(function(g,m){return p[g]-p[m]})}function pH(t){if(Fr(t)===K_)return[];var e=mm(t);return[OM(t),e,OM(e)]}function mH(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var s=n.mainAxis,r=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,m=n.allowedAutoPlacements,y=e.options.placement,v=Fr(y),_=v===y,b=l||(_||!g?[mm(y)]:pH(y)),w=[y].concat(b).reduce(function(ee,ye){return ee.concat(Fr(ye)===K_?hH(e,{placement:ye,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:m}):ye)},[]),S=e.rects.reference,x=e.rects.popper,C=new Map,T=!0,E=w[0],M=0;M<w.length;M++){var R=w[M],O=Fr(R),F=ku(R)===Au,V=[ps,Qs].indexOf(O)>=0,U=V?"width":"height",D=If(e,{placement:R,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),I=V?F?er:ms:F?Qs:ps;S[U]>x[U]&&(I=mm(I));var N=mm(I),k=[];if(r&&k.push(D[O]<=0),a&&k.push(D[I]<=0,D[N]<=0),k.every(function(ee){return ee})){E=R,T=!1;break}C.set(R,k)}if(T)for(var B=g?3:1,G=function(ee){var ye=w.find(function(te){var oe=C.get(te);if(oe)return oe.slice(0,ee).every(function(de){return de})});if(ye)return E=ye,"break"},J=B;J>0;J--){var re=G(J);if(re==="break")break}e.placement!==E&&(e.modifiersData[i]._skip=!0,e.placement=E,e.reset=!0)}}var gH={name:"flip",enabled:!0,phase:"main",fn:mH,requiresIfExists:["offset"],data:{_skip:!1}};function NM(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function DM(t){return[ps,er,Qs,ms].some(function(e){return t[e]>=0})}function vH(t){var e=t.state,n=t.name,i=e.rects.reference,s=e.rects.popper,r=e.modifiersData.preventOverflow,o=If(e,{elementContext:"reference"}),a=If(e,{altBoundary:!0}),l=NM(o,i),c=NM(a,s,r),u=DM(l),d=DM(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var yH={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:vH};function bH(t,e,n){var i=Fr(t),s=[ms,ps].indexOf(i)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[ms,er].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function _H(t){var e=t.state,n=t.options,i=t.name,s=n.offset,r=s===void 0?[0,0]:s,o=cc.reduce(function(u,d){return u[d]=bH(d,e.rects,r),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}var wH={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_H};function xH(t){var e=t.state,n=t.name;e.modifiersData[n]=d3({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var f3={name:"popperOffsets",enabled:!0,phase:"read",fn:xH,data:{}};function SH(t){return t==="x"?"y":"x"}function MH(t){var e=t.state,n=t.options,i=t.name,s=n.mainAxis,r=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,g=n.tetherOffset,m=g===void 0?0:g,y=If(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Fr(e.placement),_=ku(e.placement),b=!_,w=q_(v),S=SH(w),x=e.modifiersData.popperOffsets,C=e.rects.reference,T=e.rects.popper,E=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,M=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(x){if(r){var F,V=w==="y"?ps:ms,U=w==="y"?Qs:er,D=w==="y"?"height":"width",I=x[w],N=I+y[V],k=I-y[U],B=p?-T[D]/2:0,G=_===Au?C[D]:T[D],J=_===Au?-T[D]:-C[D],re=e.elements.arrow,ee=p&&re?X_(re):{width:0,height:0},ye=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:r3(),te=ye[V],oe=ye[U],de=of(0,C[D],ee[D]),Ne=b?C[D]/2-B-de-te-M.mainAxis:G-de-te-M.mainAxis,Q=b?-C[D]/2+B+de+oe+M.mainAxis:J+de+oe+M.mainAxis,Te=e.elements.arrow&&gh(e.elements.arrow),me=Te?w==="y"?Te.clientTop||0:Te.clientLeft||0:0,K=(F=R==null?void 0:R[w])!=null?F:0,q=I+Ne-K-me,ue=I+Q-K,ve=of(p?rg(N,q):N,I,p?Fl(k,ue):k);x[w]=ve,O[w]=ve-I}if(a){var he,xe=w==="x"?ps:ms,W=w==="x"?Qs:er,$=x[S],ae=S==="y"?"height":"width",se=$+y[xe],Ee=$-y[W],Re=[ps,ms].indexOf(v)!==-1,be=(he=R==null?void 0:R[S])!=null?he:0,Pe=Re?se:$-C[ae]-T[ae]-be+M.altAxis,Fe=Re?$+C[ae]+T[ae]-be-M.altAxis:Ee,it=p&&Re?Z$(Pe,$,Fe):of(p?Pe:se,$,p?Fe:Ee);x[S]=it,O[S]=it-$}e.modifiersData[i]=O}}var CH={name:"preventOverflow",enabled:!0,phase:"main",fn:MH,requiresIfExists:["offset"]};function EH(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function TH(t){return t===_r(t)||!Xs(t)?j_(t):EH(t)}function AH(t){var e=t.getBoundingClientRect(),n=Pu(e.width)/t.offsetWidth||1,i=Pu(e.height)/t.offsetHeight||1;return n!==1||i!==1}function RH(t,e,n){n===void 0&&(n=!1);var i=Xs(e),s=Xs(e)&&AH(e),r=Ba(e),o=Iu(t,s),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((zr(e)!=="body"||J_(r))&&(a=TH(e)),Xs(e)?(l=Iu(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=Z_(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function PH(t){var e=new Map,n=new Set,i=[];t.forEach(function(r){e.set(r.name,r)});function s(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),i.push(r)}return t.forEach(function(r){n.has(r.name)||s(r)}),i}function IH(t){var e=PH(t);return K$.reduce(function(n,i){return n.concat(e.filter(function(s){return s.phase===i}))},[])}function kH(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function OH(t){var e=t.reduce(function(n,i){var s=n[i.name];return n[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var FM={placement:"bottom",modifiers:[],strategy:"absolute"};function BM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Q_(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,s=e.defaultOptions,r=s===void 0?FM:s;return function(o,a,l){l===void 0&&(l=r);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},FM,r),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},u=[],d=!1,f={state:c,setOptions:function(m){var y=typeof m=="function"?m(c.options):m;g(),c.options=Object.assign({},r,c.options,y),c.scrollParents={reference:Ru(o)?af(o):o.contextElement?af(o.contextElement):[],popper:af(a)};var v=IH(OH([].concat(i,c.options.modifiers)));return c.orderedModifiers=v.filter(function(_){return _.enabled}),p(),f.update()},forceUpdate:function(){if(!d){var m=c.elements,y=m.reference,v=m.popper;if(BM(y,v)){c.rects={reference:RH(y,gh(v),c.options.strategy==="fixed"),popper:X_(v)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(T){return c.modifiersData[T.name]=Object.assign({},T.data)});for(var _=0;_<c.orderedModifiers.length;_++){if(c.reset===!0){c.reset=!1,_=-1;continue}var b=c.orderedModifiers[_],w=b.fn,S=b.options,x=S===void 0?{}:S,C=b.name;typeof w=="function"&&(c=w({state:c,options:x,name:C,instance:f})||c)}}}},update:kH(function(){return new Promise(function(m){f.forceUpdate(),m(c)})}),destroy:function(){g(),d=!0}};if(!BM(o,a))return f;f.setOptions(l).then(function(m){!d&&l.onFirstUpdate&&l.onFirstUpdate(m)});function p(){c.orderedModifiers.forEach(function(m){var y=m.name,v=m.options,_=v===void 0?{}:v,b=m.effect;if(typeof b=="function"){var w=b({state:c,name:y,instance:f,options:_}),S=function(){};u.push(w||S)}})}function g(){u.forEach(function(m){return m()}),u=[]}return f}}Q_();var LH=[c3,f3,l3,i3];Q_({defaultModifiers:LH});var NH=[c3,f3,l3,i3,wH,gH,CH,tH,yH],DH=Q_({defaultModifiers:NH});const FH=(t,e,n={})=>{const i={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const c=BH(l);Object.assign(o.value,c)},requires:["computeStyles"]},s=A(()=>{const{onFirstUpdate:l,placement:c,strategy:u,modifiers:d}=h(n);return{onFirstUpdate:l,placement:c||"bottom",strategy:u||"absolute",modifiers:[...d||[],i,{name:"applyStyles",enabled:!1}]}}),r=vn(),o=z({styles:{popper:{position:h(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{r.value&&(r.value.destroy(),r.value=void 0)};return ke(s,l=>{const c=h(r);c&&c.setOptions(l)},{deep:!0}),ke([t,e],([l,c])=>{a(),!(!l||!c)&&(r.value=DH(l,c,h(s)))}),fn(()=>{a()}),{state:A(()=>{var l;return{...((l=h(r))==null?void 0:l.state)||{}}}),styles:A(()=>h(o).styles),attributes:A(()=>h(o).attributes),update:()=>{var l;return(l=h(r))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=h(r))==null?void 0:l.forceUpdate()},instanceRef:A(()=>h(r))}};function BH(t){const e=Object.keys(t.elements),n=sg(e.map(s=>[s,t.styles[s]||{}])),i=sg(e.map(s=>[s,t.attributes[s]]));return{styles:n,attributes:i}}const ew=t=>{if(!t)return{onClick:en,onMousedown:en,onMouseup:en};let e=!1,n=!1;return{onClick:o=>{e&&n&&t(o),e=n=!1},onMousedown:o=>{e=o.target===o.currentTarget},onMouseup:o=>{n=o.target===o.currentTarget}}},UH=(t,e=0)=>{if(e===0)return t;const n=z(!1);let i=0;const s=()=>{i&&clearTimeout(i),i=window.setTimeout(()=>{n.value=t.value},e)};return Mt(s),ke(()=>t.value,r=>{r?s():n.value=r}),n};function UM(){let t;const e=(i,s)=>{n(),t=window.setTimeout(i,s)},n=()=>window.clearTimeout(t);return ch(()=>n()),{registerTimeout:e,cancelTimeout:n}}const zM={prefix:Math.floor(Math.random()*1e4),current:0},zH=Symbol("elIdInjection"),tw=()=>Tt()?et(zH,zM):zM,Li=t=>{const e=tw(),n=W_();return A(()=>h(t)||`${n.value}-id-${e.prefix}-${e.current++}`)};let Xc=[];const VM=t=>{const e=t;e.key===lt.esc&&Xc.forEach(n=>n(e))},VH=t=>{Mt(()=>{Xc.length===0&&document.addEventListener("keydown",VM),Ft&&Xc.push(t)}),fn(()=>{Xc=Xc.filter(e=>e!==t),Xc.length===0&&Ft&&document.removeEventListener("keydown",VM)})};let $M;const h3=()=>{const t=W_(),e=tw(),n=A(()=>`${t.value}-popper-container-${e.prefix}`),i=A(()=>`#${n.value}`);return{id:n,selector:i}},$H=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},HH=()=>{const{id:t,selector:e}=h3();return Hg(()=>{Ft&&!$M&&!document.body.querySelector(e.value)&&($M=$H(t.value))}),{id:t,selector:e}},WH=ze({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),GH=({showAfter:t,hideAfter:e,autoClose:n,open:i,close:s})=>{const{registerTimeout:r}=UM(),{registerTimeout:o,cancelTimeout:a}=UM();return{onOpen:u=>{r(()=>{i(u);const d=h(n);ft(d)&&d>0&&o(()=>{s(u)},d)},h(t))},onClose:u=>{a(),r(()=>{s(u)},h(e))}}},p3=Symbol("elForwardRef"),KH=t=>{Nt(p3,{setForwardRef:n=>{t.value=n}})},YH=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),HM={current:0},WM=z(0),m3=2e3,GM=Symbol("elZIndexContextKey"),g3=Symbol("zIndexContextKey"),Qu=t=>{const e=Tt()?et(GM,HM):HM,n=t||(Tt()?et(g3,void 0):void 0),i=A(()=>{const o=h(n);return ft(o)?o:m3}),s=A(()=>i.value+WM.value),r=()=>(e.current++,WM.value=e.current,s.value);return!Ft&&et(GM),{initialZIndex:i,currentZIndex:s,nextZIndex:r}},Ou=Math.min,Bl=Math.max,og=Math.round,qh=Math.floor,Ca=t=>({x:t,y:t}),XH={left:"right",right:"left",bottom:"top",top:"bottom"},qH={start:"end",end:"start"};function i1(t,e,n){return Bl(t,Ou(e,n))}function vh(t,e){return typeof t=="function"?t(e):t}function ql(t){return t.split("-")[0]}function yh(t){return t.split("-")[1]}function v3(t){return t==="x"?"y":"x"}function nw(t){return t==="y"?"height":"width"}function sv(t){return["top","bottom"].includes(ql(t))?"y":"x"}function iw(t){return v3(sv(t))}function jH(t,e,n){n===void 0&&(n=!1);const i=yh(t),s=iw(t),r=nw(s);let o=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(o=ag(o)),[o,ag(o)]}function ZH(t){const e=ag(t);return[s1(t),e,s1(e)]}function s1(t){return t.replace(/start|end/g,e=>qH[e])}function JH(t,e,n){const i=["left","right"],s=["right","left"],r=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:i:e?i:s;case"left":case"right":return e?r:o;default:return[]}}function QH(t,e,n,i){const s=yh(t);let r=JH(ql(t),n==="start",i);return s&&(r=r.map(o=>o+"-"+s),e&&(r=r.concat(r.map(s1)))),r}function ag(t){return t.replace(/left|right|bottom|top/g,e=>XH[e])}function e6(t){return{top:0,right:0,bottom:0,left:0,...t}}function y3(t){return typeof t!="number"?e6(t):{top:t,right:t,bottom:t,left:t}}function lg(t){const{x:e,y:n,width:i,height:s}=t;return{width:i,height:s,top:n,left:e,right:e+i,bottom:n+s,x:e,y:n}}function KM(t,e,n){let{reference:i,floating:s}=t;const r=sv(e),o=iw(e),a=nw(o),l=ql(e),c=r==="y",u=i.x+i.width/2-s.width/2,d=i.y+i.height/2-s.height/2,f=i[a]/2-s[a]/2;let p;switch(l){case"top":p={x:u,y:i.y-s.height};break;case"bottom":p={x:u,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:d};break;case"left":p={x:i.x-s.width,y:d};break;default:p={x:i.x,y:i.y}}switch(yh(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const t6=async(t,e,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:o}=n,a=r.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=KM(c,i,l),f=i,p={},g=0;for(let m=0;m<a.length;m++){const{name:y,fn:v}=a[m],{x:_,y:b,data:w,reset:S}=await v({x:u,y:d,initialPlacement:i,placement:f,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=_??u,d=b??d,p={...p,[y]:{...p[y],...w}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:u,y:d}=KM(c,f,l)),m=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:p}};async function sw(t,e){var n;e===void 0&&(e={});const{x:i,y:s,platform:r,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=vh(e,t),g=y3(p),y=a[f?d==="floating"?"reference":"floating":d],v=lg(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(y)))==null||n?y:y.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=d==="floating"?{x:i,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),w=await(r.isElement==null?void 0:r.isElement(b))?await(r.getScale==null?void 0:r.getScale(b))||{x:1,y:1}:{x:1,y:1},S=lg(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:b,strategy:l}):_);return{top:(v.top-S.top+g.top)/w.y,bottom:(S.bottom-v.bottom+g.bottom)/w.y,left:(v.left-S.left+g.left)/w.x,right:(S.right-v.right+g.right)/w.x}}const n6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:s,rects:r,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=vh(t,e)||{};if(c==null)return{};const d=y3(u),f={x:n,y:i},p=iw(s),g=nw(p),m=await o.getDimensions(c),y=p==="y",v=y?"top":"left",_=y?"bottom":"right",b=y?"clientHeight":"clientWidth",w=r.reference[g]+r.reference[p]-f[p]-r.floating[g],S=f[p]-r.reference[p],x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=x?x[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(x)))&&(C=a.floating[b]||r.floating[g]);const T=w/2-S/2,E=C/2-m[g]/2-1,M=Ou(d[v],E),R=Ou(d[_],E),O=M,F=C-m[g]-R,V=C/2-m[g]/2+T,U=i1(O,V,F),D=!l.arrow&&yh(s)!=null&&V!==U&&r.reference[g]/2-(V<O?M:R)-m[g]/2<0,I=D?V<O?V-O:V-F:0;return{[p]:f[p]+I,data:{[p]:U,centerOffset:V-U-I,...D&&{alignmentOffset:I}},reset:D}}}),i6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:s,middlewareData:r,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=vh(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const v=ql(s),_=ql(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=f||(_||!m?[ag(a)]:ZH(a));!f&&g!=="none"&&w.push(...QH(a,m,g,b));const S=[a,...w],x=await sw(e,y),C=[];let T=((i=r.flip)==null?void 0:i.overflows)||[];if(u&&C.push(x[v]),d){const O=jH(s,o,b);C.push(x[O[0]],x[O[1]])}if(T=[...T,{placement:s,overflows:C}],!C.every(O=>O<=0)){var E,M;const O=(((E=r.flip)==null?void 0:E.index)||0)+1,F=S[O];if(F)return{data:{index:O,overflows:T},reset:{placement:F}};let V=(M=T.filter(U=>U.overflows[0]<=0).sort((U,D)=>U.overflows[1]-D.overflows[1])[0])==null?void 0:M.placement;if(!V)switch(p){case"bestFit":{var R;const U=(R=T.map(D=>[D.placement,D.overflows.filter(I=>I>0).reduce((I,N)=>I+N,0)]).sort((D,I)=>D[1]-I[1])[0])==null?void 0:R[0];U&&(V=U);break}case"initialPlacement":V=a;break}if(s!==V)return{reset:{placement:V}}}return{}}}};async function s6(t,e){const{placement:n,platform:i,elements:s}=t,r=await(i.isRTL==null?void 0:i.isRTL(s.floating)),o=ql(n),a=yh(n),l=sv(n)==="y",c=["left","top"].includes(o)?-1:1,u=r&&l?-1:1,d=vh(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const r6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:s,y:r,placement:o,middlewareData:a}=e,l=await s6(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:s+l.x,y:r+l.y,data:{...l,placement:o}}}}},o6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:s}=e,{mainAxis:r=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:v,y:_}=y;return{x:v,y:_}}},...l}=vh(t,e),c={x:n,y:i},u=await sw(e,l),d=sv(ql(s)),f=v3(d);let p=c[f],g=c[d];if(r){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",_=p+u[y],b=p-u[v];p=i1(_,p,b)}if(o){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",_=g+u[y],b=g-u[v];g=i1(_,g,b)}const m=a.fn({...e,[f]:p,[d]:g});return{...m,data:{x:m.x-n,y:m.y-i}}}}};function ed(t){return b3(t)?(t.nodeName||"").toLowerCase():"#document"}function Rs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ro(t){var e;return(e=(b3(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function b3(t){return t instanceof Node||t instanceof Rs(t).Node}function Vr(t){return t instanceof Element||t instanceof Rs(t).Element}function $r(t){return t instanceof HTMLElement||t instanceof Rs(t).HTMLElement}function YM(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Rs(t).ShadowRoot}function bh(t){const{overflow:e,overflowX:n,overflowY:i,display:s}=vr(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(s)}function a6(t){return["table","td","th"].includes(ed(t))}function rw(t){const e=ow(),n=vr(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function l6(t){let e=Ea(t);for(;$r(e)&&!Lu(e);){if(rw(e))return e;e=Ea(e)}return null}function ow(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Lu(t){return["html","body","#document"].includes(ed(t))}function vr(t){return Rs(t).getComputedStyle(t)}function rv(t){return Vr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ea(t){if(ed(t)==="html")return t;const e=t.assignedSlot||t.parentNode||YM(t)&&t.host||Ro(t);return YM(e)?e.host:e}function _3(t){const e=Ea(t);return Lu(e)?t.ownerDocument?t.ownerDocument.body:t.body:$r(e)&&bh(e)?e:_3(e)}function kf(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=_3(t),r=s===((i=t.ownerDocument)==null?void 0:i.body),o=Rs(s);return r?e.concat(o,o.visualViewport||[],bh(s)?s:[],o.frameElement&&n?kf(o.frameElement):[]):e.concat(s,kf(s,[],n))}function w3(t){const e=vr(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=$r(t),r=s?t.offsetWidth:n,o=s?t.offsetHeight:i,a=og(n)!==r||og(i)!==o;return a&&(n=r,i=o),{width:n,height:i,$:a}}function aw(t){return Vr(t)?t:t.contextElement}function du(t){const e=aw(t);if(!$r(e))return Ca(1);const n=e.getBoundingClientRect(),{width:i,height:s,$:r}=w3(e);let o=(r?og(n.width):n.width)/i,a=(r?og(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const c6=Ca(0);function x3(t){const e=Rs(t);return!ow()||!e.visualViewport?c6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function u6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Rs(t)?!1:e}function jl(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),r=aw(t);let o=Ca(1);e&&(i?Vr(i)&&(o=du(i)):o=du(t));const a=u6(r,n,i)?x3(r):Ca(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(r){const f=Rs(r),p=i&&Vr(i)?Rs(i):i;let g=f,m=g.frameElement;for(;m&&i&&p!==g;){const y=du(m),v=m.getBoundingClientRect(),_=vr(m),b=v.left+(m.clientLeft+parseFloat(_.paddingLeft))*y.x,w=v.top+(m.clientTop+parseFloat(_.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=b,c+=w,g=Rs(m),m=g.frameElement}}return lg({width:u,height:d,x:l,y:c})}const d6=[":popover-open",":modal"];function lw(t){return d6.some(e=>{try{return t.matches(e)}catch{return!1}})}function f6(t){let{elements:e,rect:n,offsetParent:i,strategy:s}=t;const r=s==="fixed",o=Ro(i),a=e?lw(e.floating):!1;if(i===o||a&&r)return n;let l={scrollLeft:0,scrollTop:0},c=Ca(1);const u=Ca(0),d=$r(i);if((d||!d&&!r)&&((ed(i)!=="body"||bh(o))&&(l=rv(i)),$r(i))){const f=jl(i);c=du(i),u.x=f.x+i.clientLeft,u.y=f.y+i.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function h6(t){return Array.from(t.getClientRects())}function S3(t){return jl(Ro(t)).left+rv(t).scrollLeft}function p6(t){const e=Ro(t),n=rv(t),i=t.ownerDocument.body,s=Bl(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),r=Bl(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+S3(t);const a=-n.scrollTop;return vr(i).direction==="rtl"&&(o+=Bl(e.clientWidth,i.clientWidth)-s),{width:s,height:r,x:o,y:a}}function m6(t,e){const n=Rs(t),i=Ro(t),s=n.visualViewport;let r=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;const c=ow();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a,y:l}}function g6(t,e){const n=jl(t,!0,e==="fixed"),i=n.top+t.clientTop,s=n.left+t.clientLeft,r=$r(t)?du(t):Ca(1),o=t.clientWidth*r.x,a=t.clientHeight*r.y,l=s*r.x,c=i*r.y;return{width:o,height:a,x:l,y:c}}function XM(t,e,n){let i;if(e==="viewport")i=m6(t,n);else if(e==="document")i=p6(Ro(t));else if(Vr(e))i=g6(e,n);else{const s=x3(t);i={...e,x:e.x-s.x,y:e.y-s.y}}return lg(i)}function M3(t,e){const n=Ea(t);return n===e||!Vr(n)||Lu(n)?!1:vr(n).position==="fixed"||M3(n,e)}function v6(t,e){const n=e.get(t);if(n)return n;let i=kf(t,[],!1).filter(a=>Vr(a)&&ed(a)!=="body"),s=null;const r=vr(t).position==="fixed";let o=r?Ea(t):t;for(;Vr(o)&&!Lu(o);){const a=vr(o),l=rw(o);!l&&a.position==="fixed"&&(s=null),(r?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||bh(o)&&!l&&M3(t,o))?i=i.filter(u=>u!==o):s=a,o=Ea(o)}return e.set(t,i),i}function y6(t){let{element:e,boundary:n,rootBoundary:i,strategy:s}=t;const o=[...n==="clippingAncestors"?lw(e)?[]:v6(e,this._c):[].concat(n),i],a=o[0],l=o.reduce((c,u)=>{const d=XM(e,u,s);return c.top=Bl(d.top,c.top),c.right=Ou(d.right,c.right),c.bottom=Ou(d.bottom,c.bottom),c.left=Bl(d.left,c.left),c},XM(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function b6(t){const{width:e,height:n}=w3(t);return{width:e,height:n}}function _6(t,e,n){const i=$r(e),s=Ro(e),r=n==="fixed",o=jl(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const l=Ca(0);if(i||!i&&!r)if((ed(e)!=="body"||bh(s))&&(a=rv(e)),i){const d=jl(e,!0,r,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else s&&(l.x=S3(s));const c=o.left+a.scrollLeft-l.x,u=o.top+a.scrollTop-l.y;return{x:c,y:u,width:o.width,height:o.height}}function m0(t){return vr(t).position==="static"}function qM(t,e){return!$r(t)||vr(t).position==="fixed"?null:e?e(t):t.offsetParent}function C3(t,e){const n=Rs(t);if(lw(t))return n;if(!$r(t)){let s=Ea(t);for(;s&&!Lu(s);){if(Vr(s)&&!m0(s))return s;s=Ea(s)}return n}let i=qM(t,e);for(;i&&a6(i)&&m0(i);)i=qM(i,e);return i&&Lu(i)&&m0(i)&&!rw(i)?n:i||l6(t)||n}const w6=async function(t){const e=this.getOffsetParent||C3,n=this.getDimensions,i=await n(t.floating);return{reference:_6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function x6(t){return vr(t).direction==="rtl"}const S6={convertOffsetParentRelativeRectToViewportRelativeRect:f6,getDocumentElement:Ro,getClippingRect:y6,getOffsetParent:C3,getElementRects:w6,getClientRects:h6,getDimensions:b6,getScale:du,isElement:Vr,isRTL:x6};function M6(t,e){let n=null,i;const s=Ro(t);function r(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),r();const{left:c,top:u,width:d,height:f}=t.getBoundingClientRect();if(a||e(),!d||!f)return;const p=qh(u),g=qh(s.clientWidth-(c+d)),m=qh(s.clientHeight-(u+f)),y=qh(c),_={rootMargin:-p+"px "+-g+"px "+-m+"px "+-y+"px",threshold:Bl(0,Ou(1,l))||1};let b=!0;function w(S){const x=S[0].intersectionRatio;if(x!==l){if(!b)return o();x?o(!1,x):i=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(w,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(w,_)}n.observe(t)}return o(!0),r}function C6(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=aw(t),u=s||r?[...c?kf(c):[],...kf(e)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),r&&v.addEventListener("resize",n)});const d=c&&a?M6(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(v=>{let[_]=v;_&&_.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let g,m=l?jl(t):null;l&&y();function y(){const v=jl(t);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,g=requestAnimationFrame(y)}return n(),()=>{var v;u.forEach(_=>{s&&_.removeEventListener("scroll",n),r&&_.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const E6=sw,E3=r6,T6=o6,A6=i6,T3=n6,A3=(t,e,n)=>{const i=new Map,s={platform:S6,...n},r={...s.platform,_c:i};return t6(t,e,{...s,platform:r})};ze({});const R6=t=>{if(!Ft)return;if(!t)return t;const e=fs(t);return e||(yn(t)?e:t)},P6=({middleware:t,placement:e,strategy:n})=>{const i=z(),s=z(),r=z(),o=z(),a=z({}),l={x:r,y:o,placement:e,strategy:n,middlewareData:a},c=async()=>{if(!Ft)return;const u=R6(i),d=fs(s);if(!u||!d)return;const f=await A3(u,d,{placement:h(e),strategy:h(n),middleware:h(t)});Cu(l).forEach(p=>{l[p].value=f[p]})};return Mt(()=>{ki(()=>{c()})}),{...l,update:c,referenceRef:i,contentRef:s}},I6=({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const i=h(t);return i?T3({element:i,padding:e}).fn(n):{}}});function k6(t){const e=z();function n(){if(t.value==null)return;const{selectionStart:s,selectionEnd:r,value:o}=t.value;if(s==null||r==null)return;const a=o.slice(0,Math.max(0,s)),l=o.slice(Math.max(0,r));e.value={selectionStart:s,selectionEnd:r,value:o,beforeTxt:a,afterTxt:l}}function i(){if(t.value==null||e.value==null)return;const{value:s}=t.value,{beforeTxt:r,afterTxt:o,selectionStart:a}=e.value;if(r==null||o==null||a==null)return;let l=s.length;if(s.endsWith(o))l=s.length-o.length;else if(s.startsWith(r))l=r.length;else{const c=r[a-1],u=s.indexOf(c,a-1);u!==-1&&(l=u+1)}t.value.setSelectionRange(l,l)}return[n,i]}const O6=(t,e,n)=>pa(t.subTree).filter(r=>{var o;return xn(r)&&((o=r.type)==null?void 0:o.name)===e&&!!r.component}).map(r=>r.component.uid).map(r=>n[r]).filter(r=>!!r),cw=(t,e)=>{const n={},i=vn([]);return{children:i,addChild:o=>{n[o.uid]=o,i.value=O6(t,e,n)},removeChild:o=>{delete n[o],i.value=i.value.filter(a=>a.uid!==o)}}},fi=br({type:String,values:Gr,required:!1}),R3=Symbol("size"),L6=()=>{const t=et(R3,{});return A(()=>h(t.size)||"")};function ov(t,{afterFocus:e,beforeBlur:n,afterBlur:i}={}){const s=Tt(),{emit:r}=s,o=vn(),a=z(!1),l=d=>{a.value||(a.value=!0,r("focus",d),e==null||e())},c=d=>{var f;ht(n)&&n(d)||d.relatedTarget&&((f=o.value)!=null&&f.contains(d.relatedTarget))||(a.value=!1,r("blur",d),i==null||i())},u=()=>{var d;(d=t.value)==null||d.focus()};return ke(o,d=>{d&&d.setAttribute("tabindex","-1")}),pn(o,"click",u),{wrapperRef:o,isFocused:a,handleFocus:l,handleBlur:c}}const N6=["",void 0,null],D6=void 0,td=ze({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>ht(t)?!t():!t}}),av=(t,e)=>{let n=_h();n.value||(n=z({}));const i=A(()=>t.emptyValues||n.value.emptyValues||N6),s=A(()=>ht(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:ht(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:e!==void 0?e:D6),r=o=>i.value.includes(o);return i.value.includes(s.value),{emptyValues:i,valueOnClear:s,isEmptyValue:r}},F6=ze({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Ai=t=>Lr(F6,t),P3=Symbol(),cg=z();function _h(t,e=void 0){const n=Tt()?et(P3,cg):cg;return t?A(()=>{var i,s;return(s=(i=n.value)==null?void 0:i[t])!=null?s:e}):n}function lv(t,e){const n=_h(),i=Oe(t,A(()=>{var a;return((a=n.value)==null?void 0:a.namespace)||rf})),s=$t(A(()=>{var a;return(a=n.value)==null?void 0:a.locale})),r=Qu(A(()=>{var a;return((a=n.value)==null?void 0:a.zIndex)||m3})),o=A(()=>{var a;return h(e)||((a=n.value)==null?void 0:a.size)||""});return uw(A(()=>h(n)||{})),{ns:i,locale:s,zIndex:r,size:o}}const uw=(t,e,n=!1)=>{var i;const s=!!Tt(),r=s?_h():void 0,o=(i=e==null?void 0:e.provide)!=null?i:s?Nt:void 0;if(!o)return;const a=A(()=>{const l=h(t);return r!=null&&r.value?B6(r.value,l):l});return o(P3,a),o(JR,A(()=>a.value.locale)),o(QR,A(()=>a.value.namespace)),o(g3,A(()=>a.value.zIndex)),o(R3,{size:A(()=>a.value.size||"")}),(n||!cg.value)&&(cg.value=a.value),a},B6=(t,e)=>{const n=[...new Set([...Cu(t),...Cu(e)])],i={};for(const s of n)i[s]=e[s]!==void 0?e[s]:t[s];return i},U6=ze({a11y:{type:Boolean,default:!0},locale:{type:ce(Object)},size:fi,button:{type:ce(Object)},experimentalFeatures:{type:ce(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:ce(Object)},zIndex:Number,namespace:{type:String,default:"el"},...td}),r1={},z6=j({name:"ElConfigProvider",props:U6,setup(t,{slots:e}){ke(()=>t.message,i=>{Object.assign(r1,i??{})},{immediate:!0,deep:!0});const n=uw(t);return()=>Me(e,"default",{config:n==null?void 0:n.value})}}),V6=At(z6),$6="2.7.2",H6=(t=[])=>({version:$6,install:(n,i)=>{n[AM]||(n[AM]=!0,t.forEach(s=>n.use(s)),i&&uw(i,n,!0))}}),W6=ze({zIndex:{type:ce([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),G6={scroll:({scrollTop:t,fixed:e})=>ft(t)&&Yn(e),[mn]:t=>Yn(t)};var $e=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n};const I3="ElAffix",K6=j({name:I3}),Y6=j({...K6,props:W6,emits:G6,setup(t,{expose:e,emit:n}){const i=t,s=Oe("affix"),r=vn(),o=vn(),a=vn(),{height:l}=bF(),{height:c,width:u,top:d,bottom:f,update:p}=$S(o,{windowScroll:!1}),g=$S(r),m=z(!1),y=z(0),v=z(0),_=A(()=>({height:m.value?`${c.value}px`:"",width:m.value?`${u.value}px`:""})),b=A(()=>{if(!m.value)return{};const x=i.offset?On(i.offset):0;return{height:`${c.value}px`,width:`${u.value}px`,top:i.position==="top"?x:"",bottom:i.position==="bottom"?x:"",transform:v.value?`translateY(${v.value}px)`:"",zIndex:i.zIndex}}),w=()=>{if(a.value)if(y.value=a.value instanceof Window?document.documentElement.scrollTop:a.value.scrollTop||0,i.position==="top")if(i.target){const x=g.bottom.value-i.offset-c.value;m.value=i.offset>d.value&&g.bottom.value>0,v.value=x<0?x:0}else m.value=i.offset>d.value;else if(i.target){const x=l.value-g.top.value-i.offset-c.value;m.value=l.value-i.offset<f.value&&l.value>g.top.value,v.value=x<0?-x:0}else m.value=l.value-i.offset<f.value},S=()=>{p(),n("scroll",{scrollTop:y.value,fixed:m.value})};return ke(m,x=>n("change",x)),Mt(()=>{var x;i.target?(r.value=(x=document.querySelector(i.target))!=null?x:void 0,r.value||si(I3,`Target does not exist: ${i.target}`)):r.value=document.documentElement,a.value=L_(o.value,!0),p()}),pn(a,"scroll",S),ki(w),e({update:w,updateRoot:p}),(x,C)=>(P(),H("div",{ref_key:"root",ref:o,class:L(h(s).b()),style:nt(h(_))},[Y("div",{class:L({[h(s).m("fixed")]:m.value}),style:nt(h(b))},[Me(x.$slots,"default")],6)],6))}});var X6=$e(Y6,[["__file","affix.vue"]]);const q6=At(X6),j6=ze({size:{type:ce([Number,String])},color:{type:String}}),Z6=j({name:"ElIcon",inheritAttrs:!1}),J6=j({...Z6,props:j6,setup(t){const e=t,n=Oe("icon"),i=A(()=>{const{size:s,color:r}=e;return!s&&!r?{}:{fontSize:Kn(s)?void 0:On(s),"--color":r}});return(s,r)=>(P(),H("i",Lt({class:h(n).b(),style:h(i)},s.$attrs),[Me(s.$slots,"default")],16))}});var Q6=$e(J6,[["__file","icon.vue"]]);const tt=At(Q6),eW=["light","dark"],tW=ze({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:Cu(Ma),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:eW,default:"light"}}),nW={close:t=>t instanceof MouseEvent},iW=j({name:"ElAlert"}),sW=j({...iW,props:tW,emits:nW,setup(t,{emit:e}){const n=t,{Close:i}=z_,s=Ci(),r=Oe("alert"),o=z(!0),a=A(()=>Ma[n.type]),l=A(()=>[r.e("icon"),{[r.is("big")]:!!n.description||!!s.default}]),c=A(()=>({"with-description":n.description||s.default})),u=d=>{o.value=!1,e("close",d)};return(d,f)=>(P(),_e(ii,{name:h(r).b("fade"),persisted:""},{default:ne(()=>[St(Y("div",{class:L([h(r).b(),h(r).m(d.type),h(r).is("center",d.center),h(r).is(d.effect)]),role:"alert"},[d.showIcon&&h(a)?(P(),_e(h(tt),{key:0,class:L(h(l))},{default:ne(()=>[(P(),_e(kt(h(a))))]),_:1},8,["class"])):ge("v-if",!0),Y("div",{class:L(h(r).e("content"))},[d.title||d.$slots.title?(P(),H("span",{key:0,class:L([h(r).e("title"),h(c)])},[Me(d.$slots,"title",{},()=>[zt(Ge(d.title),1)])],2)):ge("v-if",!0),d.$slots.default||d.description?(P(),H("p",{key:1,class:L(h(r).e("description"))},[Me(d.$slots,"default",{},()=>[zt(Ge(d.description),1)])],2)):ge("v-if",!0),d.closable?(P(),H(st,{key:2},[d.closeText?(P(),H("div",{key:0,class:L([h(r).e("close-btn"),h(r).is("customed")]),onClick:u},Ge(d.closeText),3)):(P(),_e(h(tt),{key:1,class:L(h(r).e("close-btn")),onClick:u},{default:ne(()=>[X(h(i))]),_:1},8,["class"]))],64)):ge("v-if",!0)],2)],2),[[Kt,o.value]])]),_:3},8,["name"]))}});var rW=$e(sW,[["__file","alert.vue"]]);const oW=At(rW),uc=Symbol("formContextKey"),Hr=Symbol("formItemContextKey"),ei=(t,e={})=>{const n=z(void 0),i=e.prop?n:t3("size"),s=e.global?n:L6(),r=e.form?{size:void 0}:et(uc,void 0),o=e.formItem?{size:void 0}:et(Hr,void 0);return A(()=>i.value||h(t)||(o==null?void 0:o.size)||(r==null?void 0:r.size)||s.value||"")},os=t=>{const e=t3("disabled"),n=et(uc,void 0);return A(()=>e.value||h(t)||(n==null?void 0:n.disabled)||!1)},Xi=()=>{const t=et(uc,void 0),e=et(Hr,void 0);return{form:t,formItem:e}},wr=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:i})=>{n||(n=z(!1)),i||(i=z(!1));const s=z();let r;const o=A(()=>{var a;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((a=e.inputIds)==null?void 0:a.length)<=1)});return Mt(()=>{r=ke([on(t,"id"),n],([a,l])=>{const c=a??(l?void 0:Li().value);c!==s.value&&(e!=null&&e.removeInputId&&(s.value&&e.removeInputId(s.value),!(i!=null&&i.value)&&!l&&c&&e.addInputId(c)),s.value=c)},{immediate:!0})}),La(()=>{r&&r(),e!=null&&e.removeInputId&&s.value&&e.removeInputId(s.value)}),{isLabeledByFormItem:o,inputId:s}},aW=ze({size:{type:String,values:Gr},disabled:Boolean}),lW=ze({...aW,model:Object,rules:{type:ce(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),cW={validate:(t,e,n)=>(Ze(t)||yt(t))&&Yn(e)&&yt(n)};function uW(){const t=z([]),e=A(()=>{if(!t.value.length)return"0";const r=Math.max(...t.value);return r?`${r}px`:""});function n(r){const o=t.value.indexOf(r);return o===-1&&e.value,o}function i(r,o){if(r&&o){const a=n(o);t.value.splice(a,1,r)}else r&&t.value.push(r)}function s(r){const o=n(r);o>-1&&t.value.splice(o,1)}return{autoLabelWidth:e,registerLabelWidth:i,deregisterLabelWidth:s}}const jh=(t,e)=>{const n=wa(e);return n.length>0?t.filter(i=>i.prop&&n.includes(i.prop)):t},dW="ElForm",fW=j({name:dW}),hW=j({...fW,props:lW,emits:cW,setup(t,{expose:e,emit:n}){const i=t,s=[],r=ei(),o=Oe("form"),a=A(()=>{const{labelPosition:b,inline:w}=i;return[o.b(),o.m(r.value||"default"),{[o.m(`label-${b}`)]:b,[o.m("inline")]:w}]}),l=b=>s.find(w=>w.prop===b),c=b=>{s.push(b)},u=b=>{b.prop&&s.splice(s.indexOf(b),1)},d=(b=[])=>{i.model&&jh(s,b).forEach(w=>w.resetField())},f=(b=[])=>{jh(s,b).forEach(w=>w.clearValidate())},p=A(()=>!!i.model),g=b=>{if(s.length===0)return[];const w=jh(s,b);return w.length?w:[]},m=async b=>v(void 0,b),y=async(b=[])=>{if(!p.value)return!1;const w=g(b);if(w.length===0)return!0;let S={};for(const x of w)try{await x.validate("")}catch(C){S={...S,...C}}return Object.keys(S).length===0?!0:Promise.reject(S)},v=async(b=[],w)=>{const S=!ht(w);try{const x=await y(b);return x===!0&&await(w==null?void 0:w(x)),x}catch(x){if(x instanceof Error)throw x;const C=x;return i.scrollToError&&_(Object.keys(C)[0]),await(w==null?void 0:w(!1,C)),S&&Promise.reject(C)}},_=b=>{var w;const S=jh(s,b)[0];S&&((w=S.$el)==null||w.scrollIntoView(i.scrollIntoViewOptions))};return ke(()=>i.rules,()=>{i.validateOnRuleChange&&m().catch(b=>void 0)},{deep:!0}),Nt(uc,Xt({...Ti(i),emit:n,resetFields:d,clearValidate:f,validateField:v,getField:l,addField:c,removeField:u,...uW()})),e({validate:m,validateField:v,resetFields:d,clearValidate:f,scrollToField:_}),(b,w)=>(P(),H("form",{class:L(h(a))},[Me(b.$slots,"default")],2))}});var pW=$e(hW,[["__file","form.vue"]]);function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xl.apply(this,arguments)}function mW(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Of(t,e)}function o1(t){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o1(t)}function Of(t,e){return Of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Of(t,e)}function gW(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gm(t,e,n){return gW()?gm=Reflect.construct.bind():gm=function(s,r,o){var a=[null];a.push.apply(a,r);var l=Function.bind.apply(s,a),c=new l;return o&&Of(c,o.prototype),c},gm.apply(null,arguments)}function vW(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function a1(t){var e=typeof Map=="function"?new Map:void 0;return a1=function(i){if(i===null||!vW(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,s)}function s(){return gm(i,arguments,o1(this).constructor)}return s.prototype=Object.create(i.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Of(s,i)},a1(t)}var yW=/%[sdj%]/g,bW=function(){};function l1(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var i=n.field;e[i]=e[i]||[],e[i].push(n)}),e}function Cs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var s=0,r=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var o=t.replace(yW,function(a){if(a==="%%")return"%";if(s>=r)return a;switch(a){case"%s":return String(n[s++]);case"%d":return Number(n[s++]);case"%j":try{return JSON.stringify(n[s++])}catch{return"[Circular]"}break;default:return a}});return o}return t}function _W(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function wi(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||_W(e)&&typeof t=="string"&&!t)}function wW(t,e,n){var i=[],s=0,r=t.length;function o(a){i.push.apply(i,a||[]),s++,s===r&&n(i)}t.forEach(function(a){e(a,o)})}function jM(t,e,n){var i=0,s=t.length;function r(o){if(o&&o.length){n(o);return}var a=i;i=i+1,a<s?e(t[a],r):n([])}r([])}function xW(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var ZM=function(t){mW(e,t);function e(n,i){var s;return s=t.call(this,"Async Validation Error")||this,s.errors=n,s.fields=i,s}return e}(a1(Error));function SW(t,e,n,i,s){if(e.first){var r=new Promise(function(f,p){var g=function(v){return i(v),v.length?p(new ZM(v,l1(v))):f(s)},m=xW(t);jM(m,n,g)});return r.catch(function(f){return f}),r}var o=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,c=0,u=[],d=new Promise(function(f,p){var g=function(y){if(u.push.apply(u,y),c++,c===l)return i(u),u.length?p(new ZM(u,l1(u))):f(s)};a.length||(i(u),f(s)),a.forEach(function(m){var y=t[m];o.indexOf(m)!==-1?jM(y,n,g):wW(y,n,g)})});return d.catch(function(f){return f}),d}function MW(t){return!!(t&&t.message!==void 0)}function CW(t,e){for(var n=t,i=0;i<e.length;i++){if(n==null)return n;n=n[e[i]]}return n}function JM(t,e){return function(n){var i;return t.fullFields?i=CW(e,t.fullFields):i=e[n.field||t.fullField],MW(n)?(n.field=n.field||t.fullField,n.fieldValue=i,n):{message:typeof n=="function"?n():n,fieldValue:i,field:n.field||t.fullField}}}function QM(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];typeof i=="object"&&typeof t[n]=="object"?t[n]=xl({},t[n],i):t[n]=i}}return t}var k3=function(e,n,i,s,r,o){e.required&&(!i.hasOwnProperty(e.field)||wi(n,o||e.type))&&s.push(Cs(r.messages.required,e.fullField))},EW=function(e,n,i,s,r){(/^\s+$/.test(n)||n==="")&&s.push(Cs(r.messages.whitespace,e.fullField))},Zh,TW=function(){if(Zh)return Zh;var t="[a-fA-F\\d:]",e=function(w){return w&&w.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",s=(`
(?:
(?:`+i+":){7}(?:"+i+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+i+":){6}(?:"+n+"|:"+i+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+i+":){5}(?::"+n+"|(?::"+i+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+i+":){4}(?:(?::"+i+"){0,1}:"+n+"|(?::"+i+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+i+":){3}(?:(?::"+i+"){0,2}:"+n+"|(?::"+i+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+i+":){2}(?:(?::"+i+"){0,3}:"+n+"|(?::"+i+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+i+":){1}(?:(?::"+i+"){0,4}:"+n+"|(?::"+i+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+i+"){0,5}:"+n+"|(?::"+i+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),r=new RegExp("(?:^"+n+"$)|(?:^"+s+"$)"),o=new RegExp("^"+n+"$"),a=new RegExp("^"+s+"$"),l=function(w){return w&&w.exact?r:new RegExp("(?:"+e(w)+n+e(w)+")|(?:"+e(w)+s+e(w)+")","g")};l.v4=function(b){return b&&b.exact?o:new RegExp(""+e(b)+n+e(b),"g")},l.v6=function(b){return b&&b.exact?a:new RegExp(""+e(b)+s+e(b),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,f=l.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",g="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",y="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',_="(?:"+c+"|www\\.)"+u+"(?:localhost|"+d+"|"+f+"|"+p+g+m+")"+y+v;return Zh=new RegExp("(?:^"+_+"$)","i"),Zh},eC={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},$d={integer:function(e){return $d.number(e)&&parseInt(e,10)===e},float:function(e){return $d.number(e)&&!$d.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!$d.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(eC.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(TW())},hex:function(e){return typeof e=="string"&&!!e.match(eC.hex)}},AW=function(e,n,i,s,r){if(e.required&&n===void 0){k3(e,n,i,s,r);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;o.indexOf(a)>-1?$d[a](n)||s.push(Cs(r.messages.types[a],e.fullField,e.type)):a&&typeof n!==e.type&&s.push(Cs(r.messages.types[a],e.fullField,e.type))},RW=function(e,n,i,s,r){var o=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,d=null,f=typeof n=="number",p=typeof n=="string",g=Array.isArray(n);if(f?d="number":p?d="string":g&&(d="array"),!d)return!1;g&&(u=n.length),p&&(u=n.replace(c,"_").length),o?u!==e.len&&s.push(Cs(r.messages[d].len,e.fullField,e.len)):a&&!l&&u<e.min?s.push(Cs(r.messages[d].min,e.fullField,e.min)):l&&!a&&u>e.max?s.push(Cs(r.messages[d].max,e.fullField,e.max)):a&&l&&(u<e.min||u>e.max)&&s.push(Cs(r.messages[d].range,e.fullField,e.min,e.max))},vc="enum",PW=function(e,n,i,s,r){e[vc]=Array.isArray(e[vc])?e[vc]:[],e[vc].indexOf(n)===-1&&s.push(Cs(r.messages[vc],e.fullField,e[vc].join(", ")))},IW=function(e,n,i,s,r){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||s.push(Cs(r.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(n)||s.push(Cs(r.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},rn={required:k3,whitespace:EW,type:AW,range:RW,enum:PW,pattern:IW},kW=function(e,n,i,s,r){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(wi(n,"string")&&!e.required)return i();rn.required(e,n,s,o,r,"string"),wi(n,"string")||(rn.type(e,n,s,o,r),rn.range(e,n,s,o,r),rn.pattern(e,n,s,o,r),e.whitespace===!0&&rn.whitespace(e,n,s,o,r))}i(o)},OW=function(e,n,i,s,r){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(wi(n)&&!e.required)return i();rn.required(e,n,s,o,r),n!==void 0&&rn.type(e,n,s,o,r)}i(o)},LW=function(e,n,i,s,r){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),wi(n)&&!e.required)return i();rn.required(e,n,s,o,r),n!==void 0&&(rn.type(e,n,s,o,r),rn.range(e,n,s,o,r))}i(o)},NW=function(e,n,i,s,r){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(wi(n)&&!e.required)return i();rn.required(e,n,s,o,r),n!==void 0&&rn.type(e,n,s,o,r)}i(o)},DW=function(e,n,i,s,r){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(wi(n)&&!e.required)return i();rn.required(e,n,s,o,r),wi(n)||rn.type(e,n,s,o,r)}i(o)},FW=function(e,n,i,s,r){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(wi(n)&&!e.required)return i();rn.required(e,n,s,o,r),n!==void 0&&(rn.type(e,n,s,o,r),rn.range(e,n,s,o,r))}i(o)},BW=function(e,n,i,s,r){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(wi(n)&&!e.required)return i();rn.required(e,n,s,o,r),n!==void 0&&(rn.type(e,n,s,o,r),rn.range(e,n,s,o,r))}i(o)},UW=function(e,n,i,s,r){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return i();rn.required(e,n,s,o,r,"array"),n!=null&&(rn.type(e,n,s,o,r),rn.range(e,n,s,o,r))}i(o)},zW=function(e,n,i,s,r){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(wi(n)&&!e.required)return i();rn.required(e,n,s,o,r),n!==void 0&&rn.type(e,n,s,o,r)}i(o)},VW="enum",$W=function(e,n,i,s,r){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(wi(n)&&!e.required)return i();rn.required(e,n,s,o,r),n!==void 0&&rn[VW](e,n,s,o,r)}i(o)},HW=function(e,n,i,s,r){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(wi(n,"string")&&!e.required)return i();rn.required(e,n,s,o,r),wi(n,"string")||rn.pattern(e,n,s,o,r)}i(o)},WW=function(e,n,i,s,r){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(wi(n,"date")&&!e.required)return i();if(rn.required(e,n,s,o,r),!wi(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),rn.type(e,l,s,o,r),l&&rn.range(e,l.getTime(),s,o,r)}}i(o)},GW=function(e,n,i,s,r){var o=[],a=Array.isArray(n)?"array":typeof n;rn.required(e,n,s,o,r,a),i(o)},g0=function(e,n,i,s,r){var o=e.type,a=[],l=e.required||!e.required&&s.hasOwnProperty(e.field);if(l){if(wi(n,o)&&!e.required)return i();rn.required(e,n,s,a,r,o),wi(n,o)||rn.type(e,n,s,a,r)}i(a)},KW=function(e,n,i,s,r){var o=[],a=e.required||!e.required&&s.hasOwnProperty(e.field);if(a){if(wi(n)&&!e.required)return i();rn.required(e,n,s,o,r)}i(o)},lf={string:kW,method:OW,number:LW,boolean:NW,regexp:DW,integer:FW,float:BW,array:UW,object:zW,enum:$W,pattern:HW,date:WW,url:g0,hex:g0,email:g0,required:GW,any:KW};function c1(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var u1=c1(),wh=function(){function t(n){this.rules=null,this._messages=u1,this.define(n)}var e=t.prototype;return e.define=function(i){var s=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(r){var o=i[r];s.rules[r]=Array.isArray(o)?o:[o]})},e.messages=function(i){return i&&(this._messages=QM(c1(),i)),this._messages},e.validate=function(i,s,r){var o=this;s===void 0&&(s={}),r===void 0&&(r=function(){});var a=i,l=s,c=r;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,a),Promise.resolve(a);function u(m){var y=[],v={};function _(w){if(Array.isArray(w)){var S;y=(S=y).concat.apply(S,w)}else y.push(w)}for(var b=0;b<m.length;b++)_(m[b]);y.length?(v=l1(y),c(y,v)):c(null,a)}if(l.messages){var d=this.messages();d===u1&&(d=c1()),QM(d,l.messages),l.messages=d}else l.messages=this.messages();var f={},p=l.keys||Object.keys(this.rules);p.forEach(function(m){var y=o.rules[m],v=a[m];y.forEach(function(_){var b=_;typeof b.transform=="function"&&(a===i&&(a=xl({},a)),v=a[m]=b.transform(v)),typeof b=="function"?b={validator:b}:b=xl({},b),b.validator=o.getValidationMethod(b),b.validator&&(b.field=m,b.fullField=b.fullField||m,b.type=o.getType(b),f[m]=f[m]||[],f[m].push({rule:b,value:v,source:a,field:m}))})});var g={};return SW(f,l,function(m,y){var v=m.rule,_=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");_=_&&(v.required||!v.required&&m.value),v.field=m.field;function b(x,C){return xl({},C,{fullField:v.fullField+"."+x,fullFields:v.fullFields?[].concat(v.fullFields,[x]):[x]})}function w(x){x===void 0&&(x=[]);var C=Array.isArray(x)?x:[x];!l.suppressWarning&&C.length&&t.warning("async-validator:",C),C.length&&v.message!==void 0&&(C=[].concat(v.message));var T=C.map(JM(v,a));if(l.first&&T.length)return g[v.field]=1,y(T);if(!_)y(T);else{if(v.required&&!m.value)return v.message!==void 0?T=[].concat(v.message).map(JM(v,a)):l.error&&(T=[l.error(v,Cs(l.messages.required,v.field))]),y(T);var E={};v.defaultField&&Object.keys(m.value).map(function(O){E[O]=v.defaultField}),E=xl({},E,m.rule.fields);var M={};Object.keys(E).forEach(function(O){var F=E[O],V=Array.isArray(F)?F:[F];M[O]=V.map(b.bind(null,O))});var R=new t(M);R.messages(l.messages),m.rule.options&&(m.rule.options.messages=l.messages,m.rule.options.error=l.error),R.validate(m.value,m.rule.options||l,function(O){var F=[];T&&T.length&&F.push.apply(F,T),O&&O.length&&F.push.apply(F,O),y(F.length?F:null)})}}var S;if(v.asyncValidator)S=v.asyncValidator(v,m.value,w,m.source,l);else if(v.validator){try{S=v.validator(v,m.value,w,m.source,l)}catch(x){console.error==null||console.error(x),l.suppressValidatorError||setTimeout(function(){throw x},0),w(x.message)}S===!0?w():S===!1?w(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||(v.fullField||v.field)+" fails"):S instanceof Array?w(S):S instanceof Error&&w(S.message)}S&&S.then&&S.then(function(){return w()},function(x){return w(x)})},function(m){u(m)},a)},e.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!lf.hasOwnProperty(i.type))throw new Error(Cs("Unknown rule type %s",i.type));return i.type||"string"},e.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var s=Object.keys(i),r=s.indexOf("message");return r!==-1&&s.splice(r,1),s.length===1&&s[0]==="required"?lf.required:lf[this.getType(i)]||void 0},t}();wh.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");lf[e]=n};wh.warning=bW;wh.messages=u1;wh.validators=lf;const YW=["","error","validating","success"],XW=ze({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:ce([String,Array])},required:{type:Boolean,default:void 0},rules:{type:ce([Object,Array])},error:String,validateStatus:{type:String,values:YW},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Gr}}),tC="ElLabelWrap";var qW=j({name:tC,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=et(uc,void 0),i=et(Hr);i||si(tC,"usage: <el-form-item><label-wrap /></el-form-item>");const s=Oe("form"),r=z(),o=z(0),a=()=>{var u;if((u=r.value)!=null&&u.firstElementChild){const d=window.getComputedStyle(r.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},l=(u="update")=>{rt(()=>{e.default&&t.isAutoWidth&&(u==="update"?o.value=a():u==="remove"&&(n==null||n.deregisterLabelWidth(o.value)))})},c=()=>l("update");return Mt(()=>{c()}),fn(()=>{l("remove")}),Co(()=>c()),ke(o,(u,d)=>{t.updateAll&&(n==null||n.registerLabelWidth(u,d))}),Mn(A(()=>{var u,d;return(d=(u=r.value)==null?void 0:u.firstElementChild)!=null?d:null}),c),()=>{var u,d;if(!e)return null;const{isAutoWidth:f}=t;if(f){const p=n==null?void 0:n.autoLabelWidth,g=i==null?void 0:i.hasLabel,m={};if(g&&p&&p!=="auto"){const y=Math.max(0,Number.parseInt(p,10)-o.value),v=n.labelPosition==="left"?"marginRight":"marginLeft";y&&(m[v]=`${y}px`)}return X("div",{ref:r,class:[s.be("item","label-wrap")],style:m},[(u=e.default)==null?void 0:u.call(e)])}else return X(st,{ref:r},[(d=e.default)==null?void 0:d.call(e)])}}});const jW=["role","aria-labelledby"],ZW=j({name:"ElFormItem"}),JW=j({...ZW,props:XW,setup(t,{expose:e}){const n=t,i=Ci(),s=et(uc,void 0),r=et(Hr,void 0),o=ei(void 0,{formItem:!1}),a=Oe("form-item"),l=Li().value,c=z([]),u=z(""),d=tF(u,100),f=z(""),p=z();let g,m=!1;const y=A(()=>{if((s==null?void 0:s.labelPosition)==="top")return{};const oe=On(n.labelWidth||(s==null?void 0:s.labelWidth)||"");return oe?{width:oe}:{}}),v=A(()=>{if((s==null?void 0:s.labelPosition)==="top"||s!=null&&s.inline)return{};if(!n.label&&!n.labelWidth&&E)return{};const oe=On(n.labelWidth||(s==null?void 0:s.labelWidth)||"");return!n.label&&!i.label?{marginLeft:oe}:{}}),_=A(()=>[a.b(),a.m(o.value),a.is("error",u.value==="error"),a.is("validating",u.value==="validating"),a.is("success",u.value==="success"),a.is("required",V.value||n.required),a.is("no-asterisk",s==null?void 0:s.hideRequiredAsterisk),(s==null?void 0:s.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[a.m("feedback")]:s==null?void 0:s.statusIcon}]),b=A(()=>Yn(n.inlineMessage)?n.inlineMessage:(s==null?void 0:s.inlineMessage)||!1),w=A(()=>[a.e("error"),{[a.em("error","inline")]:b.value}]),S=A(()=>n.prop?yt(n.prop)?n.prop:n.prop.join("."):""),x=A(()=>!!(n.label||i.label)),C=A(()=>n.for||(c.value.length===1?c.value[0]:void 0)),T=A(()=>!C.value&&x.value),E=!!r,M=A(()=>{const oe=s==null?void 0:s.model;if(!(!oe||!n.prop))return pm(oe,n.prop).value}),R=A(()=>{const{required:oe}=n,de=[];n.rules&&de.push(...wa(n.rules));const Ne=s==null?void 0:s.rules;if(Ne&&n.prop){const Q=pm(Ne,n.prop).value;Q&&de.push(...wa(Q))}if(oe!==void 0){const Q=de.map((Te,me)=>[Te,me]).filter(([Te])=>Object.keys(Te).includes("required"));if(Q.length>0)for(const[Te,me]of Q)Te.required!==oe&&(de[me]={...Te,required:oe});else de.push({required:oe})}return de}),O=A(()=>R.value.length>0),F=oe=>R.value.filter(Ne=>!Ne.trigger||!oe?!0:Array.isArray(Ne.trigger)?Ne.trigger.includes(oe):Ne.trigger===oe).map(({trigger:Ne,...Q})=>Q),V=A(()=>R.value.some(oe=>oe.required)),U=A(()=>{var oe;return d.value==="error"&&n.showMessage&&((oe=s==null?void 0:s.showMessage)!=null?oe:!0)}),D=A(()=>`${n.label||""}${(s==null?void 0:s.labelSuffix)||""}`),I=oe=>{u.value=oe},N=oe=>{var de,Ne;const{errors:Q,fields:Te}=oe;(!Q||!Te)&&console.error(oe),I("error"),f.value=Q?(Ne=(de=Q==null?void 0:Q[0])==null?void 0:de.message)!=null?Ne:`${n.prop} is required`:"",s==null||s.emit("validate",n.prop,!1,f.value)},k=()=>{I("success"),s==null||s.emit("validate",n.prop,!0,"")},B=async oe=>{const de=S.value;return new wh({[de]:oe}).validate({[de]:M.value},{firstFields:!0}).then(()=>(k(),!0)).catch(Q=>(N(Q),Promise.reject(Q)))},G=async(oe,de)=>{if(m||!n.prop)return!1;const Ne=ht(de);if(!O.value)return de==null||de(!1),!1;const Q=F(oe);return Q.length===0?(de==null||de(!0),!0):(I("validating"),B(Q).then(()=>(de==null||de(!0),!0)).catch(Te=>{const{fields:me}=Te;return de==null||de(!1,me),Ne?!1:Promise.reject(me)}))},J=()=>{I(""),f.value="",m=!1},re=async()=>{const oe=s==null?void 0:s.model;if(!oe||!n.prop)return;const de=pm(oe,n.prop);m=!0,de.value=_M(g),await rt(),J(),m=!1},ee=oe=>{c.value.includes(oe)||c.value.push(oe)},ye=oe=>{c.value=c.value.filter(de=>de!==oe)};ke(()=>n.error,oe=>{f.value=oe||"",I(oe?"error":"")},{immediate:!0}),ke(()=>n.validateStatus,oe=>I(oe||""));const te=Xt({...Ti(n),$el:p,size:o,validateState:u,labelId:l,inputIds:c,isGroup:T,hasLabel:x,fieldValue:M,addInputId:ee,removeInputId:ye,resetField:re,clearValidate:J,validate:G});return Nt(Hr,te),Mt(()=>{n.prop&&(s==null||s.addField(te),g=_M(M.value))}),fn(()=>{s==null||s.removeField(te)}),e({size:o,validateMessage:f,validateState:u,validate:G,clearValidate:J,resetField:re}),(oe,de)=>{var Ne;return P(),H("div",{ref_key:"formItemRef",ref:p,class:L(h(_)),role:h(T)?"group":void 0,"aria-labelledby":h(T)?h(l):void 0},[X(h(qW),{"is-auto-width":h(y).width==="auto","update-all":((Ne=h(s))==null?void 0:Ne.labelWidth)==="auto"},{default:ne(()=>[h(x)?(P(),_e(kt(h(C)?"label":"div"),{key:0,id:h(l),for:h(C),class:L(h(a).e("label")),style:nt(h(y))},{default:ne(()=>[Me(oe.$slots,"label",{label:h(D)},()=>[zt(Ge(h(D)),1)])]),_:3},8,["id","for","class","style"])):ge("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Y("div",{class:L(h(a).e("content")),style:nt(h(v))},[Me(oe.$slots,"default"),X(UA,{name:`${h(a).namespace.value}-zoom-in-top`},{default:ne(()=>[h(U)?Me(oe.$slots,"error",{key:0,error:f.value},()=>[Y("div",{class:L(h(w))},Ge(f.value),3)]):ge("v-if",!0)]),_:3},8,["name"])],6)],10,jW)}}});var O3=$e(JW,[["__file","form-item.vue"]]);const QW=At(pW,{FormItem:O3}),e9=En(O3);let sr;const t9=`
  height:0 !important;
  visibility:hidden !important;
  ${JA()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,n9=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function i9(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),i=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),s=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:n9.map(o=>`${o}:${e.getPropertyValue(o)}`).join(";"),paddingSize:i,borderSize:s,boxSizing:n}}function nC(t,e=1,n){var i;sr||(sr=document.createElement("textarea"),document.body.appendChild(sr));const{paddingSize:s,borderSize:r,boxSizing:o,contextStyle:a}=i9(t);sr.setAttribute("style",`${a};${t9}`),sr.value=t.value||t.placeholder||"";let l=sr.scrollHeight;const c={};o==="border-box"?l=l+r:o==="content-box"&&(l=l-s),sr.value="";const u=sr.scrollHeight-s;if(ft(e)){let d=u*e;o==="border-box"&&(d=d+s+r),l=Math.max(d,l),c.minHeight=`${d}px`}if(ft(n)){let d=u*n;o==="border-box"&&(d=d+s+r),l=Math.min(d,l)}return c.height=`${l}px`,(i=sr.parentNode)==null||i.removeChild(sr),sr=void 0,c}const s9=ze({id:{type:String,default:void 0},size:fi,disabled:Boolean,modelValue:{type:ce([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ce([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:sn},prefixIcon:{type:sn},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ce([Object,Array,String]),default:()=>Cn({})},autofocus:{type:Boolean,default:!1},...Ai(["ariaLabel"])}),r9={[It]:t=>yt(t),input:t=>yt(t),change:t=>yt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},o9=["role"],a9=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],l9=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],c9=j({name:"ElInput",inheritAttrs:!1}),u9=j({...c9,props:s9,emits:r9,setup(t,{expose:e,emit:n}){const i=t,s=rc(),r=Ci(),o=A(()=>{const be={};return i.containerRole==="combobox"&&(be["aria-haspopup"]=s["aria-haspopup"],be["aria-owns"]=s["aria-owns"],be["aria-expanded"]=s["aria-expanded"]),be}),a=A(()=>[i.type==="textarea"?y.b():m.b(),m.m(p.value),m.is("disabled",g.value),m.is("exceed",ee.value),{[m.b("group")]:r.prepend||r.append,[m.bm("group","append")]:r.append,[m.bm("group","prepend")]:r.prepend,[m.m("prefix")]:r.prefix||i.prefixIcon,[m.m("suffix")]:r.suffix||i.suffixIcon||i.clearable||i.showPassword,[m.bm("suffix","password-clear")]:B.value&&G.value,[m.b("hidden")]:i.type==="hidden"},s.class]),l=A(()=>[m.e("wrapper"),m.is("focus",M.value)]),c=H_({excludeKeys:A(()=>Object.keys(o.value))}),{form:u,formItem:d}=Xi(),{inputId:f}=wr(i,{formItemContext:d}),p=ei(),g=os(),m=Oe("input"),y=Oe("textarea"),v=vn(),_=vn(),b=z(!1),w=z(!1),S=z(!1),x=z(),C=vn(i.inputStyle),T=A(()=>v.value||_.value),{wrapperRef:E,isFocused:M,handleFocus:R,handleBlur:O}=ov(T,{afterBlur(){var be;i.validateEvent&&((be=d==null?void 0:d.validate)==null||be.call(d,"blur").catch(Pe=>void 0))}}),F=A(()=>{var be;return(be=u==null?void 0:u.statusIcon)!=null?be:!1}),V=A(()=>(d==null?void 0:d.validateState)||""),U=A(()=>V.value&&V_[V.value]),D=A(()=>S.value?h$:PV),I=A(()=>[s.style]),N=A(()=>[i.inputStyle,C.value,{resize:i.resize}]),k=A(()=>yi(i.modelValue)?"":String(i.modelValue)),B=A(()=>i.clearable&&!g.value&&!i.readonly&&!!k.value&&(M.value||b.value)),G=A(()=>i.showPassword&&!g.value&&!i.readonly&&!!k.value&&(!!k.value||M.value)),J=A(()=>i.showWordLimit&&!!i.maxlength&&(i.type==="text"||i.type==="textarea")&&!g.value&&!i.readonly&&!i.showPassword),re=A(()=>k.value.length),ee=A(()=>!!J.value&&re.value>Number(i.maxlength)),ye=A(()=>!!r.suffix||!!i.suffixIcon||B.value||i.showPassword||J.value||!!V.value&&F.value),[te,oe]=k6(v);Mn(_,be=>{if(Q(),!J.value||i.resize!=="both")return;const Pe=be[0],{width:Fe}=Pe.contentRect;x.value={right:`calc(100% - ${Fe+15+6}px)`}});const de=()=>{const{type:be,autosize:Pe}=i;if(!(!Ft||be!=="textarea"||!_.value))if(Pe){const Fe=Pt(Pe)?Pe.minRows:void 0,it=Pt(Pe)?Pe.maxRows:void 0,Ye=nC(_.value,Fe,it);C.value={overflowY:"hidden",...Ye},rt(()=>{_.value.offsetHeight,C.value=Ye})}else C.value={minHeight:nC(_.value).minHeight}},Q=(be=>{let Pe=!1;return()=>{var Fe;if(Pe||!i.autosize)return;((Fe=_.value)==null?void 0:Fe.offsetParent)===null||(be(),Pe=!0)}})(de),Te=()=>{const be=T.value,Pe=i.formatter?i.formatter(k.value):k.value;!be||be.value===Pe||(be.value=Pe)},me=async be=>{te();let{value:Pe}=be.target;if(i.formatter&&(Pe=i.parser?i.parser(Pe):Pe),!w.value){if(Pe===k.value){Te();return}n(It,Pe),n("input",Pe),await rt(),Te(),oe()}},K=be=>{n("change",be.target.value)},q=be=>{n("compositionstart",be),w.value=!0},ue=be=>{var Pe;n("compositionupdate",be);const Fe=(Pe=be.target)==null?void 0:Pe.value,it=Fe[Fe.length-1]||"";w.value=!$_(it)},ve=be=>{n("compositionend",be),w.value&&(w.value=!1,me(be))},he=()=>{S.value=!S.value,xe()},xe=async()=>{var be;await rt(),(be=T.value)==null||be.focus()},W=()=>{var be;return(be=T.value)==null?void 0:be.blur()},$=be=>{b.value=!1,n("mouseleave",be)},ae=be=>{b.value=!0,n("mouseenter",be)},se=be=>{n("keydown",be)},Ee=()=>{var be;(be=T.value)==null||be.select()},Re=()=>{n(It,""),n("change",""),n("clear"),n("input","")};return ke(()=>i.modelValue,()=>{var be;rt(()=>de()),i.validateEvent&&((be=d==null?void 0:d.validate)==null||be.call(d,"change").catch(Pe=>void 0))}),ke(k,()=>Te()),ke(()=>i.type,async()=>{await rt(),Te(),de()}),Mt(()=>{!i.formatter&&i.parser,Te(),rt(de)}),gi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},A(()=>!!i.label)),e({input:v,textarea:_,ref:T,textareaStyle:N,autosize:on(i,"autosize"),focus:xe,blur:W,select:Ee,clear:Re,resizeTextarea:de}),(be,Pe)=>(P(),H("div",Lt(h(o),{class:h(a),style:h(I),role:be.containerRole,onMouseenter:ae,onMouseleave:$}),[ge(" input "),be.type!=="textarea"?(P(),H(st,{key:0},[ge(" prepend slot "),be.$slots.prepend?(P(),H("div",{key:0,class:L(h(m).be("group","prepend"))},[Me(be.$slots,"prepend")],2)):ge("v-if",!0),Y("div",{ref_key:"wrapperRef",ref:E,class:L(h(l))},[ge(" prefix slot "),be.$slots.prefix||be.prefixIcon?(P(),H("span",{key:0,class:L(h(m).e("prefix"))},[Y("span",{class:L(h(m).e("prefix-inner"))},[Me(be.$slots,"prefix"),be.prefixIcon?(P(),_e(h(tt),{key:0,class:L(h(m).e("icon"))},{default:ne(()=>[(P(),_e(kt(be.prefixIcon)))]),_:1},8,["class"])):ge("v-if",!0)],2)],2)):ge("v-if",!0),Y("input",Lt({id:h(f),ref_key:"input",ref:v,class:h(m).e("inner")},h(c),{minlength:be.minlength,maxlength:be.maxlength,type:be.showPassword?S.value?"text":"password":be.type,disabled:h(g),readonly:be.readonly,autocomplete:be.autocomplete,tabindex:be.tabindex,"aria-label":be.label||be.ariaLabel,placeholder:be.placeholder,style:be.inputStyle,form:be.form,autofocus:be.autofocus,onCompositionstart:q,onCompositionupdate:ue,onCompositionend:ve,onInput:me,onFocus:Pe[0]||(Pe[0]=(...Fe)=>h(R)&&h(R)(...Fe)),onBlur:Pe[1]||(Pe[1]=(...Fe)=>h(O)&&h(O)(...Fe)),onChange:K,onKeydown:se}),null,16,a9),ge(" suffix slot "),h(ye)?(P(),H("span",{key:1,class:L(h(m).e("suffix"))},[Y("span",{class:L(h(m).e("suffix-inner"))},[!h(B)||!h(G)||!h(J)?(P(),H(st,{key:0},[Me(be.$slots,"suffix"),be.suffixIcon?(P(),_e(h(tt),{key:0,class:L(h(m).e("icon"))},{default:ne(()=>[(P(),_e(kt(be.suffixIcon)))]),_:1},8,["class"])):ge("v-if",!0)],64)):ge("v-if",!0),h(B)?(P(),_e(h(tt),{key:1,class:L([h(m).e("icon"),h(m).e("clear")]),onMousedown:gt(h(en),["prevent"]),onClick:Re},{default:ne(()=>[X(h(Da))]),_:1},8,["class","onMousedown"])):ge("v-if",!0),h(G)?(P(),_e(h(tt),{key:2,class:L([h(m).e("icon"),h(m).e("password")]),onClick:he},{default:ne(()=>[(P(),_e(kt(h(D))))]),_:1},8,["class"])):ge("v-if",!0),h(J)?(P(),H("span",{key:3,class:L(h(m).e("count"))},[Y("span",{class:L(h(m).e("count-inner"))},Ge(h(re))+" / "+Ge(be.maxlength),3)],2)):ge("v-if",!0),h(V)&&h(U)&&h(F)?(P(),_e(h(tt),{key:4,class:L([h(m).e("icon"),h(m).e("validateIcon"),h(m).is("loading",h(V)==="validating")])},{default:ne(()=>[(P(),_e(kt(h(U))))]),_:1},8,["class"])):ge("v-if",!0)],2)],2)):ge("v-if",!0)],2),ge(" append slot "),be.$slots.append?(P(),H("div",{key:1,class:L(h(m).be("group","append"))},[Me(be.$slots,"append")],2)):ge("v-if",!0)],64)):(P(),H(st,{key:1},[ge(" textarea "),Y("textarea",Lt({id:h(f),ref_key:"textarea",ref:_,class:h(y).e("inner")},h(c),{minlength:be.minlength,maxlength:be.maxlength,tabindex:be.tabindex,disabled:h(g),readonly:be.readonly,autocomplete:be.autocomplete,style:h(N),"aria-label":be.label||be.ariaLabel,placeholder:be.placeholder,form:be.form,autofocus:be.autofocus,onCompositionstart:q,onCompositionupdate:ue,onCompositionend:ve,onInput:me,onFocus:Pe[2]||(Pe[2]=(...Fe)=>h(R)&&h(R)(...Fe)),onBlur:Pe[3]||(Pe[3]=(...Fe)=>h(O)&&h(O)(...Fe)),onChange:K,onKeydown:se}),null,16,l9),h(J)?(P(),H("span",{key:0,style:nt(x.value),class:L(h(m).e("count"))},Ge(h(re))+" / "+Ge(be.maxlength),7)):ge("v-if",!0)],64))],16,o9))}});var d9=$e(u9,[["__file","input.vue"]]);const Wi=At(d9),yc=4,L3={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},f9=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),dw=Symbol("scrollbarContextKey"),h9=ze({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),p9="Thumb",m9=j({__name:"thumb",props:h9,setup(t){const e=t,n=et(dw),i=Oe("scrollbar");n||si(p9,"can not inject scrollbar context");const s=z(),r=z(),o=z({}),a=z(!1);let l=!1,c=!1,u=Ft?document.onselectstart:null;const d=A(()=>L3[e.vertical?"vertical":"horizontal"]),f=A(()=>f9({size:e.size,move:e.move,bar:d.value})),p=A(()=>s.value[d.value.offset]**2/n.wrapElement[d.value.scrollSize]/e.ratio/r.value[d.value.offset]),g=x=>{var C;if(x.stopPropagation(),x.ctrlKey||[1,2].includes(x.button))return;(C=window.getSelection())==null||C.removeAllRanges(),y(x);const T=x.currentTarget;T&&(o.value[d.value.axis]=T[d.value.offset]-(x[d.value.client]-T.getBoundingClientRect()[d.value.direction]))},m=x=>{if(!r.value||!s.value||!n.wrapElement)return;const C=Math.abs(x.target.getBoundingClientRect()[d.value.direction]-x[d.value.client]),T=r.value[d.value.offset]/2,E=(C-T)*100*p.value/s.value[d.value.offset];n.wrapElement[d.value.scroll]=E*n.wrapElement[d.value.scrollSize]/100},y=x=>{x.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",_),u=document.onselectstart,document.onselectstart=()=>!1},v=x=>{if(!s.value||!r.value||l===!1)return;const C=o.value[d.value.axis];if(!C)return;const T=(s.value.getBoundingClientRect()[d.value.direction]-x[d.value.client])*-1,E=r.value[d.value.offset]-C,M=(T-E)*100*p.value/s.value[d.value.offset];n.wrapElement[d.value.scroll]=M*n.wrapElement[d.value.scrollSize]/100},_=()=>{l=!1,o.value[d.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",_),S(),c&&(a.value=!1)},b=()=>{c=!1,a.value=!!e.size},w=()=>{c=!0,a.value=l};fn(()=>{S(),document.removeEventListener("mouseup",_)});const S=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return pn(on(n,"scrollbarElement"),"mousemove",b),pn(on(n,"scrollbarElement"),"mouseleave",w),(x,C)=>(P(),_e(ii,{name:h(i).b("fade"),persisted:""},{default:ne(()=>[St(Y("div",{ref_key:"instance",ref:s,class:L([h(i).e("bar"),h(i).is(h(d).key)]),onMousedown:m},[Y("div",{ref_key:"thumb",ref:r,class:L(h(i).e("thumb")),style:nt(h(f)),onMousedown:g},null,38)],34),[[Kt,x.always||a.value]])]),_:1},8,["name"]))}});var iC=$e(m9,[["__file","thumb.vue"]]);const g9=ze({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),v9=j({__name:"bar",props:g9,setup(t,{expose:e}){const n=t,i=et(dw),s=z(0),r=z(0),o=z(""),a=z(""),l=z(1),c=z(1);return e({handleScroll:f=>{if(f){const p=f.offsetHeight-yc,g=f.offsetWidth-yc;r.value=f.scrollTop*100/p*l.value,s.value=f.scrollLeft*100/g*c.value}},update:()=>{const f=i==null?void 0:i.wrapElement;if(!f)return;const p=f.offsetHeight-yc,g=f.offsetWidth-yc,m=p**2/f.scrollHeight,y=g**2/f.scrollWidth,v=Math.max(m,n.minSize),_=Math.max(y,n.minSize);l.value=m/(p-m)/(v/(p-v)),c.value=y/(g-y)/(_/(g-_)),a.value=v+yc<p?`${v}px`:"",o.value=_+yc<g?`${_}px`:""}}),(f,p)=>(P(),H(st,null,[X(iC,{move:s.value,ratio:c.value,size:o.value,always:f.always},null,8,["move","ratio","size","always"]),X(iC,{move:r.value,ratio:l.value,size:a.value,vertical:"",always:f.always},null,8,["move","ratio","size","always"])],64))}});var y9=$e(v9,[["__file","bar.vue"]]);const b9=ze({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ce([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...Ai(["ariaLabel","ariaOrientation"])}),_9={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(ft)},w9="ElScrollbar",x9=j({name:w9}),S9=j({...x9,props:b9,emits:_9,setup(t,{expose:e,emit:n}){const i=t,s=Oe("scrollbar");let r,o;const a=z(),l=z(),c=z(),u=z(),d=A(()=>{const b={};return i.height&&(b.height=On(i.height)),i.maxHeight&&(b.maxHeight=On(i.maxHeight)),[i.wrapStyle,b]}),f=A(()=>[i.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!i.native}]),p=A(()=>[s.e("view"),i.viewClass]),g=()=>{var b;l.value&&((b=u.value)==null||b.handleScroll(l.value),n("scroll",{scrollTop:l.value.scrollTop,scrollLeft:l.value.scrollLeft}))};function m(b,w){Pt(b)?l.value.scrollTo(b):ft(b)&&ft(w)&&l.value.scrollTo(b,w)}const y=b=>{ft(b)&&(l.value.scrollTop=b)},v=b=>{ft(b)&&(l.value.scrollLeft=b)},_=()=>{var b;(b=u.value)==null||b.update()};return ke(()=>i.noresize,b=>{b?(r==null||r(),o==null||o()):({stop:r}=Mn(c,_),o=pn("resize",_))},{immediate:!0}),ke(()=>[i.maxHeight,i.height],()=>{i.native||rt(()=>{var b;_(),l.value&&((b=u.value)==null||b.handleScroll(l.value))})}),Nt(dw,Xt({scrollbarElement:a,wrapElement:l})),Mt(()=>{i.native||rt(()=>{_()})}),Co(()=>_()),e({wrapRef:l,update:_,scrollTo:m,setScrollTop:y,setScrollLeft:v,handleScroll:g}),(b,w)=>(P(),H("div",{ref_key:"scrollbarRef",ref:a,class:L(h(s).b())},[Y("div",{ref_key:"wrapRef",ref:l,class:L(h(f)),style:nt(h(d)),onScroll:g},[(P(),_e(kt(b.tag),{id:b.id,ref_key:"resizeRef",ref:c,class:L(h(p)),style:nt(b.viewStyle),role:b.role,"aria-label":b.ariaLabel,"aria-orientation":b.ariaOrientation},{default:ne(()=>[Me(b.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),b.native?ge("v-if",!0):(P(),_e(y9,{key:0,ref_key:"barRef",ref:u,always:b.always,"min-size":b.minSize},null,8,["always","min-size"]))],2))}});var M9=$e(S9,[["__file","scrollbar.vue"]]);const Po=At(M9),fw=Symbol("popper"),N3=Symbol("popperContent"),C9=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],D3=ze({role:{type:String,values:C9,default:"tooltip"}}),E9=j({name:"ElPopper",inheritAttrs:!1}),T9=j({...E9,props:D3,setup(t,{expose:e}){const n=t,i=z(),s=z(),r=z(),o=z(),a=A(()=>n.role),l={triggerRef:i,popperInstanceRef:s,contentRef:r,referenceRef:o,role:a};return e(l),Nt(fw,l),(c,u)=>Me(c.$slots,"default")}});var A9=$e(T9,[["__file","popper.vue"]]);const F3=ze({arrowOffset:{type:Number,default:5}}),R9=j({name:"ElPopperArrow",inheritAttrs:!1}),P9=j({...R9,props:F3,setup(t,{expose:e}){const n=t,i=Oe("popper"),{arrowOffset:s,arrowRef:r,arrowStyle:o}=et(N3,void 0);return ke(()=>n.arrowOffset,a=>{s.value=a}),fn(()=>{r.value=void 0}),e({arrowRef:r}),(a,l)=>(P(),H("span",{ref_key:"arrowRef",ref:r,class:L(h(i).e("arrow")),style:nt(h(o)),"data-popper-arrow":""},null,6))}});var I9=$e(P9,[["__file","arrow.vue"]]);const k9="ElOnlyChild",B3=j({name:k9,setup(t,{slots:e,attrs:n}){var i;const s=et(p3),r=YH((i=s==null?void 0:s.setForwardRef)!=null?i:en);return()=>{var o;const a=(o=e.default)==null?void 0:o.call(e,n);if(!a||a.length>1)return null;const l=U3(a);return l?St(yo(l,n),[[r]]):null}}});function U3(t){if(!t)return null;const e=t;for(const n of e){if(Pt(n))switch(n.type){case Hi:continue;case Xu:case"svg":return sC(n);case st:return U3(n.children);default:return n}return sC(n)}return null}function sC(t){const e=Oe("only-child");return X("span",{class:e.e("content")},[t])}const z3=ze({virtualRef:{type:ce(Object)},virtualTriggering:Boolean,onMouseenter:{type:ce(Function)},onMouseleave:{type:ce(Function)},onClick:{type:ce(Function)},onKeydown:{type:ce(Function)},onFocus:{type:ce(Function)},onBlur:{type:ce(Function)},onContextmenu:{type:ce(Function)},id:String,open:Boolean}),O9=j({name:"ElPopperTrigger",inheritAttrs:!1}),L9=j({...O9,props:z3,setup(t,{expose:e}){const n=t,{role:i,triggerRef:s}=et(fw,void 0);KH(s);const r=A(()=>a.value?n.id:void 0),o=A(()=>{if(i&&i.value==="tooltip")return n.open&&n.id?n.id:void 0}),a=A(()=>{if(i&&i.value!=="tooltip")return i.value}),l=A(()=>a.value?`${n.open}`:void 0);let c;return Mt(()=>{ke(()=>n.virtualRef,u=>{u&&(s.value=fs(u))},{immediate:!0}),ke(s,(u,d)=>{c==null||c(),c=void 0,Js(u)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(f=>{var p;const g=n[f];g&&(u.addEventListener(f.slice(2).toLowerCase(),g),(p=d==null?void 0:d.removeEventListener)==null||p.call(d,f.slice(2).toLowerCase(),g))}),c=ke([r,o,a,l],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,g)=>{yi(f[g])?u.removeAttribute(p):u.setAttribute(p,f[g])})},{immediate:!0})),Js(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>d.removeAttribute(f))},{immediate:!0})}),fn(()=>{c==null||c(),c=void 0}),e({triggerRef:s}),(u,d)=>u.virtualTriggering?ge("v-if",!0):(P(),_e(h(B3),Lt({key:0},u.$attrs,{"aria-controls":h(r),"aria-describedby":h(o),"aria-expanded":h(l),"aria-haspopup":h(a)}),{default:ne(()=>[Me(u.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var N9=$e(L9,[["__file","trigger.vue"]]);const v0="focus-trap.focus-after-trapped",y0="focus-trap.focus-after-released",D9="focus-trap.focusout-prevented",rC={cancelable:!0,bubbles:!1},F9={cancelable:!0,bubbles:!1},oC="focusAfterTrapped",aC="focusAfterReleased",hw=Symbol("elFocusTrap"),pw=z(),cv=z(0),mw=z(0);let Jh=0;const V3=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0||i===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},lC=(t,e)=>{for(const n of t)if(!B9(n,e))return n},B9=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},U9=t=>{const e=V3(t),n=lC(e,t),i=lC(e.reverse(),t);return[n,i]},z9=t=>t instanceof HTMLInputElement&&"select"in t,jo=(t,e)=>{if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),mw.value=window.performance.now(),t!==n&&z9(t)&&e&&t.select()}};function cC(t,e){const n=[...t],i=t.indexOf(e);return i!==-1&&n.splice(i,1),n}const V9=()=>{let t=[];return{push:i=>{const s=t[0];s&&i!==s&&s.pause(),t=cC(t,i),t.unshift(i)},remove:i=>{var s,r;t=cC(t,i),(r=(s=t[0])==null?void 0:s.resume)==null||r.call(s)}}},$9=(t,e=!1)=>{const n=document.activeElement;for(const i of t)if(jo(i,e),document.activeElement!==n)return},uC=V9(),H9=()=>cv.value>mw.value,Qh=()=>{pw.value="pointer",cv.value=window.performance.now()},dC=()=>{pw.value="keyboard",cv.value=window.performance.now()},W9=()=>(Mt(()=>{Jh===0&&(document.addEventListener("mousedown",Qh),document.addEventListener("touchstart",Qh),document.addEventListener("keydown",dC)),Jh++}),fn(()=>{Jh--,Jh<=0&&(document.removeEventListener("mousedown",Qh),document.removeEventListener("touchstart",Qh),document.removeEventListener("keydown",dC))}),{focusReason:pw,lastUserFocusTimestamp:cv,lastAutomatedFocusTimestamp:mw}),ep=t=>new CustomEvent(D9,{...F9,detail:t}),G9=j({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[oC,aC,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=z();let i,s;const{focusReason:r}=W9();VH(g=>{t.trapped&&!o.paused&&e("release-requested",g)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=g=>{if(!t.loop&&!t.trapped||o.paused)return;const{key:m,altKey:y,ctrlKey:v,metaKey:_,currentTarget:b,shiftKey:w}=g,{loop:S}=t,x=m===lt.tab&&!y&&!v&&!_,C=document.activeElement;if(x&&C){const T=b,[E,M]=U9(T);if(E&&M){if(!w&&C===M){const O=ep({focusReason:r.value});e("focusout-prevented",O),O.defaultPrevented||(g.preventDefault(),S&&jo(E,!0))}else if(w&&[E,T].includes(C)){const O=ep({focusReason:r.value});e("focusout-prevented",O),O.defaultPrevented||(g.preventDefault(),S&&jo(M,!0))}}else if(C===T){const O=ep({focusReason:r.value});e("focusout-prevented",O),O.defaultPrevented||g.preventDefault()}}};Nt(hw,{focusTrapRef:n,onKeydown:a}),ke(()=>t.focusTrapEl,g=>{g&&(n.value=g)},{immediate:!0}),ke([n],([g],[m])=>{g&&(g.addEventListener("keydown",a),g.addEventListener("focusin",u),g.addEventListener("focusout",d)),m&&(m.removeEventListener("keydown",a),m.removeEventListener("focusin",u),m.removeEventListener("focusout",d))});const l=g=>{e(oC,g)},c=g=>e(aC,g),u=g=>{const m=h(n);if(!m)return;const y=g.target,v=g.relatedTarget,_=y&&m.contains(y);t.trapped||v&&m.contains(v)||(i=v),_&&e("focusin",g),!o.paused&&t.trapped&&(_?s=y:jo(s,!0))},d=g=>{const m=h(n);if(!(o.paused||!m))if(t.trapped){const y=g.relatedTarget;!yi(y)&&!m.contains(y)&&setTimeout(()=>{if(!o.paused&&t.trapped){const v=ep({focusReason:r.value});e("focusout-prevented",v),v.defaultPrevented||jo(s,!0)}},0)}else{const y=g.target;y&&m.contains(y)||e("focusout",g)}};async function f(){await rt();const g=h(n);if(g){uC.push(o);const m=g.contains(document.activeElement)?i:document.activeElement;if(i=m,!g.contains(m)){const v=new Event(v0,rC);g.addEventListener(v0,l),g.dispatchEvent(v),v.defaultPrevented||rt(()=>{let _=t.focusStartEl;yt(_)||(jo(_),document.activeElement!==_&&(_="first")),_==="first"&&$9(V3(g),!0),(document.activeElement===m||_==="container")&&jo(g)})}}}function p(){const g=h(n);if(g){g.removeEventListener(v0,l);const m=new CustomEvent(y0,{...rC,detail:{focusReason:r.value}});g.addEventListener(y0,c),g.dispatchEvent(m),!m.defaultPrevented&&(r.value=="keyboard"||!H9()||g.contains(document.activeElement))&&jo(i??document.body),g.removeEventListener(y0,c),uC.remove(o)}}return Mt(()=>{t.trapped&&f(),ke(()=>t.trapped,g=>{g?f():p()})}),fn(()=>{t.trapped&&p()}),{onKeydown:a}}});function K9(t,e,n,i,s,r){return Me(t.$slots,"default",{handleKeydown:t.onKeydown})}var xh=$e(G9,[["render",K9],["__file","focus-trap.vue"]]);const Y9=["fixed","absolute"],X9=ze({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:ce(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:cc,default:"bottom"},popperOptions:{type:ce(Object),default:()=>({})},strategy:{type:String,values:Y9,default:"absolute"}}),$3=ze({...X9,id:String,style:{type:ce([String,Array,Object])},className:{type:ce([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:ce([String,Array,Object])},popperStyle:{type:ce([String,Array,Object])},referenceEl:{type:ce(Object)},triggerTargetEl:{type:ce(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Ai(["ariaLabel"])}),q9={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},j9=(t,e=[])=>{const{placement:n,strategy:i,popperOptions:s}=t,r={placement:n,strategy:i,...s,modifiers:[...J9(t),...e]};return Q9(r,s==null?void 0:s.modifiers),r},Z9=t=>{if(Ft)return fs(t)};function J9(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:i}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:i}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function Q9(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const eG=0,tG=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:i,role:s}=et(fw,void 0),r=z(),o=z(),a=A(()=>({name:"eventListeners",enabled:!!t.visible})),l=A(()=>{var v;const _=h(r),b=(v=h(o))!=null?v:eG;return{name:"arrow",enabled:!FR(_),options:{element:_,padding:b}}}),c=A(()=>({onFirstUpdate:()=>{g()},...j9(t,[h(l),h(a)])})),u=A(()=>Z9(t.referenceEl)||h(i)),{attributes:d,state:f,styles:p,update:g,forceUpdate:m,instanceRef:y}=FH(u,n,c);return ke(y,v=>e.value=v),Mt(()=>{ke(()=>{var v;return(v=h(u))==null?void 0:v.getBoundingClientRect()},()=>{g()})}),{attributes:d,arrowRef:r,contentRef:n,instanceRef:y,state:f,styles:p,role:s,forceUpdate:m,update:g}},nG=(t,{attributes:e,styles:n,role:i})=>{const{nextZIndex:s}=Qu(),r=Oe("popper"),o=A(()=>h(e).popper),a=z(ft(t.zIndex)?t.zIndex:s()),l=A(()=>[r.b(),r.is("pure",t.pure),r.is(t.effect),t.popperClass]),c=A(()=>[{zIndex:h(a)},h(n).popper,t.popperStyle||{}]),u=A(()=>i.value==="dialog"?"false":void 0),d=A(()=>h(n).arrow||{});return{ariaModal:u,arrowStyle:d,contentAttrs:o,contentClass:l,contentStyle:c,contentZIndex:a,updateZIndex:()=>{a.value=ft(t.zIndex)?t.zIndex:s()}}},iG=(t,e)=>{const n=z(!1),i=z();return{focusStartRef:i,trapped:n,onFocusAfterReleased:c=>{var u;((u=c.detail)==null?void 0:u.focusReason)!=="pointer"&&(i.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:c=>{t.visible&&!n.value&&(c.target&&(i.value=c.target),n.value=!0)},onFocusoutPrevented:c=>{t.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,e("close")}}},sG=j({name:"ElPopperContent"}),rG=j({...sG,props:$3,emits:q9,setup(t,{expose:e,emit:n}){const i=t,{focusStartRef:s,trapped:r,onFocusAfterReleased:o,onFocusAfterTrapped:a,onFocusInTrap:l,onFocusoutPrevented:c,onReleaseRequested:u}=iG(i,n),{attributes:d,arrowRef:f,contentRef:p,styles:g,instanceRef:m,role:y,update:v}=tG(i),{ariaModal:_,arrowStyle:b,contentAttrs:w,contentClass:S,contentStyle:x,updateZIndex:C}=nG(i,{styles:g,attributes:d,role:y}),T=et(Hr,void 0),E=z();Nt(N3,{arrowStyle:b,arrowRef:f,arrowOffset:E}),T&&(T.addInputId||T.removeInputId)&&Nt(Hr,{...T,addInputId:en,removeInputId:en});let M;const R=(F=!0)=>{v(),F&&C()},O=()=>{R(!1),i.visible&&i.focusOnShow?r.value=!0:i.visible===!1&&(r.value=!1)};return Mt(()=>{ke(()=>i.triggerTargetEl,(F,V)=>{M==null||M(),M=void 0;const U=h(F||p.value),D=h(V||p.value);Js(U)&&(M=ke([y,()=>i.ariaLabel,_,()=>i.id],I=>{["role","aria-label","aria-modal","id"].forEach((N,k)=>{yi(I[k])?U.removeAttribute(N):U.setAttribute(N,I[k])})},{immediate:!0})),D!==U&&Js(D)&&["role","aria-label","aria-modal","id"].forEach(I=>{D.removeAttribute(I)})},{immediate:!0}),ke(()=>i.visible,O,{immediate:!0})}),fn(()=>{M==null||M(),M=void 0}),e({popperContentRef:p,popperInstanceRef:m,updatePopper:R,contentStyle:x}),(F,V)=>(P(),H("div",Lt({ref_key:"contentRef",ref:p},h(w),{style:h(x),class:h(S),tabindex:"-1",onMouseenter:V[0]||(V[0]=U=>F.$emit("mouseenter",U)),onMouseleave:V[1]||(V[1]=U=>F.$emit("mouseleave",U))}),[X(h(xh),{trapped:h(r),"trap-on-focus-in":!0,"focus-trap-el":h(p),"focus-start-el":h(s),onFocusAfterTrapped:h(a),onFocusAfterReleased:h(o),onFocusin:h(l),onFocusoutPrevented:h(c),onReleaseRequested:h(u)},{default:ne(()=>[Me(F.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var oG=$e(rG,[["__file","content.vue"]]);const H3=At(A9),uv=Symbol("elTooltip"),hi=ze({...WH,...$3,appendTo:{type:ce([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,visible:{type:ce(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Ai(["ariaLabel"])}),Lf=ze({...z3,disabled:Boolean,trigger:{type:ce([String,Array]),default:"hover"},triggerKeys:{type:ce(Array),default:()=>[lt.enter,lt.space]}}),{useModelToggleProps:aG,useModelToggleEmits:lG,useModelToggle:cG}=e3("visible"),uG=ze({...D3,...aG,...hi,...Lf,...F3,showArrow:{type:Boolean,default:!0}}),dG=[...lG,"before-show","before-hide","show","hide","open","close"],fG=(t,e)=>Ze(t)?t.includes(e):t===e,bc=(t,e,n)=>i=>{fG(h(t),e)&&n(i)},hG=j({name:"ElTooltipTrigger"}),pG=j({...hG,props:Lf,setup(t,{expose:e}){const n=t,i=Oe("tooltip"),{controlled:s,id:r,open:o,onOpen:a,onClose:l,onToggle:c}=et(uv,void 0),u=z(null),d=()=>{if(h(s)||n.disabled)return!0},f=on(n,"trigger"),p=kn(d,bc(f,"hover",a)),g=kn(d,bc(f,"hover",l)),m=kn(d,bc(f,"click",w=>{w.button===0&&c(w)})),y=kn(d,bc(f,"focus",a)),v=kn(d,bc(f,"focus",l)),_=kn(d,bc(f,"contextmenu",w=>{w.preventDefault(),c(w)})),b=kn(d,w=>{const{code:S}=w;n.triggerKeys.includes(S)&&(w.preventDefault(),c(w))});return e({triggerRef:u}),(w,S)=>(P(),_e(h(N9),{id:h(r),"virtual-ref":w.virtualRef,open:h(o),"virtual-triggering":w.virtualTriggering,class:L(h(i).e("trigger")),onBlur:h(v),onClick:h(m),onContextmenu:h(_),onFocus:h(y),onMouseenter:h(p),onMouseleave:h(g),onKeydown:h(b)},{default:ne(()=>[Me(w.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var mG=$e(pG,[["__file","trigger.vue"]]);const gG=j({name:"ElTooltipContent",inheritAttrs:!1}),vG=j({...gG,props:hi,setup(t,{expose:e}){const n=t,{selector:i}=h3(),s=Oe("tooltip"),r=z(null),o=z(!1),{controlled:a,id:l,open:c,trigger:u,onClose:d,onOpen:f,onShow:p,onHide:g,onBeforeShow:m,onBeforeHide:y}=et(uv,void 0),v=A(()=>n.transition||`${s.namespace.value}-fade-in-linear`),_=A(()=>n.persistent);fn(()=>{o.value=!0});const b=A(()=>h(_)?!0:h(c)),w=A(()=>n.disabled?!1:h(c)),S=A(()=>n.appendTo||i.value),x=A(()=>{var I;return(I=n.style)!=null?I:{}}),C=A(()=>!h(c)),T=()=>{g()},E=()=>{if(h(a))return!0},M=kn(E,()=>{n.enterable&&h(u)==="hover"&&f()}),R=kn(E,()=>{h(u)==="hover"&&d()}),O=()=>{var I,N;(N=(I=r.value)==null?void 0:I.updatePopper)==null||N.call(I),m==null||m()},F=()=>{y==null||y()},V=()=>{p(),D=g_(A(()=>{var I;return(I=r.value)==null?void 0:I.popperContentRef}),()=>{if(h(a))return;h(u)!=="hover"&&d()})},U=()=>{n.virtualTriggering||d()};let D;return ke(()=>h(c),I=>{I||D==null||D()},{flush:"post"}),ke(()=>n.content,()=>{var I,N;(N=(I=r.value)==null?void 0:I.updatePopper)==null||N.call(I)}),e({contentRef:r}),(I,N)=>(P(),_e(Yu,{disabled:!I.teleported,to:h(S)},[X(ii,{name:h(v),onAfterLeave:T,onBeforeEnter:O,onAfterEnter:V,onBeforeLeave:F},{default:ne(()=>[h(b)?St((P(),_e(h(oG),Lt({key:0,id:h(l),ref_key:"contentRef",ref:r},I.$attrs,{"aria-label":I.ariaLabel,"aria-hidden":h(C),"boundaries-padding":I.boundariesPadding,"fallback-placements":I.fallbackPlacements,"gpu-acceleration":I.gpuAcceleration,offset:I.offset,placement:I.placement,"popper-options":I.popperOptions,strategy:I.strategy,effect:I.effect,enterable:I.enterable,pure:I.pure,"popper-class":I.popperClass,"popper-style":[I.popperStyle,h(x)],"reference-el":I.referenceEl,"trigger-target-el":I.triggerTargetEl,visible:h(w),"z-index":I.zIndex,onMouseenter:h(M),onMouseleave:h(R),onBlur:U,onClose:h(d)}),{default:ne(()=>[o.value?ge("v-if",!0):Me(I.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Kt,h(w)]]):ge("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var yG=$e(vG,[["__file","content.vue"]]);const bG=["innerHTML"],_G={key:1},wG=j({name:"ElTooltip"}),xG=j({...wG,props:uG,emits:dG,setup(t,{expose:e,emit:n}){const i=t;HH();const s=Li(),r=z(),o=z(),a=()=>{var v;const _=h(r);_&&((v=_.popperInstanceRef)==null||v.update())},l=z(!1),c=z(),{show:u,hide:d,hasUpdateHandler:f}=cG({indicator:l,toggleReason:c}),{onOpen:p,onClose:g}=GH({showAfter:on(i,"showAfter"),hideAfter:on(i,"hideAfter"),autoClose:on(i,"autoClose"),open:u,close:d}),m=A(()=>Yn(i.visible)&&!f.value);Nt(uv,{controlled:m,id:s,open:Ku(l),trigger:on(i,"trigger"),onOpen:v=>{p(v)},onClose:v=>{g(v)},onToggle:v=>{h(l)?g(v):p(v)},onShow:()=>{n("show",c.value)},onHide:()=>{n("hide",c.value)},onBeforeShow:()=>{n("before-show",c.value)},onBeforeHide:()=>{n("before-hide",c.value)},updatePopper:a}),ke(()=>i.disabled,v=>{v&&l.value&&(l.value=!1)});const y=v=>{var _,b;const w=(b=(_=o.value)==null?void 0:_.contentRef)==null?void 0:b.popperContentRef,S=(v==null?void 0:v.relatedTarget)||document.activeElement;return w&&w.contains(S)};return cA(()=>l.value&&d()),e({popperRef:r,contentRef:o,isFocusInsideContent:y,updatePopper:a,onOpen:p,onClose:g,hide:d}),(v,_)=>(P(),_e(h(H3),{ref_key:"popperRef",ref:r,role:v.role},{default:ne(()=>[X(mG,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:ne(()=>[v.$slots.default?Me(v.$slots,"default",{key:0}):ge("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),X(yG,{ref_key:"contentRef",ref:o,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:ne(()=>[Me(v.$slots,"content",{},()=>[v.rawContent?(P(),H("span",{key:0,innerHTML:v.content},null,8,bG)):(P(),H("span",_G,Ge(v.content),1))]),v.showArrow?(P(),_e(h(I9),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):ge("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var SG=$e(xG,[["__file","tooltip.vue"]]);const Yi=At(SG),MG=ze({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:ce(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:ce([Function,Array]),default:en},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:hi.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...Ai(["ariaLabel"])}),CG={[It]:t=>yt(t),[ns]:t=>yt(t),[mn]:t=>yt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>Pt(t)},EG=["aria-expanded","aria-owns"],TG={key:0},AG=["id","aria-selected","onClick"],W3="ElAutocomplete",RG=j({name:W3,inheritAttrs:!1}),PG=j({...RG,props:MG,emits:CG,setup(t,{expose:e,emit:n}){const i=t,s=H_(),r=rc(),o=os(),a=Oe("autocomplete"),l=z(),c=z(),u=z(),d=z();let f=!1,p=!1;const g=z([]),m=z(-1),y=z(""),v=z(!1),_=z(!1),b=z(!1),w=Li(),S=A(()=>r.style),x=A(()=>(g.value.length>0||b.value)&&v.value),C=A(()=>!i.hideLoading&&b.value),T=A(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),E=()=>{x.value&&(y.value=`${l.value.$el.offsetWidth}px`)},M=()=>{m.value=-1},O=vs(async te=>{if(_.value)return;const oe=de=>{b.value=!1,!_.value&&(Ze(de)?(g.value=de,m.value=i.highlightFirstItem?0:-1):si(W3,"autocomplete suggestions must be an array"))};if(b.value=!0,Ze(i.fetchSuggestions))oe(i.fetchSuggestions);else{const de=await i.fetchSuggestions(te,oe);Ze(de)&&oe(de)}},i.debounce),F=te=>{const oe=!!te;if(n(ns,te),n(It,te),_.value=!1,v.value||(v.value=oe),!i.triggerOnFocus&&!te){_.value=!0,g.value=[];return}O(te)},V=te=>{var oe;o.value||(((oe=te.target)==null?void 0:oe.tagName)!=="INPUT"||T.value.includes(document.activeElement))&&(v.value=!0)},U=te=>{n(mn,te)},D=te=>{p?p=!1:(v.value=!0,n("focus",te),i.triggerOnFocus&&!f&&O(String(i.modelValue)))},I=te=>{setTimeout(()=>{var oe;if((oe=u.value)!=null&&oe.isFocusInsideContent()){p=!0;return}v.value&&G(),n("blur",te)})},N=()=>{v.value=!1,n(It,""),n("clear")},k=async()=>{x.value&&m.value>=0&&m.value<g.value.length?ee(g.value[m.value]):i.selectWhenUnmatched&&(n("select",{value:i.modelValue}),g.value=[],m.value=-1)},B=te=>{x.value&&(te.preventDefault(),te.stopPropagation(),G())},G=()=>{v.value=!1},J=()=>{var te;(te=l.value)==null||te.focus()},re=()=>{var te;(te=l.value)==null||te.blur()},ee=async te=>{n(ns,te[i.valueKey]),n(It,te[i.valueKey]),n("select",te),g.value=[],m.value=-1},ye=te=>{if(!x.value||b.value)return;if(te<0){m.value=-1;return}te>=g.value.length&&(te=g.value.length-1);const oe=c.value.querySelector(`.${a.be("suggestion","wrap")}`),Ne=oe.querySelectorAll(`.${a.be("suggestion","list")} li`)[te],Q=oe.scrollTop,{offsetTop:Te,scrollHeight:me}=Ne;Te+me>Q+oe.clientHeight&&(oe.scrollTop+=me),Te<Q&&(oe.scrollTop-=me),m.value=te,l.value.ref.setAttribute("aria-activedescendant",`${w.value}-item-${m.value}`)};return g_(d,()=>{x.value&&G()}),Mt(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${w.value}-item-${m.value}`),f=l.value.ref.hasAttribute("readonly")}),e({highlightedIndex:m,activated:v,loading:b,inputRef:l,popperRef:u,suggestions:g,handleSelect:ee,handleKeyEnter:k,focus:J,blur:re,close:G,highlight:ye}),(te,oe)=>(P(),_e(h(Yi),{ref_key:"popperRef",ref:u,visible:h(x),placement:te.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[h(a).e("popper"),te.popperClass],teleported:te.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${h(a).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:E,onHide:M},{content:ne(()=>[Y("div",{ref_key:"regionRef",ref:c,class:L([h(a).b("suggestion"),h(a).is("loading",h(C))]),style:nt({[te.fitInputWidth?"width":"minWidth"]:y.value,outline:"none"}),role:"region"},[X(h(Po),{id:h(w),tag:"ul","wrap-class":h(a).be("suggestion","wrap"),"view-class":h(a).be("suggestion","list"),role:"listbox"},{default:ne(()=>[h(C)?(P(),H("li",TG,[Me(te.$slots,"loading",{},()=>[X(h(tt),{class:L(h(a).is("loading"))},{default:ne(()=>[X(h(Fa))]),_:1},8,["class"])])])):(P(!0),H(st,{key:1},Dt(g.value,(de,Ne)=>(P(),H("li",{id:`${h(w)}-item-${Ne}`,key:Ne,class:L({highlighted:m.value===Ne}),role:"option","aria-selected":m.value===Ne,onClick:Q=>ee(de)},[Me(te.$slots,"default",{item:de},()=>[zt(Ge(de[te.valueKey]),1)])],10,AG))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:ne(()=>[Y("div",{ref_key:"listboxRef",ref:d,class:L([h(a).b(),te.$attrs.class]),style:nt(h(S)),role:"combobox","aria-haspopup":"listbox","aria-expanded":h(x),"aria-owns":h(w)},[X(h(Wi),Lt({ref_key:"inputRef",ref:l},h(s),{clearable:te.clearable,disabled:h(o),name:te.name,"model-value":te.modelValue,"aria-label":te.ariaLabel,onInput:F,onChange:U,onFocus:D,onBlur:I,onClear:N,onKeydown:[oe[0]||(oe[0]=Gt(gt(de=>ye(m.value-1),["prevent"]),["up"])),oe[1]||(oe[1]=Gt(gt(de=>ye(m.value+1),["prevent"]),["down"])),Gt(k,["enter"]),Gt(G,["tab"]),Gt(B,["esc"])],onMousedown:V}),vo({_:2},[te.$slots.prepend?{name:"prepend",fn:ne(()=>[Me(te.$slots,"prepend")])}:void 0,te.$slots.append?{name:"append",fn:ne(()=>[Me(te.$slots,"append")])}:void 0,te.$slots.prefix?{name:"prefix",fn:ne(()=>[Me(te.$slots,"prefix")])}:void 0,te.$slots.suffix?{name:"suffix",fn:ne(()=>[Me(te.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,EG)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var IG=$e(PG,[["__file","autocomplete.vue"]]);const kG=At(IG),OG=ze({size:{type:[Number,String],values:Gr,default:"",validator:t=>ft(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:sn},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:ce(String),default:"cover"}}),LG={error:t=>t instanceof Event},NG=["src","alt","srcset"],DG=j({name:"ElAvatar"}),FG=j({...DG,props:OG,emits:LG,setup(t,{emit:e}){const n=t,i=Oe("avatar"),s=z(!1),r=A(()=>{const{size:c,icon:u,shape:d}=n,f=[i.b()];return yt(c)&&f.push(i.m(c)),u&&f.push(i.m("icon")),d&&f.push(i.m(d)),f}),o=A(()=>{const{size:c}=n;return ft(c)?i.cssVarBlock({size:On(c)||""}):void 0}),a=A(()=>({objectFit:n.fit}));ke(()=>n.src,()=>s.value=!1);function l(c){s.value=!0,e("error",c)}return(c,u)=>(P(),H("span",{class:L(h(r)),style:nt(h(o))},[(c.src||c.srcSet)&&!s.value?(P(),H("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:nt(h(a)),onError:l},null,44,NG)):c.icon?(P(),_e(h(tt),{key:1},{default:ne(()=>[(P(),_e(kt(c.icon)))]),_:1})):Me(c.$slots,"default",{key:2})],6))}});var BG=$e(FG,[["__file","avatar.vue"]]);const UG=At(BG),zG={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},VG={click:t=>t instanceof MouseEvent},$G=(t,e,n)=>{const i=vn(),s=vn(),r=z(!1),o=()=>{i.value&&(r.value=i.value.scrollTop>=t.visibilityHeight)},a=c=>{var u;(u=i.value)==null||u.scrollTo({top:0,behavior:"smooth"}),e("click",c)},l=XA(o,300,!0);return pn(s,"scroll",l),Mt(()=>{var c;s.value=document,i.value=document.documentElement,t.target&&(i.value=(c=document.querySelector(t.target))!=null?c:void 0,i.value||si(n,`target does not exist: ${t.target}`),s.value=i.value),o()}),{visible:r,handleClick:a}},G3="ElBacktop",HG=j({name:G3}),WG=j({...HG,props:zG,emits:VG,setup(t,{emit:e}){const n=t,i=Oe("backtop"),{handleClick:s,visible:r}=$G(n,e,G3),o=A(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(a,l)=>(P(),_e(ii,{name:`${h(i).namespace.value}-fade-in`},{default:ne(()=>[h(r)?(P(),H("div",{key:0,style:nt(h(o)),class:L(h(i).b()),onClick:l[0]||(l[0]=gt((...c)=>h(s)&&h(s)(...c),["stop"]))},[Me(a.$slots,"default",{},()=>[X(h(tt),{class:L(h(i).e("icon"))},{default:ne(()=>[X(h(uV))]),_:1},8,["class"])])],6)):ge("v-if",!0)]),_:3},8,["name"]))}});var GG=$e(WG,[["__file","backtop.vue"]]);const KG=At(GG),YG=ze({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:ce([String,Object,Array])},badgeStyle:{type:ce([String,Object,Array])},offset:{type:ce(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),XG=["textContent"],qG=j({name:"ElBadge"}),jG=j({...qG,props:YG,setup(t,{expose:e}){const n=t,i=Oe("badge"),s=A(()=>n.isDot?"":ft(n.value)&&ft(n.max)?n.max<n.value?`${n.max}+`:n.value===0&&!n.showZero?"":`${n.value}`:`${n.value}`),r=A(()=>{var o,a,l,c,u,d;return[{backgroundColor:n.color,marginRight:On(-((a=(o=n.offset)==null?void 0:o[0])!=null?a:0)),marginTop:On((c=(l=n.offset)==null?void 0:l[1])!=null?c:0)},(u=n.dotStyle)!=null?u:{},(d=n.badgeStyle)!=null?d:{}]});return gi({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},A(()=>!!n.dotStyle)),gi({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},A(()=>!!n.dotClass)),e({content:s}),(o,a)=>(P(),H("div",{class:L(h(i).b())},[Me(o.$slots,"default"),X(ii,{name:`${h(i).namespace.value}-zoom-in-center`,persisted:""},{default:ne(()=>[St(Y("sup",{class:L([h(i).e("content"),h(i).em("content",o.type),h(i).is("fixed",!!o.$slots.default),h(i).is("dot",o.isDot),o.dotClass,o.badgeClass]),style:nt(h(r)),textContent:Ge(h(s))},null,14,XG),[[Kt,!o.hidden&&(h(s)||o.isDot)]])]),_:1},8,["name"])],2))}});var ZG=$e(jG,[["__file","badge.vue"]]);const K3=At(ZG),Y3=Symbol("breadcrumbKey"),JG=ze({separator:{type:String,default:"/"},separatorIcon:{type:sn}}),QG=["aria-label"],e7=j({name:"ElBreadcrumb"}),t7=j({...e7,props:JG,setup(t){const e=t,{t:n}=$t(),i=Oe("breadcrumb"),s=z();return Nt(Y3,e),Mt(()=>{const r=s.value.querySelectorAll(`.${i.e("item")}`);r.length&&r[r.length-1].setAttribute("aria-current","page")}),(r,o)=>(P(),H("div",{ref_key:"breadcrumb",ref:s,class:L(h(i).b()),"aria-label":h(n)("el.breadcrumb.label"),role:"navigation"},[Me(r.$slots,"default")],10,QG))}});var n7=$e(t7,[["__file","breadcrumb.vue"]]);const i7=ze({to:{type:ce([String,Object]),default:""},replace:{type:Boolean,default:!1}}),s7=j({name:"ElBreadcrumbItem"}),r7=j({...s7,props:i7,setup(t){const e=t,n=Tt(),i=et(Y3,void 0),s=Oe("breadcrumb"),r=n.appContext.config.globalProperties.$router,o=z(),a=()=>{!e.to||!r||(e.replace?r.replace(e.to):r.push(e.to))};return(l,c)=>{var u,d;return P(),H("span",{class:L(h(s).e("item"))},[Y("span",{ref_key:"link",ref:o,class:L([h(s).e("inner"),h(s).is("link",!!l.to)]),role:"link",onClick:a},[Me(l.$slots,"default")],2),(u=h(i))!=null&&u.separatorIcon?(P(),_e(h(tt),{key:0,class:L(h(s).e("separator"))},{default:ne(()=>[(P(),_e(kt(h(i).separatorIcon)))]),_:1},8,["class"])):(P(),H("span",{key:1,class:L(h(s).e("separator")),role:"presentation"},Ge((d=h(i))==null?void 0:d.separator),3))],2)}}});var X3=$e(r7,[["__file","breadcrumb-item.vue"]]);const o7=At(n7,{BreadcrumbItem:X3}),a7=En(X3),q3=Symbol("buttonGroupContextKey"),l7=(t,e)=>{gi({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},A(()=>t.type==="text"));const n=et(q3,void 0),i=_h("button"),{form:s}=Xi(),r=ei(A(()=>n==null?void 0:n.size)),o=os(),a=z(),l=Ci(),c=A(()=>t.type||(n==null?void 0:n.type)||""),u=A(()=>{var g,m,y;return(y=(m=t.autoInsertSpace)!=null?m:(g=i.value)==null?void 0:g.autoInsertSpace)!=null?y:!1}),d=A(()=>t.tag==="button"?{ariaDisabled:o.value||t.loading,disabled:o.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),f=A(()=>{var g;const m=(g=l.default)==null?void 0:g.call(l);if(u.value&&(m==null?void 0:m.length)===1){const y=m[0];if((y==null?void 0:y.type)===Xu){const v=y.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(v.trim())}}return!1});return{_disabled:o,_size:r,_type:c,_ref:a,_props:d,shouldAddSpace:f,handleClick:g=>{t.nativeType==="reset"&&(s==null||s.resetFields()),e("click",g)}}},d1=["default","primary","success","warning","info","danger","text",""],c7=["button","submit","reset"],f1=ze({size:fi,disabled:Boolean,type:{type:String,values:d1,default:""},icon:{type:sn},nativeType:{type:String,values:c7,default:"button"},loading:Boolean,loadingIcon:{type:sn,default:()=>Fa},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:ce([String,Object]),default:"button"}}),u7={click:t=>t instanceof MouseEvent};function Oi(t,e){d7(t)&&(t="100%");var n=f7(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function tp(t){return Math.min(1,Math.max(0,t))}function d7(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function f7(t){return typeof t=="string"&&t.indexOf("%")!==-1}function j3(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function np(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Sl(t){return t.length===1?"0"+t:String(t)}function h7(t,e,n){return{r:Oi(t,255)*255,g:Oi(e,255)*255,b:Oi(n,255)*255}}function fC(t,e,n){t=Oi(t,255),e=Oi(e,255),n=Oi(n,255);var i=Math.max(t,e,n),s=Math.min(t,e,n),r=0,o=0,a=(i+s)/2;if(i===s)o=0,r=0;else{var l=i-s;switch(o=a>.5?l/(2-i-s):l/(i+s),i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4;break}r/=6}return{h:r,s:o,l:a}}function b0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function p7(t,e,n){var i,s,r;if(t=Oi(t,360),e=Oi(e,100),n=Oi(n,100),e===0)s=n,r=n,i=n;else{var o=n<.5?n*(1+e):n+e-n*e,a=2*n-o;i=b0(a,o,t+1/3),s=b0(a,o,t),r=b0(a,o,t-1/3)}return{r:i*255,g:s*255,b:r*255}}function hC(t,e,n){t=Oi(t,255),e=Oi(e,255),n=Oi(n,255);var i=Math.max(t,e,n),s=Math.min(t,e,n),r=0,o=i,a=i-s,l=i===0?0:a/i;if(i===s)r=0;else{switch(i){case t:r=(e-n)/a+(e<n?6:0);break;case e:r=(n-t)/a+2;break;case n:r=(t-e)/a+4;break}r/=6}return{h:r,s:l,v:o}}function m7(t,e,n){t=Oi(t,360)*6,e=Oi(e,100),n=Oi(n,100);var i=Math.floor(t),s=t-i,r=n*(1-e),o=n*(1-s*e),a=n*(1-(1-s)*e),l=i%6,c=[n,o,r,r,a,n][l],u=[a,n,n,o,r,r][l],d=[r,r,a,n,n,o][l];return{r:c*255,g:u*255,b:d*255}}function pC(t,e,n,i){var s=[Sl(Math.round(t).toString(16)),Sl(Math.round(e).toString(16)),Sl(Math.round(n).toString(16))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function g7(t,e,n,i,s){var r=[Sl(Math.round(t).toString(16)),Sl(Math.round(e).toString(16)),Sl(Math.round(n).toString(16)),Sl(v7(i))];return s&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))&&r[3].startsWith(r[3].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function v7(t){return Math.round(parseFloat(t)*255).toString(16)}function mC(t){return ws(t)/255}function ws(t){return parseInt(t,16)}function y7(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var h1={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function b7(t){var e={r:0,g:0,b:0},n=1,i=null,s=null,r=null,o=!1,a=!1;return typeof t=="string"&&(t=x7(t)),typeof t=="object"&&(qr(t.r)&&qr(t.g)&&qr(t.b)?(e=h7(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):qr(t.h)&&qr(t.s)&&qr(t.v)?(i=np(t.s),s=np(t.v),e=m7(t.h,i,s),o=!0,a="hsv"):qr(t.h)&&qr(t.s)&&qr(t.l)&&(i=np(t.s),r=np(t.l),e=p7(t.h,i,r),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=j3(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var _7="[-\\+]?\\d+%?",w7="[-\\+]?\\d*\\.\\d+%?",ca="(?:".concat(w7,")|(?:").concat(_7,")"),_0="[\\s|\\(]+(".concat(ca,")[,|\\s]+(").concat(ca,")[,|\\s]+(").concat(ca,")\\s*\\)?"),w0="[\\s|\\(]+(".concat(ca,")[,|\\s]+(").concat(ca,")[,|\\s]+(").concat(ca,")[,|\\s]+(").concat(ca,")\\s*\\)?"),lr={CSS_UNIT:new RegExp(ca),rgb:new RegExp("rgb"+_0),rgba:new RegExp("rgba"+w0),hsl:new RegExp("hsl"+_0),hsla:new RegExp("hsla"+w0),hsv:new RegExp("hsv"+_0),hsva:new RegExp("hsva"+w0),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function x7(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(h1[t])t=h1[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=lr.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=lr.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=lr.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=lr.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=lr.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=lr.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=lr.hex8.exec(t),n?{r:ws(n[1]),g:ws(n[2]),b:ws(n[3]),a:mC(n[4]),format:e?"name":"hex8"}:(n=lr.hex6.exec(t),n?{r:ws(n[1]),g:ws(n[2]),b:ws(n[3]),format:e?"name":"hex"}:(n=lr.hex4.exec(t),n?{r:ws(n[1]+n[1]),g:ws(n[2]+n[2]),b:ws(n[3]+n[3]),a:mC(n[4]+n[4]),format:e?"name":"hex8"}:(n=lr.hex3.exec(t),n?{r:ws(n[1]+n[1]),g:ws(n[2]+n[2]),b:ws(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function qr(t){return!!lr.CSS_UNIT.exec(String(t))}var Z3=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var i;if(e instanceof t)return e;typeof e=="number"&&(e=y7(e)),this.originalInput=e;var s=b7(e);this.originalInput=e,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=n.format)!==null&&i!==void 0?i:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,i,s,r=e.r/255,o=e.g/255,a=e.b/255;return r<=.03928?n=r/12.92:n=Math.pow((r+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*i+.0722*s},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=j3(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=hC(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=hC(this.r,this.g,this.b),n=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(i,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=fC(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=fC(this.r,this.g,this.b),n=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(i,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),pC(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),g7(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(i,")"):"rgba(".concat(e,", ").concat(n,", ").concat(i,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(Oi(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(Oi(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+pC(this.r,this.g,this.b,!1),n=0,i=Object.entries(h1);n<i.length;n++){var s=i[n],r=s[0],o=s[1];if(e===o)return r}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var i=!1,s=this.a<1&&this.a>=0,r=!n&&s&&(e.startsWith("hex")||e==="name");return r?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=tp(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=tp(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=tp(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=tp(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var i=this.toRgb(),s=new t(e).toRgb(),r=n/100,o={r:(s.r-i.r)*r+i.r,g:(s.g-i.g)*r+i.g,b:(s.b-i.b)*r+i.b,a:(s.a-i.a)*r+i.a};return new t(o)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var i=this.toHsl(),s=360/n,r=[this];for(i.h=(i.h-(s*e>>1)+720)%360;--e;)i.h=(i.h+s)%360,r.push(new t(i));return r},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),i=n.h,s=n.s,r=n.v,o=[],a=1/e;e--;)o.push(new t({h:i,s,v:r})),r=(r+a)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),i=new t(e).toRgb(),s=n.a+i.a*(1-n.a);return new t({r:(n.r*n.a+i.r*i.a*(1-n.a))/s,g:(n.g*n.a+i.g*i.a*(1-n.a))/s,b:(n.b*n.a+i.b*i.a*(1-n.a))/s,a:s})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),i=n.h,s=[this],r=360/e,o=1;o<e;o++)s.push(new t({h:(i+o*r)%360,s:n.s,l:n.l}));return s},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function Bo(t,e=20){return t.mix("#141414",e).toString()}function S7(t){const e=os(),n=Oe("button");return A(()=>{let i={};const s=t.color;if(s){const r=new Z3(s),o=t.dark?r.tint(20).toString():Bo(r,20);if(t.plain)i=n.cssVarBlock({"bg-color":t.dark?Bo(r,90):r.tint(90).toString(),"text-color":s,"border-color":t.dark?Bo(r,50):r.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":o,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(i[n.cssVarBlockName("disabled-bg-color")]=t.dark?Bo(r,90):r.tint(90).toString(),i[n.cssVarBlockName("disabled-text-color")]=t.dark?Bo(r,50):r.tint(50).toString(),i[n.cssVarBlockName("disabled-border-color")]=t.dark?Bo(r,80):r.tint(80).toString());else{const a=t.dark?Bo(r,30):r.tint(30).toString(),l=r.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(i=n.cssVarBlock({"bg-color":s,"text-color":l,"border-color":s,"hover-bg-color":a,"hover-text-color":l,"hover-border-color":a,"active-bg-color":o,"active-border-color":o}),e.value){const c=t.dark?Bo(r,50):r.tint(50).toString();i[n.cssVarBlockName("disabled-bg-color")]=c,i[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,i[n.cssVarBlockName("disabled-border-color")]=c}}}return i})}const M7=j({name:"ElButton"}),C7=j({...M7,props:f1,emits:u7,setup(t,{expose:e,emit:n}){const i=t,s=S7(i),r=Oe("button"),{_ref:o,_size:a,_type:l,_disabled:c,_props:u,shouldAddSpace:d,handleClick:f}=l7(i,n),p=A(()=>[r.b(),r.m(l.value),r.m(a.value),r.is("disabled",c.value),r.is("loading",i.loading),r.is("plain",i.plain),r.is("round",i.round),r.is("circle",i.circle),r.is("text",i.text),r.is("link",i.link),r.is("has-bg",i.bg)]);return e({ref:o,size:a,type:l,disabled:c,shouldAddSpace:d}),(g,m)=>(P(),_e(kt(g.tag),Lt({ref_key:"_ref",ref:o},h(u),{class:h(p),style:h(s),onClick:h(f)}),{default:ne(()=>[g.loading?(P(),H(st,{key:0},[g.$slots.loading?Me(g.$slots,"loading",{key:0}):(P(),_e(h(tt),{key:1,class:L(h(r).is("loading"))},{default:ne(()=>[(P(),_e(kt(g.loadingIcon)))]),_:1},8,["class"]))],64)):g.icon||g.$slots.icon?(P(),_e(h(tt),{key:1},{default:ne(()=>[g.icon?(P(),_e(kt(g.icon),{key:0})):Me(g.$slots,"icon",{key:1})]),_:3})):ge("v-if",!0),g.$slots.default?(P(),H("span",{key:2,class:L({[h(r).em("text","expand")]:h(d)})},[Me(g.$slots,"default")],2)):ge("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var E7=$e(C7,[["__file","button.vue"]]);const T7={size:f1.size,type:f1.type},A7=j({name:"ElButtonGroup"}),R7=j({...A7,props:T7,setup(t){const e=t;Nt(q3,Xt({size:on(e,"size"),type:on(e,"type")}));const n=Oe("button");return(i,s)=>(P(),H("div",{class:L(`${h(n).b("group")}`)},[Me(i.$slots,"default")],2))}});var J3=$e(R7,[["__file","button-group.vue"]]);const bi=At(E7,{ButtonGroup:J3}),Q3=En(J3);var Io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ko(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eP={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Io,function(){var n=1e3,i=6e4,s=36e5,r="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",f="quarter",p="year",g="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(V){var U=["th","st","nd","rd"],D=V%100;return"["+V+(U[(D-20)%10]||U[D]||U[0])+"]"}},b=function(V,U,D){var I=String(V);return!I||I.length>=U?V:""+Array(U+1-I.length).join(D)+V},w={s:b,z:function(V){var U=-V.utcOffset(),D=Math.abs(U),I=Math.floor(D/60),N=D%60;return(U<=0?"+":"-")+b(I,2,"0")+":"+b(N,2,"0")},m:function V(U,D){if(U.date()<D.date())return-V(D,U);var I=12*(D.year()-U.year())+(D.month()-U.month()),N=U.clone().add(I,d),k=D-N<0,B=U.clone().add(I+(k?-1:1),d);return+(-(I+(D-N)/(k?N-B:B-N))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:d,y:p,w:u,d:c,D:g,h:l,m:a,s:o,ms:r,Q:f}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},S="en",x={};x[S]=_;var C="$isDayjsObject",T=function(V){return V instanceof O||!(!V||!V[C])},E=function V(U,D,I){var N;if(!U)return S;if(typeof U=="string"){var k=U.toLowerCase();x[k]&&(N=k),D&&(x[k]=D,N=k);var B=U.split("-");if(!N&&B.length>1)return V(B[0])}else{var G=U.name;x[G]=U,N=G}return!I&&N&&(S=N),N||!I&&S},M=function(V,U){if(T(V))return V.clone();var D=typeof U=="object"?U:{};return D.date=V,D.args=arguments,new O(D)},R=w;R.l=E,R.i=T,R.w=function(V,U){return M(V,{locale:U.$L,utc:U.$u,x:U.$x,$offset:U.$offset})};var O=function(){function V(D){this.$L=E(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[C]=!0}var U=V.prototype;return U.parse=function(D){this.$d=function(I){var N=I.date,k=I.utc;if(N===null)return new Date(NaN);if(R.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var B=N.match(y);if(B){var G=B[2]-1||0,J=(B[7]||"0").substring(0,3);return k?new Date(Date.UTC(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,J)):new Date(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,J)}}return new Date(N)}(D),this.init()},U.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},U.$utils=function(){return R},U.isValid=function(){return this.$d.toString()!==m},U.isSame=function(D,I){var N=M(D);return this.startOf(I)<=N&&N<=this.endOf(I)},U.isAfter=function(D,I){return M(D)<this.startOf(I)},U.isBefore=function(D,I){return this.endOf(I)<M(D)},U.$g=function(D,I,N){return R.u(D)?this[I]:this.set(N,D)},U.unix=function(){return Math.floor(this.valueOf()/1e3)},U.valueOf=function(){return this.$d.getTime()},U.startOf=function(D,I){var N=this,k=!!R.u(I)||I,B=R.p(D),G=function(Ne,Q){var Te=R.w(N.$u?Date.UTC(N.$y,Q,Ne):new Date(N.$y,Q,Ne),N);return k?Te:Te.endOf(c)},J=function(Ne,Q){return R.w(N.toDate()[Ne].apply(N.toDate("s"),(k?[0,0,0,0]:[23,59,59,999]).slice(Q)),N)},re=this.$W,ee=this.$M,ye=this.$D,te="set"+(this.$u?"UTC":"");switch(B){case p:return k?G(1,0):G(31,11);case d:return k?G(1,ee):G(0,ee+1);case u:var oe=this.$locale().weekStart||0,de=(re<oe?re+7:re)-oe;return G(k?ye-de:ye+(6-de),ee);case c:case g:return J(te+"Hours",0);case l:return J(te+"Minutes",1);case a:return J(te+"Seconds",2);case o:return J(te+"Milliseconds",3);default:return this.clone()}},U.endOf=function(D){return this.startOf(D,!1)},U.$set=function(D,I){var N,k=R.p(D),B="set"+(this.$u?"UTC":""),G=(N={},N[c]=B+"Date",N[g]=B+"Date",N[d]=B+"Month",N[p]=B+"FullYear",N[l]=B+"Hours",N[a]=B+"Minutes",N[o]=B+"Seconds",N[r]=B+"Milliseconds",N)[k],J=k===c?this.$D+(I-this.$W):I;if(k===d||k===p){var re=this.clone().set(g,1);re.$d[G](J),re.init(),this.$d=re.set(g,Math.min(this.$D,re.daysInMonth())).$d}else G&&this.$d[G](J);return this.init(),this},U.set=function(D,I){return this.clone().$set(D,I)},U.get=function(D){return this[R.p(D)]()},U.add=function(D,I){var N,k=this;D=Number(D);var B=R.p(I),G=function(ee){var ye=M(k);return R.w(ye.date(ye.date()+Math.round(ee*D)),k)};if(B===d)return this.set(d,this.$M+D);if(B===p)return this.set(p,this.$y+D);if(B===c)return G(1);if(B===u)return G(7);var J=(N={},N[a]=i,N[l]=s,N[o]=n,N)[B]||1,re=this.$d.getTime()+D*J;return R.w(re,this)},U.subtract=function(D,I){return this.add(-1*D,I)},U.format=function(D){var I=this,N=this.$locale();if(!this.isValid())return N.invalidDate||m;var k=D||"YYYY-MM-DDTHH:mm:ssZ",B=R.z(this),G=this.$H,J=this.$m,re=this.$M,ee=N.weekdays,ye=N.months,te=N.meridiem,oe=function(Q,Te,me,K){return Q&&(Q[Te]||Q(I,k))||me[Te].slice(0,K)},de=function(Q){return R.s(G%12||12,Q,"0")},Ne=te||function(Q,Te,me){var K=Q<12?"AM":"PM";return me?K.toLowerCase():K};return k.replace(v,function(Q,Te){return Te||function(me){switch(me){case"YY":return String(I.$y).slice(-2);case"YYYY":return R.s(I.$y,4,"0");case"M":return re+1;case"MM":return R.s(re+1,2,"0");case"MMM":return oe(N.monthsShort,re,ye,3);case"MMMM":return oe(ye,re);case"D":return I.$D;case"DD":return R.s(I.$D,2,"0");case"d":return String(I.$W);case"dd":return oe(N.weekdaysMin,I.$W,ee,2);case"ddd":return oe(N.weekdaysShort,I.$W,ee,3);case"dddd":return ee[I.$W];case"H":return String(G);case"HH":return R.s(G,2,"0");case"h":return de(1);case"hh":return de(2);case"a":return Ne(G,J,!0);case"A":return Ne(G,J,!1);case"m":return String(J);case"mm":return R.s(J,2,"0");case"s":return String(I.$s);case"ss":return R.s(I.$s,2,"0");case"SSS":return R.s(I.$ms,3,"0");case"Z":return B}return null}(Q)||B.replace(":","")})},U.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},U.diff=function(D,I,N){var k,B=this,G=R.p(I),J=M(D),re=(J.utcOffset()-this.utcOffset())*i,ee=this-J,ye=function(){return R.m(B,J)};switch(G){case p:k=ye()/12;break;case d:k=ye();break;case f:k=ye()/3;break;case u:k=(ee-re)/6048e5;break;case c:k=(ee-re)/864e5;break;case l:k=ee/s;break;case a:k=ee/i;break;case o:k=ee/n;break;default:k=ee}return N?k:R.a(k)},U.daysInMonth=function(){return this.endOf(d).$D},U.$locale=function(){return x[this.$L]},U.locale=function(D,I){if(!D)return this.$L;var N=this.clone(),k=E(D,I,!0);return k&&(N.$L=k),N},U.clone=function(){return R.w(this.$d,this)},U.toDate=function(){return new Date(this.valueOf())},U.toJSON=function(){return this.isValid()?this.toISOString():null},U.toISOString=function(){return this.$d.toISOString()},U.toString=function(){return this.$d.toUTCString()},V}(),F=O.prototype;return M.prototype=F,[["$ms",r],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",g]].forEach(function(V){F[V[1]]=function(U){return this.$g(U,V[0],V[1])}}),M.extend=function(V,U){return V.$i||(V(U,O,M),V.$i=!0),M},M.locale=E,M.isDayjs=T,M.unix=function(V){return M(1e3*V)},M.en=x[S],M.Ls=x,M.p={},M})})(eP);var P7=eP.exports;const Rt=ko(P7);var tP={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Io,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d\d/,r=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},l=function(m){return(m=+m)+(m>68?1900:2e3)},c=function(m){return function(y){this[m]=+y}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var v=y.match(/([+-]|\d\d)/g),_=60*v[1]+(+v[2]||0);return _===0?0:v[0]==="+"?-_:_}(m)}],d=function(m){var y=a[m];return y&&(y.indexOf?y:y.s.concat(y.f))},f=function(m,y){var v,_=a.meridiem;if(_){for(var b=1;b<=24;b+=1)if(m.indexOf(_(b,0,y))>-1){v=b>12;break}}else v=m===(y?"pm":"PM");return v},p={A:[o,function(m){this.afternoon=f(m,!1)}],a:[o,function(m){this.afternoon=f(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[s,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[r,c("seconds")],ss:[r,c("seconds")],m:[r,c("minutes")],mm:[r,c("minutes")],H:[r,c("hours")],h:[r,c("hours")],HH:[r,c("hours")],hh:[r,c("hours")],D:[r,c("day")],DD:[s,c("day")],Do:[o,function(m){var y=a.ordinal,v=m.match(/\d+/);if(this.day=v[0],y)for(var _=1;_<=31;_+=1)y(_).replace(/\[|\]/g,"")===m&&(this.day=_)}],M:[r,c("month")],MM:[s,c("month")],MMM:[o,function(m){var y=d("months"),v=(d("monthsShort")||y.map(function(_){return _.slice(0,3)})).indexOf(m)+1;if(v<1)throw new Error;this.month=v%12||v}],MMMM:[o,function(m){var y=d("months").indexOf(m)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,c("year")],YY:[s,function(m){this.year=l(m)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function g(m){var y,v;y=m,v=a&&a.formats;for(var _=(m=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(E,M,R){var O=R&&R.toUpperCase();return M||v[R]||n[R]||v[O].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(F,V,U){return V||U.slice(1)})})).match(i),b=_.length,w=0;w<b;w+=1){var S=_[w],x=p[S],C=x&&x[0],T=x&&x[1];_[w]=T?{regex:C,parser:T}:S.replace(/^\[|\]$/g,"")}return function(E){for(var M={},R=0,O=0;R<b;R+=1){var F=_[R];if(typeof F=="string")O+=F.length;else{var V=F.regex,U=F.parser,D=E.slice(O),I=V.exec(D)[0];U.call(M,I),E=E.replace(I,"")}}return function(N){var k=N.afternoon;if(k!==void 0){var B=N.hours;k?B<12&&(N.hours+=12):B===12&&(N.hours=0),delete N.afternoon}}(M),M}}return function(m,y,v){v.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(l=m.parseTwoDigitYear);var _=y.prototype,b=_.parse;_.parse=function(w){var S=w.date,x=w.utc,C=w.args;this.$u=x;var T=C[1];if(typeof T=="string"){var E=C[2]===!0,M=C[3]===!0,R=E||M,O=C[2];M&&(O=C[2]),a=this.$locale(),!E&&O&&(a=v.Ls[O]),this.$d=function(D,I,N){try{if(["x","X"].indexOf(I)>-1)return new Date((I==="X"?1e3:1)*D);var k=g(I)(D),B=k.year,G=k.month,J=k.day,re=k.hours,ee=k.minutes,ye=k.seconds,te=k.milliseconds,oe=k.zone,de=new Date,Ne=J||(B||G?1:de.getDate()),Q=B||de.getFullYear(),Te=0;B&&!G||(Te=G>0?G-1:de.getMonth());var me=re||0,K=ee||0,q=ye||0,ue=te||0;return oe?new Date(Date.UTC(Q,Te,Ne,me,K,q,ue+60*oe.offset*1e3)):N?new Date(Date.UTC(Q,Te,Ne,me,K,q,ue)):new Date(Q,Te,Ne,me,K,q,ue)}catch{return new Date("")}}(S,T,x),this.init(),O&&O!==!0&&(this.$L=this.locale(O).$L),R&&S!=this.format(T)&&(this.$d=new Date("")),a={}}else if(T instanceof Array)for(var F=T.length,V=1;V<=F;V+=1){C[1]=T[V-1];var U=v.apply(this,C);if(U.isValid()){this.$d=U.$d,this.$L=U.$L,this.init();break}V===F&&(this.$d=new Date(""))}else b.call(this,w)}}})})(tP);var I7=tP.exports;const gw=ko(I7),gC=["hours","minutes","seconds"],p1="HH:mm:ss",qc="YYYY-MM-DD",k7={date:qc,dates:qc,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",datetime:`${qc} ${p1}`,monthrange:"YYYY-MM",daterange:qc,datetimerange:`${qc} ${p1}`},x0=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],ma=t=>Array.from(Array.from({length:t}).keys()),nP=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),iP=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),vC=function(t,e){const n=Wl(t),i=Wl(e);return n&&i?t.getTime()===e.getTime():!n&&!i?t===e:!1},yC=function(t,e){const n=Ze(t),i=Ze(e);return n&&i?t.length!==e.length?!1:t.every((s,r)=>vC(s,e[r])):!n&&!i?vC(t,e):!1},bC=function(t,e,n){const i=Vs(e)||e==="x"?Rt(t).locale(n):Rt(t,e).locale(n);return i.isValid()?i:void 0},_C=function(t,e,n){return Vs(e)?t:e==="x"?+t:Rt(t).locale(n).format(e)},S0=(t,e)=>{var n;const i=[],s=e==null?void 0:e();for(let r=0;r<t;r++)i.push((n=s==null?void 0:s.includes(r))!=null?n:!1);return i},sP=ze({disabledHours:{type:ce(Function)},disabledMinutes:{type:ce(Function)},disabledSeconds:{type:ce(Function)}}),rP=ze({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),vw=ze({id:{type:ce([Array,String])},name:{type:ce([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ce([String,Object]),default:Da},editable:{type:Boolean,default:!0},prefixIcon:{type:ce([String,Object]),default:""},size:fi,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:ce(Object),default:()=>({})},modelValue:{type:ce([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ce([Date,Array])},defaultTime:{type:ce([Date,Array])},isRange:Boolean,...sP,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,label:{type:String,default:void 0},tabindex:{type:ce([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,...td,...Ai(["ariaLabel"])}),O7=["id","name","placeholder","value","disabled","readonly"],L7=["id","name","placeholder","value","disabled","readonly"],N7=j({name:"Picker"}),D7=j({...N7,props:vw,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const i=t,s=rc(),{lang:r}=$t(),o=Oe("date"),a=Oe("input"),l=Oe("range"),{form:c,formItem:u}=Xi(),d=et("ElPopperOptions",{}),{valueOnClear:f}=av(i,null),p=z(),g=z(),m=z(!1),y=z(!1),v=z(null);let _=!1,b=!1;const w=A(()=>[o.b("editor"),o.bm("editor",i.type),a.e("wrapper"),o.is("disabled",re.value),o.is("active",m.value),l.b("editor"),W?l.bm("editor",W.value):"",s.class]),S=A(()=>[a.e("icon"),l.e("close-icon"),Te.value?"":l.e("close-icon--hidden")]);ke(m,fe=>{fe?rt(()=>{fe&&(v.value=i.modelValue)}):(se.value=null,rt(()=>{x(i.modelValue)}))});const x=(fe,le)=>{(le||!yC(fe,v.value))&&(n("change",fe),i.validateEvent&&(u==null||u.validate("change").catch(Be=>void 0)))},C=fe=>{if(!yC(i.modelValue,fe)){let le;Ze(fe)?le=fe.map(Be=>_C(Be,i.valueFormat,r.value)):fe&&(le=_C(fe,i.valueFormat,r.value)),n("update:modelValue",fe&&le,r.value)}},T=fe=>{n("keydown",fe)},E=A(()=>{if(g.value){const fe=xe.value?g.value:g.value.$el;return Array.from(fe.querySelectorAll("input"))}return[]}),M=(fe,le,Be)=>{const We=E.value;We.length&&(!Be||Be==="min"?(We[0].setSelectionRange(fe,le),We[0].focus()):Be==="max"&&(We[1].setSelectionRange(fe,le),We[1].focus()))},R=()=>{k(!0,!0),rt(()=>{b=!1})},O=(fe="",le=!1)=>{le||(b=!0),m.value=le;let Be;Ze(fe)?Be=fe.map(We=>We.toDate()):Be=fe&&fe.toDate(),se.value=null,C(Be)},F=()=>{y.value=!0},V=()=>{n("visible-change",!0)},U=fe=>{(fe==null?void 0:fe.key)===lt.esc&&k(!0,!0)},D=()=>{y.value=!1,m.value=!1,b=!1,n("visible-change",!1)},I=()=>{m.value=!0},N=()=>{m.value=!1},k=(fe=!0,le=!1)=>{b=le;const[Be,We]=h(E);let ot=Be;!fe&&xe.value&&(ot=We),ot&&ot.focus()},B=fe=>{i.readonly||re.value||m.value||b||(m.value=!0,n("focus",fe))};let G;const J=fe=>{const le=async()=>{setTimeout(()=>{var Be;G===le&&(!((Be=p.value)!=null&&Be.isFocusInsideContent()&&!_)&&E.value.filter(We=>We.contains(document.activeElement)).length===0&&(Ee(),m.value=!1,n("blur",fe),i.validateEvent&&(u==null||u.validate("blur").catch(We=>void 0))),_=!1)},0)};G=le,le()},re=A(()=>i.disabled||(c==null?void 0:c.disabled)),ee=A(()=>{let fe;if(K.value?we.value.getDefaultValue&&(fe=we.value.getDefaultValue()):Ze(i.modelValue)?fe=i.modelValue.map(le=>bC(le,i.valueFormat,r.value)):fe=bC(i.modelValue,i.valueFormat,r.value),we.value.getRangeAvailableTime){const le=we.value.getRangeAvailableTime(fe);Gi(le,fe)||(fe=le,C(Ze(fe)?fe.map(Be=>Be.toDate()):fe.toDate()))}return Ze(fe)&&fe.some(le=>!le)&&(fe=[]),fe}),ye=A(()=>{if(!we.value.panelReady)return"";const fe=be(ee.value);return Ze(se.value)?[se.value[0]||fe&&fe[0]||"",se.value[1]||fe&&fe[1]||""]:se.value!==null?se.value:!oe.value&&K.value||!m.value&&K.value?"":fe?de.value||Ne.value?fe.join(", "):fe:""}),te=A(()=>i.type.includes("time")),oe=A(()=>i.type.startsWith("time")),de=A(()=>i.type==="dates"),Ne=A(()=>i.type==="years"),Q=A(()=>i.prefixIcon||(te.value?HR:oV)),Te=z(!1),me=fe=>{i.readonly||re.value||Te.value&&(fe.stopPropagation(),R(),C(f.value),x(f.value,!0),Te.value=!1,m.value=!1,we.value.handleClear&&we.value.handleClear())},K=A(()=>{const{modelValue:fe}=i;return!fe||Ze(fe)&&!fe.filter(Boolean).length}),q=async fe=>{var le;i.readonly||re.value||(((le=fe.target)==null?void 0:le.tagName)!=="INPUT"||E.value.includes(document.activeElement))&&(m.value=!0)},ue=()=>{i.readonly||re.value||!K.value&&i.clearable&&(Te.value=!0)},ve=()=>{Te.value=!1},he=fe=>{var le;i.readonly||re.value||(((le=fe.touches[0].target)==null?void 0:le.tagName)!=="INPUT"||E.value.includes(document.activeElement))&&(m.value=!0)},xe=A(()=>i.type.includes("range")),W=ei(),$=A(()=>{var fe,le;return(le=(fe=h(p))==null?void 0:fe.popperRef)==null?void 0:le.contentRef}),ae=A(()=>{var fe;return h(xe)?h(g):(fe=h(g))==null?void 0:fe.$el});g_(ae,fe=>{const le=h($),Be=h(ae);le&&(fe.target===le||fe.composedPath().includes(le))||fe.target===Be||fe.composedPath().includes(Be)||(m.value=!1)});const se=z(null),Ee=()=>{if(se.value){const fe=Re(ye.value);fe&&Pe(fe)&&(C(Ze(fe)?fe.map(le=>le.toDate()):fe.toDate()),se.value=null)}se.value===""&&(C(f.value),x(f.value),se.value=null)},Re=fe=>fe?we.value.parseUserInput(fe):null,be=fe=>fe?we.value.formatToString(fe):null,Pe=fe=>we.value.isValidValue(fe),Fe=async fe=>{if(i.readonly||re.value)return;const{code:le}=fe;if(T(fe),le===lt.esc){m.value===!0&&(m.value=!1,fe.preventDefault(),fe.stopPropagation());return}if(le===lt.down&&(we.value.handleFocusPicker&&(fe.preventDefault(),fe.stopPropagation()),m.value===!1&&(m.value=!0,await rt()),we.value.handleFocusPicker)){we.value.handleFocusPicker();return}if(le===lt.tab){_=!0;return}if(le===lt.enter||le===lt.numpadEnter){(se.value===null||se.value===""||Pe(Re(ye.value)))&&(Ee(),m.value=!1),fe.stopPropagation();return}if(se.value){fe.stopPropagation();return}we.value.handleKeydownInput&&we.value.handleKeydownInput(fe)},it=fe=>{se.value=fe,m.value||(m.value=!0)},Ye=fe=>{const le=fe.target;se.value?se.value=[le.value,se.value[1]]:se.value=[le.value,null]},He=fe=>{const le=fe.target;se.value?se.value=[se.value[0],le.value]:se.value=[null,le.value]},Se=()=>{var fe;const le=se.value,Be=Re(le&&le[0]),We=h(ee);if(Be&&Be.isValid()){se.value=[be(Be),((fe=ye.value)==null?void 0:fe[1])||null];const ot=[Be,We&&(We[1]||null)];Pe(ot)&&(C(ot),se.value=null)}},Le=()=>{var fe;const le=h(se),Be=Re(le&&le[1]),We=h(ee);if(Be&&Be.isValid()){se.value=[((fe=h(ye))==null?void 0:fe[0])||null,be(Be)];const ot=[We&&We[0],Be];Pe(ot)&&(C(ot),se.value=null)}},we=z({}),pe=fe=>{we.value[fe[0]]=fe[1],we.value.panelReady=!0},Ae=fe=>{n("calendar-change",fe)},je=(fe,le,Be)=>{n("panel-change",fe,le,Be)};return Nt("EP_PICKER_BASE",{props:i}),gi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-time-picker",ref:"https://element-plus.org/en-US/component/time-picker.html"},A(()=>!!i.label)),e({focus:k,handleFocusInput:B,handleBlurInput:J,handleOpen:I,handleClose:N,onPick:O}),(fe,le)=>(P(),_e(h(Yi),Lt({ref_key:"refPopper",ref:p,visible:m.value,effect:"light",pure:"",trigger:"click"},fe.$attrs,{role:"dialog",teleported:"",transition:`${h(o).namespace.value}-zoom-in-top`,"popper-class":[`${h(o).namespace.value}-picker__popper`,fe.popperClass],"popper-options":h(d),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:F,onShow:V,onHide:D}),{default:ne(()=>[h(xe)?(P(),H("div",{key:1,ref_key:"inputRef",ref:g,class:L(h(w)),style:nt(fe.$attrs.style),onClick:B,onMouseenter:ue,onMouseleave:ve,onTouchstart:he,onKeydown:Fe},[h(Q)?(P(),_e(h(tt),{key:0,class:L([h(a).e("icon"),h(l).e("icon")]),onMousedown:gt(q,["prevent"]),onTouchstart:he},{default:ne(()=>[(P(),_e(kt(h(Q))))]),_:1},8,["class","onMousedown"])):ge("v-if",!0),Y("input",{id:fe.id&&fe.id[0],autocomplete:"off",name:fe.name&&fe.name[0],placeholder:fe.startPlaceholder,value:h(ye)&&h(ye)[0],disabled:h(re),readonly:!fe.editable||fe.readonly,class:L(h(l).b("input")),onMousedown:q,onInput:Ye,onChange:Se,onFocus:B,onBlur:J},null,42,O7),Me(fe.$slots,"range-separator",{},()=>[Y("span",{class:L(h(l).b("separator"))},Ge(fe.rangeSeparator),3)]),Y("input",{id:fe.id&&fe.id[1],autocomplete:"off",name:fe.name&&fe.name[1],placeholder:fe.endPlaceholder,value:h(ye)&&h(ye)[1],disabled:h(re),readonly:!fe.editable||fe.readonly,class:L(h(l).b("input")),onMousedown:q,onFocus:B,onBlur:J,onInput:He,onChange:Le},null,42,L7),fe.clearIcon?(P(),_e(h(tt),{key:1,class:L(h(S)),onClick:me},{default:ne(()=>[(P(),_e(kt(fe.clearIcon)))]),_:1},8,["class"])):ge("v-if",!0)],38)):(P(),_e(h(Wi),{key:0,id:fe.id,ref_key:"inputRef",ref:g,"container-role":"combobox","model-value":h(ye),name:fe.name,size:h(W),disabled:h(re),placeholder:fe.placeholder,class:L([h(o).b("editor"),h(o).bm("editor",fe.type),fe.$attrs.class]),style:nt(fe.$attrs.style),readonly:!fe.editable||fe.readonly||h(de)||h(Ne)||fe.type==="week","aria-label":fe.label||fe.ariaLabel,tabindex:fe.tabindex,"validate-event":!1,onInput:it,onFocus:B,onBlur:J,onKeydown:Fe,onChange:Ee,onMousedown:q,onMouseenter:ue,onMouseleave:ve,onTouchstart:he,onClick:le[0]||(le[0]=gt(()=>{},["stop"]))},{prefix:ne(()=>[h(Q)?(P(),_e(h(tt),{key:0,class:L(h(a).e("icon")),onMousedown:gt(q,["prevent"]),onTouchstart:he},{default:ne(()=>[(P(),_e(kt(h(Q))))]),_:1},8,["class","onMousedown"])):ge("v-if",!0)]),suffix:ne(()=>[Te.value&&fe.clearIcon?(P(),_e(h(tt),{key:0,class:L(`${h(a).e("icon")} clear-icon`),onClick:gt(me,["stop"])},{default:ne(()=>[(P(),_e(kt(fe.clearIcon)))]),_:1},8,["class","onClick"])):ge("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onKeydown"]))]),content:ne(()=>[Me(fe.$slots,"default",{visible:m.value,actualVisible:y.value,parsedValue:h(ee),format:fe.format,dateFormat:fe.dateFormat,timeFormat:fe.timeFormat,unlinkPanels:fe.unlinkPanels,type:fe.type,defaultValue:fe.defaultValue,onPick:O,onSelectRange:M,onSetPickerOption:pe,onCalendarChange:Ae,onPanelChange:je,onKeydown:U,onMousedown:le[1]||(le[1]=gt(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var oP=$e(D7,[["__file","picker.vue"]]);const F7=ze({...rP,datetimeRole:String,parsedValue:{type:ce(Object)}}),aP=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const i=(o,a,l,c)=>{const u={hour:t,minute:e,second:n};let d=o;return["hour","minute","second"].forEach(f=>{if(u[f]){let p;const g=u[f];switch(f){case"minute":{p=g(d.hour(),a,c);break}case"second":{p=g(d.hour(),d.minute(),a,c);break}default:{p=g(a,c);break}}if(p!=null&&p.length&&!p.includes(d[f]())){const m=l?0:p.length-1;d=d[f](p[m])}}}),d},s={};return{timePickerOptions:s,getAvailableTime:i,onSetOption:([o,a])=>{s[o]=a}}},M0=t=>{const e=(i,s)=>i||s,n=i=>i!==!0;return t.map(e).filter(n)},lP=(t,e,n)=>({getHoursList:(o,a)=>S0(24,t&&(()=>t==null?void 0:t(o,a))),getMinutesList:(o,a,l)=>S0(60,e&&(()=>e==null?void 0:e(o,a,l))),getSecondsList:(o,a,l,c)=>S0(60,n&&(()=>n==null?void 0:n(o,a,l,c)))}),cP=(t,e,n)=>{const{getHoursList:i,getMinutesList:s,getSecondsList:r}=lP(t,e,n);return{getAvailableHours:(c,u)=>M0(i(c,u)),getAvailableMinutes:(c,u,d)=>M0(s(c,u,d)),getAvailableSeconds:(c,u,d,f)=>M0(r(c,u,d,f))}},uP=t=>{const e=z(t.parsedValue);return ke(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},Zo=new Map;let wC;Ft&&(document.addEventListener("mousedown",t=>wC=t),document.addEventListener("mouseup",t=>{for(const e of Zo.values())for(const{documentHandler:n}of e)n(t,wC)}));function xC(t,e){let n=[];return Array.isArray(e.arg)?n=e.arg:Js(e.arg)&&n.push(e.arg),function(i,s){const r=e.instance.popperRef,o=i.target,a=s==null?void 0:s.target,l=!e||!e.instance,c=!o||!a,u=t.contains(o)||t.contains(a),d=t===o,f=n.length&&n.some(g=>g==null?void 0:g.contains(o))||n.length&&n.includes(a),p=r&&(r.contains(o)||r.contains(a));l||c||u||d||f||p||e.value(i,s)}}const _o={beforeMount(t,e){Zo.has(t)||Zo.set(t,[]),Zo.get(t).push({documentHandler:xC(t,e),bindingFn:e.value})},updated(t,e){Zo.has(t)||Zo.set(t,[]);const n=Zo.get(t),i=n.findIndex(r=>r.bindingFn===e.oldValue),s={documentHandler:xC(t,e),bindingFn:e.value};i>=0?n.splice(i,1,s):n.push(s)},unmounted(t){Zo.delete(t)}},B7=100,U7=600,ug={beforeMount(t,e){const n=e.value,{interval:i=B7,delay:s=U7}=ht(n)?{}:n;let r,o;const a=()=>ht(n)?n():n.handler(),l=()=>{o&&(clearTimeout(o),o=void 0),r&&(clearInterval(r),r=void 0)};t.addEventListener("mousedown",c=>{c.button===0&&(l(),a(),document.addEventListener("mouseup",()=>l(),{once:!0}),o=setTimeout(()=>{r=setInterval(()=>{a()},i)},s))})}},m1="_trap-focus-children",Ml=[],SC=t=>{if(Ml.length===0)return;const e=Ml[Ml.length-1][m1];if(e.length>0&&t.code===lt.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,i=t.target===e[0],s=t.target===e[e.length-1];i&&n&&(t.preventDefault(),e[e.length-1].focus()),s&&!n&&(t.preventDefault(),e[0].focus())}},z7={beforeMount(t){t[m1]=kS(t),Ml.push(t),Ml.length<=1&&document.addEventListener("keydown",SC)},updated(t){rt(()=>{t[m1]=kS(t)})},unmounted(){Ml.shift(),Ml.length===0&&document.removeEventListener("keydown",SC)}};var MC=!1,yl,g1,v1,vm,ym,dP,bm,y1,b1,_1,fP,w1,x1,hP,pP;function as(){if(!MC){MC=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(w1=/\b(iPhone|iP[ao]d)/.exec(t),x1=/\b(iP[ao]d)/.exec(t),_1=/Android/i.exec(t),hP=/FBAN\/\w+;/i.exec(t),pP=/Mobile/i.exec(t),fP=!!/Win64/.exec(t),e){yl=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,yl&&document&&document.documentMode&&(yl=document.documentMode);var i=/(?:Trident\/(\d+.\d+))/.exec(t);dP=i?parseFloat(i[1])+4:yl,g1=e[2]?parseFloat(e[2]):NaN,v1=e[3]?parseFloat(e[3]):NaN,vm=e[4]?parseFloat(e[4]):NaN,vm?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),ym=e&&e[1]?parseFloat(e[1]):NaN):ym=NaN}else yl=g1=v1=ym=vm=NaN;if(n){if(n[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);bm=s?parseFloat(s[1].replace("_",".")):!0}else bm=!1;y1=!!n[2],b1=!!n[3]}else bm=y1=b1=!1}}var S1={ie:function(){return as()||yl},ieCompatibilityMode:function(){return as()||dP>yl},ie64:function(){return S1.ie()&&fP},firefox:function(){return as()||g1},opera:function(){return as()||v1},webkit:function(){return as()||vm},safari:function(){return S1.webkit()},chrome:function(){return as()||ym},windows:function(){return as()||y1},osx:function(){return as()||bm},linux:function(){return as()||b1},iphone:function(){return as()||w1},mobile:function(){return as()||w1||x1||_1||pP},nativeApp:function(){return as()||hP},android:function(){return as()||_1},ipad:function(){return as()||x1}},V7=S1,ip=!!(typeof window<"u"&&window.document&&window.document.createElement),$7={canUseDOM:ip,canUseWorkers:typeof Worker<"u",canUseEventListeners:ip&&!!(window.addEventListener||window.attachEvent),canUseViewport:ip&&!!window.screen,isInWorker:!ip},mP=$7,gP;mP.canUseDOM&&(gP=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function H7(t,e){if(!mP.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,i=n in document;if(!i){var s=document.createElement("div");s.setAttribute(n,"return;"),i=typeof s[n]=="function"}return!i&&gP&&t==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var W7=H7,CC=10,EC=40,TC=800;function vP(t){var e=0,n=0,i=0,s=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),i=e*CC,s=n*CC,"deltaY"in t&&(s=t.deltaY),"deltaX"in t&&(i=t.deltaX),(i||s)&&t.deltaMode&&(t.deltaMode==1?(i*=EC,s*=EC):(i*=TC,s*=TC)),i&&!e&&(e=i<1?-1:1),s&&!n&&(n=s<1?-1:1),{spinX:e,spinY:n,pixelX:i,pixelY:s}}vP.getEventType=function(){return V7.firefox()?"DOMMouseScroll":W7("wheel")?"wheel":"mousewheel"};var G7=vP;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const K7=function(t,e){if(t&&t.addEventListener){const n=function(i){const s=G7(i);e&&Reflect.apply(e,this,[i,s])};t.addEventListener("wheel",n,{passive:!0})}},Y7={beforeMount(t,e){K7(t,e.value)}},X7=ze({role:{type:String,required:!0},spinnerDate:{type:ce(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ce(String),default:""},...sP}),q7=["onClick"],j7=["onMouseenter"],Z7=j({__name:"basic-time-spinner",props:X7,emits:["change","select-range","set-option"],setup(t,{emit:e}){const n=t,i=Oe("time"),{getHoursList:s,getMinutesList:r,getSecondsList:o}=lP(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let a=!1;const l=z(),c=z(),u=z(),d=z(),f={hours:c,minutes:u,seconds:d},p=A(()=>n.showSeconds?gC:gC.slice(0,2)),g=A(()=>{const{spinnerDate:k}=n,B=k.hour(),G=k.minute(),J=k.second();return{hours:B,minutes:G,seconds:J}}),m=A(()=>{const{hours:k,minutes:B}=h(g);return{hours:s(n.role),minutes:r(k,n.role),seconds:o(k,B,n.role)}}),y=A(()=>{const{hours:k,minutes:B,seconds:G}=h(g);return{hours:x0(k,23),minutes:x0(B,59),seconds:x0(G,59)}}),v=vs(k=>{a=!1,w(k)},200),_=k=>{if(!!!n.amPmMode)return"";const G=n.amPmMode==="A";let J=k<12?" am":" pm";return G&&(J=J.toUpperCase()),J},b=k=>{let B;switch(k){case"hours":B=[0,2];break;case"minutes":B=[3,5];break;case"seconds":B=[6,8];break}const[G,J]=B;e("select-range",G,J),l.value=k},w=k=>{C(k,h(g)[k])},S=()=>{w("hours"),w("minutes"),w("seconds")},x=k=>k.querySelector(`.${i.namespace.value}-scrollbar__wrap`),C=(k,B)=>{if(n.arrowControl)return;const G=h(f[k]);G&&G.$el&&(x(G.$el).scrollTop=Math.max(0,B*T(k)))},T=k=>{const B=h(f[k]),G=B==null?void 0:B.$el.querySelector("li");return G&&Number.parseFloat(aa(G,"height"))||0},E=()=>{R(1)},M=()=>{R(-1)},R=k=>{l.value||b("hours");const B=l.value,G=h(g)[B],J=l.value==="hours"?24:60,re=O(B,G,k,J);F(B,re),C(B,re),rt(()=>b(B))},O=(k,B,G,J)=>{let re=(B+G+J)%J;const ee=h(m)[k];for(;ee[re]&&re!==B;)re=(re+G+J)%J;return re},F=(k,B)=>{if(h(m)[k][B])return;const{hours:re,minutes:ee,seconds:ye}=h(g);let te;switch(k){case"hours":te=n.spinnerDate.hour(B).minute(ee).second(ye);break;case"minutes":te=n.spinnerDate.hour(re).minute(B).second(ye);break;case"seconds":te=n.spinnerDate.hour(re).minute(ee).second(B);break}e("change",te)},V=(k,{value:B,disabled:G})=>{G||(F(k,B),b(k),C(k,B))},U=k=>{a=!0,v(k);const B=Math.min(Math.round((x(h(f[k]).$el).scrollTop-(D(k)*.5-10)/T(k)+3)/T(k)),k==="hours"?23:59);F(k,B)},D=k=>h(f[k]).$el.offsetHeight,I=()=>{const k=B=>{const G=h(f[B]);G&&G.$el&&(x(G.$el).onscroll=()=>{U(B)})};k("hours"),k("minutes"),k("seconds")};Mt(()=>{rt(()=>{!n.arrowControl&&I(),S(),n.role==="start"&&b("hours")})});const N=(k,B)=>{f[B].value=k};return e("set-option",[`${n.role}_scrollDown`,R]),e("set-option",[`${n.role}_emitSelectRange`,b]),ke(()=>n.spinnerDate,()=>{a||S()}),(k,B)=>(P(),H("div",{class:L([h(i).b("spinner"),{"has-seconds":k.showSeconds}])},[k.arrowControl?ge("v-if",!0):(P(!0),H(st,{key:0},Dt(h(p),G=>(P(),_e(h(Po),{key:G,ref_for:!0,ref:J=>N(J,G),class:L(h(i).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":h(i).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:J=>b(G),onMousemove:J=>w(G)},{default:ne(()=>[(P(!0),H(st,null,Dt(h(m)[G],(J,re)=>(P(),H("li",{key:re,class:L([h(i).be("spinner","item"),h(i).is("active",re===h(g)[G]),h(i).is("disabled",J)]),onClick:ee=>V(G,{value:re,disabled:J})},[G==="hours"?(P(),H(st,{key:0},[zt(Ge(("0"+(k.amPmMode?re%12||12:re)).slice(-2))+Ge(_(re)),1)],64)):(P(),H(st,{key:1},[zt(Ge(("0"+re).slice(-2)),1)],64))],10,q7))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),k.arrowControl?(P(!0),H(st,{key:1},Dt(h(p),G=>(P(),H("div",{key:G,class:L([h(i).be("spinner","wrapper"),h(i).is("arrow")]),onMouseenter:J=>b(G)},[St((P(),_e(h(tt),{class:L(["arrow-up",h(i).be("spinner","arrow")])},{default:ne(()=>[X(h(N_))]),_:1},8,["class"])),[[h(ug),M]]),St((P(),_e(h(tt),{class:L(["arrow-down",h(i).be("spinner","arrow")])},{default:ne(()=>[X(h(Ao))]),_:1},8,["class"])),[[h(ug),E]]),Y("ul",{class:L(h(i).be("spinner","list"))},[(P(!0),H(st,null,Dt(h(y)[G],(J,re)=>(P(),H("li",{key:re,class:L([h(i).be("spinner","item"),h(i).is("active",J===h(g)[G]),h(i).is("disabled",h(m)[G][J])])},[typeof J=="number"?(P(),H(st,{key:0},[G==="hours"?(P(),H(st,{key:0},[zt(Ge(("0"+(k.amPmMode?J%12||12:J)).slice(-2))+Ge(_(J)),1)],64)):(P(),H(st,{key:1},[zt(Ge(("0"+J).slice(-2)),1)],64))],64)):ge("v-if",!0)],2))),128))],2)],42,j7))),128)):ge("v-if",!0)],2))}});var M1=$e(Z7,[["__file","basic-time-spinner.vue"]]);const J7=j({__name:"panel-time-pick",props:F7,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,i=et("EP_PICKER_BASE"),{arrowControl:s,disabledHours:r,disabledMinutes:o,disabledSeconds:a,defaultValue:l}=i.props,{getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}=cP(r,o,a),f=Oe("time"),{t:p,lang:g}=$t(),m=z([0,2]),y=uP(n),v=A(()=>Kn(n.actualVisible)?`${f.namespace.value}-zoom-in-top`:""),_=A(()=>n.format.includes("ss")),b=A(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),w=N=>{const k=Rt(N).locale(g.value),B=V(k);return k.isSame(B)},S=()=>{e("pick",y.value,!1)},x=(N=!1,k=!1)=>{k||e("pick",n.parsedValue,N)},C=N=>{if(!n.visible)return;const k=V(N).millisecond(0);e("pick",k,!0)},T=(N,k)=>{e("select-range",N,k),m.value=[N,k]},E=N=>{const k=[0,3].concat(_.value?[6]:[]),B=["hours","minutes"].concat(_.value?["seconds"]:[]),J=(k.indexOf(m.value[0])+N+k.length)%k.length;R.start_emitSelectRange(B[J])},M=N=>{const k=N.code,{left:B,right:G,up:J,down:re}=lt;if([B,G].includes(k)){E(k===B?-1:1),N.preventDefault();return}if([J,re].includes(k)){const ee=k===J?-1:1;R.start_scrollDown(ee),N.preventDefault();return}},{timePickerOptions:R,onSetOption:O,getAvailableTime:F}=aP({getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}),V=N=>F(N,n.datetimeRole||"",!0),U=N=>N?Rt(N,n.format).locale(g.value):null,D=N=>N?N.format(n.format):null,I=()=>Rt(l).locale(g.value);return e("set-picker-option",["isValidValue",w]),e("set-picker-option",["formatToString",D]),e("set-picker-option",["parseUserInput",U]),e("set-picker-option",["handleKeydownInput",M]),e("set-picker-option",["getRangeAvailableTime",V]),e("set-picker-option",["getDefaultValue",I]),(N,k)=>(P(),_e(ii,{name:h(v)},{default:ne(()=>[N.actualVisible||N.visible?(P(),H("div",{key:0,class:L(h(f).b("panel"))},[Y("div",{class:L([h(f).be("panel","content"),{"has-seconds":h(_)}])},[X(M1,{ref:"spinner",role:N.datetimeRole||"start","arrow-control":h(s),"show-seconds":h(_),"am-pm-mode":h(b),"spinner-date":N.parsedValue,"disabled-hours":h(r),"disabled-minutes":h(o),"disabled-seconds":h(a),onChange:C,onSetOption:h(O),onSelectRange:T},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Y("div",{class:L(h(f).be("panel","footer"))},[Y("button",{type:"button",class:L([h(f).be("panel","btn"),"cancel"]),onClick:S},Ge(h(p)("el.datepicker.cancel")),3),Y("button",{type:"button",class:L([h(f).be("panel","btn"),"confirm"]),onClick:k[0]||(k[0]=B=>x())},Ge(h(p)("el.datepicker.confirm")),3)],2)],2)):ge("v-if",!0)]),_:1},8,["name"]))}});var dg=$e(J7,[["__file","panel-time-pick.vue"]]);const Q7=ze({...rP,parsedValue:{type:ce(Array)}}),eK=["disabled"],tK=j({__name:"panel-time-range",props:Q7,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,i=(Te,me)=>{const K=[];for(let q=Te;q<=me;q++)K.push(q);return K},{t:s,lang:r}=$t(),o=Oe("time"),a=Oe("picker"),l=et("EP_PICKER_BASE"),{arrowControl:c,disabledHours:u,disabledMinutes:d,disabledSeconds:f,defaultValue:p}=l.props,g=A(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",c),w.value?"has-seconds":""]),m=A(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",c),w.value?"has-seconds":""]),y=A(()=>n.parsedValue[0]),v=A(()=>n.parsedValue[1]),_=uP(n),b=()=>{e("pick",_.value,!1)},w=A(()=>n.format.includes("ss")),S=A(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),x=(Te=!1)=>{e("pick",[y.value,v.value],Te)},C=Te=>{M(Te.millisecond(0),v.value)},T=Te=>{M(y.value,Te.millisecond(0))},E=Te=>{const me=Te.map(q=>Rt(q).locale(r.value)),K=G(me);return me[0].isSame(K[0])&&me[1].isSame(K[1])},M=(Te,me)=>{e("pick",[Te,me],!0)},R=A(()=>y.value>v.value),O=z([0,2]),F=(Te,me)=>{e("select-range",Te,me,"min"),O.value=[Te,me]},V=A(()=>w.value?11:8),U=(Te,me)=>{e("select-range",Te,me,"max");const K=h(V);O.value=[Te+K,me+K]},D=Te=>{const me=w.value?[0,3,6,11,14,17]:[0,3,8,11],K=["hours","minutes"].concat(w.value?["seconds"]:[]),ue=(me.indexOf(O.value[0])+Te+me.length)%me.length,ve=me.length/2;ue<ve?ye.start_emitSelectRange(K[ue]):ye.end_emitSelectRange(K[ue-ve])},I=Te=>{const me=Te.code,{left:K,right:q,up:ue,down:ve}=lt;if([K,q].includes(me)){D(me===K?-1:1),Te.preventDefault();return}if([ue,ve].includes(me)){const he=me===ue?-1:1,xe=O.value[0]<V.value?"start":"end";ye[`${xe}_scrollDown`](he),Te.preventDefault();return}},N=(Te,me)=>{const K=u?u(Te):[],q=Te==="start",ve=(me||(q?v.value:y.value)).hour(),he=q?i(ve+1,23):i(0,ve-1);return h0(K,he)},k=(Te,me,K)=>{const q=d?d(Te,me):[],ue=me==="start",ve=K||(ue?v.value:y.value),he=ve.hour();if(Te!==he)return q;const xe=ve.minute(),W=ue?i(xe+1,59):i(0,xe-1);return h0(q,W)},B=(Te,me,K,q)=>{const ue=f?f(Te,me,K):[],ve=K==="start",he=q||(ve?v.value:y.value),xe=he.hour(),W=he.minute();if(Te!==xe||me!==W)return ue;const $=he.second(),ae=ve?i($+1,59):i(0,$-1);return h0(ue,ae)},G=([Te,me])=>[te(Te,"start",!0,me),te(me,"end",!1,Te)],{getAvailableHours:J,getAvailableMinutes:re,getAvailableSeconds:ee}=cP(N,k,B),{timePickerOptions:ye,getAvailableTime:te,onSetOption:oe}=aP({getAvailableHours:J,getAvailableMinutes:re,getAvailableSeconds:ee}),de=Te=>Te?Ze(Te)?Te.map(me=>Rt(me,n.format).locale(r.value)):Rt(Te,n.format).locale(r.value):null,Ne=Te=>Te?Ze(Te)?Te.map(me=>me.format(n.format)):Te.format(n.format):null,Q=()=>{if(Ze(p))return p.map(me=>Rt(me).locale(r.value));const Te=Rt(p).locale(r.value);return[Te,Te.add(60,"m")]};return e("set-picker-option",["formatToString",Ne]),e("set-picker-option",["parseUserInput",de]),e("set-picker-option",["isValidValue",E]),e("set-picker-option",["handleKeydownInput",I]),e("set-picker-option",["getDefaultValue",Q]),e("set-picker-option",["getRangeAvailableTime",G]),(Te,me)=>Te.actualVisible?(P(),H("div",{key:0,class:L([h(o).b("range-picker"),h(a).b("panel")])},[Y("div",{class:L(h(o).be("range-picker","content"))},[Y("div",{class:L(h(o).be("range-picker","cell"))},[Y("div",{class:L(h(o).be("range-picker","header"))},Ge(h(s)("el.datepicker.startTime")),3),Y("div",{class:L(h(g))},[X(M1,{ref:"minSpinner",role:"start","show-seconds":h(w),"am-pm-mode":h(S),"arrow-control":h(c),"spinner-date":h(y),"disabled-hours":N,"disabled-minutes":k,"disabled-seconds":B,onChange:C,onSetOption:h(oe),onSelectRange:F},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Y("div",{class:L(h(o).be("range-picker","cell"))},[Y("div",{class:L(h(o).be("range-picker","header"))},Ge(h(s)("el.datepicker.endTime")),3),Y("div",{class:L(h(m))},[X(M1,{ref:"maxSpinner",role:"end","show-seconds":h(w),"am-pm-mode":h(S),"arrow-control":h(c),"spinner-date":h(v),"disabled-hours":N,"disabled-minutes":k,"disabled-seconds":B,onChange:T,onSetOption:h(oe),onSelectRange:U},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Y("div",{class:L(h(o).be("panel","footer"))},[Y("button",{type:"button",class:L([h(o).be("panel","btn"),"cancel"]),onClick:me[0]||(me[0]=K=>b())},Ge(h(s)("el.datepicker.cancel")),3),Y("button",{type:"button",class:L([h(o).be("panel","btn"),"confirm"]),disabled:h(R),onClick:me[1]||(me[1]=K=>x())},Ge(h(s)("el.datepicker.confirm")),11,eK)],2)],2)):ge("v-if",!0)}});var nK=$e(tK,[["__file","panel-time-range.vue"]]);Rt.extend(gw);var iK=j({name:"ElTimePicker",install:null,props:{...vw,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,e){const n=z(),[i,s]=t.isRange?["timerange",nK]:["time",dg],r=o=>e.emit("update:modelValue",o);return Nt("ElPopperOptions",t.popperOptions),e.expose({focus:o=>{var a;(a=n.value)==null||a.handleFocusInput(o)},blur:o=>{var a;(a=n.value)==null||a.handleBlurInput(o)},handleOpen:()=>{var o;(o=n.value)==null||o.handleOpen()},handleClose:()=>{var o;(o=n.value)==null||o.handleClose()}}),()=>{var o;const a=(o=t.format)!=null?o:p1;return X(oP,Lt(t,{ref:n,type:i,format:a,"onUpdate:modelValue":r}),{default:l=>X(s,l,null)})}}});const _m=iK;_m.install=t=>{t.component(_m.name,_m)};const sK=_m,rK=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return ma(e).map((i,s)=>n-(e-s-1))},oK=t=>{const e=t.daysInMonth();return ma(e).map((n,i)=>i+1)},aK=t=>ma(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),lK=ze({selectedDay:{type:ce(Object)},range:{type:ce(Array)},date:{type:ce(Object),required:!0},hideHeader:{type:Boolean}}),cK={pick:t=>Pt(t)};var yP={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Io,function(){return function(n,i,s){var r=i.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,f,p,g,m){var y=d.name?d:d.$locale(),v=o(y[f]),_=o(y[p]),b=v||_.map(function(S){return S.slice(0,g)});if(!m)return b;var w=y.weekStart;return b.map(function(S,x){return b[(x+(w||0))%7]})},l=function(){return s.Ls[s.locale()]},c=function(d,f){return d.formats[f]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,m,y){return m||y.slice(1)})}(d.formats[f.toUpperCase()])},u=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):a(d,"months")},monthsShort:function(f){return f?f.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):a(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return u.bind(this)()},s.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(f){return c(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},s.months=function(){return a(l(),"months")},s.monthsShort=function(){return a(l(),"monthsShort","months",3)},s.weekdays=function(d){return a(l(),"weekdays",null,null,d)},s.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},s.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(yP);var uK=yP.exports;const bP=ko(uK),dK=(t,e)=>{Rt.extend(bP);const n=Rt.localeData().firstDayOfWeek(),{t:i,lang:s}=$t(),r=Rt().locale(s.value),o=A(()=>!!t.range&&!!t.range.length),a=A(()=>{let f=[];if(o.value){const[p,g]=t.range,m=ma(g.date()-p.date()+1).map(_=>({text:p.date()+_,type:"current"}));let y=m.length%7;y=y===0?0:7-y;const v=ma(y).map((_,b)=>({text:b+1,type:"next"}));f=m.concat(v)}else{const p=t.date.startOf("month").day(),g=rK(t.date,(p-n+7)%7).map(_=>({text:_,type:"prev"})),m=oK(t.date).map(_=>({text:_,type:"current"}));f=[...g,...m];const y=7-(f.length%7||7),v=ma(y).map((_,b)=>({text:b+1,type:"next"}));f=f.concat(v)}return aK(f)}),l=A(()=>{const f=n;return f===0?p0.map(p=>i(`el.datepicker.weeks.${p}`)):p0.slice(f).concat(p0.slice(0,f)).map(p=>i(`el.datepicker.weeks.${p}`))}),c=(f,p)=>{switch(p){case"prev":return t.date.startOf("month").subtract(1,"month").date(f);case"next":return t.date.startOf("month").add(1,"month").date(f);case"current":return t.date.date(f)}};return{now:r,isInRange:o,rows:a,weekDays:l,getFormattedDate:c,handlePickDay:({text:f,type:p})=>{const g=c(f,p);e("pick",g)},getSlotData:({text:f,type:p})=>{const g=c(f,p);return{isSelected:g.isSame(t.selectedDay),type:`${p}-month`,day:g.format("YYYY-MM-DD"),date:g.toDate()}}}},fK={key:0},hK=["onClick"],pK=j({name:"DateTable"}),mK=j({...pK,props:lK,emits:cK,setup(t,{expose:e,emit:n}){const i=t,{isInRange:s,now:r,rows:o,weekDays:a,getFormattedDate:l,handlePickDay:c,getSlotData:u}=dK(i,n),d=Oe("calendar-table"),f=Oe("calendar-day"),p=({text:g,type:m})=>{const y=[m];if(m==="current"){const v=l(g,m);v.isSame(i.selectedDay,"day")&&y.push(f.is("selected")),v.isSame(r,"day")&&y.push(f.is("today"))}return y};return e({getFormattedDate:l}),(g,m)=>(P(),H("table",{class:L([h(d).b(),h(d).is("range",h(s))]),cellspacing:"0",cellpadding:"0"},[g.hideHeader?ge("v-if",!0):(P(),H("thead",fK,[(P(!0),H(st,null,Dt(h(a),y=>(P(),H("th",{key:y},Ge(y),1))),128))])),Y("tbody",null,[(P(!0),H(st,null,Dt(h(o),(y,v)=>(P(),H("tr",{key:v,class:L({[h(d).e("row")]:!0,[h(d).em("row","hide-border")]:v===0&&g.hideHeader})},[(P(!0),H(st,null,Dt(y,(_,b)=>(P(),H("td",{key:b,class:L(p(_)),onClick:w=>h(c)(_)},[Y("div",{class:L(h(f).b())},[Me(g.$slots,"date-cell",{data:h(u)(_)},()=>[Y("span",null,Ge(_.text),1)])],2)],10,hK))),128))],2))),128))])],2))}});var AC=$e(mK,[["__file","date-table.vue"]]);const gK=(t,e)=>{const n=t.endOf("month"),i=e.startOf("month"),r=n.isSame(i,"week")?i.add(1,"week"):i;return[[t,n],[r.startOf("week"),e]]},vK=(t,e)=>{const n=t.endOf("month"),i=t.add(1,"month").startOf("month"),s=n.isSame(i,"week")?i.add(1,"week"):i,r=s.endOf("month"),o=e.startOf("month"),a=r.isSame(o,"week")?o.add(1,"week"):o;return[[t,n],[s.startOf("week"),r],[a.startOf("week"),e]]},yK=(t,e,n)=>{const{lang:i}=$t(),s=z(),r=Rt().locale(i.value),o=A({get(){return t.modelValue?l.value:s.value},set(y){if(!y)return;s.value=y;const v=y.toDate();e(ns,v),e(It,v)}}),a=A(()=>{if(!t.range)return[];const y=t.range.map(b=>Rt(b).locale(i.value)),[v,_]=y;return v.isAfter(_)?[]:v.isSame(_,"month")?p(v,_):v.add(1,"month").month()!==_.month()?[]:p(v,_)}),l=A(()=>t.modelValue?Rt(t.modelValue).locale(i.value):o.value||(a.value.length?a.value[0][0]:r)),c=A(()=>l.value.subtract(1,"month").date(1)),u=A(()=>l.value.add(1,"month").date(1)),d=A(()=>l.value.subtract(1,"year").date(1)),f=A(()=>l.value.add(1,"year").date(1)),p=(y,v)=>{const _=y.startOf("week"),b=v.endOf("week"),w=_.get("month"),S=b.get("month");return w===S?[[_,b]]:(w+1)%12===S?gK(_,b):w+2===S||(w+1)%11===S?vK(_,b):[]},g=y=>{o.value=y};return{calculateValidatedDateRange:p,date:l,realSelectedDay:o,pickDay:g,selectDate:y=>{const _={"prev-month":c.value,"next-month":u.value,"prev-year":d.value,"next-year":f.value,today:r}[y];_.isSame(l.value,"day")||g(_)},validatedRange:a}},bK=t=>Ze(t)&&t.length===2&&t.every(e=>Wl(e)),_K=ze({modelValue:{type:Date},range:{type:ce(Array),validator:bK}}),wK={[It]:t=>Wl(t),[ns]:t=>Wl(t)},xK="ElCalendar",SK=j({name:xK}),MK=j({...SK,props:_K,emits:wK,setup(t,{expose:e,emit:n}){const i=t,s=Oe("calendar"),{calculateValidatedDateRange:r,date:o,pickDay:a,realSelectedDay:l,selectDate:c,validatedRange:u}=yK(i,n),{t:d}=$t(),f=A(()=>{const p=`el.datepicker.month${o.value.format("M")}`;return`${o.value.year()} ${d("el.datepicker.year")} ${d(p)}`});return e({selectedDay:l,pickDay:a,selectDate:c,calculateValidatedDateRange:r}),(p,g)=>(P(),H("div",{class:L(h(s).b())},[Y("div",{class:L(h(s).e("header"))},[Me(p.$slots,"header",{date:h(f)},()=>[Y("div",{class:L(h(s).e("title"))},Ge(h(f)),3),h(u).length===0?(P(),H("div",{key:0,class:L(h(s).e("button-group"))},[X(h(Q3),null,{default:ne(()=>[X(h(bi),{size:"small",onClick:g[0]||(g[0]=m=>h(c)("prev-month"))},{default:ne(()=>[zt(Ge(h(d)("el.datepicker.prevMonth")),1)]),_:1}),X(h(bi),{size:"small",onClick:g[1]||(g[1]=m=>h(c)("today"))},{default:ne(()=>[zt(Ge(h(d)("el.datepicker.today")),1)]),_:1}),X(h(bi),{size:"small",onClick:g[2]||(g[2]=m=>h(c)("next-month"))},{default:ne(()=>[zt(Ge(h(d)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):ge("v-if",!0)])],2),h(u).length===0?(P(),H("div",{key:0,class:L(h(s).e("body"))},[X(AC,{date:h(o),"selected-day":h(l),onPick:h(a)},vo({_:2},[p.$slots["date-cell"]?{name:"date-cell",fn:ne(m=>[Me(p.$slots,"date-cell",co(_u(m)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(P(),H("div",{key:1,class:L(h(s).e("body"))},[(P(!0),H(st,null,Dt(h(u),(m,y)=>(P(),_e(AC,{key:y,date:m[0],"selected-day":h(l),range:m,"hide-header":y!==0,onPick:h(a)},vo({_:2},[p.$slots["date-cell"]?{name:"date-cell",fn:ne(v=>[Me(p.$slots,"date-cell",co(_u(v)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var CK=$e(MK,[["__file","calendar.vue"]]);const EK=At(CK),TK=ze({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:ce([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),AK=j({name:"ElCard"}),RK=j({...AK,props:TK,setup(t){const e=Oe("card");return(n,i)=>(P(),H("div",{class:L([h(e).b(),h(e).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(P(),H("div",{key:0,class:L(h(e).e("header"))},[Me(n.$slots,"header",{},()=>[zt(Ge(n.header),1)])],2)):ge("v-if",!0),Y("div",{class:L([h(e).e("body"),n.bodyClass]),style:nt(n.bodyStyle)},[Me(n.$slots,"default")],6),n.$slots.footer||n.footer?(P(),H("div",{key:1,class:L(h(e).e("footer"))},[Me(n.$slots,"footer",{},()=>[zt(Ge(n.footer),1)])],2)):ge("v-if",!0)],2))}});var PK=$e(RK,[["__file","card.vue"]]);const IK=At(PK),kK=ze({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),OK={change:(t,e)=>[t,e].every(ft)},_P=Symbol("carouselContextKey"),RC=300,LK=(t,e,n)=>{const{children:i,addChild:s,removeChild:r}=cw(Tt(),"ElCarouselItem"),o=Ci(),a=z(-1),l=z(null),c=z(!1),u=z(),d=z(0),f=z(!0),p=z(!0),g=z(!1),m=A(()=>t.arrow!=="never"&&!h(_)),y=A(()=>i.value.some(te=>te.props.label.toString().length>0)),v=A(()=>t.type==="card"),_=A(()=>t.direction==="vertical"),b=A(()=>t.height!=="auto"?{height:t.height}:{height:`${d.value}px`,overflow:"hidden"}),w=Dl(te=>{M(te)},RC,{trailing:!0}),S=Dl(te=>{k(te)},RC),x=te=>f.value?a.value<=1?te<=1:te>1:!0;function C(){l.value&&(clearInterval(l.value),l.value=null)}function T(){t.interval<=0||!t.autoplay||l.value||(l.value=setInterval(()=>E(),t.interval))}const E=()=>{p.value||(g.value=!0),p.value=!1,a.value<i.value.length-1?a.value=a.value+1:t.loop&&(a.value=0)};function M(te){if(p.value||(g.value=!0),p.value=!1,yt(te)){const Ne=i.value.filter(Q=>Q.props.name===te);Ne.length>0&&(te=i.value.indexOf(Ne[0]))}if(te=Number(te),Number.isNaN(te)||te!==Math.floor(te))return;const oe=i.value.length,de=a.value;te<0?a.value=t.loop?oe-1:0:te>=oe?a.value=t.loop?0:oe-1:a.value=te,de===a.value&&R(de),J()}function R(te){i.value.forEach((oe,de)=>{oe.translateItem(de,a.value,te)})}function O(te,oe){var de,Ne,Q,Te;const me=h(i),K=me.length;if(K===0||!te.states.inStage)return!1;const q=oe+1,ue=oe-1,ve=K-1,he=me[ve].states.active,xe=me[0].states.active,W=(Ne=(de=me[q])==null?void 0:de.states)==null?void 0:Ne.active,$=(Te=(Q=me[ue])==null?void 0:Q.states)==null?void 0:Te.active;return oe===ve&&xe||W?"left":oe===0&&he||$?"right":!1}function F(){c.value=!0,t.pauseOnHover&&C()}function V(){c.value=!1,T()}function U(){g.value=!1}function D(te){h(_)||i.value.forEach((oe,de)=>{te===O(oe,de)&&(oe.states.hover=!0)})}function I(){h(_)||i.value.forEach(te=>{te.states.hover=!1})}function N(te){te!==a.value&&(p.value||(g.value=!0)),a.value=te}function k(te){t.trigger==="hover"&&te!==a.value&&(a.value=te,p.value||(g.value=!0))}function B(){M(a.value-1)}function G(){M(a.value+1)}function J(){C(),t.pauseOnHover||T()}function re(te){t.height==="auto"&&(d.value=te)}function ee(){var te;const oe=(te=o.default)==null?void 0:te.call(o);if(!oe)return null;const de=pa(oe),Ne="ElCarouselItem",Q=de.filter(Te=>xn(Te)&&Te.type.name===Ne);return(Q==null?void 0:Q.length)===2&&t.loop&&!v.value?(f.value=!0,Q):(f.value=!1,null)}ke(()=>a.value,(te,oe)=>{R(oe),f.value&&(te=te%2,oe=oe%2),oe>-1&&e("change",te,oe)}),ke(()=>t.autoplay,te=>{te?T():C()}),ke(()=>t.loop,()=>{M(a.value)}),ke(()=>t.interval,()=>{J()});const ye=vn();return Mt(()=>{ke(()=>i.value,()=>{i.value.length>0&&M(t.initialIndex)},{immediate:!0}),ye.value=Mn(u.value,()=>{R()}),T()}),fn(()=>{C(),u.value&&ye.value&&ye.value.stop()}),Nt(_P,{root:u,isCardType:v,isVertical:_,items:i,loop:t.loop,addItem:s,removeItem:r,setActiveItem:M,setContainerHeight:re}),{root:u,activeIndex:a,arrowDisplay:m,hasLabel:y,hover:c,isCardType:v,isTransitioning:g,items:i,isVertical:_,containerStyle:b,isItemsTwoLength:f,handleButtonEnter:D,handleTransitionEnd:U,handleButtonLeave:I,handleIndicatorClick:N,handleMouseEnter:F,handleMouseLeave:V,setActiveItem:M,prev:B,next:G,PlaceholderItem:ee,isTwoLengthShow:x,throttledArrowClick:w,throttledIndicatorHover:S}},NK=["aria-label"],DK=["aria-label"],FK=["onMouseenter","onClick"],BK=["aria-label"],UK={key:0},zK={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},VK=Y("defs",null,[Y("filter",{id:"elCarouselHorizontal"},[Y("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),Y("filter",{id:"elCarouselVertical"},[Y("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1),$K=[VK],HK="ElCarousel",WK=j({name:HK}),GK=j({...WK,props:kK,emits:OK,setup(t,{expose:e,emit:n}){const i=t,{root:s,activeIndex:r,arrowDisplay:o,hasLabel:a,hover:l,isCardType:c,items:u,isVertical:d,containerStyle:f,handleButtonEnter:p,handleButtonLeave:g,isTransitioning:m,handleIndicatorClick:y,handleMouseEnter:v,handleMouseLeave:_,handleTransitionEnd:b,setActiveItem:w,prev:S,next:x,PlaceholderItem:C,isTwoLengthShow:T,throttledArrowClick:E,throttledIndicatorHover:M}=LK(i,n),R=Oe("carousel"),{t:O}=$t(),F=A(()=>{const D=[R.b(),R.m(i.direction)];return h(c)&&D.push(R.m("card")),D}),V=A(()=>{const D=[R.e("container")];return i.motionBlur&&h(m)&&D.push(h(d)?`${R.namespace.value}-transitioning-vertical`:`${R.namespace.value}-transitioning`),D}),U=A(()=>{const D=[R.e("indicators"),R.em("indicators",i.direction)];return h(a)&&D.push(R.em("indicators","labels")),i.indicatorPosition==="outside"&&D.push(R.em("indicators","outside")),h(d)&&D.push(R.em("indicators","right")),D});return e({setActiveItem:w,prev:S,next:x}),(D,I)=>(P(),H("div",{ref_key:"root",ref:s,class:L(h(F)),onMouseenter:I[7]||(I[7]=gt((...N)=>h(v)&&h(v)(...N),["stop"])),onMouseleave:I[8]||(I[8]=gt((...N)=>h(_)&&h(_)(...N),["stop"]))},[h(o)?(P(),_e(ii,{key:0,name:"carousel-arrow-left",persisted:""},{default:ne(()=>[St(Y("button",{type:"button",class:L([h(R).e("arrow"),h(R).em("arrow","left")]),"aria-label":h(O)("el.carousel.leftArrow"),onMouseenter:I[0]||(I[0]=N=>h(p)("left")),onMouseleave:I[1]||(I[1]=(...N)=>h(g)&&h(g)(...N)),onClick:I[2]||(I[2]=gt(N=>h(E)(h(r)-1),["stop"]))},[X(h(tt),null,{default:ne(()=>[X(h(Sa))]),_:1})],42,NK),[[Kt,(D.arrow==="always"||h(l))&&(i.loop||h(r)>0)]])]),_:1})):ge("v-if",!0),h(o)?(P(),_e(ii,{key:1,name:"carousel-arrow-right",persisted:""},{default:ne(()=>[St(Y("button",{type:"button",class:L([h(R).e("arrow"),h(R).em("arrow","right")]),"aria-label":h(O)("el.carousel.rightArrow"),onMouseenter:I[3]||(I[3]=N=>h(p)("right")),onMouseleave:I[4]||(I[4]=(...N)=>h(g)&&h(g)(...N)),onClick:I[5]||(I[5]=gt(N=>h(E)(h(r)+1),["stop"]))},[X(h(tt),null,{default:ne(()=>[X(h(ts))]),_:1})],42,DK),[[Kt,(D.arrow==="always"||h(l))&&(i.loop||h(r)<h(u).length-1)]])]),_:1})):ge("v-if",!0),Y("div",{class:L(h(V)),style:nt(h(f)),onTransitionend:I[6]||(I[6]=(...N)=>h(b)&&h(b)(...N))},[X(h(C)),Me(D.$slots,"default")],38),D.indicatorPosition!=="none"?(P(),H("ul",{key:2,class:L(h(U))},[(P(!0),H(st,null,Dt(h(u),(N,k)=>St((P(),H("li",{key:k,class:L([h(R).e("indicator"),h(R).em("indicator",D.direction),h(R).is("active",k===h(r))]),onMouseenter:B=>h(M)(k),onClick:gt(B=>h(y)(k),["stop"])},[Y("button",{class:L(h(R).e("button")),"aria-label":h(O)("el.carousel.indicator",{index:k+1})},[h(a)?(P(),H("span",UK,Ge(N.props.label),1)):ge("v-if",!0)],10,BK)],42,FK)),[[Kt,h(T)(k)]])),128))],2)):ge("v-if",!0),i.motionBlur?(P(),H("svg",zK,$K)):ge("v-if",!0)],34))}});var KK=$e(GK,[["__file","carousel.vue"]]);const YK=ze({name:{type:String,default:""},label:{type:[String,Number],default:""}}),XK=(t,e)=>{const n=et(_P),i=Tt(),s=.83,r=z(),o=z(!1),a=z(0),l=z(1),c=z(!1),u=z(!1),d=z(!1),f=z(!1),{isCardType:p,isVertical:g}=n;function m(w,S,x){const C=x-1,T=S-1,E=S+1,M=x/2;return S===0&&w===C?-1:S===C&&w===0?x:w<T&&S-w>=M?x+1:w>E&&w-S>=M?-2:w}function y(w,S){var x,C;const T=h(g)?((x=n.root.value)==null?void 0:x.offsetHeight)||0:((C=n.root.value)==null?void 0:C.offsetWidth)||0;return d.value?T*((2-s)*(w-S)+1)/4:w<S?-(1+s)*T/4:(3+s)*T/4}function v(w,S,x){const C=n.root.value;return C?((x?C.offsetHeight:C.offsetWidth)||0)*(w-S):0}const _=(w,S,x)=>{var C;const T=h(p),E=(C=n.items.value.length)!=null?C:Number.NaN,M=w===S;!T&&!Kn(x)&&(f.value=M||w===x),!M&&E>2&&n.loop&&(w=m(w,S,E));const R=h(g);c.value=M,T?(d.value=Math.round(Math.abs(w-S))<=1,a.value=y(w,S),l.value=h(c)?1:s):a.value=v(w,S,R),u.value=!0,M&&r.value&&n.setContainerHeight(r.value.offsetHeight)};function b(){if(n&&h(p)){const w=n.items.value.findIndex(({uid:S})=>S===i.uid);n.setActiveItem(w)}}return Mt(()=>{n.addItem({props:t,states:Xt({hover:o,translate:a,scale:l,active:c,ready:u,inStage:d,animating:f}),uid:i.uid,translateItem:_})}),La(()=>{n.removeItem(i.uid)}),{carouselItemRef:r,active:c,animating:f,hover:o,inStage:d,isVertical:g,translate:a,isCardType:p,scale:l,ready:u,handleItemClick:b}},qK=j({name:"ElCarouselItem"}),jK=j({...qK,props:YK,setup(t){const e=t,n=Oe("carousel"),{carouselItemRef:i,active:s,animating:r,hover:o,inStage:a,isVertical:l,translate:c,isCardType:u,scale:d,ready:f,handleItemClick:p}=XK(e),g=A(()=>[n.e("item"),n.is("active",s.value),n.is("in-stage",a.value),n.is("hover",o.value),n.is("animating",r.value),{[n.em("item","card")]:u.value,[n.em("item","card-vertical")]:u.value&&l.value}]),m=A(()=>{const v=`${`translate${h(l)?"Y":"X"}`}(${h(c)}px)`,_=`scale(${h(d)})`;return{transform:[v,_].join(" ")}});return(y,v)=>St((P(),H("div",{ref_key:"carouselItemRef",ref:i,class:L(h(g)),style:nt(h(m)),onClick:v[0]||(v[0]=(..._)=>h(p)&&h(p)(..._))},[h(u)?St((P(),H("div",{key:0,class:L(h(n).e("mask"))},null,2)),[[Kt,!h(s)]]):ge("v-if",!0),Me(y.$slots,"default")],6)),[[Kt,h(f)]])}});var wP=$e(jK,[["__file","carousel-item.vue"]]);const ZK=At(KK,{CarouselItem:wP}),JK=En(wP),xP={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:fi,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...Ai(["ariaControls"])},SP={[It]:t=>yt(t)||ft(t)||Yn(t),change:t=>yt(t)||ft(t)||Yn(t)},nd=Symbol("checkboxGroupContextKey"),QK=({model:t,isChecked:e})=>{const n=et(nd,void 0),i=A(()=>{var r,o;const a=(r=n==null?void 0:n.max)==null?void 0:r.value,l=(o=n==null?void 0:n.min)==null?void 0:o.value;return!Kn(a)&&t.value.length>=a&&!e.value||!Kn(l)&&t.value.length<=l&&e.value});return{isDisabled:os(A(()=>(n==null?void 0:n.disabled.value)||i.value)),isLimitDisabled:i}},eY=(t,{model:e,isLimitExceeded:n,hasOwnLabel:i,isDisabled:s,isLabeledByFormItem:r})=>{const o=et(nd,void 0),{formItem:a}=Xi(),{emit:l}=Tt();function c(g){var m,y,v,_;return[!0,t.trueValue,t.trueLabel].includes(g)?(y=(m=t.trueValue)!=null?m:t.trueLabel)!=null?y:!0:(_=(v=t.falseValue)!=null?v:t.falseLabel)!=null?_:!1}function u(g,m){l("change",c(g),m)}function d(g){if(n.value)return;const m=g.target;l("change",c(m.checked),g)}async function f(g){n.value||!i.value&&!s.value&&r.value&&(g.composedPath().some(v=>v.tagName==="LABEL")||(e.value=c([!1,t.falseValue,t.falseLabel].includes(e.value)),await rt(),u(e.value,g)))}const p=A(()=>(o==null?void 0:o.validateEvent)||t.validateEvent);return ke(()=>t.modelValue,()=>{p.value&&(a==null||a.validate("change").catch(g=>void 0))}),{handleChange:d,onClickRoot:f}},tY=t=>{const e=z(!1),{emit:n}=Tt(),i=et(nd,void 0),s=A(()=>Kn(i)===!1),r=z(!1),o=A({get(){var a,l;return s.value?(a=i==null?void 0:i.modelValue)==null?void 0:a.value:(l=t.modelValue)!=null?l:e.value},set(a){var l,c;s.value&&Ze(a)?(r.value=((l=i==null?void 0:i.max)==null?void 0:l.value)!==void 0&&a.length>(i==null?void 0:i.max.value)&&a.length>o.value.length,r.value===!1&&((c=i==null?void 0:i.changeEvent)==null||c.call(i,a))):(n(It,a),e.value=a)}});return{model:o,isGroup:s,isLimitExceeded:r}},nY=(t,e,{model:n})=>{const i=et(nd,void 0),s=z(!1),r=A(()=>Yl(t.value)?t.label:t.value),o=A(()=>{const u=n.value;return Yn(u)?u:Ze(u)?Pt(r.value)?u.map(tn).some(d=>Gi(d,r.value)):u.map(tn).includes(r.value):u!=null?u===t.trueValue||u===t.trueLabel:!!u}),a=ei(A(()=>{var u;return(u=i==null?void 0:i.size)==null?void 0:u.value}),{prop:!0}),l=ei(A(()=>{var u;return(u=i==null?void 0:i.size)==null?void 0:u.value})),c=A(()=>!!e.default||!Yl(r.value));return{checkboxButtonSize:a,isChecked:o,isFocused:s,checkboxSize:l,hasOwnLabel:c,actualValue:r}},MP=(t,e)=>{const{formItem:n}=Xi(),{model:i,isGroup:s,isLimitExceeded:r}=tY(t),{isFocused:o,isChecked:a,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,actualValue:d}=nY(t,e,{model:i}),{isDisabled:f}=QK({model:i,isChecked:a}),{inputId:p,isLabeledByFormItem:g}=wr(t,{formItemContext:n,disableIdGeneration:u,disableIdManagement:s}),{handleChange:m,onClickRoot:y}=eY(t,{model:i,isLimitExceeded:r,hasOwnLabel:u,isDisabled:f,isLabeledByFormItem:g});return(()=>{function _(){var b,w;Ze(i.value)&&!i.value.includes(d.value)?i.value.push(d.value):i.value=(w=(b=t.trueValue)!=null?b:t.trueLabel)!=null?w:!0}t.checked&&_()})(),gi({from:"controls",replacement:"aria-controls",version:"2.8.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},A(()=>!!t.controls)),gi({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},A(()=>s.value&&Yl(t.value))),gi({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},A(()=>!!t.trueLabel)),gi({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},A(()=>!!t.falseLabel)),{inputId:p,isLabeledByFormItem:g,isChecked:a,isDisabled:f,isFocused:o,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,model:i,actualValue:d,handleChange:m,onClickRoot:y}},iY=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],sY=["id","indeterminate","disabled","value","name","tabindex"],rY=j({name:"ElCheckbox"}),oY=j({...rY,props:xP,emits:SP,setup(t){const e=t,n=Ci(),{inputId:i,isLabeledByFormItem:s,isChecked:r,isDisabled:o,isFocused:a,checkboxSize:l,hasOwnLabel:c,model:u,actualValue:d,handleChange:f,onClickRoot:p}=MP(e,n),g=Oe("checkbox"),m=A(()=>[g.b(),g.m(l.value),g.is("disabled",o.value),g.is("bordered",e.border),g.is("checked",r.value)]),y=A(()=>[g.e("input"),g.is("disabled",o.value),g.is("checked",r.value),g.is("indeterminate",e.indeterminate),g.is("focus",a.value)]);return(v,_)=>(P(),_e(kt(!h(c)&&h(s)?"span":"label"),{class:L(h(m)),"aria-controls":v.indeterminate?v.controls||v.ariaControls:null,onClick:h(p)},{default:ne(()=>{var b,w;return[Y("span",{class:L(h(y))},[v.trueValue||v.falseValue||v.trueLabel||v.falseLabel?St((P(),H("input",{key:0,id:h(i),"onUpdate:modelValue":_[0]||(_[0]=S=>yn(u)?u.value=S:null),class:L(h(g).e("original")),type:"checkbox",indeterminate:v.indeterminate,name:v.name,tabindex:v.tabindex,disabled:h(o),"true-value":(b=v.trueValue)!=null?b:v.trueLabel,"false-value":(w=v.falseValue)!=null?w:v.falseLabel,onChange:_[1]||(_[1]=(...S)=>h(f)&&h(f)(...S)),onFocus:_[2]||(_[2]=S=>a.value=!0),onBlur:_[3]||(_[3]=S=>a.value=!1),onClick:_[4]||(_[4]=gt(()=>{},["stop"]))},null,42,iY)),[[eg,h(u)]]):St((P(),H("input",{key:1,id:h(i),"onUpdate:modelValue":_[5]||(_[5]=S=>yn(u)?u.value=S:null),class:L(h(g).e("original")),type:"checkbox",indeterminate:v.indeterminate,disabled:h(o),value:h(d),name:v.name,tabindex:v.tabindex,onChange:_[6]||(_[6]=(...S)=>h(f)&&h(f)(...S)),onFocus:_[7]||(_[7]=S=>a.value=!0),onBlur:_[8]||(_[8]=S=>a.value=!1),onClick:_[9]||(_[9]=gt(()=>{},["stop"]))},null,42,sY)),[[eg,h(u)]]),Y("span",{class:L(h(g).e("inner"))},null,2)],2),h(c)?(P(),H("span",{key:0,class:L(h(g).e("label"))},[Me(v.$slots,"default"),v.$slots.default?ge("v-if",!0):(P(),H(st,{key:0},[zt(Ge(v.label),1)],64))],2)):ge("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var aY=$e(oY,[["__file","checkbox.vue"]]);const lY=["name","tabindex","disabled","true-value","false-value"],cY=["name","tabindex","disabled","value"],uY=j({name:"ElCheckboxButton"}),dY=j({...uY,props:xP,emits:SP,setup(t){const e=t,n=Ci(),{isFocused:i,isChecked:s,isDisabled:r,checkboxButtonSize:o,model:a,actualValue:l,handleChange:c}=MP(e,n),u=et(nd,void 0),d=Oe("checkbox"),f=A(()=>{var g,m,y,v;const _=(m=(g=u==null?void 0:u.fill)==null?void 0:g.value)!=null?m:"";return{backgroundColor:_,borderColor:_,color:(v=(y=u==null?void 0:u.textColor)==null?void 0:y.value)!=null?v:"",boxShadow:_?`-1px 0 0 0 ${_}`:void 0}}),p=A(()=>[d.b("button"),d.bm("button",o.value),d.is("disabled",r.value),d.is("checked",s.value),d.is("focus",i.value)]);return(g,m)=>{var y,v;return P(),H("label",{class:L(h(p))},[g.trueValue||g.falseValue||g.trueLabel||g.falseLabel?St((P(),H("input",{key:0,"onUpdate:modelValue":m[0]||(m[0]=_=>yn(a)?a.value=_:null),class:L(h(d).be("button","original")),type:"checkbox",name:g.name,tabindex:g.tabindex,disabled:h(r),"true-value":(y=g.trueValue)!=null?y:g.trueLabel,"false-value":(v=g.falseValue)!=null?v:g.falseLabel,onChange:m[1]||(m[1]=(..._)=>h(c)&&h(c)(..._)),onFocus:m[2]||(m[2]=_=>i.value=!0),onBlur:m[3]||(m[3]=_=>i.value=!1),onClick:m[4]||(m[4]=gt(()=>{},["stop"]))},null,42,lY)),[[eg,h(a)]]):St((P(),H("input",{key:1,"onUpdate:modelValue":m[5]||(m[5]=_=>yn(a)?a.value=_:null),class:L(h(d).be("button","original")),type:"checkbox",name:g.name,tabindex:g.tabindex,disabled:h(r),value:h(l),onChange:m[6]||(m[6]=(..._)=>h(c)&&h(c)(..._)),onFocus:m[7]||(m[7]=_=>i.value=!0),onBlur:m[8]||(m[8]=_=>i.value=!1),onClick:m[9]||(m[9]=gt(()=>{},["stop"]))},null,42,cY)),[[eg,h(a)]]),g.$slots.default||g.label?(P(),H("span",{key:2,class:L(h(d).be("button","inner")),style:nt(h(s)?h(f):void 0)},[Me(g.$slots,"default",{},()=>[zt(Ge(g.label),1)])],6)):ge("v-if",!0)],2)}}});var CP=$e(dY,[["__file","checkbox-button.vue"]]);const fY=ze({modelValue:{type:ce(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:fi,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...Ai(["ariaLabel"])}),hY={[It]:t=>Ze(t),change:t=>Ze(t)},pY=j({name:"ElCheckboxGroup"}),mY=j({...pY,props:fY,emits:hY,setup(t,{emit:e}){const n=t,i=Oe("checkbox"),{formItem:s}=Xi(),{inputId:r,isLabeledByFormItem:o}=wr(n,{formItemContext:s}),a=async c=>{e(It,c),await rt(),e("change",c)},l=A({get(){return n.modelValue},set(c){a(c)}});return Nt(nd,{...Lr(Ti(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:a}),gi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-checkbox-group",ref:"https://element-plus.org/en-US/component/checkbox.html"},A(()=>!!n.label)),ke(()=>n.modelValue,()=>{n.validateEvent&&(s==null||s.validate("change").catch(c=>void 0))}),(c,u)=>{var d;return P(),_e(kt(c.tag),{id:h(r),class:L(h(i).b("group")),role:"group","aria-label":h(o)?void 0:c.label||c.ariaLabel||"checkbox-group","aria-labelledby":h(o)?(d=h(s))==null?void 0:d.labelId:void 0},{default:ne(()=>[Me(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var EP=$e(mY,[["__file","checkbox-group.vue"]]);const tr=At(aY,{CheckboxButton:CP,CheckboxGroup:EP}),gY=En(CP),TP=En(EP),AP=ze({modelValue:{type:[String,Number,Boolean],default:void 0},size:fi,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),vY=ze({...AP,border:Boolean}),RP={[It]:t=>yt(t)||ft(t)||Yn(t),[mn]:t=>yt(t)||ft(t)||Yn(t)},PP=Symbol("radioGroupKey"),IP=(t,e)=>{const n=z(),i=et(PP,void 0),s=A(()=>!!i),r=A(()=>Yl(t.value)?t.label:t.value),o=A({get(){return s.value?i.modelValue:t.modelValue},set(d){s.value?i.changeEvent(d):e&&e(It,d),n.value.checked=t.modelValue===r.value}}),a=ei(A(()=>i==null?void 0:i.size)),l=os(A(()=>i==null?void 0:i.disabled)),c=z(!1),u=A(()=>l.value||s.value&&o.value!==r.value?-1:0);return gi({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},A(()=>s.value&&Yl(t.value))),{radioRef:n,isGroup:s,radioGroup:i,focus:c,size:a,disabled:l,tabIndex:u,modelValue:o,actualValue:r}},yY=["value","name","disabled"],bY=j({name:"ElRadio"}),_Y=j({...bY,props:vY,emits:RP,setup(t,{emit:e}){const n=t,i=Oe("radio"),{radioRef:s,radioGroup:r,focus:o,size:a,disabled:l,modelValue:c,actualValue:u}=IP(n,e);function d(){rt(()=>e("change",c.value))}return(f,p)=>{var g;return P(),H("label",{class:L([h(i).b(),h(i).is("disabled",h(l)),h(i).is("focus",h(o)),h(i).is("bordered",f.border),h(i).is("checked",h(c)===h(u)),h(i).m(h(a))])},[Y("span",{class:L([h(i).e("input"),h(i).is("disabled",h(l)),h(i).is("checked",h(c)===h(u))])},[St(Y("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":p[0]||(p[0]=m=>yn(c)?c.value=m:null),class:L(h(i).e("original")),value:h(u),name:f.name||((g=h(r))==null?void 0:g.name),disabled:h(l),type:"radio",onFocus:p[1]||(p[1]=m=>o.value=!0),onBlur:p[2]||(p[2]=m=>o.value=!1),onChange:d,onClick:p[3]||(p[3]=gt(()=>{},["stop"]))},null,42,yY),[[zA,h(c)]]),Y("span",{class:L(h(i).e("inner"))},null,2)],2),Y("span",{class:L(h(i).e("label")),onKeydown:p[4]||(p[4]=gt(()=>{},["stop"]))},[Me(f.$slots,"default",{},()=>[zt(Ge(f.label),1)])],34)],2)}}});var wY=$e(_Y,[["__file","radio.vue"]]);const xY=ze({...AP}),SY=["value","name","disabled"],MY=j({name:"ElRadioButton"}),CY=j({...MY,props:xY,setup(t){const e=t,n=Oe("radio"),{radioRef:i,focus:s,size:r,disabled:o,modelValue:a,radioGroup:l,actualValue:c}=IP(e),u=A(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(d,f)=>{var p;return P(),H("label",{class:L([h(n).b("button"),h(n).is("active",h(a)===h(c)),h(n).is("disabled",h(o)),h(n).is("focus",h(s)),h(n).bm("button",h(r))])},[St(Y("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":f[0]||(f[0]=g=>yn(a)?a.value=g:null),class:L(h(n).be("button","original-radio")),value:h(c),type:"radio",name:d.name||((p=h(l))==null?void 0:p.name),disabled:h(o),onFocus:f[1]||(f[1]=g=>s.value=!0),onBlur:f[2]||(f[2]=g=>s.value=!1),onClick:f[3]||(f[3]=gt(()=>{},["stop"]))},null,42,SY),[[zA,h(a)]]),Y("span",{class:L(h(n).be("button","inner")),style:nt(h(a)===h(c)?h(u):{}),onKeydown:f[4]||(f[4]=gt(()=>{},["stop"]))},[Me(d.$slots,"default",{},()=>[zt(Ge(d.label),1)])],38)],2)}}});var kP=$e(CY,[["__file","radio-button.vue"]]);const EY=ze({id:{type:String,default:void 0},size:fi,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...Ai(["ariaLabel"])}),TY=RP,AY=["id","aria-label","aria-labelledby"],RY=j({name:"ElRadioGroup"}),PY=j({...RY,props:EY,emits:TY,setup(t,{emit:e}){const n=t,i=Oe("radio"),s=Li(),r=z(),{formItem:o}=Xi(),{inputId:a,isLabeledByFormItem:l}=wr(n,{formItemContext:o}),c=d=>{e(It,d),rt(()=>e("change",d))};Mt(()=>{const d=r.value.querySelectorAll("[type=radio]"),f=d[0];!Array.from(d).some(p=>p.checked)&&f&&(f.tabIndex=0)});const u=A(()=>n.name||s.value);return Nt(PP,Xt({...Ti(n),changeEvent:c,name:u})),ke(()=>n.modelValue,()=>{n.validateEvent&&(o==null||o.validate("change").catch(d=>void 0))}),gi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-radio-group",ref:"https://element-plus.org/en-US/component/radio.html"},A(()=>!!n.label)),(d,f)=>(P(),H("div",{id:h(a),ref_key:"radioGroupRef",ref:r,class:L(h(i).b("group")),role:"radiogroup","aria-label":h(l)?void 0:d.label||d.ariaLabel||"radio-group","aria-labelledby":h(l)?h(o).labelId:void 0},[Me(d.$slots,"default")],10,AY))}});var OP=$e(PY,[["__file","radio-group.vue"]]);const LP=At(wY,{RadioButton:kP,RadioGroup:OP}),IY=En(OP),kY=En(kP);var OY=j({name:"NodeContent",setup(){return{ns:Oe("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:n}=this.$parent,{data:i,label:s}=e,{renderLabelFn:r}=n;return at("span",{class:t.e("label")},r?r({node:e,data:i}):s)}});const yw=Symbol(),LY=j({name:"ElCascaderNode",components:{ElCheckbox:tr,ElRadio:LP,NodeContent:OY,ElIcon:tt,Check:ph,Loading:Fa,ArrowRight:ts},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=et(yw),i=Oe("cascader-node"),s=A(()=>n.isHoverMenu),r=A(()=>n.config.multiple),o=A(()=>n.config.checkStrictly),a=A(()=>{var x;return(x=n.checkedNodes[0])==null?void 0:x.uid}),l=A(()=>t.node.isDisabled),c=A(()=>t.node.isLeaf),u=A(()=>o.value&&!c.value||!l.value),d=A(()=>p(n.expandingNode)),f=A(()=>o.value&&n.checkedNodes.some(p)),p=x=>{var C;const{level:T,uid:E}=t.node;return((C=x==null?void 0:x.pathNodes[T-1])==null?void 0:C.uid)===E},g=()=>{d.value||n.expandNode(t.node)},m=x=>{const{node:C}=t;x!==C.checked&&n.handleCheckChange(C,x)},y=()=>{n.lazyLoad(t.node,()=>{c.value||g()})},v=x=>{s.value&&(_(),!c.value&&e("expand",x))},_=()=>{const{node:x}=t;!u.value||x.loading||(x.loaded?g():y())},b=()=>{s.value&&!c.value||(c.value&&!l.value&&!o.value&&!r.value?S(!0):_())},w=x=>{o.value?(m(x),t.node.loaded&&g()):S(x)},S=x=>{t.node.loaded?(m(x),!o.value&&g()):y()};return{panel:n,isHoverMenu:s,multiple:r,checkStrictly:o,checkedNodeId:a,isDisabled:l,isLeaf:c,expandable:u,inExpandingPath:d,inCheckedPath:f,ns:i,handleHoverExpand:v,handleExpand:_,handleClick:b,handleCheck:S,handleSelectCheck:w}}}),NY=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],DY=Y("span",null,null,-1);function FY(t,e,n,i,s,r){const o=bt("el-checkbox"),a=bt("el-radio"),l=bt("check"),c=bt("el-icon"),u=bt("node-content"),d=bt("loading"),f=bt("arrow-right");return P(),H("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:L([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:e[2]||(e[2]=(...p)=>t.handleHoverExpand&&t.handleHoverExpand(...p)),onFocus:e[3]||(e[3]=(...p)=>t.handleHoverExpand&&t.handleHoverExpand(...p)),onClick:e[4]||(e[4]=(...p)=>t.handleClick&&t.handleClick(...p))},[ge(" prefix "),t.multiple?(P(),_e(o,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:e[0]||(e[0]=gt(()=>{},["stop"])),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):t.checkStrictly?(P(),_e(a,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:e[1]||(e[1]=gt(()=>{},["stop"]))},{default:ne(()=>[ge(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),DY]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):t.isLeaf&&t.node.checked?(P(),_e(c,{key:2,class:L(t.ns.e("prefix"))},{default:ne(()=>[X(l)]),_:1},8,["class"])):ge("v-if",!0),ge(" content "),X(u),ge(" postfix "),t.isLeaf?ge("v-if",!0):(P(),H(st,{key:3},[t.node.loading?(P(),_e(c,{key:0,class:L([t.ns.is("loading"),t.ns.e("postfix")])},{default:ne(()=>[X(d)]),_:1},8,["class"])):(P(),_e(c,{key:1,class:L(["arrow-right",t.ns.e("postfix")])},{default:ne(()=>[X(f)]),_:1},8,["class"]))],64))],42,NY)}var BY=$e(LY,[["render",FY],["__file","node.vue"]]);const UY=j({name:"ElCascaderMenu",components:{Loading:Fa,ElIcon:tt,ElScrollbar:Po,ElCascaderNode:BY},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=Tt(),n=Oe("cascader-menu"),{t:i}=$t(),s=Li();let r=null,o=null;const a=et(yw),l=z(null),c=A(()=>!t.nodes.length),u=A(()=>!a.initialLoaded),d=A(()=>`${s.value}-${t.index}`),f=y=>{r=y.target},p=y=>{if(!(!a.isHoverMenu||!r||!l.value))if(r.contains(y.target)){g();const v=e.vnode.el,{left:_}=v.getBoundingClientRect(),{offsetWidth:b,offsetHeight:w}=v,S=y.clientX-_,x=r.offsetTop,C=x+r.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${S} ${x} L${b} 0 V${x} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${S} ${C} L${b} ${w} V${C} Z" />
        `}else o||(o=window.setTimeout(m,a.config.hoverThreshold))},g=()=>{o&&(clearTimeout(o),o=null)},m=()=>{l.value&&(l.value.innerHTML="",g())};return{ns:n,panel:a,hoverZone:l,isEmpty:c,isLoading:u,menuId:d,t:i,handleExpand:f,handleMouseMove:p,clearHoverZone:m}}});function zY(t,e,n,i,s,r){const o=bt("el-cascader-node"),a=bt("loading"),l=bt("el-icon"),c=bt("el-scrollbar");return P(),_e(c,{key:t.menuId,tag:"ul",role:"menu",class:L(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:ne(()=>{var u;return[(P(!0),H(st,null,Dt(t.nodes,d=>(P(),_e(o,{key:d.uid,node:d,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(P(),H("div",{key:0,class:L(t.ns.e("empty-text"))},[X(l,{size:"14",class:L(t.ns.is("loading"))},{default:ne(()=>[X(a)]),_:1},8,["class"]),zt(" "+Ge(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(P(),H("div",{key:1,class:L(t.ns.e("empty-text"))},Ge(t.t("el.cascader.noData")),3)):(u=t.panel)!=null&&u.isHoverMenu?(P(),H("svg",{key:2,ref:"hoverZone",class:L(t.ns.e("hover-zone"))},null,2)):ge("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var VY=$e(UY,[["render",zY],["__file","menu.vue"]]);let $Y=0;const HY=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};let C1=class E1{constructor(e,n,i,s=!1){this.data=e,this.config=n,this.parent=i,this.root=s,this.uid=$Y++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:r,label:o,children:a}=n,l=e[a],c=HY(this);this.level=s?0:i?i.level+1:1,this.value=e[r],this.label=e[o],this.pathNodes=c,this.pathValues=c.map(u=>u.value),this.pathLabels=c.map(u=>u.label),this.childrenData=l,this.children=(l||[]).map(u=>new E1(u,n,this)),this.loaded=!n.lazy||this.isLeaf||!Vs(l)}get isDisabled(){const{data:e,parent:n,config:i}=this,{disabled:s,checkStrictly:r}=i;return(ht(s)?s(e,this):!!e[s])||!r&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:i,loaded:s}=this,{lazy:r,leaf:o}=n,a=ht(o)?o(e,this):e[o];return Kn(a)?r&&!s?!1:!(Array.isArray(i)&&i.length):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:i}=this,s=new E1(e,this.config,this);return Array.isArray(n)?n.push(e):this.childrenData=[e],i.push(s),s}calcText(e,n){const i=e?this.pathLabels.join(n):this.label;return this.text=i,i}broadcast(e,...n){const i=`onParent${Or(e)}`;this.children.forEach(s=>{s&&(s.broadcast(e,...n),s[i]&&s[i](...n))})}emit(e,...n){const{parent:i}=this,s=`onChild${Or(e)}`;i&&(i[s]&&i[s](...n),i.emit(e,...n))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(s=>!s.isDisabled),i=n.length?n.every(s=>s.checked):!1;this.setCheckState(i)}setCheckState(e){const n=this.children.length,i=this.children.reduce((s,r)=>{const o=r.checked?1:r.indeterminate?.5:0;return s+o},0);this.checked=this.loaded&&this.children.filter(s=>!s.isDisabled).every(s=>s.loaded&&s.checked)&&e,this.indeterminate=this.loaded&&i!==n&&i>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:i}=this.config;n||!i?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const T1=(t,e)=>t.reduce((n,i)=>(i.isLeaf?n.push(i):(!e&&n.push(i),n=n.concat(T1(i.children,e))),n),[]);class PC{constructor(e,n){this.config=n;const i=(e||[]).map(s=>new C1(s,this.config));this.nodes=i,this.allNodes=T1(i,!1),this.leafNodes=T1(i,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const i=n?n.appendChild(e):new C1(e,this.config);n||this.nodes.push(i),this.allNodes.push(i),i.isLeaf&&this.leafNodes.push(i)}appendNodes(e,n){e.forEach(i=>this.appendNode(i,n))}getNodeByValue(e,n=!1){return!e&&e!==0?null:this.getFlattedNodes(n).find(s=>Gi(s.value,e)||Gi(s.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:i,level:s})=>Gi(e.value,i)&&e.level===s)||null}}const NP=ze({modelValue:{type:ce([Number,String,Array])},options:{type:ce(Array),default:()=>[]},props:{type:ce(Object),default:()=>({})}}),WY={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:en,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},GY=t=>A(()=>({...WY,...t.props})),IC=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},KY=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():GA(t)&&t.click()},YY=(t,e)=>{const n=e.slice(0),i=n.map(r=>r.uid),s=t.reduce((r,o)=>{const a=i.indexOf(o.uid);return a>-1&&(r.push(o),n.splice(a,1),i.splice(a,1)),r},[]);return s.push(...n),s},XY=j({name:"ElCascaderPanel",components:{ElCascaderMenu:VY},props:{...NP,border:{type:Boolean,default:!0},renderLabel:Function},emits:[It,mn,"close","expand-change"],setup(t,{emit:e,slots:n}){let i=!1;const s=Oe("cascader"),r=GY(t);let o=null;const a=z(!0),l=z([]),c=z(null),u=z([]),d=z(null),f=z([]),p=A(()=>r.value.expandTrigger==="hover"),g=A(()=>t.renderLabel||n.default),m=()=>{const{options:O}=t,F=r.value;i=!1,o=new PC(O,F),u.value=[o.getNodes()],F.lazy&&Vs(t.options)?(a.value=!1,y(void 0,V=>{V&&(o=new PC(V,F),u.value=[o.getNodes()]),a.value=!0,T(!1,!0)})):T(!1,!0)},y=(O,F)=>{const V=r.value;O=O||new C1({},V,void 0,!0),O.loading=!0;const U=D=>{const I=O,N=I.root?null:I;D&&(o==null||o.appendNodes(D,N)),I.loading=!1,I.loaded=!0,I.childrenData=I.childrenData||[],F&&F(D)};V.lazyLoad(O,U)},v=(O,F)=>{var V;const{level:U}=O,D=u.value.slice(0,U);let I;O.isLeaf?I=O.pathNodes[U-2]:(I=O,D.push(O.children)),((V=d.value)==null?void 0:V.uid)!==(I==null?void 0:I.uid)&&(d.value=O,u.value=D,!F&&e("expand-change",(O==null?void 0:O.pathValues)||[]))},_=(O,F,V=!0)=>{const{checkStrictly:U,multiple:D}=r.value,I=f.value[0];i=!0,!D&&(I==null||I.doCheck(!1)),O.doCheck(F),C(),V&&!D&&!U&&e("close"),!V&&!D&&!U&&b(O)},b=O=>{O&&(O=O.parent,b(O),O&&v(O))},w=O=>o==null?void 0:o.getFlattedNodes(O),S=O=>{var F;return(F=w(O))==null?void 0:F.filter(V=>V.checked!==!1)},x=()=>{f.value.forEach(O=>O.doCheck(!1)),C(),u.value=u.value.slice(0,1),d.value=null,e("expand-change",[])},C=()=>{var O;const{checkStrictly:F,multiple:V}=r.value,U=f.value,D=S(!F),I=YY(U,D),N=I.map(k=>k.valueByOption);f.value=I,c.value=V?N:(O=N[0])!=null?O:null},T=(O=!1,F=!1)=>{const{modelValue:V}=t,{lazy:U,multiple:D,checkStrictly:I}=r.value,N=!I;if(!(!a.value||i||!F&&Gi(V,c.value)))if(U&&!O){const B=RM(I8(Ss(V))).map(G=>o==null?void 0:o.getNodeByValue(G)).filter(G=>!!G&&!G.loaded&&!G.loading);B.length?B.forEach(G=>{y(G,()=>T(!1,F))}):T(!0,F)}else{const k=D?Ss(V):[V],B=RM(k.map(G=>o==null?void 0:o.getNodeByValue(G,N)));E(B,F),c.value=ig(V)}},E=(O,F=!0)=>{const{checkStrictly:V}=r.value,U=f.value,D=O.filter(k=>!!k&&(V||k.isLeaf)),I=o==null?void 0:o.getSameNode(d.value),N=F&&I||D[0];N?N.pathNodes.forEach(k=>v(k,!0)):d.value=null,U.forEach(k=>k.doCheck(!1)),Xt(D).forEach(k=>k.doCheck(!0)),f.value=D,rt(M)},M=()=>{Ft&&l.value.forEach(O=>{const F=O==null?void 0:O.$el;if(F){const V=F.querySelector(`.${s.namespace.value}-scrollbar__wrap`),U=F.querySelector(`.${s.b("node")}.${s.is("active")}`)||F.querySelector(`.${s.b("node")}.in-active-path`);VR(V,U)}})},R=O=>{const F=O.target,{code:V}=O;switch(V){case lt.up:case lt.down:{O.preventDefault();const U=V===lt.up?-1:1;hm(KA(F,U,`.${s.b("node")}[tabindex="-1"]`));break}case lt.left:{O.preventDefault();const U=l.value[IC(F)-1],D=U==null?void 0:U.$el.querySelector(`.${s.b("node")}[aria-expanded="true"]`);hm(D);break}case lt.right:{O.preventDefault();const U=l.value[IC(F)+1],D=U==null?void 0:U.$el.querySelector(`.${s.b("node")}[tabindex="-1"]`);hm(D);break}case lt.enter:KY(F);break}};return Nt(yw,Xt({config:r,expandingNode:d,checkedNodes:f,isHoverMenu:p,initialLoaded:a,renderLabelFn:g,lazyLoad:y,expandNode:v,handleCheckChange:_})),ke([r,()=>t.options],m,{deep:!0,immediate:!0}),ke(()=>t.modelValue,()=>{i=!1,T()},{deep:!0}),ke(()=>c.value,O=>{Gi(O,t.modelValue)||(e(It,O),e(mn,O))}),dA(()=>l.value=[]),Mt(()=>!Vs(t.modelValue)&&T()),{ns:s,menuList:l,menus:u,checkedNodes:f,handleKeyDown:R,handleCheckChange:_,getFlattedNodes:w,getCheckedNodes:S,clearCheckedNodes:x,calculateCheckedValue:C,scrollToExpandingNode:M}}});function qY(t,e,n,i,s,r){const o=bt("el-cascader-menu");return P(),H("div",{class:L([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:e[0]||(e[0]=(...a)=>t.handleKeyDown&&t.handleKeyDown(...a))},[(P(!0),H(st,null,Dt(t.menus,(a,l)=>(P(),_e(o,{key:l,ref_for:!0,ref:c=>t.menuList[l]=c,index:l,nodes:[...a]},null,8,["index","nodes"]))),128))],34)}var wm=$e(XY,[["render",qY],["__file","index.vue"]]);wm.install=t=>{t.component(wm.name,wm)};const DP=wm,jY=DP,dv=ze({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Gr},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),ZY={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},JY=j({name:"ElTag"}),QY=j({...JY,props:dv,emits:ZY,setup(t,{emit:e}){const n=t,i=ei(),s=Oe("tag"),r=A(()=>{const{type:l,hit:c,effect:u,closable:d,round:f}=n;return[s.b(),s.is("closable",d),s.m(l||"primary"),s.m(i.value),s.m(u),s.is("hit",c),s.is("round",f)]}),o=l=>{e("close",l)},a=l=>{e("click",l)};return(l,c)=>l.disableTransitions?(P(),H("span",{key:0,class:L(h(r)),style:nt({backgroundColor:l.color}),onClick:a},[Y("span",{class:L(h(s).e("content"))},[Me(l.$slots,"default")],2),l.closable?(P(),_e(h(tt),{key:0,class:L(h(s).e("close")),onClick:gt(o,["stop"])},{default:ne(()=>[X(h(gr))]),_:1},8,["class","onClick"])):ge("v-if",!0)],6)):(P(),_e(ii,{key:1,name:`${h(s).namespace.value}-zoom-in-center`,appear:""},{default:ne(()=>[Y("span",{class:L(h(r)),style:nt({backgroundColor:l.color}),onClick:a},[Y("span",{class:L(h(s).e("content"))},[Me(l.$slots,"default")],2),l.closable?(P(),_e(h(tt),{key:0,class:L(h(s).e("close")),onClick:gt(o,["stop"])},{default:ne(()=>[X(h(gr))]),_:1},8,["class","onClick"])):ge("v-if",!0)],6)]),_:3},8,["name"]))}});var eX=$e(QY,[["__file","tag.vue"]]);const Nf=At(eX),tX=ze({...NP,size:fi,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:ce(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:ce(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:hi.teleported,tagType:{...dv.type,default:"info"},validateEvent:{type:Boolean,default:!0},...td}),nX={[It]:t=>!0,[mn]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,visibleChange:t=>Yn(t),expandChange:t=>!!t,removeTag:t=>!!t},iX={key:0},sX=["placeholder","onKeydown"],rX=["onClick"],oX="ElCascader",aX=j({name:oX}),lX=j({...aX,props:tX,emits:nX,setup(t,{expose:e,emit:n}){const i=t,s={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:pe})=>{const{modifiersData:Ae,placement:je}=pe;["right","left","bottom","top"].includes(je)||(Ae.arrow.x=35)},requires:["arrow"]}]},r=rc();let o=0,a=0;const l=Oe("cascader"),c=Oe("input"),{t:u}=$t(),{form:d,formItem:f}=Xi(),{valueOnClear:p}=av(i),g=z(null),m=z(null),y=z(null),v=z(null),_=z(null),b=z(!1),w=z(!1),S=z(!1),x=z(!1),C=z(""),T=z(""),E=z([]),M=z([]),R=z([]),O=z(!1),F=A(()=>r.style),V=A(()=>i.disabled||(d==null?void 0:d.disabled)),U=A(()=>i.placeholder||u("el.cascader.placeholder")),D=A(()=>T.value||E.value.length>0||O.value?"":U.value),I=ei(),N=A(()=>["small"].includes(I.value)?"small":"default"),k=A(()=>!!i.props.multiple),B=A(()=>!i.filterable||k.value),G=A(()=>k.value?T.value:C.value),J=A(()=>{var pe;return((pe=v.value)==null?void 0:pe.checkedNodes)||[]}),re=A(()=>!i.clearable||V.value||S.value||!w.value?!1:!!J.value.length),ee=A(()=>{const{showAllLevels:pe,separator:Ae}=i,je=J.value;return je.length?k.value?"":je[0].calcText(pe,Ae):""}),ye=A(()=>(f==null?void 0:f.validateState)||""),te=A({get(){return ig(i.modelValue)},set(pe){const Ae=pe||p.value;n(It,Ae),n(mn,Ae),i.validateEvent&&(f==null||f.validate("change").catch(je=>void 0))}}),oe=A(()=>[l.b(),l.m(I.value),l.is("disabled",V.value),r.class]),de=A(()=>[c.e("icon"),"icon-arrow-down",l.is("reverse",b.value)]),Ne=A(()=>l.is("focus",b.value||x.value)),Q=A(()=>{var pe,Ae;return(Ae=(pe=g.value)==null?void 0:pe.popperRef)==null?void 0:Ae.contentRef}),Te=pe=>{var Ae,je,fe;V.value||(pe=pe??!b.value,pe!==b.value&&(b.value=pe,(je=(Ae=m.value)==null?void 0:Ae.input)==null||je.setAttribute("aria-expanded",`${pe}`),pe?(me(),rt((fe=v.value)==null?void 0:fe.scrollToExpandingNode)):i.filterable&&be(),n("visibleChange",pe)))},me=()=>{rt(()=>{var pe;(pe=g.value)==null||pe.updatePopper()})},K=()=>{S.value=!1},q=pe=>{const{showAllLevels:Ae,separator:je}=i;return{node:pe,key:pe.uid,text:pe.calcText(Ae,je),hitState:!1,closable:!V.value&&!pe.isDisabled,isCollapseTag:!1}},ue=pe=>{var Ae;const je=pe.node;je.doCheck(!1),(Ae=v.value)==null||Ae.calculateCheckedValue(),n("removeTag",je.valueByOption)},ve=()=>{if(!k.value)return;const pe=J.value,Ae=[],je=[];if(pe.forEach(fe=>je.push(q(fe))),M.value=je,pe.length){pe.slice(0,i.maxCollapseTags).forEach(Be=>Ae.push(q(Be)));const fe=pe.slice(i.maxCollapseTags),le=fe.length;le&&(i.collapseTags?Ae.push({key:-1,text:`+ ${le}`,closable:!1,isCollapseTag:!0}):fe.forEach(Be=>Ae.push(q(Be))))}E.value=Ae},he=()=>{var pe,Ae;const{filterMethod:je,showAllLevels:fe,separator:le}=i,Be=(Ae=(pe=v.value)==null?void 0:pe.getFlattedNodes(!i.props.checkStrictly))==null?void 0:Ae.filter(We=>We.isDisabled?!1:(We.calcText(fe,le),je(We,G.value)));k.value&&(E.value.forEach(We=>{We.hitState=!1}),M.value.forEach(We=>{We.hitState=!1})),S.value=!0,R.value=Be,me()},xe=()=>{var pe;let Ae;S.value&&_.value?Ae=_.value.$el.querySelector(`.${l.e("suggestion-item")}`):Ae=(pe=v.value)==null?void 0:pe.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),Ae&&(Ae.focus(),!S.value&&Ae.click())},W=()=>{var pe,Ae;const je=(pe=m.value)==null?void 0:pe.input,fe=y.value,le=(Ae=_.value)==null?void 0:Ae.$el;if(!(!Ft||!je)){if(le){const Be=le.querySelector(`.${l.e("suggestion-list")}`);Be.style.minWidth=`${je.offsetWidth}px`}if(fe){const{offsetHeight:Be}=fe,We=E.value.length>0?`${Math.max(Be+6,o)}px`:`${o}px`;je.style.height=We,me()}}},$=pe=>{var Ae;return(Ae=v.value)==null?void 0:Ae.getCheckedNodes(pe)},ae=pe=>{me(),n("expandChange",pe)},se=pe=>{var Ae;const je=(Ae=pe.target)==null?void 0:Ae.value;if(pe.type==="compositionend")O.value=!1,rt(()=>Le(je));else{const fe=je[je.length-1]||"";O.value=!$_(fe)}},Ee=pe=>{if(!O.value)switch(pe.code){case lt.enter:Te();break;case lt.down:Te(!0),rt(xe),pe.preventDefault();break;case lt.esc:b.value===!0&&(pe.preventDefault(),pe.stopPropagation(),Te(!1));break;case lt.tab:Te(!1);break}},Re=()=>{var pe;(pe=v.value)==null||pe.clearCheckedNodes(),!b.value&&i.filterable&&be(),Te(!1)},be=()=>{const{value:pe}=ee;C.value=pe,T.value=pe},Pe=pe=>{var Ae,je;const{checked:fe}=pe;k.value?(Ae=v.value)==null||Ae.handleCheckChange(pe,!fe,!1):(!fe&&((je=v.value)==null||je.handleCheckChange(pe,!0,!1)),Te(!1))},Fe=pe=>{const Ae=pe.target,{code:je}=pe;switch(je){case lt.up:case lt.down:{const fe=je===lt.up?-1:1;hm(KA(Ae,fe,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case lt.enter:Ae.click();break}},it=()=>{const pe=E.value,Ae=pe[pe.length-1];a=T.value?0:a+1,!(!Ae||!a||i.collapseTags&&pe.length>1)&&(Ae.hitState?ue(Ae):Ae.hitState=!0)},Ye=pe=>{const Ae=pe.target,je=l.e("search-input");Ae.className===je&&(x.value=!0),n("focus",pe)},He=pe=>{x.value=!1,n("blur",pe)},Se=vs(()=>{const{value:pe}=G;if(!pe)return;const Ae=i.beforeFilter(pe);vf(Ae)?Ae.then(he).catch(()=>{}):Ae!==!1?he():K()},i.debounce),Le=(pe,Ae)=>{!b.value&&Te(!0),!(Ae!=null&&Ae.isComposing)&&(pe?Se():K())},we=pe=>Number.parseFloat(rF(c.cssVarName("input-height"),pe).value)-2;return ke(S,me),ke([J,V],ve),ke(E,()=>{rt(()=>W())}),ke(I,async()=>{await rt();const pe=m.value.input;o=we(pe)||o,W()}),ke(ee,be,{immediate:!0}),Mt(()=>{const pe=m.value.input,Ae=we(pe);o=pe.offsetHeight||Ae,Mn(pe,W)}),e({getCheckedNodes:$,cascaderPanelRef:v,togglePopperVisible:Te,contentRef:Q}),(pe,Ae)=>(P(),_e(h(Yi),{ref_key:"tooltipRef",ref:g,visible:b.value,teleported:pe.teleported,"popper-class":[h(l).e("dropdown"),pe.popperClass],"popper-options":s,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${h(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:K},{default:ne(()=>[St((P(),H("div",{class:L(h(oe)),style:nt(h(F)),onClick:Ae[5]||(Ae[5]=()=>Te(h(B)?void 0:!0)),onKeydown:Ee,onMouseenter:Ae[6]||(Ae[6]=je=>w.value=!0),onMouseleave:Ae[7]||(Ae[7]=je=>w.value=!1)},[X(h(Wi),{ref_key:"input",ref:m,modelValue:C.value,"onUpdate:modelValue":Ae[1]||(Ae[1]=je=>C.value=je),placeholder:h(D),readonly:h(B),disabled:h(V),"validate-event":!1,size:h(I),class:L(h(Ne)),tabindex:h(k)&&pe.filterable&&!h(V)?-1:void 0,onCompositionstart:se,onCompositionupdate:se,onCompositionend:se,onFocus:Ye,onBlur:He,onInput:Le},{suffix:ne(()=>[h(re)?(P(),_e(h(tt),{key:"clear",class:L([h(c).e("icon"),"icon-circle-close"]),onClick:gt(Re,["stop"])},{default:ne(()=>[X(h(Da))]),_:1},8,["class","onClick"])):(P(),_e(h(tt),{key:"arrow-down",class:L(h(de)),onClick:Ae[0]||(Ae[0]=gt(je=>Te(),["stop"]))},{default:ne(()=>[X(h(Ao))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),h(k)?(P(),H("div",{key:0,ref_key:"tagWrapper",ref:y,class:L([h(l).e("tags"),h(l).is("validate",!!h(ye))])},[(P(!0),H(st,null,Dt(E.value,je=>(P(),_e(h(Nf),{key:je.key,type:pe.tagType,size:h(N),hit:je.hitState,closable:je.closable,"disable-transitions":"",onClose:fe=>ue(je)},{default:ne(()=>[je.isCollapseTag===!1?(P(),H("span",iX,Ge(je.text),1)):(P(),_e(h(Yi),{key:1,disabled:b.value||!pe.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:ne(()=>[Y("span",null,Ge(je.text),1)]),content:ne(()=>[Y("div",{class:L(h(l).e("collapse-tags"))},[(P(!0),H(st,null,Dt(M.value.slice(pe.maxCollapseTags),(fe,le)=>(P(),H("div",{key:le,class:L(h(l).e("collapse-tag"))},[(P(),_e(h(Nf),{key:fe.key,class:"in-tooltip",type:pe.tagType,size:h(N),hit:fe.hitState,closable:fe.closable,"disable-transitions":"",onClose:Be=>ue(fe)},{default:ne(()=>[Y("span",null,Ge(fe.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),pe.filterable&&!h(V)?St((P(),H("input",{key:0,"onUpdate:modelValue":Ae[2]||(Ae[2]=je=>T.value=je),type:"text",class:L(h(l).e("search-input")),placeholder:h(ee)?"":h(U),onInput:Ae[3]||(Ae[3]=je=>Le(T.value,je)),onClick:Ae[4]||(Ae[4]=gt(je=>Te(!0),["stop"])),onKeydown:Gt(it,["delete"]),onCompositionstart:se,onCompositionupdate:se,onCompositionend:se,onFocus:Ye,onBlur:He},null,42,sX)),[[p_,T.value]]):ge("v-if",!0)],2)):ge("v-if",!0)],38)),[[h(_o),()=>Te(!1),h(Q)]])]),content:ne(()=>[St(X(h(DP),{ref_key:"cascaderPanelRef",ref:v,modelValue:h(te),"onUpdate:modelValue":Ae[8]||(Ae[8]=je=>yn(te)?te.value=je:null),options:pe.options,props:i.props,border:!1,"render-label":pe.$slots.default,onExpandChange:ae,onClose:Ae[9]||(Ae[9]=je=>pe.$nextTick(()=>Te(!1)))},null,8,["modelValue","options","props","render-label"]),[[Kt,!S.value]]),pe.filterable?St((P(),_e(h(Po),{key:0,ref_key:"suggestionPanel",ref:_,tag:"ul",class:L(h(l).e("suggestion-panel")),"view-class":h(l).e("suggestion-list"),onKeydown:Fe},{default:ne(()=>[R.value.length?(P(!0),H(st,{key:0},Dt(R.value,je=>(P(),H("li",{key:je.uid,class:L([h(l).e("suggestion-item"),h(l).is("checked",je.checked)]),tabindex:-1,onClick:fe=>Pe(je)},[Y("span",null,Ge(je.text),1),je.checked?(P(),_e(h(tt),{key:0},{default:ne(()=>[X(h(ph))]),_:1})):ge("v-if",!0)],10,rX))),128)):Me(pe.$slots,"empty",{key:1},()=>[Y("li",{class:L(h(l).e("empty-text"))},Ge(h(u)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[Kt,S.value]]):ge("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var xm=$e(lX,[["__file","cascader.vue"]]);xm.install=t=>{t.component(xm.name,xm)};const cX=xm,uX=cX,dX=ze({checked:{type:Boolean,default:!1},type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),fX={"update:checked":t=>Yn(t),[mn]:t=>Yn(t)},hX=j({name:"ElCheckTag"}),pX=j({...hX,props:dX,emits:fX,setup(t,{emit:e}){const n=t,i=Oe("check-tag"),s=A(()=>[i.b(),i.is("checked",n.checked),i.m(n.type||"primary")]),r=()=>{const o=!n.checked;e(mn,o),e("update:checked",o)};return(o,a)=>(P(),H("span",{class:L(h(s)),onClick:r},[Me(o.$slots,"default")],2))}});var mX=$e(pX,[["__file","check-tag.vue"]]);const gX=At(mX),FP=Symbol("rowContextKey"),vX=["start","center","end","space-around","space-between","space-evenly"],yX=["top","middle","bottom"],bX=ze({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:vX,default:"start"},align:{type:String,values:yX}}),_X=j({name:"ElRow"}),wX=j({..._X,props:bX,setup(t){const e=t,n=Oe("row"),i=A(()=>e.gutter);Nt(FP,{gutter:i});const s=A(()=>{const o={};return e.gutter&&(o.marginRight=o.marginLeft=`-${e.gutter/2}px`),o}),r=A(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,!!e.align)]);return(o,a)=>(P(),_e(kt(o.tag),{class:L(h(r)),style:nt(h(s))},{default:ne(()=>[Me(o.$slots,"default")]),_:3},8,["class","style"]))}});var xX=$e(wX,[["__file","row.vue"]]);const SX=At(xX),MX=ze({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:ce([Number,Object]),default:()=>Cn({})},sm:{type:ce([Number,Object]),default:()=>Cn({})},md:{type:ce([Number,Object]),default:()=>Cn({})},lg:{type:ce([Number,Object]),default:()=>Cn({})},xl:{type:ce([Number,Object]),default:()=>Cn({})}}),CX=j({name:"ElCol"}),EX=j({...CX,props:MX,setup(t){const e=t,{gutter:n}=et(FP,{gutter:A(()=>0)}),i=Oe("col"),s=A(()=>{const o={};return n.value&&(o.paddingLeft=o.paddingRight=`${n.value/2}px`),o}),r=A(()=>{const o=[];return["span","offset","pull","push"].forEach(c=>{const u=e[c];ft(u)&&(c==="span"?o.push(i.b(`${e[c]}`)):u>0&&o.push(i.b(`${c}-${e[c]}`)))}),["xs","sm","md","lg","xl"].forEach(c=>{ft(e[c])?o.push(i.b(`${c}-${e[c]}`)):Pt(e[c])&&Object.entries(e[c]).forEach(([u,d])=>{o.push(u!=="span"?i.b(`${c}-${u}-${d}`):i.b(`${c}-${d}`))})}),n.value&&o.push(i.is("guttered")),[i.b(),o]});return(o,a)=>(P(),_e(kt(o.tag),{class:L(h(r)),style:nt(h(s))},{default:ne(()=>[Me(o.$slots,"default")]),_:3},8,["class","style"]))}});var TX=$e(EX,[["__file","col.vue"]]);const AX=At(TX),kC=t=>ft(t)||yt(t)||Ze(t),RX=ze({accordion:Boolean,modelValue:{type:ce([Array,String,Number]),default:()=>Cn([])}}),PX={[It]:kC,[mn]:kC},BP=Symbol("collapseContextKey"),IX=(t,e)=>{const n=z(wa(t.modelValue)),i=r=>{n.value=r;const o=t.accordion?n.value[0]:n.value;e(It,o),e(mn,o)},s=r=>{if(t.accordion)i([n.value[0]===r?"":r]);else{const o=[...n.value],a=o.indexOf(r);a>-1?o.splice(a,1):o.push(r),i(o)}};return ke(()=>t.modelValue,()=>n.value=wa(t.modelValue),{deep:!0}),Nt(BP,{activeNames:n,handleItemClick:s}),{activeNames:n,setActiveNames:i}},kX=()=>{const t=Oe("collapse");return{rootKls:A(()=>t.b())}},OX=j({name:"ElCollapse"}),LX=j({...OX,props:RX,emits:PX,setup(t,{expose:e,emit:n}){const i=t,{activeNames:s,setActiveNames:r}=IX(i,n),{rootKls:o}=kX();return e({activeNames:s,setActiveNames:r}),(a,l)=>(P(),H("div",{class:L(h(o))},[Me(a.$slots,"default")],2))}});var NX=$e(LX,[["__file","collapse.vue"]]);const DX=j({name:"ElCollapseTransition"}),FX=j({...DX,setup(t){const e=Oe("collapse-transition"),n=s=>{s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom},i={beforeEnter(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.height&&(s.dataset.elExistsHeight=s.style.height),s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0},enter(s){requestAnimationFrame(()=>{s.dataset.oldOverflow=s.style.overflow,s.dataset.elExistsHeight?s.style.maxHeight=s.dataset.elExistsHeight:s.scrollHeight!==0?s.style.maxHeight=`${s.scrollHeight}px`:s.style.maxHeight=0,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom,s.style.overflow="hidden"})},afterEnter(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow},enterCancelled(s){n(s)},beforeLeave(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.maxHeight=`${s.scrollHeight}px`,s.style.overflow="hidden"},leave(s){s.scrollHeight!==0&&(s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0)},afterLeave(s){n(s)},leaveCancelled(s){n(s)}};return(s,r)=>(P(),_e(ii,Lt({name:h(e).b()},SD(i)),{default:ne(()=>[Me(s.$slots,"default")]),_:3},16,["name"]))}});var Sm=$e(FX,[["__file","collapse-transition.vue"]]);Sm.install=t=>{t.component(Sm.name,Sm)};const fv=Sm,BX=fv,UX=ze({title:{type:String,default:""},name:{type:ce([String,Number]),default:void 0},disabled:Boolean}),zX=t=>{const e=et(BP),{namespace:n}=Oe("collapse"),i=z(!1),s=z(!1),r=tw(),o=A(()=>r.current++),a=A(()=>{var f;return(f=t.name)!=null?f:`${n.value}-id-${r.prefix}-${h(o)}`}),l=A(()=>e==null?void 0:e.activeNames.value.includes(h(a)));return{focusing:i,id:o,isActive:l,handleFocus:()=>{setTimeout(()=>{s.value?s.value=!1:i.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(h(a)),i.value=!1,s.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(h(a))}}},VX=(t,{focusing:e,isActive:n,id:i})=>{const s=Oe("collapse"),r=A(()=>[s.b("item"),s.is("active",h(n)),s.is("disabled",t.disabled)]),o=A(()=>[s.be("item","header"),s.is("active",h(n)),{focusing:h(e)&&!t.disabled}]),a=A(()=>[s.be("item","arrow"),s.is("active",h(n))]),l=A(()=>s.be("item","wrap")),c=A(()=>s.be("item","content")),u=A(()=>s.b(`content-${h(i)}`)),d=A(()=>s.b(`head-${h(i)}`));return{arrowKls:a,headKls:o,rootKls:r,itemWrapperKls:l,itemContentKls:c,scopedContentId:u,scopedHeadId:d}},$X=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],HX=["id","aria-hidden","aria-labelledby"],WX=j({name:"ElCollapseItem"}),GX=j({...WX,props:UX,setup(t,{expose:e}){const n=t,{focusing:i,id:s,isActive:r,handleFocus:o,handleHeaderClick:a,handleEnterClick:l}=zX(n),{arrowKls:c,headKls:u,rootKls:d,itemWrapperKls:f,itemContentKls:p,scopedContentId:g,scopedHeadId:m}=VX(n,{focusing:i,isActive:r,id:s});return e({isActive:r}),(y,v)=>(P(),H("div",{class:L(h(d))},[Y("button",{id:h(m),class:L(h(u)),"aria-expanded":h(r),"aria-controls":h(g),"aria-describedby":h(g),tabindex:y.disabled?-1:0,type:"button",onClick:v[0]||(v[0]=(..._)=>h(a)&&h(a)(..._)),onKeydown:v[1]||(v[1]=Gt(gt((..._)=>h(l)&&h(l)(..._),["stop","prevent"]),["space","enter"])),onFocus:v[2]||(v[2]=(..._)=>h(o)&&h(o)(..._)),onBlur:v[3]||(v[3]=_=>i.value=!1)},[Me(y.$slots,"title",{},()=>[zt(Ge(y.title),1)]),X(h(tt),{class:L(h(c))},{default:ne(()=>[X(h(ts))]),_:1},8,["class"])],42,$X),X(h(fv),null,{default:ne(()=>[St(Y("div",{id:h(g),role:"region",class:L(h(f)),"aria-hidden":!h(r),"aria-labelledby":h(m)},[Y("div",{class:L(h(p))},[Me(y.$slots,"default")],2)],10,HX),[[Kt,h(r)]])]),_:3})],2))}});var UP=$e(GX,[["__file","collapse-item.vue"]]);const KX=At(NX,{CollapseItem:UP}),YX=En(UP),XX=ze({color:{type:ce(Object),required:!0},vertical:{type:Boolean,default:!1}});let C0=!1;function Df(t,e){if(!Ft)return;const n=function(r){var o;(o=e.drag)==null||o.call(e,r)},i=function(r){var o;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",i),document.onselectstart=null,document.ondragstart=null,C0=!1,(o=e.end)==null||o.call(e,r)},s=function(r){var o;C0||(r.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",i),document.addEventListener("touchmove",n),document.addEventListener("touchend",i),C0=!0,(o=e.start)==null||o.call(e,r))};t.addEventListener("mousedown",s),t.addEventListener("touchstart",s)}const qX=t=>{const e=Tt(),n=vn(),i=vn();function s(o){o.target!==n.value&&r(o)}function r(o){if(!i.value||!n.value)return;const l=e.vnode.el.getBoundingClientRect(),{clientX:c,clientY:u}=v_(o);if(t.vertical){let d=u-l.top;d=Math.max(n.value.offsetHeight/2,d),d=Math.min(d,l.height-n.value.offsetHeight/2),t.color.set("alpha",Math.round((d-n.value.offsetHeight/2)/(l.height-n.value.offsetHeight)*100))}else{let d=c-l.left;d=Math.max(n.value.offsetWidth/2,d),d=Math.min(d,l.width-n.value.offsetWidth/2),t.color.set("alpha",Math.round((d-n.value.offsetWidth/2)/(l.width-n.value.offsetWidth)*100))}}return{thumb:n,bar:i,handleDrag:r,handleClick:s}},jX=(t,{bar:e,thumb:n,handleDrag:i})=>{const s=Tt(),r=Oe("color-alpha-slider"),o=z(0),a=z(0),l=z();function c(){if(!n.value||t.vertical)return 0;const _=s.vnode.el,b=t.color.get("alpha");return _?Math.round(b*(_.offsetWidth-n.value.offsetWidth/2)/100):0}function u(){if(!n.value)return 0;const _=s.vnode.el;if(!t.vertical)return 0;const b=t.color.get("alpha");return _?Math.round(b*(_.offsetHeight-n.value.offsetHeight/2)/100):0}function d(){if(t.color&&t.color.value){const{r:_,g:b,b:w}=t.color.toRgb();return`linear-gradient(to right, rgba(${_}, ${b}, ${w}, 0) 0%, rgba(${_}, ${b}, ${w}, 1) 100%)`}return""}function f(){o.value=c(),a.value=u(),l.value=d()}Mt(()=>{if(!e.value||!n.value)return;const _={drag:b=>{i(b)},end:b=>{i(b)}};Df(e.value,_),Df(n.value,_),f()}),ke(()=>t.color.get("alpha"),()=>f()),ke(()=>t.color.value,()=>f());const p=A(()=>[r.b(),r.is("vertical",t.vertical)]),g=A(()=>r.e("bar")),m=A(()=>r.e("thumb")),y=A(()=>({background:l.value})),v=A(()=>({left:On(o.value),top:On(a.value)}));return{rootKls:p,barKls:g,barStyle:y,thumbKls:m,thumbStyle:v,update:f}},ZX="ElColorAlphaSlider",JX=j({name:ZX}),QX=j({...JX,props:XX,setup(t,{expose:e}){const n=t,{bar:i,thumb:s,handleDrag:r,handleClick:o}=qX(n),{rootKls:a,barKls:l,barStyle:c,thumbKls:u,thumbStyle:d,update:f}=jX(n,{bar:i,thumb:s,handleDrag:r});return e({update:f,bar:i,thumb:s}),(p,g)=>(P(),H("div",{class:L(h(a))},[Y("div",{ref_key:"bar",ref:i,class:L(h(l)),style:nt(h(c)),onClick:g[0]||(g[0]=(...m)=>h(o)&&h(o)(...m))},null,6),Y("div",{ref_key:"thumb",ref:s,class:L(h(u)),style:nt(h(d))},null,6)],2))}});var eq=$e(QX,[["__file","alpha-slider.vue"]]);const tq=j({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=Oe("color-hue-slider"),n=Tt(),i=z(),s=z(),r=z(0),o=z(0),a=A(()=>t.color.get("hue"));ke(()=>a.value,()=>{f()});function l(p){p.target!==i.value&&c(p)}function c(p){if(!s.value||!i.value)return;const m=n.vnode.el.getBoundingClientRect(),{clientX:y,clientY:v}=v_(p);let _;if(t.vertical){let b=v-m.top;b=Math.min(b,m.height-i.value.offsetHeight/2),b=Math.max(i.value.offsetHeight/2,b),_=Math.round((b-i.value.offsetHeight/2)/(m.height-i.value.offsetHeight)*360)}else{let b=y-m.left;b=Math.min(b,m.width-i.value.offsetWidth/2),b=Math.max(i.value.offsetWidth/2,b),_=Math.round((b-i.value.offsetWidth/2)/(m.width-i.value.offsetWidth)*360)}t.color.set("hue",_)}function u(){if(!i.value)return 0;const p=n.vnode.el;if(t.vertical)return 0;const g=t.color.get("hue");return p?Math.round(g*(p.offsetWidth-i.value.offsetWidth/2)/360):0}function d(){if(!i.value)return 0;const p=n.vnode.el;if(!t.vertical)return 0;const g=t.color.get("hue");return p?Math.round(g*(p.offsetHeight-i.value.offsetHeight/2)/360):0}function f(){r.value=u(),o.value=d()}return Mt(()=>{if(!s.value||!i.value)return;const p={drag:g=>{c(g)},end:g=>{c(g)}};Df(s.value,p),Df(i.value,p),f()}),{bar:s,thumb:i,thumbLeft:r,thumbTop:o,hueValue:a,handleClick:l,update:f,ns:e}}});function nq(t,e,n,i,s,r){return P(),H("div",{class:L([t.ns.b(),t.ns.is("vertical",t.vertical)])},[Y("div",{ref:"bar",class:L(t.ns.e("bar")),onClick:e[0]||(e[0]=(...o)=>t.handleClick&&t.handleClick(...o))},null,2),Y("div",{ref:"thumb",class:L(t.ns.e("thumb")),style:nt({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var iq=$e(tq,[["render",nq],["__file","hue-slider.vue"]]);const sq=ze({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:fi,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},teleported:hi.teleported,predefine:{type:ce(Array)},validateEvent:{type:Boolean,default:!0},...Ai(["ariaLabel"])}),rq={[It]:t=>yt(t)||yi(t),[mn]:t=>yt(t)||yi(t),activeChange:t=>yt(t)||yi(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},zP=Symbol("colorPickerContextKey"),OC=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},oq=function(t){return typeof t=="string"&&t.includes(".")&&Number.parseFloat(t)===1},aq=function(t){return typeof t=="string"&&t.includes("%")},fu=function(t,e){oq(t)&&(t="100%");const n=aq(t);return t=Math.min(e,Math.max(0,Number.parseFloat(`${t}`))),n&&(t=Number.parseInt(`${t*e}`,10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},LC={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Mm=t=>{t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return`${LC[e]||e}${LC[n]||n}`},NC=function({r:t,g:e,b:n}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+n)?"":`#${Mm(t)}${Mm(e)}${Mm(n)}`},E0={A:10,B:11,C:12,D:13,E:14,F:15},ja=function(t){return t.length===2?(E0[t[0].toUpperCase()]||+t[0])*16+(E0[t[1].toUpperCase()]||+t[1]):E0[t[1].toUpperCase()]||+t[1]},lq=function(t,e,n){e=e/100,n=n/100;let i=e;const s=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,i*=s<=1?s:2-s;const r=(n+e)/2,o=n===0?2*i/(s+i):2*e/(n+e);return{h:t,s:o*100,v:r*100}},DC=(t,e,n)=>{t=fu(t,255),e=fu(e,255),n=fu(n,255);const i=Math.max(t,e,n),s=Math.min(t,e,n);let r;const o=i,a=i-s,l=i===0?0:a/i;if(i===s)r=0;else{switch(i){case t:{r=(e-n)/a+(e<n?6:0);break}case e:{r=(n-t)/a+2;break}case n:{r=(t-e)/a+4;break}}r/=6}return{h:r*360,s:l*100,v:o*100}},vd=function(t,e,n){t=fu(t,360)*6,e=fu(e,100),n=fu(n,100);const i=Math.floor(t),s=t-i,r=n*(1-e),o=n*(1-s*e),a=n*(1-(1-s)*e),l=i%6,c=[n,o,r,r,a,n][l],u=[a,n,n,o,r,r][l],d=[r,r,a,n,n,o][l];return{r:Math.round(c*255),g:Math.round(u*255),b:Math.round(d*255)}};let cf=class{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in e)Ut(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const i in e)Ut(e,i)&&this.set(i,e[i]);return}this[`_${e}`]=n,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return vd(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(i,s,r)=>{this._hue=Math.max(0,Math.min(360,i)),this._saturation=Math.max(0,Math.min(100,s)),this._value=Math.max(0,Math.min(100,r)),this.doOnChange()};if(e.includes("hsl")){const i=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(s=>s!=="").map((s,r)=>r>2?Number.parseFloat(s):Number.parseInt(s,10));if(i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:s,s:r,v:o}=lq(i[0],i[1],i[2]);n(s,r,o)}}else if(e.includes("hsv")){const i=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(s=>s!=="").map((s,r)=>r>2?Number.parseFloat(s):Number.parseInt(s,10));i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3&&n(i[0],i[1],i[2])}else if(e.includes("rgb")){const i=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(s=>s!=="").map((s,r)=>r>2?Number.parseFloat(s):Number.parseInt(s,10));if(i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:s,s:r,v:o}=DC(i[0],i[1],i[2]);n(s,r,o)}}else if(e.includes("#")){const i=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(i))return;let s,r,o;i.length===3?(s=ja(i[0]+i[0]),r=ja(i[1]+i[1]),o=ja(i[2]+i[2])):(i.length===6||i.length===8)&&(s=ja(i.slice(0,2)),r=ja(i.slice(2,4)),o=ja(i.slice(4,6))),i.length===8?this._alpha=ja(i.slice(6))/255*100:(i.length===3||i.length===6)&&(this._alpha=100);const{h:a,s:l,v:c}=DC(s,r,o);n(a,l,c)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:n,_value:i,_alpha:s,format:r}=this;if(this.enableAlpha)switch(r){case"hsl":{const o=OC(e,n/100,i/100);this.value=`hsla(${e}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(n)}%, ${Math.round(i)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${NC(vd(e,n,i))}${Mm(s*255/100)}`;break}default:{const{r:o,g:a,b:l}=vd(e,n,i);this.value=`rgba(${o}, ${a}, ${l}, ${this.get("alpha")/100})`}}else switch(r){case"hsl":{const o=OC(e,n/100,i/100);this.value=`hsl(${e}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(n)}%, ${Math.round(i)}%)`;break}case"rgb":{const{r:o,g:a,b:l}=vd(e,n,i);this.value=`rgb(${o}, ${a}, ${l})`;break}default:this.value=NC(vd(e,n,i))}}};const cq=j({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(t){const e=Oe("color-predefine"),{currentColor:n}=et(zP),i=z(r(t.colors,t.color));ke(()=>n.value,o=>{const a=new cf;a.fromString(o),i.value.forEach(l=>{l.selected=a.compare(l)})}),ki(()=>{i.value=r(t.colors,t.color)});function s(o){t.color.fromString(t.colors[o])}function r(o,a){return o.map(l=>{const c=new cf;return c.enableAlpha=!0,c.format="rgba",c.fromString(l),c.selected=c.value===a.value,c})}return{rgbaColors:i,handleSelect:s,ns:e}}}),uq=["onClick"];function dq(t,e,n,i,s,r){return P(),H("div",{class:L(t.ns.b())},[Y("div",{class:L(t.ns.e("colors"))},[(P(!0),H(st,null,Dt(t.rgbaColors,(o,a)=>(P(),H("div",{key:t.colors[a],class:L([t.ns.e("color-selector"),t.ns.is("alpha",o._alpha<100),{selected:o.selected}]),onClick:l=>t.handleSelect(a)},[Y("div",{style:nt({backgroundColor:o.value})},null,4)],10,uq))),128))],2)],2)}var fq=$e(cq,[["render",dq],["__file","predefine.vue"]]);const hq=j({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=Oe("color-svpanel"),n=Tt(),i=z(0),s=z(0),r=z("hsl(0, 100%, 50%)"),o=A(()=>{const c=t.color.get("hue"),u=t.color.get("value");return{hue:c,value:u}});function a(){const c=t.color.get("saturation"),u=t.color.get("value"),d=n.vnode.el,{clientWidth:f,clientHeight:p}=d;s.value=c*f/100,i.value=(100-u)*p/100,r.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function l(c){const d=n.vnode.el.getBoundingClientRect(),{clientX:f,clientY:p}=v_(c);let g=f-d.left,m=p-d.top;g=Math.max(0,g),g=Math.min(g,d.width),m=Math.max(0,m),m=Math.min(m,d.height),s.value=g,i.value=m,t.color.set({saturation:g/d.width*100,value:100-m/d.height*100})}return ke(()=>o.value,()=>{a()}),Mt(()=>{Df(n.vnode.el,{drag:c=>{l(c)},end:c=>{l(c)}}),a()}),{cursorTop:i,cursorLeft:s,background:r,colorValue:o,handleDrag:l,update:a,ns:e}}}),pq=Y("div",null,null,-1),mq=[pq];function gq(t,e,n,i,s,r){return P(),H("div",{class:L(t.ns.b()),style:nt({backgroundColor:t.background})},[Y("div",{class:L(t.ns.e("white"))},null,2),Y("div",{class:L(t.ns.e("black"))},null,2),Y("div",{class:L(t.ns.e("cursor")),style:nt({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},mq,6)],6)}var vq=$e(hq,[["render",gq],["__file","sv-panel.vue"]]);const yq=["onKeydown"],bq=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],_q=j({name:"ElColorPicker"}),wq=j({..._q,props:sq,emits:rq,setup(t,{expose:e,emit:n}){const i=t,{t:s}=$t(),r=Oe("color"),{formItem:o}=Xi(),a=ei(),l=os(),{inputId:c,isLabeledByFormItem:u}=wr(i,{formItemContext:o}),d=z(),f=z(),p=z(),g=z(),m=z(),y=z(),{isFocused:v,handleFocus:_,handleBlur:b}=ov(m,{beforeBlur(Q){var Te;return(Te=g.value)==null?void 0:Te.isFocusInsideContent(Q)},afterBlur(){D(!1),B()}}),w=Q=>{if(l.value)return Ne();_(Q)};let S=!0;const x=Xt(new cf({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue})),C=z(!1),T=z(!1),E=z(""),M=A(()=>!i.modelValue&&!T.value?"transparent":U(x,i.showAlpha)),R=A(()=>!i.modelValue&&!T.value?"":x.value),O=A(()=>u.value?void 0:i.label||i.ariaLabel||s("el.colorpicker.defaultLabel"));gi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-color-picker",ref:"https://element-plus.org/en-US/component/color-picker.html"},A(()=>!!i.label));const F=A(()=>u.value?o==null?void 0:o.labelId:void 0),V=A(()=>[r.b("picker"),r.is("disabled",l.value),r.bm("picker",a.value),r.is("focused",v.value)]);function U(Q,Te){if(!(Q instanceof cf))throw new TypeError("color should be instance of _color Class");const{r:me,g:K,b:q}=Q.toRgb();return Te?`rgba(${me}, ${K}, ${q}, ${Q.get("alpha")/100})`:`rgb(${me}, ${K}, ${q})`}function D(Q){C.value=Q}const I=vs(D,100,{leading:!0});function N(){l.value||D(!0)}function k(){I(!1),B()}function B(){rt(()=>{i.modelValue?x.fromString(i.modelValue):(x.value="",rt(()=>{T.value=!1}))})}function G(){l.value||I(!C.value)}function J(){x.fromString(E.value)}function re(){const Q=x.value;n(It,Q),n("change",Q),i.validateEvent&&(o==null||o.validate("change").catch(Te=>void 0)),I(!1),rt(()=>{const Te=new cf({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue});x.compare(Te)||B()})}function ee(){I(!1),n(It,null),n("change",null),i.modelValue!==null&&i.validateEvent&&(o==null||o.validate("change").catch(Q=>void 0)),B()}function ye(Q){if(C.value&&(k(),v.value)){const Te=new FocusEvent("focus",Q);b(Te)}}function te(Q){Q.preventDefault(),Q.stopPropagation(),D(!1),B()}function oe(Q){switch(Q.code){case lt.enter:case lt.space:Q.preventDefault(),Q.stopPropagation(),N(),y.value.focus();break;case lt.esc:te(Q);break}}function de(){m.value.focus()}function Ne(){m.value.blur()}return Mt(()=>{i.modelValue&&(E.value=R.value)}),ke(()=>i.modelValue,Q=>{Q?Q&&Q!==x.value&&(S=!1,x.fromString(Q)):T.value=!1}),ke(()=>R.value,Q=>{E.value=Q,S&&n("activeChange",Q),S=!0}),ke(()=>x.value,()=>{!i.modelValue&&!T.value&&(T.value=!0)}),ke(()=>C.value,()=>{rt(()=>{var Q,Te,me;(Q=d.value)==null||Q.update(),(Te=f.value)==null||Te.update(),(me=p.value)==null||me.update()})}),Nt(zP,{currentColor:R}),e({color:x,show:N,hide:k,focus:de,blur:Ne}),(Q,Te)=>(P(),_e(h(Yi),{ref_key:"popper",ref:g,visible:C.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[h(r).be("picker","panel"),h(r).b("dropdown"),Q.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:Q.teleported,transition:`${h(r).namespace.value}-zoom-in-top`,persistent:"",onHide:Te[2]||(Te[2]=me=>D(!1))},{content:ne(()=>[St((P(),H("div",{onKeydown:Gt(te,["esc"])},[Y("div",{class:L(h(r).be("dropdown","main-wrapper"))},[X(iq,{ref_key:"hue",ref:d,class:"hue-slider",color:h(x),vertical:""},null,8,["color"]),X(vq,{ref_key:"sv",ref:f,color:h(x)},null,8,["color"])],2),Q.showAlpha?(P(),_e(eq,{key:0,ref_key:"alpha",ref:p,color:h(x)},null,8,["color"])):ge("v-if",!0),Q.predefine?(P(),_e(fq,{key:1,ref:"predefine",color:h(x),colors:Q.predefine},null,8,["color","colors"])):ge("v-if",!0),Y("div",{class:L(h(r).be("dropdown","btns"))},[Y("span",{class:L(h(r).be("dropdown","value"))},[X(h(Wi),{ref_key:"inputRef",ref:y,modelValue:E.value,"onUpdate:modelValue":Te[0]||(Te[0]=me=>E.value=me),"validate-event":!1,size:"small",onKeyup:Gt(J,["enter"]),onBlur:J},null,8,["modelValue","onKeyup"])],2),X(h(bi),{class:L(h(r).be("dropdown","link-btn")),text:"",size:"small",onClick:ee},{default:ne(()=>[zt(Ge(h(s)("el.colorpicker.clear")),1)]),_:1},8,["class"]),X(h(bi),{plain:"",size:"small",class:L(h(r).be("dropdown","btn")),onClick:re},{default:ne(()=>[zt(Ge(h(s)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,yq)),[[h(_o),ye]])]),default:ne(()=>[Y("div",{id:h(c),ref_key:"triggerRef",ref:m,class:L(h(V)),role:"button","aria-label":h(O),"aria-labelledby":h(F),"aria-description":h(s)("el.colorpicker.description",{color:Q.modelValue||""}),"aria-disabled":h(l),tabindex:h(l)?-1:Q.tabindex,onKeydown:oe,onFocus:w,onBlur:Te[1]||(Te[1]=(...me)=>h(b)&&h(b)(...me))},[h(l)?(P(),H("div",{key:0,class:L(h(r).be("picker","mask"))},null,2)):ge("v-if",!0),Y("div",{class:L(h(r).be("picker","trigger")),onClick:G},[Y("span",{class:L([h(r).be("picker","color"),h(r).is("alpha",Q.showAlpha)])},[Y("span",{class:L(h(r).be("picker","color-inner")),style:nt({backgroundColor:h(M)})},[St(X(h(tt),{class:L([h(r).be("picker","icon"),h(r).is("icon-arrow-down")])},{default:ne(()=>[X(h(Ao))]),_:1},8,["class"]),[[Kt,Q.modelValue||T.value]]),St(X(h(tt),{class:L([h(r).be("picker","empty"),h(r).is("icon-close")])},{default:ne(()=>[X(h(gr))]),_:1},8,["class"]),[[Kt,!Q.modelValue&&!T.value]])],6)],2)],2)],42,bq)]),_:1},8,["visible","popper-class","teleported","transition"]))}});var xq=$e(wq,[["__file","color-picker.vue"]]);const Sq=At(xq),Mq=j({name:"ElContainer"}),Cq=j({...Mq,props:{direction:{type:String}},setup(t){const e=t,n=Ci(),i=Oe("container"),s=A(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(o=>{const a=o.type.name;return a==="ElHeader"||a==="ElFooter"}):!1);return(r,o)=>(P(),H("section",{class:L([h(i).b(),h(i).is("vertical",h(s))])},[Me(r.$slots,"default")],2))}});var Eq=$e(Cq,[["__file","container.vue"]]);const Tq=j({name:"ElAside"}),Aq=j({...Tq,props:{width:{type:String,default:null}},setup(t){const e=t,n=Oe("aside"),i=A(()=>e.width?n.cssVarBlock({width:e.width}):{});return(s,r)=>(P(),H("aside",{class:L(h(n).b()),style:nt(h(i))},[Me(s.$slots,"default")],6))}});var VP=$e(Aq,[["__file","aside.vue"]]);const Rq=j({name:"ElFooter"}),Pq=j({...Rq,props:{height:{type:String,default:null}},setup(t){const e=t,n=Oe("footer"),i=A(()=>e.height?n.cssVarBlock({height:e.height}):{});return(s,r)=>(P(),H("footer",{class:L(h(n).b()),style:nt(h(i))},[Me(s.$slots,"default")],6))}});var $P=$e(Pq,[["__file","footer.vue"]]);const Iq=j({name:"ElHeader"}),kq=j({...Iq,props:{height:{type:String,default:null}},setup(t){const e=t,n=Oe("header"),i=A(()=>e.height?n.cssVarBlock({height:e.height}):{});return(s,r)=>(P(),H("header",{class:L(h(n).b()),style:nt(h(i))},[Me(s.$slots,"default")],6))}});var HP=$e(kq,[["__file","header.vue"]]);const Oq=j({name:"ElMain"}),Lq=j({...Oq,setup(t){const e=Oe("main");return(n,i)=>(P(),H("main",{class:L(h(e).b())},[Me(n.$slots,"default")],2))}});var WP=$e(Lq,[["__file","main.vue"]]);const Nq=At(Eq,{Aside:VP,Footer:$P,Header:HP,Main:WP}),Dq=En(VP),Fq=En($P),Bq=En(HP),Uq=En(WP);var GP={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Io,function(){return function(n,i){var s=i.prototype,r=s.format;s.format=function(o){var a=this,l=this.$locale();if(!this.isValid())return r.bind(this)(o);var c=this.$utils(),u=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return r.bind(this)(u)}}})})(GP);var zq=GP.exports;const Vq=ko(zq);var KP={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Io,function(){var n="week",i="year";return function(s,r,o){var a=r.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=o(this).startOf(i).add(1,i).date(c),d=o(this).endOf(n);if(u.isBefore(d))return 1}var f=o(this).startOf(i).date(c).startOf(n).subtract(1,"millisecond"),p=this.diff(f,n,!0);return p<0?o(this).startOf("week").week():Math.ceil(p)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(KP);var $q=KP.exports;const Hq=ko($q);var YP={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Io,function(){return function(n,i){i.prototype.weekYear=function(){var s=this.month(),r=this.week(),o=this.year();return r===1&&s===11?o+1:s===0&&r>=52?o-1:o}}})})(YP);var Wq=YP.exports;const Gq=ko(Wq);var XP={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Io,function(){return function(n,i,s){i.prototype.dayOfYear=function(r){var o=Math.round((s(this).startOf("day")-s(this).startOf("year"))/864e5)+1;return r==null?o:this.add(r-o,"day")}}})})(XP);var Kq=XP.exports;const Yq=ko(Kq);var qP={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Io,function(){return function(n,i){i.prototype.isSameOrAfter=function(s,r){return this.isSame(s,r)||this.isAfter(s,r)}}})})(qP);var Xq=qP.exports;const qq=ko(Xq);var jP={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Io,function(){return function(n,i){i.prototype.isSameOrBefore=function(s,r){return this.isSame(s,r)||this.isBefore(s,r)}}})})(jP);var jq=jP.exports;const Zq=ko(jq),bw=Symbol(),Jq=ze({...vw,type:{type:ce(String),default:"date"}}),Qq=["date","dates","year","years","month","week","range"],_w=ze({disabledDate:{type:ce(Function)},date:{type:ce(Object),required:!0},minDate:{type:ce(Object)},maxDate:{type:ce(Object)},parsedValue:{type:ce([Object,Array])},rangeState:{type:ce(Object),default:()=>({endDate:null,selecting:!1})}}),ZP=ze({type:{type:ce(String),required:!0,values:_$},dateFormat:String,timeFormat:String}),JP=ze({unlinkPanels:Boolean,parsedValue:{type:ce(Array)}}),ww=t=>({type:String,values:Qq,default:t}),ej=ze({...ZP,parsedValue:{type:ce([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),tj=ze({..._w,cellClassName:{type:ce(Function)},showWeekNumber:Boolean,selectionMode:ww("date")}),nj=["changerange","pick","select"],A1=t=>{if(!Ze(t))return!1;const[e,n]=t;return Rt.isDayjs(e)&&Rt.isDayjs(n)&&e.isSameOrBefore(n)},QP=(t,{lang:e,unit:n,unlinkPanels:i})=>{let s;if(Ze(t)){let[r,o]=t.map(a=>Rt(a).locale(e));return i||(o=r.add(1,n)),[r,o]}else t?s=Rt(t):s=Rt();return s=s.locale(e),[s,s.add(1,n)]},ij=(t,e,{columnIndexOffset:n,startDate:i,nextEndDate:s,now:r,unit:o,relativeDateGetter:a,setCellMetadata:l,setRowMetadata:c})=>{for(let u=0;u<t.row;u++){const d=e[u];for(let f=0;f<t.column;f++){let p=d[f+n];p||(p={row:u,column:f,type:"normal",inRange:!1,start:!1,end:!1});const g=u*t.column+f,m=a(g);p.dayjs=m,p.date=m.toDate(),p.timestamp=m.valueOf(),p.type="normal",p.inRange=!!(i&&m.isSameOrAfter(i,o)&&s&&m.isSameOrBefore(s,o))||!!(i&&m.isSameOrBefore(i,o)&&s&&m.isSameOrAfter(s,o)),i!=null&&i.isSameOrAfter(s)?(p.start=!!s&&m.isSame(s,o),p.end=i&&m.isSame(i,o)):(p.start=!!i&&m.isSame(i,o),p.end=!!s&&m.isSame(s,o)),m.isSame(r,o)&&(p.type="today"),l==null||l(p,{rowIndex:u,columnIndex:f}),d[f+n]=p}c==null||c(d)}},R1=(t="")=>["normal","today"].includes(t),sj=(t,e)=>{const{lang:n}=$t(),i=z(),s=z(),r=z(),o=z(),a=z([[],[],[],[],[],[]]);let l=!1;const c=t.date.$locale().weekStart||7,u=t.date.locale("en").localeData().weekdaysShort().map(k=>k.toLowerCase()),d=A(()=>c>3?7-c:-c),f=A(()=>{const k=t.date.startOf("month");return k.subtract(k.day()||7,"day")}),p=A(()=>u.concat(u).slice(c,c+7)),g=A(()=>fR(h(w)).some(k=>k.isCurrent)),m=A(()=>{const k=t.date.startOf("month"),B=k.day()||7,G=k.daysInMonth(),J=k.subtract(1,"month").daysInMonth();return{startOfMonthDay:B,dateCountOfMonth:G,dateCountOfLastMonth:J}}),y=A(()=>t.selectionMode==="dates"?Ss(t.parsedValue):[]),v=(k,{count:B,rowIndex:G,columnIndex:J})=>{const{startOfMonthDay:re,dateCountOfMonth:ee,dateCountOfLastMonth:ye}=h(m),te=h(d);if(G>=0&&G<=1){const oe=re+te<0?7+re+te:re+te;if(J+G*7>=oe)return k.text=B,!0;k.text=ye-(oe-J%7)+1+G*7,k.type="prev-month"}else return B<=ee?k.text=B:(k.text=B-ee,k.type="next-month"),!0;return!1},_=(k,{columnIndex:B,rowIndex:G},J)=>{const{disabledDate:re,cellClassName:ee}=t,ye=h(y),te=v(k,{count:J,rowIndex:G,columnIndex:B}),oe=k.dayjs.toDate();return k.selected=ye.find(de=>de.isSame(k.dayjs,"day")),k.isSelected=!!k.selected,k.isCurrent=x(k),k.disabled=re==null?void 0:re(oe),k.customClass=ee==null?void 0:ee(oe),te},b=k=>{if(t.selectionMode==="week"){const[B,G]=t.showWeekNumber?[1,7]:[0,6],J=N(k[B+1]);k[B].inRange=J,k[B].start=J,k[G].inRange=J,k[G].end=J}},w=A(()=>{const{minDate:k,maxDate:B,rangeState:G,showWeekNumber:J}=t,re=h(d),ee=h(a),ye="day";let te=1;if(J)for(let oe=0;oe<6;oe++)ee[oe][0]||(ee[oe][0]={type:"week",text:h(f).add(oe*7+1,ye).week()});return ij({row:6,column:7},ee,{startDate:k,columnIndexOffset:J?1:0,nextEndDate:G.endDate||B||G.selecting&&k||null,now:Rt().locale(h(n)).startOf(ye),unit:ye,relativeDateGetter:oe=>h(f).add(oe-re,ye),setCellMetadata:(...oe)=>{_(...oe,te)&&(te+=1)},setRowMetadata:b}),ee});ke(()=>t.date,async()=>{var k;(k=h(i))!=null&&k.contains(document.activeElement)&&(await rt(),await S())});const S=async()=>{var k;return(k=h(s))==null?void 0:k.focus()},x=k=>t.selectionMode==="date"&&R1(k.type)&&C(k,t.parsedValue),C=(k,B)=>B?Rt(B).locale(h(n)).isSame(t.date.date(Number(k.text)),"day"):!1,T=(k,B)=>{const G=k*7+(B-(t.showWeekNumber?1:0))-h(d);return h(f).add(G,"day")},E=k=>{var B;if(!t.rangeState.selecting)return;let G=k.target;if(G.tagName==="SPAN"&&(G=(B=G.parentNode)==null?void 0:B.parentNode),G.tagName==="DIV"&&(G=G.parentNode),G.tagName!=="TD")return;const J=G.parentNode.rowIndex-1,re=G.cellIndex;h(w)[J][re].disabled||(J!==h(r)||re!==h(o))&&(r.value=J,o.value=re,e("changerange",{selecting:!0,endDate:T(J,re)}))},M=k=>!h(g)&&(k==null?void 0:k.text)===1&&k.type==="normal"||k.isCurrent,R=k=>{l||h(g)||t.selectionMode!=="date"||I(k,!0)},O=k=>{k.target.closest("td")&&(l=!0)},F=k=>{k.target.closest("td")&&(l=!1)},V=k=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:k,maxDate:null}),e("select",!0)):(k>=t.minDate?e("pick",{minDate:t.minDate,maxDate:k}):e("pick",{minDate:k,maxDate:t.minDate}),e("select",!1))},U=k=>{const B=k.week(),G=`${k.year()}w${B}`;e("pick",{year:k.year(),week:B,value:G,date:k.startOf("week")})},D=(k,B)=>{const G=B?Ss(t.parsedValue).filter(J=>(J==null?void 0:J.valueOf())!==k.valueOf()):Ss(t.parsedValue).concat([k]);e("pick",G)},I=(k,B=!1)=>{const G=k.target.closest("td");if(!G)return;const J=G.parentNode.rowIndex-1,re=G.cellIndex,ee=h(w)[J][re];if(ee.disabled||ee.type==="week")return;const ye=T(J,re);switch(t.selectionMode){case"range":{V(ye);break}case"date":{e("pick",ye,B);break}case"week":{U(ye);break}case"dates":{D(ye,!!ee.selected);break}}},N=k=>{if(t.selectionMode!=="week")return!1;let B=t.date.startOf("day");if(k.type==="prev-month"&&(B=B.subtract(1,"month")),k.type==="next-month"&&(B=B.add(1,"month")),B=B.date(Number.parseInt(k.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const G=(t.parsedValue.day()-c+7)%7-1;return t.parsedValue.subtract(G,"day").isSame(B,"day")}return!1};return{WEEKS:p,rows:w,tbodyRef:i,currentCellRef:s,focus:S,isCurrent:x,isWeekActive:N,isSelectedCell:M,handlePickDate:I,handleMouseUp:F,handleMouseDown:O,handleMouseMove:E,handleFocus:R}},rj=(t,{isCurrent:e,isWeekActive:n})=>{const i=Oe("date-table"),{t:s}=$t(),r=A(()=>[i.b(),{"is-week-mode":t.selectionMode==="week"}]),o=A(()=>s("el.datepicker.dateTablePrompt")),a=A(()=>s("el.datepicker.week"));return{tableKls:r,tableLabel:o,weekLabel:a,getCellClasses:u=>{const d=[];return R1(u.type)&&!u.disabled?(d.push("available"),u.type==="today"&&d.push("today")):d.push(u.type),e(u)&&d.push("current"),u.inRange&&(R1(u.type)||t.selectionMode==="week")&&(d.push("in-range"),u.start&&d.push("start-date"),u.end&&d.push("end-date")),u.disabled&&d.push("disabled"),u.selected&&d.push("selected"),u.customClass&&d.push(u.customClass),d.join(" ")},getRowKls:u=>[i.e("row"),{current:n(u)}],t:s}},oj=ze({cell:{type:ce(Object)}});var aj=j({name:"ElDatePickerCell",props:oj,setup(t){const e=Oe("date-table-cell"),{slots:n}=et(bw);return()=>{const{cell:i}=t;return Me(n,"default",{...i},()=>[X("div",{class:e.b()},[X("span",{class:e.e("text")},[i==null?void 0:i.text])])])}}});const lj=["aria-label"],cj={key:0,scope:"col"},uj=["aria-label"],dj=["aria-current","aria-selected","tabindex"],fj=j({__name:"basic-date-table",props:tj,emits:nj,setup(t,{expose:e,emit:n}){const i=t,{WEEKS:s,rows:r,tbodyRef:o,currentCellRef:a,focus:l,isCurrent:c,isWeekActive:u,isSelectedCell:d,handlePickDate:f,handleMouseUp:p,handleMouseDown:g,handleMouseMove:m,handleFocus:y}=sj(i,n),{tableLabel:v,tableKls:_,weekLabel:b,getCellClasses:w,getRowKls:S,t:x}=rj(i,{isCurrent:c,isWeekActive:u});return e({focus:l}),(C,T)=>(P(),H("table",{"aria-label":h(v),class:L(h(_)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:T[1]||(T[1]=(...E)=>h(f)&&h(f)(...E)),onMousemove:T[2]||(T[2]=(...E)=>h(m)&&h(m)(...E)),onMousedown:T[3]||(T[3]=gt((...E)=>h(g)&&h(g)(...E),["prevent"])),onMouseup:T[4]||(T[4]=(...E)=>h(p)&&h(p)(...E))},[Y("tbody",{ref_key:"tbodyRef",ref:o},[Y("tr",null,[C.showWeekNumber?(P(),H("th",cj,Ge(h(b)),1)):ge("v-if",!0),(P(!0),H(st,null,Dt(h(s),(E,M)=>(P(),H("th",{key:M,"aria-label":h(x)("el.datepicker.weeksFull."+E),scope:"col"},Ge(h(x)("el.datepicker.weeks."+E)),9,uj))),128))]),(P(!0),H(st,null,Dt(h(r),(E,M)=>(P(),H("tr",{key:M,class:L(h(S)(E[1]))},[(P(!0),H(st,null,Dt(E,(R,O)=>(P(),H("td",{key:`${M}.${O}`,ref_for:!0,ref:F=>h(d)(R)&&(a.value=F),class:L(h(w)(R)),"aria-current":R.isCurrent?"date":void 0,"aria-selected":R.isCurrent,tabindex:h(d)(R)?0:-1,onFocus:T[0]||(T[0]=(...F)=>h(y)&&h(y)(...F))},[X(h(aj),{cell:R},null,8,["cell"])],42,dj))),128))],2))),128))],512)],42,lj))}});var P1=$e(fj,[["__file","basic-date-table.vue"]]);const hj=ze({..._w,selectionMode:ww("month")}),pj=["aria-label"],mj=["aria-selected","aria-label","tabindex","onKeydown"],gj={class:"cell"},vj=j({__name:"basic-month-table",props:hj,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const i=t,s=(w,S,x)=>{const C=Rt().locale(x).startOf("month").month(S).year(w),T=C.daysInMonth();return ma(T).map(E=>C.add(E,"day").toDate())},r=Oe("month-table"),{t:o,lang:a}=$t(),l=z(),c=z(),u=z(i.date.locale("en").localeData().monthsShort().map(w=>w.toLowerCase())),d=z([[],[],[]]),f=z(),p=z(),g=A(()=>{var w,S;const x=d.value,C=Rt().locale(a.value).startOf("month");for(let T=0;T<3;T++){const E=x[T];for(let M=0;M<4;M++){const R=E[M]||(E[M]={row:T,column:M,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});R.type="normal";const O=T*4+M,F=i.date.startOf("year").month(O),V=i.rangeState.endDate||i.maxDate||i.rangeState.selecting&&i.minDate||null;R.inRange=!!(i.minDate&&F.isSameOrAfter(i.minDate,"month")&&V&&F.isSameOrBefore(V,"month"))||!!(i.minDate&&F.isSameOrBefore(i.minDate,"month")&&V&&F.isSameOrAfter(V,"month")),(w=i.minDate)!=null&&w.isSameOrAfter(V)?(R.start=!!(V&&F.isSame(V,"month")),R.end=i.minDate&&F.isSame(i.minDate,"month")):(R.start=!!(i.minDate&&F.isSame(i.minDate,"month")),R.end=!!(V&&F.isSame(V,"month"))),C.isSame(F)&&(R.type="today"),R.text=O,R.disabled=((S=i.disabledDate)==null?void 0:S.call(i,F.toDate()))||!1}}return x}),m=()=>{var w;(w=c.value)==null||w.focus()},y=w=>{const S={},x=i.date.year(),C=new Date,T=w.text;return S.disabled=i.disabledDate?s(x,T,a.value).every(i.disabledDate):!1,S.current=Ss(i.parsedValue).findIndex(E=>Rt.isDayjs(E)&&E.year()===x&&E.month()===T)>=0,S.today=C.getFullYear()===x&&C.getMonth()===T,w.inRange&&(S["in-range"]=!0,w.start&&(S["start-date"]=!0),w.end&&(S["end-date"]=!0)),S},v=w=>{const S=i.date.year(),x=w.text;return Ss(i.date).findIndex(C=>C.year()===S&&C.month()===x)>=0},_=w=>{var S;if(!i.rangeState.selecting)return;let x=w.target;if(x.tagName==="SPAN"&&(x=(S=x.parentNode)==null?void 0:S.parentNode),x.tagName==="DIV"&&(x=x.parentNode),x.tagName!=="TD")return;const C=x.parentNode.rowIndex,T=x.cellIndex;g.value[C][T].disabled||(C!==f.value||T!==p.value)&&(f.value=C,p.value=T,n("changerange",{selecting:!0,endDate:i.date.startOf("year").month(C*4+T)}))},b=w=>{var S;const x=(S=w.target)==null?void 0:S.closest("td");if((x==null?void 0:x.tagName)!=="TD"||Ys(x,"disabled"))return;const C=x.cellIndex,E=x.parentNode.rowIndex*4+C,M=i.date.startOf("year").month(E);i.selectionMode==="range"?i.rangeState.selecting?(i.minDate&&M>=i.minDate?n("pick",{minDate:i.minDate,maxDate:M}):n("pick",{minDate:M,maxDate:i.minDate}),n("select",!1)):(n("pick",{minDate:M,maxDate:null}),n("select",!0)):n("pick",E)};return ke(()=>i.date,async()=>{var w,S;(w=l.value)!=null&&w.contains(document.activeElement)&&(await rt(),(S=c.value)==null||S.focus())}),e({focus:m}),(w,S)=>(P(),H("table",{role:"grid","aria-label":h(o)("el.datepicker.monthTablePrompt"),class:L(h(r).b()),onClick:b,onMousemove:_},[Y("tbody",{ref_key:"tbodyRef",ref:l},[(P(!0),H(st,null,Dt(h(g),(x,C)=>(P(),H("tr",{key:C},[(P(!0),H(st,null,Dt(x,(T,E)=>(P(),H("td",{key:E,ref_for:!0,ref:M=>v(T)&&(c.value=M),class:L(y(T)),"aria-selected":`${v(T)}`,"aria-label":h(o)(`el.datepicker.month${+T.text+1}`),tabindex:v(T)?0:-1,onKeydown:[Gt(gt(b,["prevent","stop"]),["space"]),Gt(gt(b,["prevent","stop"]),["enter"])]},[Y("div",null,[Y("span",gj,Ge(h(o)("el.datepicker.months."+u.value[T.text])),1)])],42,mj))),128))]))),128))],512)],42,pj))}});var I1=$e(vj,[["__file","basic-month-table.vue"]]);const{date:yj,disabledDate:bj,parsedValue:_j}=_w,wj=ze({date:yj,disabledDate:bj,parsedValue:_j,selectionMode:ww("year")}),xj=["aria-label"],Sj=["aria-selected","tabindex","onKeydown"],Mj={class:"cell"},Cj={key:1},Ej=j({__name:"basic-year-table",props:wj,emits:["pick"],setup(t,{expose:e,emit:n}){const i=t,s=(m,y)=>{const v=Rt(String(m)).locale(y).startOf("year"),b=v.endOf("year").dayOfYear();return ma(b).map(w=>v.add(w,"day").toDate())},r=Oe("year-table"),{t:o,lang:a}=$t(),l=z(),c=z(),u=A(()=>Math.floor(i.date.year()/10)*10),d=()=>{var m;(m=c.value)==null||m.focus()},f=m=>{const y={},v=Rt().locale(a.value);return y.disabled=i.disabledDate?s(m,a.value).every(i.disabledDate):!1,y.current=Ss(i.parsedValue).findIndex(_=>_.year()===m)>=0,y.today=v.year()===m,y},p=m=>m===u.value&&i.date.year()<u.value&&i.date.year()>u.value+9||Ss(i.date).findIndex(y=>y.year()===m)>=0||Ss(i.parsedValue).findIndex(y=>(y==null?void 0:y.year())===m)>=0,g=m=>{const v=m.target.closest("td");if(v&&v.textContent){if(Ys(v,"disabled"))return;const _=v.textContent||v.innerText;if(i.selectionMode==="years"){if(m.type==="keydown"){n("pick",Ss(i.parsedValue),!1);return}const b=Ys(v,"current")?Ss(i.parsedValue).filter(w=>(w==null?void 0:w.year())!==Number(_)):Ss(i.parsedValue).concat([Rt(_)]);n("pick",b)}else n("pick",Number(_))}};return ke(()=>i.date,async()=>{var m,y;(m=l.value)!=null&&m.contains(document.activeElement)&&(await rt(),(y=c.value)==null||y.focus())}),e({focus:d}),(m,y)=>(P(),H("table",{role:"grid","aria-label":h(o)("el.datepicker.yearTablePrompt"),class:L(h(r).b()),onClick:g},[Y("tbody",{ref_key:"tbodyRef",ref:l},[(P(),H(st,null,Dt(3,(v,_)=>Y("tr",{key:_},[(P(),H(st,null,Dt(4,(b,w)=>(P(),H(st,{key:_+"_"+w},[_*4+w<10?(P(),H("td",{key:0,ref_for:!0,ref:S=>p(h(u)+_*4+w)&&(c.value=S),class:L(["available",f(h(u)+_*4+w)]),"aria-selected":`${p(h(u)+_*4+w)}`,tabindex:p(h(u)+_*4+w)?0:-1,onKeydown:[Gt(gt(g,["prevent","stop"]),["space"]),Gt(gt(g,["prevent","stop"]),["enter"])]},[Y("div",null,[Y("span",Mj,Ge(h(u)+_*4+w),1)])],42,Sj)):(P(),H("td",Cj))],64))),64))])),64))],512)],10,xj))}});var Tj=$e(Ej,[["__file","basic-year-table.vue"]]);const Aj=["onClick"],Rj=["aria-label"],Pj=["aria-label"],Ij=["aria-label"],kj=["aria-label"],Oj=j({__name:"panel-date-pick",props:ej,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,i=(Se,Le,we)=>!0,s=Oe("picker-panel"),r=Oe("date-picker"),o=rc(),a=Ci(),{t:l,lang:c}=$t(),u=et("EP_PICKER_BASE"),d=et(uv),{shortcuts:f,disabledDate:p,cellClassName:g,defaultTime:m}=u.props,y=on(u.props,"defaultValue"),v=z(),_=z(Rt().locale(c.value)),b=z(!1);let w=!1;const S=A(()=>Rt(m).locale(c.value)),x=A(()=>_.value.month()),C=A(()=>_.value.year()),T=z([]),E=z(null),M=z(null),R=Se=>T.value.length>0?i(Se,T.value,n.format||"HH:mm:ss"):!0,O=Se=>m&&!q.value&&!b.value&&!w?S.value.year(Se.year()).month(Se.month()).date(Se.date()):te.value?Se.millisecond(0):Se.startOf("day"),F=(Se,...Le)=>{if(!Se)e("pick",Se,...Le);else if(Ze(Se)){const we=Se.map(O);e("pick",we,...Le)}else e("pick",O(Se),...Le);E.value=null,M.value=null,b.value=!1,w=!1},V=async(Se,Le)=>{if(B.value==="date"){Se=Se;let we=n.parsedValue?n.parsedValue.year(Se.year()).month(Se.month()).date(Se.date()):Se;R(we)||(we=T.value[0][0].year(Se.year()).month(Se.month()).date(Se.date())),_.value=we,F(we,te.value||Le),n.type==="datetime"&&(await rt(),Fe())}else B.value==="week"?F(Se.date):B.value==="dates"&&F(Se,!0)},U=Se=>{const Le=Se?"add":"subtract";_.value=_.value[Le](1,"month"),He("month")},D=Se=>{const Le=_.value,we=Se?"add":"subtract";_.value=I.value==="year"?Le[we](10,"year"):Le[we](1,"year"),He("year")},I=z("date"),N=A(()=>{const Se=l("el.datepicker.year");if(I.value==="year"){const Le=Math.floor(C.value/10)*10;return Se?`${Le} ${Se} - ${Le+9} ${Se}`:`${Le} - ${Le+9}`}return`${C.value} ${Se}`}),k=Se=>{const Le=ht(Se.value)?Se.value():Se.value;if(Le){w=!0,F(Rt(Le).locale(c.value));return}Se.onClick&&Se.onClick({attrs:o,slots:a,emit:e})},B=A(()=>{const{type:Se}=n;return["week","month","year","years","dates"].includes(Se)?Se:"date"}),G=A(()=>B.value==="date"?I.value:B.value),J=A(()=>!!f.length),re=async Se=>{_.value=_.value.startOf("month").month(Se),B.value==="month"?F(_.value,!1):(I.value="date",["month","year","date","week"].includes(B.value)&&(F(_.value,!0),await rt(),Fe())),He("month")},ee=async(Se,Le)=>{B.value==="year"?(_.value=_.value.startOf("year").year(Se),F(_.value,!1)):B.value==="years"?F(Se,Le??!0):(_.value=_.value.year(Se),I.value="month",["month","year","date","week"].includes(B.value)&&(F(_.value,!0),await rt(),Fe())),He("year")},ye=async Se=>{I.value=Se,await rt(),Fe()},te=A(()=>n.type==="datetime"||n.type==="datetimerange"),oe=A(()=>{const Se=te.value||B.value==="dates",Le=B.value==="years",we=I.value==="date",pe=I.value==="year";return Se&&we||Le&&pe}),de=A(()=>p?n.parsedValue?Ze(n.parsedValue)?p(n.parsedValue[0].toDate()):p(n.parsedValue.toDate()):!0:!1),Ne=()=>{if(B.value==="dates"||B.value==="years")F(n.parsedValue);else{let Se=n.parsedValue;if(!Se){const Le=Rt(m).locale(c.value),we=Pe();Se=Le.year(we.year()).month(we.month()).date(we.date())}_.value=Se,F(Se)}},Q=A(()=>p?p(Rt().locale(c.value).toDate()):!1),Te=()=>{const Le=Rt().locale(c.value).toDate();b.value=!0,(!p||!p(Le))&&R(Le)&&(_.value=Rt().locale(c.value),F(_.value))},me=A(()=>n.timeFormat||iP(n.format)),K=A(()=>n.dateFormat||nP(n.format)),q=A(()=>{if(M.value)return M.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||_.value).format(me.value)}),ue=A(()=>{if(E.value)return E.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||_.value).format(K.value)}),ve=z(!1),he=()=>{ve.value=!0},xe=()=>{ve.value=!1},W=Se=>({hour:Se.hour(),minute:Se.minute(),second:Se.second(),year:Se.year(),month:Se.month(),date:Se.date()}),$=(Se,Le,we)=>{const{hour:pe,minute:Ae,second:je}=W(Se),fe=n.parsedValue?n.parsedValue.hour(pe).minute(Ae).second(je):Se;_.value=fe,F(_.value,!0),we||(ve.value=Le)},ae=Se=>{const Le=Rt(Se,me.value).locale(c.value);if(Le.isValid()&&R(Le)){const{year:we,month:pe,date:Ae}=W(_.value);_.value=Le.year(we).month(pe).date(Ae),M.value=null,ve.value=!1,F(_.value,!0)}},se=Se=>{const Le=Rt(Se,K.value).locale(c.value);if(Le.isValid()){if(p&&p(Le.toDate()))return;const{hour:we,minute:pe,second:Ae}=W(_.value);_.value=Le.hour(we).minute(pe).second(Ae),E.value=null,F(_.value,!0)}},Ee=Se=>Rt.isDayjs(Se)&&Se.isValid()&&(p?!p(Se.toDate()):!0),Re=Se=>Ze(Se)?Se.map(Le=>Le.format(n.format)):Se.format(n.format),be=Se=>Rt(Se,n.format).locale(c.value),Pe=()=>{const Se=Rt(y.value).locale(c.value);if(!y.value){const Le=S.value;return Rt().hour(Le.hour()).minute(Le.minute()).second(Le.second()).locale(c.value)}return Se},Fe=async()=>{var Se;["week","month","year","date"].includes(B.value)&&((Se=v.value)==null||Se.focus(),B.value==="week"&&Ye(lt.down))},it=Se=>{const{code:Le}=Se;[lt.up,lt.down,lt.left,lt.right,lt.home,lt.end,lt.pageUp,lt.pageDown].includes(Le)&&(Ye(Le),Se.stopPropagation(),Se.preventDefault()),[lt.enter,lt.space,lt.numpadEnter].includes(Le)&&E.value===null&&M.value===null&&(Se.preventDefault(),F(_.value,!1))},Ye=Se=>{var Le;const{up:we,down:pe,left:Ae,right:je,home:fe,end:le,pageUp:Be,pageDown:We}=lt,ot={year:{[we]:-4,[pe]:4,[Ae]:-1,[je]:1,offset:(dt,Bt)=>dt.setFullYear(dt.getFullYear()+Bt)},month:{[we]:-4,[pe]:4,[Ae]:-1,[je]:1,offset:(dt,Bt)=>dt.setMonth(dt.getMonth()+Bt)},week:{[we]:-1,[pe]:1,[Ae]:-1,[je]:1,offset:(dt,Bt)=>dt.setDate(dt.getDate()+Bt*7)},date:{[we]:-7,[pe]:7,[Ae]:-1,[je]:1,[fe]:dt=>-dt.getDay(),[le]:dt=>-dt.getDay()+6,[Be]:dt=>-new Date(dt.getFullYear(),dt.getMonth(),0).getDate(),[We]:dt=>new Date(dt.getFullYear(),dt.getMonth()+1,0).getDate(),offset:(dt,Bt)=>dt.setDate(dt.getDate()+Bt)}},pt=_.value.toDate();for(;Math.abs(_.value.diff(pt,"year",!0))<1;){const dt=ot[G.value];if(!dt)return;if(dt.offset(pt,ht(dt[Se])?dt[Se](pt):(Le=dt[Se])!=null?Le:0),p&&p(pt))break;const Bt=Rt(pt).locale(c.value);_.value=Bt,e("pick",Bt,!0);break}},He=Se=>{e("panel-change",_.value.toDate(),Se,I.value)};return ke(()=>B.value,Se=>{if(["month","year"].includes(Se)){I.value=Se;return}else if(Se==="years"){I.value="year";return}I.value="date"},{immediate:!0}),ke(()=>I.value,()=>{d==null||d.updatePopper()}),ke(()=>y.value,Se=>{Se&&(_.value=Pe())},{immediate:!0}),ke(()=>n.parsedValue,Se=>{if(Se){if(B.value==="dates"||B.value==="years"||Array.isArray(Se))return;_.value=Se}else _.value=Pe()},{immediate:!0}),e("set-picker-option",["isValidValue",Ee]),e("set-picker-option",["formatToString",Re]),e("set-picker-option",["parseUserInput",be]),e("set-picker-option",["handleFocusPicker",Fe]),(Se,Le)=>(P(),H("div",{class:L([h(s).b(),h(r).b(),{"has-sidebar":Se.$slots.sidebar||h(J),"has-time":h(te)}])},[Y("div",{class:L(h(s).e("body-wrapper"))},[Me(Se.$slots,"sidebar",{class:L(h(s).e("sidebar"))}),h(J)?(P(),H("div",{key:0,class:L(h(s).e("sidebar"))},[(P(!0),H(st,null,Dt(h(f),(we,pe)=>(P(),H("button",{key:pe,type:"button",class:L(h(s).e("shortcut")),onClick:Ae=>k(we)},Ge(we.text),11,Aj))),128))],2)):ge("v-if",!0),Y("div",{class:L(h(s).e("body"))},[h(te)?(P(),H("div",{key:0,class:L(h(r).e("time-header"))},[Y("span",{class:L(h(r).e("editor-wrap"))},[X(h(Wi),{placeholder:h(l)("el.datepicker.selectDate"),"model-value":h(ue),size:"small","validate-event":!1,onInput:Le[0]||(Le[0]=we=>E.value=we),onChange:se},null,8,["placeholder","model-value"])],2),St((P(),H("span",{class:L(h(r).e("editor-wrap"))},[X(h(Wi),{placeholder:h(l)("el.datepicker.selectTime"),"model-value":h(q),size:"small","validate-event":!1,onFocus:he,onInput:Le[1]||(Le[1]=we=>M.value=we),onChange:ae},null,8,["placeholder","model-value"]),X(h(dg),{visible:ve.value,format:h(me),"parsed-value":_.value,onPick:$},null,8,["visible","format","parsed-value"])],2)),[[h(_o),xe]])],2)):ge("v-if",!0),St(Y("div",{class:L([h(r).e("header"),(I.value==="year"||I.value==="month")&&h(r).e("header--bordered")])},[Y("span",{class:L(h(r).e("prev-btn"))},[Y("button",{type:"button","aria-label":h(l)("el.datepicker.prevYear"),class:L(["d-arrow-left",h(s).e("icon-btn")]),onClick:Le[2]||(Le[2]=we=>D(!1))},[X(h(tt),null,{default:ne(()=>[X(h(Eu))]),_:1})],10,Rj),St(Y("button",{type:"button","aria-label":h(l)("el.datepicker.prevMonth"),class:L([h(s).e("icon-btn"),"arrow-left"]),onClick:Le[3]||(Le[3]=we=>U(!1))},[X(h(tt),null,{default:ne(()=>[X(h(Sa))]),_:1})],10,Pj),[[Kt,I.value==="date"]])],2),Y("span",{role:"button",class:L(h(r).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Le[4]||(Le[4]=Gt(we=>ye("year"),["enter"])),onClick:Le[5]||(Le[5]=we=>ye("year"))},Ge(h(N)),35),St(Y("span",{role:"button","aria-live":"polite",tabindex:"0",class:L([h(r).e("header-label"),{active:I.value==="month"}]),onKeydown:Le[6]||(Le[6]=Gt(we=>ye("month"),["enter"])),onClick:Le[7]||(Le[7]=we=>ye("month"))},Ge(h(l)(`el.datepicker.month${h(x)+1}`)),35),[[Kt,I.value==="date"]]),Y("span",{class:L(h(r).e("next-btn"))},[St(Y("button",{type:"button","aria-label":h(l)("el.datepicker.nextMonth"),class:L([h(s).e("icon-btn"),"arrow-right"]),onClick:Le[8]||(Le[8]=we=>U(!0))},[X(h(tt),null,{default:ne(()=>[X(h(ts))]),_:1})],10,Ij),[[Kt,I.value==="date"]]),Y("button",{type:"button","aria-label":h(l)("el.datepicker.nextYear"),class:L([h(s).e("icon-btn"),"d-arrow-right"]),onClick:Le[9]||(Le[9]=we=>D(!0))},[X(h(tt),null,{default:ne(()=>[X(h(Tu))]),_:1})],10,kj)],2)],2),[[Kt,I.value!=="time"]]),Y("div",{class:L(h(s).e("content")),onKeydown:it},[I.value==="date"?(P(),_e(P1,{key:0,ref_key:"currentViewRef",ref:v,"selection-mode":h(B),date:_.value,"parsed-value":Se.parsedValue,"disabled-date":h(p),"cell-class-name":h(g),onPick:V},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ge("v-if",!0),I.value==="year"?(P(),_e(Tj,{key:1,ref_key:"currentViewRef",ref:v,"selection-mode":h(B),date:_.value,"disabled-date":h(p),"parsed-value":Se.parsedValue,onPick:ee},null,8,["selection-mode","date","disabled-date","parsed-value"])):ge("v-if",!0),I.value==="month"?(P(),_e(I1,{key:2,ref_key:"currentViewRef",ref:v,date:_.value,"parsed-value":Se.parsedValue,"disabled-date":h(p),onPick:re},null,8,["date","parsed-value","disabled-date"])):ge("v-if",!0)],34)],2)],2),St(Y("div",{class:L(h(s).e("footer"))},[St(X(h(bi),{text:"",size:"small",class:L(h(s).e("link-btn")),disabled:h(Q),onClick:Te},{default:ne(()=>[zt(Ge(h(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Kt,h(B)!=="dates"&&h(B)!=="years"]]),X(h(bi),{plain:"",size:"small",class:L(h(s).e("link-btn")),disabled:h(de),onClick:Ne},{default:ne(()=>[zt(Ge(h(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[Kt,h(oe)]])],2))}});var Lj=$e(Oj,[["__file","panel-date-pick.vue"]]);const Nj=ze({...ZP,...JP}),Dj=t=>{const{emit:e}=Tt(),n=rc(),i=Ci();return r=>{const o=ht(r.value)?r.value():r.value;if(o){e("pick",[Rt(o[0]).locale(t.value),Rt(o[1]).locale(t.value)]);return}r.onClick&&r.onClick({attrs:n,slots:i,emit:e})}},eI=(t,{defaultValue:e,leftDate:n,rightDate:i,unit:s,onParsedValueChanged:r})=>{const{emit:o}=Tt(),{pickerNs:a}=et(bw),l=Oe("date-range-picker"),{t:c,lang:u}=$t(),d=Dj(u),f=z(),p=z(),g=z({endDate:null,selecting:!1}),m=b=>{g.value=b},y=(b=!1)=>{const w=h(f),S=h(p);A1([w,S])&&o("pick",[w,S],b)},v=b=>{g.value.selecting=b,b||(g.value.endDate=null)},_=()=>{const[b,w]=QP(h(e),{lang:h(u),unit:s,unlinkPanels:t.unlinkPanels});f.value=void 0,p.value=void 0,n.value=b,i.value=w};return ke(e,b=>{b&&_()},{immediate:!0}),ke(()=>t.parsedValue,b=>{if(Ze(b)&&b.length===2){const[w,S]=b;f.value=w,n.value=w,p.value=S,r(h(f),h(p))}else _()},{immediate:!0}),{minDate:f,maxDate:p,rangeState:g,lang:u,ppNs:a,drpNs:l,handleChangeRange:m,handleRangeConfirm:y,handleShortcutClick:d,onSelect:v,t:c}},Fj=["onClick"],Bj=["aria-label"],Uj=["aria-label"],zj=["disabled","aria-label"],Vj=["disabled","aria-label"],$j=["disabled","aria-label"],Hj=["disabled","aria-label"],Wj=["aria-label"],Gj=["aria-label"],sp="month",Kj=j({__name:"panel-date-range",props:Nj,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,i=et("EP_PICKER_BASE"),{disabledDate:s,cellClassName:r,format:o,defaultTime:a,clearable:l}=i.props,c=on(i.props,"shortcuts"),u=on(i.props,"defaultValue"),{lang:d}=$t(),f=z(Rt().locale(d.value)),p=z(Rt().locale(d.value).add(1,sp)),{minDate:g,maxDate:m,rangeState:y,ppNs:v,drpNs:_,handleChangeRange:b,handleRangeConfirm:w,handleShortcutClick:S,onSelect:x,t:C}=eI(n,{defaultValue:u,leftDate:f,rightDate:p,unit:sp,onParsedValueChanged:Le}),T=z({min:null,max:null}),E=z({min:null,max:null}),M=A(()=>`${f.value.year()} ${C("el.datepicker.year")} ${C(`el.datepicker.month${f.value.month()+1}`)}`),R=A(()=>`${p.value.year()} ${C("el.datepicker.year")} ${C(`el.datepicker.month${p.value.month()+1}`)}`),O=A(()=>f.value.year()),F=A(()=>f.value.month()),V=A(()=>p.value.year()),U=A(()=>p.value.month()),D=A(()=>!!c.value.length),I=A(()=>T.value.min!==null?T.value.min:g.value?g.value.format(J.value):""),N=A(()=>T.value.max!==null?T.value.max:m.value||g.value?(m.value||g.value).format(J.value):""),k=A(()=>E.value.min!==null?E.value.min:g.value?g.value.format(G.value):""),B=A(()=>E.value.max!==null?E.value.max:m.value||g.value?(m.value||g.value).format(G.value):""),G=A(()=>n.timeFormat||iP(o)),J=A(()=>n.dateFormat||nP(o)),re=we=>A1(we)&&(s?!s(we[0].toDate())&&!s(we[1].toDate()):!0),ee=()=>{f.value=f.value.subtract(1,"year"),n.unlinkPanels||(p.value=f.value.add(1,"month")),me("year")},ye=()=>{f.value=f.value.subtract(1,"month"),n.unlinkPanels||(p.value=f.value.add(1,"month")),me("month")},te=()=>{n.unlinkPanels?p.value=p.value.add(1,"year"):(f.value=f.value.add(1,"year"),p.value=f.value.add(1,"month")),me("year")},oe=()=>{n.unlinkPanels?p.value=p.value.add(1,"month"):(f.value=f.value.add(1,"month"),p.value=f.value.add(1,"month")),me("month")},de=()=>{f.value=f.value.add(1,"year"),me("year")},Ne=()=>{f.value=f.value.add(1,"month"),me("month")},Q=()=>{p.value=p.value.subtract(1,"year"),me("year")},Te=()=>{p.value=p.value.subtract(1,"month"),me("month")},me=we=>{e("panel-change",[f.value.toDate(),p.value.toDate()],we)},K=A(()=>{const we=(F.value+1)%12,pe=F.value+1>=12?1:0;return n.unlinkPanels&&new Date(O.value+pe,we)<new Date(V.value,U.value)}),q=A(()=>n.unlinkPanels&&V.value*12+U.value-(O.value*12+F.value+1)>=12),ue=A(()=>!(g.value&&m.value&&!y.value.selecting&&A1([g.value,m.value]))),ve=A(()=>n.type==="datetime"||n.type==="datetimerange"),he=(we,pe)=>{if(we)return a?Rt(a[pe]||a).locale(d.value).year(we.year()).month(we.month()).date(we.date()):we},xe=(we,pe=!0)=>{const Ae=we.minDate,je=we.maxDate,fe=he(Ae,0),le=he(je,1);m.value===le&&g.value===fe||(e("calendar-change",[Ae.toDate(),je&&je.toDate()]),m.value=le,g.value=fe,!(!pe||ve.value)&&w())},W=z(!1),$=z(!1),ae=()=>{W.value=!1},se=()=>{$.value=!1},Ee=(we,pe)=>{T.value[pe]=we;const Ae=Rt(we,J.value).locale(d.value);if(Ae.isValid()){if(s&&s(Ae.toDate()))return;pe==="min"?(f.value=Ae,g.value=(g.value||f.value).year(Ae.year()).month(Ae.month()).date(Ae.date()),!n.unlinkPanels&&(!m.value||m.value.isBefore(g.value))&&(p.value=Ae.add(1,"month"),m.value=g.value.add(1,"month"))):(p.value=Ae,m.value=(m.value||p.value).year(Ae.year()).month(Ae.month()).date(Ae.date()),!n.unlinkPanels&&(!g.value||g.value.isAfter(m.value))&&(f.value=Ae.subtract(1,"month"),g.value=m.value.subtract(1,"month")))}},Re=(we,pe)=>{T.value[pe]=null},be=(we,pe)=>{E.value[pe]=we;const Ae=Rt(we,G.value).locale(d.value);Ae.isValid()&&(pe==="min"?(W.value=!0,g.value=(g.value||f.value).hour(Ae.hour()).minute(Ae.minute()).second(Ae.second()),(!m.value||m.value.isBefore(g.value))&&(m.value=g.value)):($.value=!0,m.value=(m.value||p.value).hour(Ae.hour()).minute(Ae.minute()).second(Ae.second()),p.value=m.value,m.value&&m.value.isBefore(g.value)&&(g.value=m.value)))},Pe=(we,pe)=>{E.value[pe]=null,pe==="min"?(f.value=g.value,W.value=!1):(p.value=m.value,$.value=!1)},Fe=(we,pe,Ae)=>{E.value.min||(we&&(f.value=we,g.value=(g.value||f.value).hour(we.hour()).minute(we.minute()).second(we.second())),Ae||(W.value=pe),(!m.value||m.value.isBefore(g.value))&&(m.value=g.value,p.value=we))},it=(we,pe,Ae)=>{E.value.max||(we&&(p.value=we,m.value=(m.value||p.value).hour(we.hour()).minute(we.minute()).second(we.second())),Ae||($.value=pe),m.value&&m.value.isBefore(g.value)&&(g.value=m.value))},Ye=()=>{f.value=QP(h(u),{lang:h(d),unit:"month",unlinkPanels:n.unlinkPanels})[0],p.value=f.value.add(1,"month"),m.value=void 0,g.value=void 0,e("pick",null)},He=we=>Ze(we)?we.map(pe=>pe.format(o)):we.format(o),Se=we=>Ze(we)?we.map(pe=>Rt(pe,o).locale(d.value)):Rt(we,o).locale(d.value);function Le(we,pe){if(n.unlinkPanels&&pe){const Ae=(we==null?void 0:we.year())||0,je=(we==null?void 0:we.month())||0,fe=pe.year(),le=pe.month();p.value=Ae===fe&&je===le?pe.add(1,sp):pe}else p.value=f.value.add(1,sp),pe&&(p.value=p.value.hour(pe.hour()).minute(pe.minute()).second(pe.second()))}return e("set-picker-option",["isValidValue",re]),e("set-picker-option",["parseUserInput",Se]),e("set-picker-option",["formatToString",He]),e("set-picker-option",["handleClear",Ye]),(we,pe)=>(P(),H("div",{class:L([h(v).b(),h(_).b(),{"has-sidebar":we.$slots.sidebar||h(D),"has-time":h(ve)}])},[Y("div",{class:L(h(v).e("body-wrapper"))},[Me(we.$slots,"sidebar",{class:L(h(v).e("sidebar"))}),h(D)?(P(),H("div",{key:0,class:L(h(v).e("sidebar"))},[(P(!0),H(st,null,Dt(h(c),(Ae,je)=>(P(),H("button",{key:je,type:"button",class:L(h(v).e("shortcut")),onClick:fe=>h(S)(Ae)},Ge(Ae.text),11,Fj))),128))],2)):ge("v-if",!0),Y("div",{class:L(h(v).e("body"))},[h(ve)?(P(),H("div",{key:0,class:L(h(_).e("time-header"))},[Y("span",{class:L(h(_).e("editors-wrap"))},[Y("span",{class:L(h(_).e("time-picker-wrap"))},[X(h(Wi),{size:"small",disabled:h(y).selecting,placeholder:h(C)("el.datepicker.startDate"),class:L(h(_).e("editor")),"model-value":h(I),"validate-event":!1,onInput:pe[0]||(pe[0]=Ae=>Ee(Ae,"min")),onChange:pe[1]||(pe[1]=Ae=>Re(Ae,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),St((P(),H("span",{class:L(h(_).e("time-picker-wrap"))},[X(h(Wi),{size:"small",class:L(h(_).e("editor")),disabled:h(y).selecting,placeholder:h(C)("el.datepicker.startTime"),"model-value":h(k),"validate-event":!1,onFocus:pe[2]||(pe[2]=Ae=>W.value=!0),onInput:pe[3]||(pe[3]=Ae=>be(Ae,"min")),onChange:pe[4]||(pe[4]=Ae=>Pe(Ae,"min"))},null,8,["class","disabled","placeholder","model-value"]),X(h(dg),{visible:W.value,format:h(G),"datetime-role":"start","parsed-value":f.value,onPick:Fe},null,8,["visible","format","parsed-value"])],2)),[[h(_o),ae]])],2),Y("span",null,[X(h(tt),null,{default:ne(()=>[X(h(ts))]),_:1})]),Y("span",{class:L([h(_).e("editors-wrap"),"is-right"])},[Y("span",{class:L(h(_).e("time-picker-wrap"))},[X(h(Wi),{size:"small",class:L(h(_).e("editor")),disabled:h(y).selecting,placeholder:h(C)("el.datepicker.endDate"),"model-value":h(N),readonly:!h(g),"validate-event":!1,onInput:pe[5]||(pe[5]=Ae=>Ee(Ae,"max")),onChange:pe[6]||(pe[6]=Ae=>Re(Ae,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),St((P(),H("span",{class:L(h(_).e("time-picker-wrap"))},[X(h(Wi),{size:"small",class:L(h(_).e("editor")),disabled:h(y).selecting,placeholder:h(C)("el.datepicker.endTime"),"model-value":h(B),readonly:!h(g),"validate-event":!1,onFocus:pe[7]||(pe[7]=Ae=>h(g)&&($.value=!0)),onInput:pe[8]||(pe[8]=Ae=>be(Ae,"max")),onChange:pe[9]||(pe[9]=Ae=>Pe(Ae,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),X(h(dg),{"datetime-role":"end",visible:$.value,format:h(G),"parsed-value":p.value,onPick:it},null,8,["visible","format","parsed-value"])],2)),[[h(_o),se]])],2)],2)):ge("v-if",!0),Y("div",{class:L([[h(v).e("content"),h(_).e("content")],"is-left"])},[Y("div",{class:L(h(_).e("header"))},[Y("button",{type:"button",class:L([h(v).e("icon-btn"),"d-arrow-left"]),"aria-label":h(C)("el.datepicker.prevYear"),onClick:ee},[X(h(tt),null,{default:ne(()=>[X(h(Eu))]),_:1})],10,Bj),Y("button",{type:"button",class:L([h(v).e("icon-btn"),"arrow-left"]),"aria-label":h(C)("el.datepicker.prevMonth"),onClick:ye},[X(h(tt),null,{default:ne(()=>[X(h(Sa))]),_:1})],10,Uj),we.unlinkPanels?(P(),H("button",{key:0,type:"button",disabled:!h(q),class:L([[h(v).e("icon-btn"),{"is-disabled":!h(q)}],"d-arrow-right"]),"aria-label":h(C)("el.datepicker.nextYear"),onClick:de},[X(h(tt),null,{default:ne(()=>[X(h(Tu))]),_:1})],10,zj)):ge("v-if",!0),we.unlinkPanels?(P(),H("button",{key:1,type:"button",disabled:!h(K),class:L([[h(v).e("icon-btn"),{"is-disabled":!h(K)}],"arrow-right"]),"aria-label":h(C)("el.datepicker.nextMonth"),onClick:Ne},[X(h(tt),null,{default:ne(()=>[X(h(ts))]),_:1})],10,Vj)):ge("v-if",!0),Y("div",null,Ge(h(M)),1)],2),X(P1,{"selection-mode":"range",date:f.value,"min-date":h(g),"max-date":h(m),"range-state":h(y),"disabled-date":h(s),"cell-class-name":h(r),onChangerange:h(b),onPick:xe,onSelect:h(x)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),Y("div",{class:L([[h(v).e("content"),h(_).e("content")],"is-right"])},[Y("div",{class:L(h(_).e("header"))},[we.unlinkPanels?(P(),H("button",{key:0,type:"button",disabled:!h(q),class:L([[h(v).e("icon-btn"),{"is-disabled":!h(q)}],"d-arrow-left"]),"aria-label":h(C)("el.datepicker.prevYear"),onClick:Q},[X(h(tt),null,{default:ne(()=>[X(h(Eu))]),_:1})],10,$j)):ge("v-if",!0),we.unlinkPanels?(P(),H("button",{key:1,type:"button",disabled:!h(K),class:L([[h(v).e("icon-btn"),{"is-disabled":!h(K)}],"arrow-left"]),"aria-label":h(C)("el.datepicker.prevMonth"),onClick:Te},[X(h(tt),null,{default:ne(()=>[X(h(Sa))]),_:1})],10,Hj)):ge("v-if",!0),Y("button",{type:"button","aria-label":h(C)("el.datepicker.nextYear"),class:L([h(v).e("icon-btn"),"d-arrow-right"]),onClick:te},[X(h(tt),null,{default:ne(()=>[X(h(Tu))]),_:1})],10,Wj),Y("button",{type:"button",class:L([h(v).e("icon-btn"),"arrow-right"]),"aria-label":h(C)("el.datepicker.nextMonth"),onClick:oe},[X(h(tt),null,{default:ne(()=>[X(h(ts))]),_:1})],10,Gj),Y("div",null,Ge(h(R)),1)],2),X(P1,{"selection-mode":"range",date:p.value,"min-date":h(g),"max-date":h(m),"range-state":h(y),"disabled-date":h(s),"cell-class-name":h(r),onChangerange:h(b),onPick:xe,onSelect:h(x)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),h(ve)?(P(),H("div",{key:0,class:L(h(v).e("footer"))},[h(l)?(P(),_e(h(bi),{key:0,text:"",size:"small",class:L(h(v).e("link-btn")),onClick:Ye},{default:ne(()=>[zt(Ge(h(C)("el.datepicker.clear")),1)]),_:1},8,["class"])):ge("v-if",!0),X(h(bi),{plain:"",size:"small",class:L(h(v).e("link-btn")),disabled:h(ue),onClick:pe[10]||(pe[10]=Ae=>h(w)(!1))},{default:ne(()=>[zt(Ge(h(C)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):ge("v-if",!0)],2))}});var Yj=$e(Kj,[["__file","panel-date-range.vue"]]);const Xj=ze({...JP}),qj=["pick","set-picker-option","calendar-change"],jj=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:i}=$t(),s=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},r=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},o=()=>{e.value=e.value.add(1,"year")},a=()=>{n.value=n.value.subtract(1,"year")},l=A(()=>`${e.value.year()} ${i("el.datepicker.year")}`),c=A(()=>`${n.value.year()} ${i("el.datepicker.year")}`),u=A(()=>e.value.year()),d=A(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:s,rightNextYear:r,leftNextYear:o,rightPrevYear:a,leftLabel:l,rightLabel:c,leftYear:u,rightYear:d}},Zj=["onClick"],Jj=["disabled"],Qj=["disabled"],rp="year",eZ=j({name:"DatePickerMonthRange"}),tZ=j({...eZ,props:Xj,emits:qj,setup(t,{emit:e}){const n=t,{lang:i}=$t(),s=et("EP_PICKER_BASE"),{shortcuts:r,disabledDate:o,format:a}=s.props,l=on(s.props,"defaultValue"),c=z(Rt().locale(i.value)),u=z(Rt().locale(i.value).add(1,rp)),{minDate:d,maxDate:f,rangeState:p,ppNs:g,drpNs:m,handleChangeRange:y,handleRangeConfirm:v,handleShortcutClick:_,onSelect:b}=eI(n,{defaultValue:l,leftDate:c,rightDate:u,unit:rp,onParsedValueChanged:D}),w=A(()=>!!r.length),{leftPrevYear:S,rightNextYear:x,leftNextYear:C,rightPrevYear:T,leftLabel:E,rightLabel:M,leftYear:R,rightYear:O}=jj({unlinkPanels:on(n,"unlinkPanels"),leftDate:c,rightDate:u}),F=A(()=>n.unlinkPanels&&O.value>R.value+1),V=(I,N=!0)=>{const k=I.minDate,B=I.maxDate;f.value===B&&d.value===k||(e("calendar-change",[k.toDate(),B&&B.toDate()]),f.value=B,d.value=k,N&&v())},U=I=>I.map(N=>N.format(a));function D(I,N){if(n.unlinkPanels&&N){const k=(I==null?void 0:I.year())||0,B=N.year();u.value=k===B?N.add(1,rp):N}else u.value=c.value.add(1,rp)}return e("set-picker-option",["formatToString",U]),(I,N)=>(P(),H("div",{class:L([h(g).b(),h(m).b(),{"has-sidebar":!!I.$slots.sidebar||h(w)}])},[Y("div",{class:L(h(g).e("body-wrapper"))},[Me(I.$slots,"sidebar",{class:L(h(g).e("sidebar"))}),h(w)?(P(),H("div",{key:0,class:L(h(g).e("sidebar"))},[(P(!0),H(st,null,Dt(h(r),(k,B)=>(P(),H("button",{key:B,type:"button",class:L(h(g).e("shortcut")),onClick:G=>h(_)(k)},Ge(k.text),11,Zj))),128))],2)):ge("v-if",!0),Y("div",{class:L(h(g).e("body"))},[Y("div",{class:L([[h(g).e("content"),h(m).e("content")],"is-left"])},[Y("div",{class:L(h(m).e("header"))},[Y("button",{type:"button",class:L([h(g).e("icon-btn"),"d-arrow-left"]),onClick:N[0]||(N[0]=(...k)=>h(S)&&h(S)(...k))},[X(h(tt),null,{default:ne(()=>[X(h(Eu))]),_:1})],2),I.unlinkPanels?(P(),H("button",{key:0,type:"button",disabled:!h(F),class:L([[h(g).e("icon-btn"),{[h(g).is("disabled")]:!h(F)}],"d-arrow-right"]),onClick:N[1]||(N[1]=(...k)=>h(C)&&h(C)(...k))},[X(h(tt),null,{default:ne(()=>[X(h(Tu))]),_:1})],10,Jj)):ge("v-if",!0),Y("div",null,Ge(h(E)),1)],2),X(I1,{"selection-mode":"range",date:c.value,"min-date":h(d),"max-date":h(f),"range-state":h(p),"disabled-date":h(o),onChangerange:h(y),onPick:V,onSelect:h(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),Y("div",{class:L([[h(g).e("content"),h(m).e("content")],"is-right"])},[Y("div",{class:L(h(m).e("header"))},[I.unlinkPanels?(P(),H("button",{key:0,type:"button",disabled:!h(F),class:L([[h(g).e("icon-btn"),{"is-disabled":!h(F)}],"d-arrow-left"]),onClick:N[2]||(N[2]=(...k)=>h(T)&&h(T)(...k))},[X(h(tt),null,{default:ne(()=>[X(h(Eu))]),_:1})],10,Qj)):ge("v-if",!0),Y("button",{type:"button",class:L([h(g).e("icon-btn"),"d-arrow-right"]),onClick:N[3]||(N[3]=(...k)=>h(x)&&h(x)(...k))},[X(h(tt),null,{default:ne(()=>[X(h(Tu))]),_:1})],2),Y("div",null,Ge(h(M)),1)],2),X(I1,{"selection-mode":"range",date:u.value,"min-date":h(d),"max-date":h(f),"range-state":h(p),"disabled-date":h(o),onChangerange:h(y),onPick:V,onSelect:h(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var nZ=$e(tZ,[["__file","panel-month-range.vue"]]);const iZ=function(t){switch(t){case"daterange":case"datetimerange":return Yj;case"monthrange":return nZ;default:return Lj}};Rt.extend(bP);Rt.extend(Vq);Rt.extend(gw);Rt.extend(Hq);Rt.extend(Gq);Rt.extend(Yq);Rt.extend(qq);Rt.extend(Zq);var sZ=j({name:"ElDatePicker",install:null,props:Jq,emits:["update:modelValue"],setup(t,{expose:e,emit:n,slots:i}){const s=Oe("picker-panel");Nt("ElPopperOptions",Xt(on(t,"popperOptions"))),Nt(bw,{slots:i,pickerNs:s});const r=z();e({focus:(l=!0)=>{var c;(c=r.value)==null||c.focus(l)},handleOpen:()=>{var l;(l=r.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=r.value)==null||l.handleClose()}});const a=l=>{n("update:modelValue",l)};return()=>{var l;const c=(l=t.format)!=null?l:k7[t.type]||qc,u=iZ(t.type);return X(oP,Lt(t,{format:c,type:t.type,ref:r,"onUpdate:modelValue":a}),{default:d=>X(u,d,null),"range-separator":i["range-separator"]})}}});const Cm=sZ;Cm.install=t=>{t.component(Cm.name,Cm)};const rZ=Cm,xw=Symbol("elDescriptions");var yd=j({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:et(xw,{})}},render(){var t,e,n,i,s,r,o;const a=S$(this.cell),l=(((t=this.cell)==null?void 0:t.dirs)||[]).map(S=>{const{dir:x,arg:C,modifiers:T,value:E}=S;return[x,E,C,T]}),{border:c,direction:u}=this.descriptions,d=u==="vertical",f=((i=(n=(e=this.cell)==null?void 0:e.children)==null?void 0:n.label)==null?void 0:i.call(n))||a.label,p=(o=(r=(s=this.cell)==null?void 0:s.children)==null?void 0:r.default)==null?void 0:o.call(r),g=a.span,m=a.align?`is-${a.align}`:"",y=a.labelAlign?`is-${a.labelAlign}`:m,v=a.className,_=a.labelClassName,b={width:On(a.width),minWidth:On(a.minWidth)},w=Oe("descriptions");switch(this.type){case"label":return St(at(this.tag,{style:b,class:[w.e("cell"),w.e("label"),w.is("bordered-label",c),w.is("vertical-label",d),y,_],colSpan:d?g:1},f),l);case"content":return St(at(this.tag,{style:b,class:[w.e("cell"),w.e("content"),w.is("bordered-content",c),w.is("vertical-content",d),m,v],colSpan:d?g:g*2-1},p),l);default:return St(at("td",{style:b,class:[w.e("cell"),m],colSpan:g},[yi(f)?void 0:at("span",{class:[w.e("label"),_]},f),at("span",{class:[w.e("content"),v]},p)]),l)}}});const oZ=ze({row:{type:ce(Array),default:()=>[]}}),aZ={key:1},lZ=j({name:"ElDescriptionsRow"}),cZ=j({...lZ,props:oZ,setup(t){const e=et(xw,{});return(n,i)=>h(e).direction==="vertical"?(P(),H(st,{key:0},[Y("tr",null,[(P(!0),H(st,null,Dt(n.row,(s,r)=>(P(),_e(h(yd),{key:`tr1-${r}`,cell:s,tag:"th",type:"label"},null,8,["cell"]))),128))]),Y("tr",null,[(P(!0),H(st,null,Dt(n.row,(s,r)=>(P(),_e(h(yd),{key:`tr2-${r}`,cell:s,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(P(),H("tr",aZ,[(P(!0),H(st,null,Dt(n.row,(s,r)=>(P(),H(st,{key:`tr3-${r}`},[h(e).border?(P(),H(st,{key:0},[X(h(yd),{cell:s,tag:"td",type:"label"},null,8,["cell"]),X(h(yd),{cell:s,tag:"td",type:"content"},null,8,["cell"])],64)):(P(),_e(h(yd),{key:1,cell:s,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var uZ=$e(cZ,[["__file","descriptions-row.vue"]]);const dZ=ze({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:fi,title:{type:String,default:""},extra:{type:String,default:""}}),fZ=j({name:"ElDescriptions"}),hZ=j({...fZ,props:dZ,setup(t){const e=t,n=Oe("descriptions"),i=ei(),s=Ci();Nt(xw,e);const r=A(()=>[n.b(),n.m(i.value)]),o=(l,c,u,d=!1)=>(l.props||(l.props={}),c>u&&(l.props.span=u),d&&(l.props.span=c),l),a=()=>{if(!s.default)return[];const l=pa(s.default()).filter(p=>{var g;return((g=p==null?void 0:p.type)==null?void 0:g.name)==="ElDescriptionsItem"}),c=[];let u=[],d=e.column,f=0;return l.forEach((p,g)=>{var m;const y=((m=p.props)==null?void 0:m.span)||1;if(g<l.length-1&&(f+=y>d?d:y),g===l.length-1){const v=e.column-f%e.column;u.push(o(p,v,d,!0)),c.push(u);return}y<d?(d-=y,u.push(p)):(u.push(o(p,y,d)),c.push(u),d=e.column,u=[])}),c};return(l,c)=>(P(),H("div",{class:L(h(r))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(P(),H("div",{key:0,class:L(h(n).e("header"))},[Y("div",{class:L(h(n).e("title"))},[Me(l.$slots,"title",{},()=>[zt(Ge(l.title),1)])],2),Y("div",{class:L(h(n).e("extra"))},[Me(l.$slots,"extra",{},()=>[zt(Ge(l.extra),1)])],2)],2)):ge("v-if",!0),Y("div",{class:L(h(n).e("body"))},[Y("table",{class:L([h(n).e("table"),h(n).is("bordered",l.border)])},[Y("tbody",null,[(P(!0),H(st,null,Dt(a(),(u,d)=>(P(),_e(uZ,{key:d,row:u},null,8,["row"]))),128))])],2)],2)],2))}});var pZ=$e(hZ,[["__file","description.vue"]]);const mZ=ze({label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),tI=j({name:"ElDescriptionsItem",props:mZ}),gZ=At(pZ,{DescriptionsItem:tI}),vZ=En(tI),yZ=ze({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:ce([String,Array,Object])},zIndex:{type:ce([String,Number])}}),bZ={click:t=>t instanceof MouseEvent},_Z="overlay";var wZ=j({name:"ElOverlay",props:yZ,emits:bZ,setup(t,{slots:e,emit:n}){const i=Oe(_Z),s=l=>{n("click",l)},{onClick:r,onMousedown:o,onMouseup:a}=ew(t.customMaskEvent?void 0:s);return()=>t.mask?X("div",{class:[i.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:r,onMousedown:o,onMouseup:a},[Me(e,"default")],Us.STYLE|Us.CLASS|Us.PROPS,["onClick","onMouseup","onMousedown"]):at("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Me(e,"default")])}});const Sw=wZ,nI=Symbol("dialogInjectionKey"),iI=ze({center:Boolean,alignCenter:Boolean,closeIcon:{type:sn},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),xZ={close:()=>!0},SZ=["aria-level"],MZ=["aria-label"],CZ=["id"],EZ=j({name:"ElDialogContent"}),TZ=j({...EZ,props:iI,emits:xZ,setup(t){const e=t,{t:n}=$t(),{Close:i}=U_,{dialogRef:s,headerRef:r,bodyId:o,ns:a,style:l}=et(nI),{focusTrapRef:c}=et(hw),u=A(()=>[a.b(),a.is("fullscreen",e.fullscreen),a.is("draggable",e.draggable),a.is("align-center",e.alignCenter),{[a.m("center")]:e.center}]),d=nv(c,s),f=A(()=>e.draggable),p=A(()=>e.overflow);return ZR(s,r,f,p),(g,m)=>(P(),H("div",{ref:h(d),class:L(h(u)),style:nt(h(l)),tabindex:"-1"},[Y("header",{ref_key:"headerRef",ref:r,class:L([h(a).e("header"),{"show-close":g.showClose}])},[Me(g.$slots,"header",{},()=>[Y("span",{role:"heading","aria-level":g.ariaLevel,class:L(h(a).e("title"))},Ge(g.title),11,SZ)]),g.showClose?(P(),H("button",{key:0,"aria-label":h(n)("el.dialog.close"),class:L(h(a).e("headerbtn")),type:"button",onClick:m[0]||(m[0]=y=>g.$emit("close"))},[X(h(tt),{class:L(h(a).e("close"))},{default:ne(()=>[(P(),_e(kt(g.closeIcon||h(i))))]),_:1},8,["class"])],10,MZ)):ge("v-if",!0)],2),Y("div",{id:h(o),class:L(h(a).e("body"))},[Me(g.$slots,"default")],10,CZ),g.$slots.footer?(P(),H("footer",{key:0,class:L(h(a).e("footer"))},[Me(g.$slots,"footer")],2)):ge("v-if",!0)],6))}});var AZ=$e(TZ,[["__file","dialog-content.vue"]]);const sI=ze({...iI,appendToBody:Boolean,appendTo:{type:ce(String),default:"body"},beforeClose:{type:ce(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),rI={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[It]:t=>Yn(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},oI=(t,e)=>{var n;const s=Tt().emit,{nextZIndex:r}=Qu();let o="";const a=Li(),l=Li(),c=z(!1),u=z(!1),d=z(!1),f=z((n=t.zIndex)!=null?n:r());let p,g;const m=_h("namespace",rf),y=A(()=>{const U={},D=`--${m.value}-dialog`;return t.fullscreen||(t.top&&(U[`${D}-margin-top`]=t.top),t.width&&(U[`${D}-width`]=On(t.width))),U}),v=A(()=>t.alignCenter?{display:"flex"}:{});function _(){s("opened")}function b(){s("closed"),s(It,!1),t.destroyOnClose&&(d.value=!1)}function w(){s("close")}function S(){g==null||g(),p==null||p(),t.openDelay&&t.openDelay>0?{stop:p}=Gl(()=>E(),t.openDelay):E()}function x(){p==null||p(),g==null||g(),t.closeDelay&&t.closeDelay>0?{stop:g}=Gl(()=>M(),t.closeDelay):M()}function C(){function U(D){D||(u.value=!0,c.value=!1)}t.beforeClose?t.beforeClose(U):x()}function T(){t.closeOnClickModal&&C()}function E(){Ft&&(c.value=!0)}function M(){c.value=!1}function R(){s("openAutoFocus")}function O(){s("closeAutoFocus")}function F(U){var D;((D=U.detail)==null?void 0:D.focusReason)==="pointer"&&U.preventDefault()}t.lockScroll&&G_(c);function V(){t.closeOnPressEscape&&C()}return ke(()=>t.modelValue,U=>{U?(u.value=!1,S(),d.value=!0,f.value=FR(t.zIndex)?r():f.value++,rt(()=>{s("open"),e.value&&(e.value.scrollTop=0)})):c.value&&x()}),ke(()=>t.fullscreen,U=>{e.value&&(U?(o=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=o)}),Mt(()=>{t.modelValue&&(c.value=!0,d.value=!0,S())}),{afterEnter:_,afterLeave:b,beforeLeave:w,handleClose:C,onModalClick:T,close:x,doClose:M,onOpenAutoFocus:R,onCloseAutoFocus:O,onCloseRequested:V,onFocusoutPrevented:F,titleId:a,bodyId:l,closed:u,style:y,overlayDialogStyle:v,rendered:d,visible:c,zIndex:f}},RZ=["aria-label","aria-labelledby","aria-describedby"],PZ=j({name:"ElDialog",inheritAttrs:!1}),IZ=j({...PZ,props:sI,emits:rI,setup(t,{expose:e}){const n=t,i=Ci();gi({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},A(()=>!!i.title));const s=Oe("dialog"),r=z(),o=z(),a=z(),{visible:l,titleId:c,bodyId:u,style:d,overlayDialogStyle:f,rendered:p,zIndex:g,afterEnter:m,afterLeave:y,beforeLeave:v,handleClose:_,onModalClick:b,onOpenAutoFocus:w,onCloseAutoFocus:S,onCloseRequested:x,onFocusoutPrevented:C}=oI(n,r);Nt(nI,{dialogRef:r,headerRef:o,bodyId:u,ns:s,rendered:p,style:d});const T=ew(b),E=A(()=>n.draggable&&!n.fullscreen);return e({visible:l,dialogContentRef:a}),(M,R)=>(P(),_e(Yu,{to:M.appendTo,disabled:M.appendTo!=="body"?!1:!M.appendToBody},[X(ii,{name:"dialog-fade",onAfterEnter:h(m),onAfterLeave:h(y),onBeforeLeave:h(v),persisted:""},{default:ne(()=>[St(X(h(Sw),{"custom-mask-event":"",mask:M.modal,"overlay-class":M.modalClass,"z-index":h(g)},{default:ne(()=>[Y("div",{role:"dialog","aria-modal":"true","aria-label":M.title||void 0,"aria-labelledby":M.title?void 0:h(c),"aria-describedby":h(u),class:L(`${h(s).namespace.value}-overlay-dialog`),style:nt(h(f)),onClick:R[0]||(R[0]=(...O)=>h(T).onClick&&h(T).onClick(...O)),onMousedown:R[1]||(R[1]=(...O)=>h(T).onMousedown&&h(T).onMousedown(...O)),onMouseup:R[2]||(R[2]=(...O)=>h(T).onMouseup&&h(T).onMouseup(...O))},[X(h(xh),{loop:"",trapped:h(l),"focus-start-el":"container",onFocusAfterTrapped:h(w),onFocusAfterReleased:h(S),onFocusoutPrevented:h(C),onReleaseRequested:h(x)},{default:ne(()=>[h(p)?(P(),_e(AZ,Lt({key:0,ref_key:"dialogContentRef",ref:a},M.$attrs,{center:M.center,"align-center":M.alignCenter,"close-icon":M.closeIcon,draggable:h(E),overflow:M.overflow,fullscreen:M.fullscreen,"show-close":M.showClose,title:M.title,"aria-level":M.headerAriaLevel,onClose:h(_)}),vo({header:ne(()=>[M.$slots.title?Me(M.$slots,"title",{key:1}):Me(M.$slots,"header",{key:0,close:h(_),titleId:h(c),titleClass:h(s).e("title")})]),default:ne(()=>[Me(M.$slots,"default")]),_:2},[M.$slots.footer?{name:"footer",fn:ne(()=>[Me(M.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):ge("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,RZ)]),_:3},8,["mask","overlay-class","z-index"]),[[Kt,h(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var kZ=$e(IZ,[["__file","dialog.vue"]]);const OZ=At(kZ),LZ=ze({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:ce(String),default:"solid"}}),NZ=j({name:"ElDivider"}),DZ=j({...NZ,props:LZ,setup(t){const e=t,n=Oe("divider"),i=A(()=>n.cssVar({"border-style":e.borderStyle}));return(s,r)=>(P(),H("div",{class:L([h(n).b(),h(n).m(s.direction)]),style:nt(h(i)),role:"separator"},[s.$slots.default&&s.direction!=="vertical"?(P(),H("div",{key:0,class:L([h(n).e("text"),h(n).is(s.contentPosition)])},[Me(s.$slots,"default")],2)):ge("v-if",!0)],6))}});var FZ=$e(DZ,[["__file","divider.vue"]]);const aI=At(FZ),BZ=ze({...sI,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),UZ=rI,zZ=["aria-label","aria-labelledby","aria-describedby"],VZ=["id","aria-level"],$Z=["aria-label"],HZ=["id"],WZ=j({name:"ElDrawer",inheritAttrs:!1}),GZ=j({...WZ,props:BZ,emits:UZ,setup(t,{expose:e}){const n=t,i=Ci();gi({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},A(()=>!!i.title));const s=z(),r=z(),o=Oe("drawer"),{t:a}=$t(),{afterEnter:l,afterLeave:c,beforeLeave:u,visible:d,rendered:f,titleId:p,bodyId:g,zIndex:m,onModalClick:y,onOpenAutoFocus:v,onCloseAutoFocus:_,onFocusoutPrevented:b,onCloseRequested:w,handleClose:S}=oI(n,s),x=A(()=>n.direction==="rtl"||n.direction==="ltr"),C=A(()=>On(n.size));return e({handleClose:S,afterEnter:l,afterLeave:c}),(T,E)=>(P(),_e(Yu,{to:"body",disabled:!T.appendToBody},[X(ii,{name:h(o).b("fade"),onAfterEnter:h(l),onAfterLeave:h(c),onBeforeLeave:h(u),persisted:""},{default:ne(()=>[St(X(h(Sw),{mask:T.modal,"overlay-class":T.modalClass,"z-index":h(m),onClick:h(y)},{default:ne(()=>[X(h(xh),{loop:"",trapped:h(d),"focus-trap-el":s.value,"focus-start-el":r.value,onFocusAfterTrapped:h(v),onFocusAfterReleased:h(_),onFocusoutPrevented:h(b),onReleaseRequested:h(w)},{default:ne(()=>[Y("div",Lt({ref_key:"drawerRef",ref:s,"aria-modal":"true","aria-label":T.title||void 0,"aria-labelledby":T.title?void 0:h(p),"aria-describedby":h(g)},T.$attrs,{class:[h(o).b(),T.direction,h(d)&&"open"],style:h(x)?"width: "+h(C):"height: "+h(C),role:"dialog",onClick:E[1]||(E[1]=gt(()=>{},["stop"]))}),[Y("span",{ref_key:"focusStartRef",ref:r,class:L(h(o).e("sr-focus")),tabindex:"-1"},null,2),T.withHeader?(P(),H("header",{key:0,class:L(h(o).e("header"))},[T.$slots.title?Me(T.$slots,"title",{key:1},()=>[ge(" DEPRECATED SLOT ")]):Me(T.$slots,"header",{key:0,close:h(S),titleId:h(p),titleClass:h(o).e("title")},()=>[T.$slots.title?ge("v-if",!0):(P(),H("span",{key:0,id:h(p),role:"heading","aria-level":T.headerAriaLevel,class:L(h(o).e("title"))},Ge(T.title),11,VZ))]),T.showClose?(P(),H("button",{key:2,"aria-label":h(a)("el.drawer.close"),class:L(h(o).e("close-btn")),type:"button",onClick:E[0]||(E[0]=(...M)=>h(S)&&h(S)(...M))},[X(h(tt),{class:L(h(o).e("close"))},{default:ne(()=>[X(h(gr))]),_:1},8,["class"])],10,$Z)):ge("v-if",!0)],2)):ge("v-if",!0),h(f)?(P(),H("div",{key:1,id:h(g),class:L(h(o).e("body"))},[Me(T.$slots,"default")],10,HZ)):ge("v-if",!0),T.$slots.footer?(P(),H("div",{key:2,class:L(h(o).e("footer"))},[Me(T.$slots,"footer")],2)):ge("v-if",!0)],16,zZ)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Kt,h(d)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var KZ=$e(GZ,[["__file","drawer.vue"]]);const YZ=At(KZ),XZ=j({inheritAttrs:!1});function qZ(t,e,n,i,s,r){return Me(t.$slots,"default")}var jZ=$e(XZ,[["render",qZ],["__file","collection.vue"]]);const ZZ=j({name:"ElCollectionItem",inheritAttrs:!1});function JZ(t,e,n,i,s,r){return Me(t.$slots,"default")}var QZ=$e(ZZ,[["render",JZ],["__file","collection-item.vue"]]);const lI="data-el-collection-item",cI=t=>{const e=`El${t}Collection`,n=`${e}Item`,i=Symbol(e),s=Symbol(n),r={...jZ,name:e,setup(){const a=z(null),l=new Map;Nt(i,{itemMap:l,getItems:()=>{const u=h(a);if(!u)return[];const d=Array.from(u.querySelectorAll(`[${lI}]`));return[...l.values()].sort((p,g)=>d.indexOf(p.ref)-d.indexOf(g.ref))},collectionRef:a})}},o={...QZ,name:n,setup(a,{attrs:l}){const c=z(null),u=et(i,void 0);Nt(s,{collectionItemRef:c}),Mt(()=>{const d=h(c);d&&u.itemMap.set(d,{ref:d,...l})}),fn(()=>{const d=h(c);u.itemMap.delete(d)})}};return{COLLECTION_INJECTION_KEY:i,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:r,ElCollectionItem:o}},eJ=ze({style:{type:ce([String,Array,Object])},currentTabId:{type:ce(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:ce(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:tJ,ElCollectionItem:nJ,COLLECTION_INJECTION_KEY:Mw,COLLECTION_ITEM_INJECTION_KEY:iJ}=cI("RovingFocusGroup"),Cw=Symbol("elRovingFocusGroup"),uI=Symbol("elRovingFocusGroupItem"),sJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},rJ=(t,e)=>t,oJ=(t,e,n)=>{const i=rJ(t.key);return sJ[i]},aJ=(t,e)=>t.map((n,i)=>t[(i+e)%t.length]),Ew=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},FC="currentTabIdChange",BC="rovingFocusGroup.entryFocus",lJ={bubbles:!1,cancelable:!0},cJ=j({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:eJ,emits:[FC,"entryFocus"],setup(t,{emit:e}){var n;const i=z((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),s=z(!1),r=z(!1),o=z(null),{getItems:a}=et(Mw,void 0),l=A(()=>[{outline:"none"},t.style]),c=m=>{e(FC,m)},u=()=>{s.value=!0},d=kn(m=>{var y;(y=t.onMousedown)==null||y.call(t,m)},()=>{r.value=!0}),f=kn(m=>{var y;(y=t.onFocus)==null||y.call(t,m)},m=>{const y=!h(r),{target:v,currentTarget:_}=m;if(v===_&&y&&!h(s)){const b=new Event(BC,lJ);if(_==null||_.dispatchEvent(b),!b.defaultPrevented){const w=a().filter(E=>E.focusable),S=w.find(E=>E.active),x=w.find(E=>E.id===h(i)),T=[S,x,...w].filter(Boolean).map(E=>E.ref);Ew(T)}}r.value=!1}),p=kn(m=>{var y;(y=t.onBlur)==null||y.call(t,m)},()=>{s.value=!1}),g=(...m)=>{e("entryFocus",...m)};Nt(Cw,{currentTabbedId:Ku(i),loop:on(t,"loop"),tabIndex:A(()=>h(s)?-1:0),rovingFocusGroupRef:o,rovingFocusGroupRootStyle:l,orientation:on(t,"orientation"),dir:on(t,"dir"),onItemFocus:c,onItemShiftTab:u,onBlur:p,onFocus:f,onMousedown:d}),ke(()=>t.currentTabId,m=>{i.value=m??null}),pn(o,BC,g)}});function uJ(t,e,n,i,s,r){return Me(t.$slots,"default")}var dJ=$e(cJ,[["render",uJ],["__file","roving-focus-group-impl.vue"]]);const fJ=j({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:tJ,ElRovingFocusGroupImpl:dJ}});function hJ(t,e,n,i,s,r){const o=bt("el-roving-focus-group-impl"),a=bt("el-focus-group-collection");return P(),_e(a,null,{default:ne(()=>[X(o,co(_u(t.$attrs)),{default:ne(()=>[Me(t.$slots,"default")]),_:3},16)]),_:3})}var pJ=$e(fJ,[["render",hJ],["__file","roving-focus-group.vue"]]);const mJ=j({components:{ElRovingFocusCollectionItem:nJ},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:i,onItemFocus:s,onItemShiftTab:r}=et(Cw,void 0),{getItems:o}=et(Mw,void 0),a=Li(),l=z(null),c=kn(p=>{e("mousedown",p)},p=>{t.focusable?s(h(a)):p.preventDefault()}),u=kn(p=>{e("focus",p)},()=>{s(h(a))}),d=kn(p=>{e("keydown",p)},p=>{const{key:g,shiftKey:m,target:y,currentTarget:v}=p;if(g===lt.tab&&m){r();return}if(y!==v)return;const _=oJ(p);if(_){p.preventDefault();let w=o().filter(S=>S.focusable).map(S=>S.ref);switch(_){case"last":{w.reverse();break}case"prev":case"next":{_==="prev"&&w.reverse();const S=w.indexOf(v);w=i.value?aJ(w,S+1):w.slice(S+1);break}}rt(()=>{Ew(w)})}}),f=A(()=>n.value===h(a));return Nt(uI,{rovingFocusGroupItemRef:l,tabIndex:A(()=>h(f)?0:-1),handleMousedown:c,handleFocus:u,handleKeydown:d}),{id:a,handleKeydown:d,handleFocus:u,handleMousedown:c}}});function gJ(t,e,n,i,s,r){const o=bt("el-roving-focus-collection-item");return P(),_e(o,{id:t.id,focusable:t.focusable,active:t.active},{default:ne(()=>[Me(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var vJ=$e(mJ,[["render",gJ],["__file","roving-focus-item.vue"]]);const Em=ze({trigger:Lf.trigger,effect:{...hi.effect,default:"light"},type:{type:ce(String)},placement:{type:ce(String),default:"bottom"},popperOptions:{type:ce(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:ce([Number,String]),default:0},maxHeight:{type:ce([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:ce(Object)},teleported:hi.teleported}),dI=ze({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:sn}}),yJ=ze({onKeydown:{type:ce(Function)}}),bJ=[lt.down,lt.pageDown,lt.home],fI=[lt.up,lt.pageUp,lt.end],_J=[...bJ,...fI],{ElCollection:wJ,ElCollectionItem:xJ,COLLECTION_INJECTION_KEY:SJ,COLLECTION_ITEM_INJECTION_KEY:MJ}=cI("Dropdown"),hv=Symbol("elDropdown"),{ButtonGroup:CJ}=bi,EJ=j({name:"ElDropdown",components:{ElButton:bi,ElButtonGroup:CJ,ElScrollbar:Po,ElDropdownCollection:wJ,ElTooltip:Yi,ElRovingFocusGroup:pJ,ElOnlyChild:B3,ElIcon:tt,ArrowDown:Ao},props:Em,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=Tt(),i=Oe("dropdown"),{t:s}=$t(),r=z(),o=z(),a=z(null),l=z(null),c=z(null),u=z(null),d=z(!1),f=[lt.enter,lt.space,lt.down],p=A(()=>({maxHeight:On(t.maxHeight)})),g=A(()=>[i.m(S.value)]),m=A(()=>wa(t.trigger)),y=Li().value,v=A(()=>t.id||y);ke([r,m],([I,N],[k])=>{var B,G,J;(B=k==null?void 0:k.$el)!=null&&B.removeEventListener&&k.$el.removeEventListener("pointerenter",C),(G=I==null?void 0:I.$el)!=null&&G.removeEventListener&&I.$el.removeEventListener("pointerenter",C),(J=I==null?void 0:I.$el)!=null&&J.addEventListener&&N.includes("hover")&&I.$el.addEventListener("pointerenter",C)},{immediate:!0}),fn(()=>{var I,N;(N=(I=r.value)==null?void 0:I.$el)!=null&&N.removeEventListener&&r.value.$el.removeEventListener("pointerenter",C)});function _(){b()}function b(){var I;(I=a.value)==null||I.onClose()}function w(){var I;(I=a.value)==null||I.onOpen()}const S=ei();function x(...I){e("command",...I)}function C(){var I,N;(N=(I=r.value)==null?void 0:I.$el)==null||N.focus()}function T(){}function E(){const I=h(l);m.value.includes("hover")&&(I==null||I.focus()),u.value=null}function M(I){u.value=I}function R(I){d.value||(I.preventDefault(),I.stopImmediatePropagation())}function O(){e("visible-change",!0)}function F(I){(I==null?void 0:I.type)==="keydown"&&l.value.focus()}function V(){e("visible-change",!1)}return Nt(hv,{contentRef:l,role:A(()=>t.role),triggerId:v,isUsingKeyboard:d,onItemEnter:T,onItemLeave:E}),Nt("elDropdown",{instance:n,dropdownSize:S,handleClick:_,commandHandler:x,trigger:on(t,"trigger"),hideOnClick:on(t,"hideOnClick")}),{t:s,ns:i,scrollbar:c,wrapStyle:p,dropdownTriggerKls:g,dropdownSize:S,triggerId:v,triggerKeys:f,currentTabId:u,handleCurrentTabIdChange:M,handlerMainButtonClick:I=>{e("click",I)},handleEntryFocus:R,handleClose:b,handleOpen:w,handleBeforeShowTooltip:O,handleShowTooltip:F,handleBeforeHideTooltip:V,onFocusAfterTrapped:I=>{var N,k;I.preventDefault(),(k=(N=l.value)==null?void 0:N.focus)==null||k.call(N,{preventScroll:!0})},popperRef:a,contentRef:l,triggeringElementRef:r,referenceElementRef:o}}});function TJ(t,e,n,i,s,r){var o;const a=bt("el-dropdown-collection"),l=bt("el-roving-focus-group"),c=bt("el-scrollbar"),u=bt("el-only-child"),d=bt("el-tooltip"),f=bt("el-button"),p=bt("arrow-down"),g=bt("el-icon"),m=bt("el-button-group");return P(),H("div",{class:L([t.ns.b(),t.ns.is("disabled",t.disabled)])},[X(d,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(o=t.referenceElementRef)==null?void 0:o.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:"",onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},vo({content:ne(()=>[X(c,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:ne(()=>[X(l,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:ne(()=>[X(a,null,{default:ne(()=>[Me(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:ne(()=>[X(u,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:ne(()=>[Me(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(P(),_e(m,{key:0},{default:ne(()=>[X(f,Lt({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:ne(()=>[Me(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),X(f,Lt({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:ne(()=>[X(g,{class:L(t.ns.e("icon"))},{default:ne(()=>[X(p)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):ge("v-if",!0)],2)}var AJ=$e(EJ,[["render",TJ],["__file","dropdown.vue"]]);const RJ=j({name:"DropdownItemImpl",components:{ElIcon:tt},props:dI,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=Oe("dropdown"),{role:i}=et(hv,void 0),{collectionItemRef:s}=et(MJ,void 0),{collectionItemRef:r}=et(iJ,void 0),{rovingFocusGroupItemRef:o,tabIndex:a,handleFocus:l,handleKeydown:c,handleMousedown:u}=et(uI,void 0),d=nv(s,r,o),f=A(()=>i.value==="menu"?"menuitem":i.value==="navigation"?"link":"button"),p=kn(g=>{const{code:m}=g;if(m===lt.enter||m===lt.space)return g.preventDefault(),g.stopImmediatePropagation(),e("clickimpl",g),!0},c);return{ns:n,itemRef:d,dataset:{[lI]:""},role:f,tabIndex:a,handleFocus:l,handleKeydown:p,handleMousedown:u}}}),PJ=["aria-disabled","tabindex","role"];function IJ(t,e,n,i,s,r){const o=bt("el-icon");return P(),H(st,null,[t.divided?(P(),H("li",Lt({key:0,role:"separator",class:t.ns.bem("menu","item","divided")},t.$attrs),null,16)):ge("v-if",!0),Y("li",Lt({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:e[0]||(e[0]=a=>t.$emit("clickimpl",a)),onFocus:e[1]||(e[1]=(...a)=>t.handleFocus&&t.handleFocus(...a)),onKeydown:e[2]||(e[2]=gt((...a)=>t.handleKeydown&&t.handleKeydown(...a),["self"])),onMousedown:e[3]||(e[3]=(...a)=>t.handleMousedown&&t.handleMousedown(...a)),onPointermove:e[4]||(e[4]=a=>t.$emit("pointermove",a)),onPointerleave:e[5]||(e[5]=a=>t.$emit("pointerleave",a))}),[t.icon?(P(),_e(o,{key:0},{default:ne(()=>[(P(),_e(kt(t.icon)))]),_:1})):ge("v-if",!0),Me(t.$slots,"default")],16,PJ)],64)}var kJ=$e(RJ,[["render",IJ],["__file","dropdown-item-impl.vue"]]);const hI=()=>{const t=et("elDropdown",{}),e=A(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},OJ=j({name:"ElDropdownItem",components:{ElDropdownCollectionItem:xJ,ElRovingFocusItem:vJ,ElDropdownItemImpl:kJ},inheritAttrs:!1,props:dI,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:i}=hI(),s=Tt(),r=z(null),o=A(()=>{var p,g;return(g=(p=h(r))==null?void 0:p.textContent)!=null?g:""}),{onItemEnter:a,onItemLeave:l}=et(hv,void 0),c=kn(p=>(e("pointermove",p),p.defaultPrevented),OS(p=>{if(t.disabled){l(p);return}const g=p.currentTarget;g===document.activeElement||g.contains(document.activeElement)||(a(p),p.defaultPrevented||g==null||g.focus())})),u=kn(p=>(e("pointerleave",p),p.defaultPrevented),OS(p=>{l(p)})),d=kn(p=>{if(!t.disabled)return e("click",p),p.type!=="keydown"&&p.defaultPrevented},p=>{var g,m,y;if(t.disabled){p.stopImmediatePropagation();return}(g=i==null?void 0:i.hideOnClick)!=null&&g.value&&((m=i.handleClick)==null||m.call(i)),(y=i.commandHandler)==null||y.call(i,t.command,s,p)}),f=A(()=>({...t,...n}));return{handleClick:d,handlePointerMove:c,handlePointerLeave:u,textContent:o,propsAndAttrs:f}}});function LJ(t,e,n,i,s,r){var o;const a=bt("el-dropdown-item-impl"),l=bt("el-roving-focus-item"),c=bt("el-dropdown-collection-item");return P(),_e(c,{disabled:t.disabled,"text-value":(o=t.textValue)!=null?o:t.textContent},{default:ne(()=>[X(l,{focusable:!t.disabled},{default:ne(()=>[X(a,Lt(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:ne(()=>[Me(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var pI=$e(OJ,[["render",LJ],["__file","dropdown-item.vue"]]);const NJ=j({name:"ElDropdownMenu",props:yJ,setup(t){const e=Oe("dropdown"),{_elDropdownSize:n}=hI(),i=n.value,{focusTrapRef:s,onKeydown:r}=et(hw,void 0),{contentRef:o,role:a,triggerId:l}=et(hv,void 0),{collectionRef:c,getItems:u}=et(SJ,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:f,tabIndex:p,onBlur:g,onFocus:m,onMousedown:y}=et(Cw,void 0),{collectionRef:v}=et(Mw,void 0),_=A(()=>[e.b("menu"),e.bm("menu",i==null?void 0:i.value)]),b=nv(o,c,s,d,v),w=kn(x=>{var C;(C=t.onKeydown)==null||C.call(t,x)},x=>{const{currentTarget:C,code:T,target:E}=x;if(C.contains(E),lt.tab===T&&x.stopImmediatePropagation(),x.preventDefault(),E!==h(o)||!_J.includes(T))return;const R=u().filter(O=>!O.disabled).map(O=>O.ref);fI.includes(T)&&R.reverse(),Ew(R)});return{size:i,rovingFocusGroupRootStyle:f,tabIndex:p,dropdownKls:_,role:a,triggerId:l,dropdownListWrapperRef:b,handleKeydown:x=>{w(x),r(x)},onBlur:g,onFocus:m,onMousedown:y}}}),DJ=["role","aria-labelledby"];function FJ(t,e,n,i,s,r){return P(),H("ul",{ref:t.dropdownListWrapperRef,class:L(t.dropdownKls),style:nt(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:e[0]||(e[0]=(...o)=>t.onBlur&&t.onBlur(...o)),onFocus:e[1]||(e[1]=(...o)=>t.onFocus&&t.onFocus(...o)),onKeydown:e[2]||(e[2]=gt((...o)=>t.handleKeydown&&t.handleKeydown(...o),["self"])),onMousedown:e[3]||(e[3]=gt((...o)=>t.onMousedown&&t.onMousedown(...o),["self"]))},[Me(t.$slots,"default")],46,DJ)}var mI=$e(NJ,[["render",FJ],["__file","dropdown-menu.vue"]]);const BJ=At(AJ,{DropdownItem:pI,DropdownMenu:mI}),UJ=En(pI),zJ=En(mI),VJ={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},$J=["id"],HJ=["stop-color"],WJ=["stop-color"],GJ=["id"],KJ=["stop-color"],YJ=["stop-color"],XJ=["id"],qJ={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},jJ={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},ZJ={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},JJ=["fill"],QJ=["fill"],eQ={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},tQ=["fill"],nQ=["fill"],iQ=["fill"],sQ=["fill"],rQ=["fill"],oQ={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},aQ=["fill","xlink:href"],lQ=["fill","mask"],cQ=["fill"],uQ=j({name:"ImgEmpty"}),dQ=j({...uQ,setup(t){const e=Oe("empty"),n=Li();return(i,s)=>(P(),H("svg",VJ,[Y("defs",null,[Y("linearGradient",{id:`linearGradient-1-${h(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Y("stop",{"stop-color":`var(${h(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,HJ),Y("stop",{"stop-color":`var(${h(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,WJ)],8,$J),Y("linearGradient",{id:`linearGradient-2-${h(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Y("stop",{"stop-color":`var(${h(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,KJ),Y("stop",{"stop-color":`var(${h(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,YJ)],8,GJ),Y("rect",{id:`path-3-${h(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,XJ)]),Y("g",qJ,[Y("g",jJ,[Y("g",ZJ,[Y("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${h(e).cssVarBlockName("fill-color-3")})`},null,8,JJ),Y("polygon",{id:"Rectangle-Copy-14",fill:`var(${h(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,QJ),Y("g",eQ,[Y("polygon",{id:"Rectangle-Copy-10",fill:`var(${h(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,tQ),Y("polygon",{id:"Rectangle-Copy-11",fill:`var(${h(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,nQ),Y("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${h(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,iQ),Y("polygon",{id:"Rectangle-Copy-13",fill:`var(${h(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,sQ)]),Y("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${h(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,rQ),Y("g",oQ,[Y("use",{id:"Mask",fill:`var(${h(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${h(n)}`},null,8,aQ),Y("polygon",{id:"Rectangle-Copy",fill:`var(${h(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${h(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,lQ)]),Y("polygon",{id:"Rectangle-Copy-18",fill:`var(${h(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,cQ)])])])]))}});var fQ=$e(dQ,[["__file","img-empty.vue"]]);const hQ=ze({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),pQ=["src"],mQ={key:1},gQ=j({name:"ElEmpty"}),vQ=j({...gQ,props:hQ,setup(t){const e=t,{t:n}=$t(),i=Oe("empty"),s=A(()=>e.description||n("el.table.emptyText")),r=A(()=>({width:On(e.imageSize)}));return(o,a)=>(P(),H("div",{class:L(h(i).b())},[Y("div",{class:L(h(i).e("image")),style:nt(h(r))},[o.image?(P(),H("img",{key:0,src:o.image,ondragstart:"return false"},null,8,pQ)):Me(o.$slots,"image",{key:1},()=>[X(fQ)])],6),Y("div",{class:L(h(i).e("description"))},[o.$slots.description?Me(o.$slots,"description",{key:0}):(P(),H("p",mQ,Ge(h(s)),1))],2),o.$slots.default?(P(),H("div",{key:0,class:L(h(i).e("bottom"))},[Me(o.$slots,"default")],2)):ge("v-if",!0)],2))}});var yQ=$e(vQ,[["__file","empty.vue"]]);const gI=At(yQ),bQ=ze({urlList:{type:ce(Array),default:()=>Cn([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:ce(String)}}),_Q={close:()=>!0,switch:t=>ft(t),rotate:t=>ft(t)},wQ=["src","crossorigin"],xQ=j({name:"ElImageViewer"}),SQ=j({...xQ,props:bQ,emits:_Q,setup(t,{expose:e,emit:n}){var i;const s=t,r={CONTAIN:{name:"contain",icon:au(AV)},ORIGINAL:{name:"original",icon:au(e$)}},{t:o}=$t(),a=Oe("image-viewer"),{nextZIndex:l}=Qu(),c=z(),u=z([]),d=CN(),f=z(!0),p=z(s.initialIndex),g=vn(r.CONTAIN),m=z({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),y=z((i=s.zIndex)!=null?i:l()),v=A(()=>{const{urlList:B}=s;return B.length<=1}),_=A(()=>p.value===0),b=A(()=>p.value===s.urlList.length-1),w=A(()=>s.urlList[p.value]),S=A(()=>[a.e("btn"),a.e("prev"),a.is("disabled",!s.infinite&&_.value)]),x=A(()=>[a.e("btn"),a.e("next"),a.is("disabled",!s.infinite&&b.value)]),C=A(()=>{const{scale:B,deg:G,offsetX:J,offsetY:re,enableTransition:ee}=m.value;let ye=J/B,te=re/B;switch(G%360){case 90:case-270:[ye,te]=[te,-ye];break;case 180:case-180:[ye,te]=[-ye,-te];break;case 270:case-90:[ye,te]=[-te,ye];break}const oe={transform:`scale(${B}) rotate(${G}deg) translate(${ye}px, ${te}px)`,transition:ee?"transform .3s":""};return g.value.name===r.CONTAIN.name&&(oe.maxWidth=oe.maxHeight="100%"),oe});function T(){M(),n("close")}function E(){const B=Dl(J=>{switch(J.code){case lt.esc:s.closeOnPressEscape&&T();break;case lt.space:U();break;case lt.left:I();break;case lt.up:k("zoomIn");break;case lt.right:N();break;case lt.down:k("zoomOut");break}}),G=Dl(J=>{const re=J.deltaY||J.deltaX;k(re<0?"zoomIn":"zoomOut",{zoomRate:s.zoomRate,enableTransition:!1})});d.run(()=>{pn(document,"keydown",B),pn(document,"wheel",G)})}function M(){d.stop()}function R(){f.value=!1}function O(B){f.value=!1,B.target.alt=o("el.image.error")}function F(B){if(f.value||B.button!==0||!c.value)return;m.value.enableTransition=!1;const{offsetX:G,offsetY:J}=m.value,re=B.pageX,ee=B.pageY,ye=Dl(oe=>{m.value={...m.value,offsetX:G+oe.pageX-re,offsetY:J+oe.pageY-ee}}),te=pn(document,"mousemove",ye);pn(document,"mouseup",()=>{te()}),B.preventDefault()}function V(){m.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function U(){if(f.value)return;const B=Cu(r),G=Object.values(r),J=g.value.name,ee=(G.findIndex(ye=>ye.name===J)+1)%B.length;g.value=r[B[ee]],V()}function D(B){const G=s.urlList.length;p.value=(B+G)%G}function I(){_.value&&!s.infinite||D(p.value-1)}function N(){b.value&&!s.infinite||D(p.value+1)}function k(B,G={}){if(f.value)return;const{minScale:J,maxScale:re}=s,{zoomRate:ee,rotateDeg:ye,enableTransition:te}={zoomRate:s.zoomRate,rotateDeg:90,enableTransition:!0,...G};switch(B){case"zoomOut":m.value.scale>J&&(m.value.scale=Number.parseFloat((m.value.scale/ee).toFixed(3)));break;case"zoomIn":m.value.scale<re&&(m.value.scale=Number.parseFloat((m.value.scale*ee).toFixed(3)));break;case"clockwise":m.value.deg+=ye,n("rotate",m.value.deg);break;case"anticlockwise":m.value.deg-=ye,n("rotate",m.value.deg);break}m.value.enableTransition=te}return ke(w,()=>{rt(()=>{const B=u.value[0];B!=null&&B.complete||(f.value=!0)})}),ke(p,B=>{V(),n("switch",B)}),Mt(()=>{var B,G;E(),(G=(B=c.value)==null?void 0:B.focus)==null||G.call(B)}),e({setActiveItem:D}),(B,G)=>(P(),_e(Yu,{to:"body",disabled:!B.teleported},[X(ii,{name:"viewer-fade",appear:""},{default:ne(()=>[Y("div",{ref_key:"wrapper",ref:c,tabindex:-1,class:L(h(a).e("wrapper")),style:nt({zIndex:y.value})},[Y("div",{class:L(h(a).e("mask")),onClick:G[0]||(G[0]=gt(J=>B.hideOnClickModal&&T(),["self"]))},null,2),ge(" CLOSE "),Y("span",{class:L([h(a).e("btn"),h(a).e("close")]),onClick:T},[X(h(tt),null,{default:ne(()=>[X(h(gr))]),_:1})],2),ge(" ARROW "),h(v)?ge("v-if",!0):(P(),H(st,{key:0},[Y("span",{class:L(h(S)),onClick:I},[X(h(tt),null,{default:ne(()=>[X(h(Sa))]),_:1})],2),Y("span",{class:L(h(x)),onClick:N},[X(h(tt),null,{default:ne(()=>[X(h(ts))]),_:1})],2)],64)),ge(" ACTIONS "),Y("div",{class:L([h(a).e("btn"),h(a).e("actions")])},[Y("div",{class:L(h(a).e("actions__inner"))},[X(h(tt),{onClick:G[1]||(G[1]=J=>k("zoomOut"))},{default:ne(()=>[X(h(v$))]),_:1}),X(h(tt),{onClick:G[2]||(G[2]=J=>k("zoomIn"))},{default:ne(()=>[X(h(YR))]),_:1}),Y("i",{class:L(h(a).e("actions__divider"))},null,2),X(h(tt),{onClick:U},{default:ne(()=>[(P(),_e(kt(h(g).icon)))]),_:1}),Y("i",{class:L(h(a).e("actions__divider"))},null,2),X(h(tt),{onClick:G[3]||(G[3]=J=>k("anticlockwise"))},{default:ne(()=>[X(h(XV))]),_:1}),X(h(tt),{onClick:G[4]||(G[4]=J=>k("clockwise"))},{default:ne(()=>[X(h(jV))]),_:1})],2)],2),ge(" CANVAS "),Y("div",{class:L(h(a).e("canvas"))},[(P(!0),H(st,null,Dt(B.urlList,(J,re)=>St((P(),H("img",{ref_for:!0,ref:ee=>u.value[re]=ee,key:J,src:J,style:nt(h(C)),class:L(h(a).e("img")),crossorigin:B.crossorigin,onLoad:R,onError:O,onMousedown:F},null,46,wQ)),[[Kt,re===p.value]])),128))],2),Me(B.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var MQ=$e(SQ,[["__file","image-viewer.vue"]]);const vI=At(MQ),CQ=ze({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:ce([String,Object])},previewSrcList:{type:ce(Array),default:()=>Cn([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:ce(String)}}),EQ={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>ft(t),close:()=>!0,show:()=>!0},TQ=["src","loading","crossorigin"],AQ={key:0},RQ=j({name:"ElImage",inheritAttrs:!1}),PQ=j({...RQ,props:CQ,emits:EQ,setup(t,{emit:e}){const n=t;let i="";const{t:s}=$t(),r=Oe("image"),o=rc(),a=H_(),l=z(),c=z(!1),u=z(!0),d=z(!1),f=z(),p=z(),g=Ft&&"loading"in HTMLImageElement.prototype;let m,y;const v=A(()=>[r.e("inner"),w.value&&r.e("preview"),u.value&&r.is("loading")]),_=A(()=>o.style),b=A(()=>{const{fit:N}=n;return Ft&&N?{objectFit:N}:{}}),w=A(()=>{const{previewSrcList:N}=n;return Array.isArray(N)&&N.length>0}),S=A(()=>{const{previewSrcList:N,initialIndex:k}=n;let B=k;return k>N.length-1&&(B=0),B}),x=A(()=>n.loading==="eager"?!1:!g&&n.loading==="lazy"||n.lazy),C=()=>{Ft&&(u.value=!0,c.value=!1,l.value=n.src)};function T(N){u.value=!1,c.value=!1,e("load",N)}function E(N){u.value=!1,c.value=!0,e("error",N)}function M(){_F(f.value,p.value)&&(C(),F())}const R=XA(M,200,!0);async function O(){var N;if(!Ft)return;await rt();const{scrollContainer:k}=n;Js(k)?p.value=k:yt(k)&&k!==""?p.value=(N=document.querySelector(k))!=null?N:void 0:f.value&&(p.value=L_(f.value)),p.value&&(m=pn(p,"scroll",R),setTimeout(()=>M(),100))}function F(){!Ft||!p.value||!R||(m==null||m(),p.value=void 0)}function V(N){if(N.ctrlKey){if(N.deltaY<0)return N.preventDefault(),!1;if(N.deltaY>0)return N.preventDefault(),!1}}function U(){w.value&&(y=pn("wheel",V,{passive:!1}),i=document.body.style.overflow,document.body.style.overflow="hidden",d.value=!0,e("show"))}function D(){y==null||y(),document.body.style.overflow=i,d.value=!1,e("close")}function I(N){e("switch",N)}return ke(()=>n.src,()=>{x.value?(u.value=!0,c.value=!1,F(),O()):C()}),Mt(()=>{x.value?O():C()}),(N,k)=>(P(),H("div",{ref_key:"container",ref:f,class:L([h(r).b(),N.$attrs.class]),style:nt(h(_))},[c.value?Me(N.$slots,"error",{key:0},()=>[Y("div",{class:L(h(r).e("error"))},Ge(h(s)("el.image.error")),3)]):(P(),H(st,{key:1},[l.value!==void 0?(P(),H("img",Lt({key:0},h(a),{src:l.value,loading:N.loading,style:h(b),class:h(v),crossorigin:N.crossorigin,onClick:U,onLoad:T,onError:E}),null,16,TQ)):ge("v-if",!0),u.value?(P(),H("div",{key:1,class:L(h(r).e("wrapper"))},[Me(N.$slots,"placeholder",{},()=>[Y("div",{class:L(h(r).e("placeholder"))},null,2)])],2)):ge("v-if",!0)],64)),h(w)?(P(),H(st,{key:2},[d.value?(P(),_e(h(vI),{key:0,"z-index":N.zIndex,"initial-index":h(S),infinite:N.infinite,"zoom-rate":N.zoomRate,"min-scale":N.minScale,"max-scale":N.maxScale,"url-list":N.previewSrcList,"hide-on-click-modal":N.hideOnClickModal,teleported:N.previewTeleported,"close-on-press-escape":N.closeOnPressEscape,onClose:D,onSwitch:I},{default:ne(()=>[N.$slots.viewer?(P(),H("div",AQ,[Me(N.$slots,"viewer")])):ge("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):ge("v-if",!0)],64)):ge("v-if",!0)],6))}});var IQ=$e(PQ,[["__file","image.vue"]]);const kQ=At(IQ),OQ=ze({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:fi,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||ft(t)||["min","max"].includes(t),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...Ai(["ariaLabel"])}),LQ={[mn]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[ns]:t=>ft(t)||yi(t),[It]:t=>ft(t)||yi(t)},NQ=["aria-label","onKeydown"],DQ=["aria-label","onKeydown"],FQ=j({name:"ElInputNumber"}),BQ=j({...FQ,props:OQ,emits:LQ,setup(t,{expose:e,emit:n}){const i=t,{t:s}=$t(),r=Oe("input-number"),o=z(),a=Xt({currentValue:i.modelValue,userInput:null}),{formItem:l}=Xi(),c=A(()=>ft(i.modelValue)&&i.modelValue<=i.min),u=A(()=>ft(i.modelValue)&&i.modelValue>=i.max),d=A(()=>{const U=v(i.step);return Kn(i.precision)?Math.max(v(i.modelValue),U):(U>i.precision,i.precision)}),f=A(()=>i.controls&&i.controlsPosition==="right"),p=ei(),g=os(),m=A(()=>{if(a.userInput!==null)return a.userInput;let U=a.currentValue;if(yi(U))return"";if(ft(U)){if(Number.isNaN(U))return"";Kn(i.precision)||(U=U.toFixed(i.precision))}return U}),y=(U,D)=>{if(Kn(D)&&(D=d.value),D===0)return Math.round(U);let I=String(U);const N=I.indexOf(".");if(N===-1||!I.replace(".","").split("")[N+D])return U;const G=I.length;return I.charAt(G-1)==="5"&&(I=`${I.slice(0,Math.max(0,G-1))}6`),Number.parseFloat(Number(I).toFixed(D))},v=U=>{if(yi(U))return 0;const D=U.toString(),I=D.indexOf(".");let N=0;return I!==-1&&(N=D.length-I-1),N},_=(U,D=1)=>ft(U)?y(U+i.step*D):a.currentValue,b=()=>{if(i.readonly||g.value||u.value)return;const U=Number(m.value)||0,D=_(U);x(D),n(ns,a.currentValue),F()},w=()=>{if(i.readonly||g.value||c.value)return;const U=Number(m.value)||0,D=_(U,-1);x(D),n(ns,a.currentValue),F()},S=(U,D)=>{const{max:I,min:N,step:k,precision:B,stepStrictly:G,valueOnClear:J}=i;I<N&&si("InputNumber","min should not be greater than max.");let re=Number(U);if(yi(U)||Number.isNaN(re))return null;if(U===""){if(J===null)return null;re=yt(J)?{min:N,max:I}[J]:J}return G&&(re=y(Math.round(re/k)*k,B)),Kn(B)||(re=y(re,B)),(re>I||re<N)&&(re=re>I?I:N,D&&n(It,re)),re},x=(U,D=!0)=>{var I;const N=a.currentValue,k=S(U);if(!D){n(It,k);return}N===k&&U||(a.userInput=null,n(It,k),N!==k&&n(mn,k,N),i.validateEvent&&((I=l==null?void 0:l.validate)==null||I.call(l,"change").catch(B=>void 0)),a.currentValue=k)},C=U=>{a.userInput=U;const D=U===""?null:Number(U);n(ns,D),x(D,!1)},T=U=>{const D=U!==""?Number(U):"";(ft(D)&&!Number.isNaN(D)||U==="")&&x(D),F(),a.userInput=null},E=()=>{var U,D;(D=(U=o.value)==null?void 0:U.focus)==null||D.call(U)},M=()=>{var U,D;(D=(U=o.value)==null?void 0:U.blur)==null||D.call(U)},R=U=>{n("focus",U)},O=U=>{var D;a.userInput=null,n("blur",U),i.validateEvent&&((D=l==null?void 0:l.validate)==null||D.call(l,"blur").catch(I=>void 0))},F=()=>{a.currentValue!==i.modelValue&&(a.currentValue=i.modelValue)},V=U=>{document.activeElement===U.target&&U.preventDefault()};return ke(()=>i.modelValue,(U,D)=>{const I=S(U,!0);a.userInput===null&&I!==D&&(a.currentValue=I)},{immediate:!0}),Mt(()=>{var U;const{min:D,max:I,modelValue:N}=i,k=(U=o.value)==null?void 0:U.input;if(k.setAttribute("role","spinbutton"),Number.isFinite(I)?k.setAttribute("aria-valuemax",String(I)):k.removeAttribute("aria-valuemax"),Number.isFinite(D)?k.setAttribute("aria-valuemin",String(D)):k.removeAttribute("aria-valuemin"),k.setAttribute("aria-valuenow",a.currentValue||a.currentValue===0?String(a.currentValue):""),k.setAttribute("aria-disabled",String(g.value)),!ft(N)&&N!=null){let B=Number(N);Number.isNaN(B)&&(B=null),n(It,B)}k.addEventListener("wheel",V,{passive:!1})}),Co(()=>{var U,D;const I=(U=o.value)==null?void 0:U.input;I==null||I.setAttribute("aria-valuenow",`${(D=a.currentValue)!=null?D:""}`)}),gi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},A(()=>!!i.label)),e({focus:E,blur:M}),(U,D)=>(P(),H("div",{class:L([h(r).b(),h(r).m(h(p)),h(r).is("disabled",h(g)),h(r).is("without-controls",!U.controls),h(r).is("controls-right",h(f))]),onDragstart:D[0]||(D[0]=gt(()=>{},["prevent"]))},[U.controls?St((P(),H("span",{key:0,role:"button","aria-label":h(s)("el.inputNumber.decrease"),class:L([h(r).e("decrease"),h(r).is("disabled",h(c))]),onKeydown:Gt(w,["enter"])},[Me(U.$slots,"decrease-icon",{},()=>[X(h(tt),null,{default:ne(()=>[h(f)?(P(),_e(h(Ao),{key:0})):(P(),_e(h(LV),{key:1}))]),_:1})])],42,NQ)),[[h(ug),w]]):ge("v-if",!0),U.controls?St((P(),H("span",{key:1,role:"button","aria-label":h(s)("el.inputNumber.increase"),class:L([h(r).e("increase"),h(r).is("disabled",h(u))]),onKeydown:Gt(b,["enter"])},[Me(U.$slots,"increase-icon",{},()=>[X(h(tt),null,{default:ne(()=>[h(f)?(P(),_e(h(N_),{key:0})):(P(),_e(h(WR),{key:1}))]),_:1})])],42,DQ)),[[h(ug),b]]):ge("v-if",!0),X(h(Wi),{id:U.id,ref_key:"input",ref:o,type:"number",step:U.step,"model-value":h(m),placeholder:U.placeholder,readonly:U.readonly,disabled:h(g),size:h(p),max:U.max,min:U.min,name:U.name,"aria-label":U.label||U.ariaLabel,"validate-event":!1,onKeydown:[Gt(gt(b,["prevent"]),["up"]),Gt(gt(w,["prevent"]),["down"])],onBlur:O,onFocus:R,onInput:C,onChange:T},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var UQ=$e(BQ,[["__file","input-number.vue"]]);const yI=At(UQ),zQ=ze({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:sn}}),VQ={click:t=>t instanceof MouseEvent},$Q=["href","target"],HQ=j({name:"ElLink"}),WQ=j({...HQ,props:zQ,emits:VQ,setup(t,{emit:e}){const n=t,i=Oe("link"),s=A(()=>[i.b(),i.m(n.type),i.is("disabled",n.disabled),i.is("underline",n.underline&&!n.disabled)]);function r(o){n.disabled||e("click",o)}return(o,a)=>(P(),H("a",{class:L(h(s)),href:o.disabled||!o.href?void 0:o.href,target:o.disabled||!o.href?void 0:o.target,onClick:r},[o.icon?(P(),_e(h(tt),{key:0},{default:ne(()=>[(P(),_e(kt(o.icon)))]),_:1})):ge("v-if",!0),o.$slots.default?(P(),H("span",{key:1,class:L(h(i).e("inner"))},[Me(o.$slots,"default")],2)):ge("v-if",!0),o.$slots.icon?Me(o.$slots,"icon",{key:2}):ge("v-if",!0)],10,$Q))}});var GQ=$e(WQ,[["__file","link.vue"]]);const KQ=At(GQ);let YQ=class{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",i=>{let s=!1;switch(i.code){case lt.down:{this.gotoSubIndex(this.subIndex+1),s=!0;break}case lt.up:{this.gotoSubIndex(this.subIndex-1),s=!0;break}case lt.tab:{fm(e,"mouseleave");break}case lt.enter:case lt.space:{s=!0,i.currentTarget.click();break}}return s&&(i.preventDefault(),i.stopPropagation()),!1})})}},XQ=class{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${e}-menu`);n&&(this.submenu=new YQ(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case lt.down:{fm(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case lt.up:{fm(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case lt.tab:{fm(e.currentTarget,"mouseleave");break}case lt.enter:case lt.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}},qQ=class{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(i=>{i.nodeType===1&&new XQ(i,e)})}};const jQ=j({name:"ElMenuCollapseTransition",setup(){const t=Oe("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,i){$s(n,`${t.namespace.value}-opacity-transition`),n.style.opacity="1",i()},onAfterEnter(n){Ki(n,`${t.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),Ys(n,t.m("collapse"))?(Ki(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),$s(n,t.m("collapse"))):($s(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Ki(n,t.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){$s(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function ZQ(t,e,n,i,s,r){return P(),_e(ii,Lt({mode:"out-in"},t.listeners),{default:ne(()=>[Me(t.$slots,"default")]),_:3},16)}var JQ=$e(jQ,[["render",ZQ],["__file","menu-collapse-transition.vue"]]);function bI(t,e){const n=A(()=>{let s=t.parent;const r=[e.value];for(;s.type.name!=="ElMenu";)s.props.index&&r.unshift(s.props.index),s=s.parent;return r});return{parentMenu:A(()=>{let s=t.parent;for(;s&&!["ElMenu","ElSubMenu"].includes(s.type.name);)s=s.parent;return s}),indexPath:n}}function QQ(t){return A(()=>{const n=t.backgroundColor;return n?new Z3(n).shade(20).toString():""})}const _I=(t,e)=>{const n=Oe("menu");return A(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":QQ(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},eee=ze({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:sn},expandOpenIcon:{type:sn},collapseCloseIcon:{type:sn},collapseOpenIcon:{type:sn}}),T0="ElSubMenu";var Tw=j({name:T0,props:eee,setup(t,{slots:e,expose:n}){const i=Tt(),{indexPath:s,parentMenu:r}=bI(i,A(()=>t.index)),o=Oe("menu"),a=Oe("sub-menu"),l=et("rootMenu");l||si(T0,"can not inject root menu");const c=et(`subMenu:${r.value.uid}`);c||si(T0,"can not inject sub menu");const u=z({}),d=z({});let f;const p=z(!1),g=z(),m=z(null),y=A(()=>T.value==="horizontal"&&_.value?"bottom-start":"right-start"),v=A(()=>T.value==="horizontal"&&_.value||T.value==="vertical"&&!l.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?x.value?t.expandOpenIcon:t.expandCloseIcon:Ao:t.collapseCloseIcon&&t.collapseOpenIcon?x.value?t.collapseOpenIcon:t.collapseCloseIcon:ts),_=A(()=>c.level===0),b=A(()=>{const B=t.teleported;return B===void 0?_.value:B}),w=A(()=>l.props.collapse?`${o.namespace.value}-zoom-in-left`:`${o.namespace.value}-zoom-in-top`),S=A(()=>T.value==="horizontal"&&_.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),x=A(()=>l.openedMenus.includes(t.index)),C=A(()=>{let B=!1;return Object.values(u.value).forEach(G=>{G.active&&(B=!0)}),Object.values(d.value).forEach(G=>{G.active&&(B=!0)}),B}),T=A(()=>l.props.mode),E=Xt({index:t.index,indexPath:s,active:C}),M=_I(l.props,c.level+1),R=A(()=>{var B;return(B=t.popperOffset)!=null?B:l.props.popperOffset}),O=A(()=>{var B;return(B=t.popperClass)!=null?B:l.props.popperClass}),F=A(()=>{var B;return(B=t.showTimeout)!=null?B:l.props.showTimeout}),V=A(()=>{var B;return(B=t.hideTimeout)!=null?B:l.props.hideTimeout}),U=()=>{var B,G,J;return(J=(G=(B=m.value)==null?void 0:B.popperRef)==null?void 0:G.popperInstanceRef)==null?void 0:J.destroy()},D=B=>{B||U()},I=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||t.disabled||l.handleSubMenuClick({index:t.index,indexPath:s.value,active:C.value})},N=(B,G=F.value)=>{var J;if(B.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||t.disabled){c.mouseInChild.value=!0;return}c.mouseInChild.value=!0,f==null||f(),{stop:f}=Gl(()=>{l.openMenu(t.index,s.value)},G),b.value&&((J=r.value.vnode.el)==null||J.dispatchEvent(new MouseEvent("mouseenter")))}},k=(B=!1)=>{var G;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){c.mouseInChild.value=!1;return}f==null||f(),c.mouseInChild.value=!1,{stop:f}=Gl(()=>!p.value&&l.closeMenu(t.index,s.value),V.value),b.value&&B&&((G=c.handleMouseleave)==null||G.call(c,!0))};ke(()=>l.props.collapse,B=>D(!!B));{const B=J=>{d.value[J.index]=J},G=J=>{delete d.value[J.index]};Nt(`subMenu:${i.uid}`,{addSubMenu:B,removeSubMenu:G,handleMouseleave:k,mouseInChild:p,level:c.level+1})}return n({opened:x}),Mt(()=>{l.addSubMenu(E),c.addSubMenu(E)}),fn(()=>{c.removeSubMenu(E),l.removeSubMenu(E)}),()=>{var B;const G=[(B=e.title)==null?void 0:B.call(e),at(tt,{class:a.e("icon-arrow"),style:{transform:x.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>yt(v.value)?at(i.appContext.components[v.value]):at(v.value)})],J=l.isMenuPopup?at(Yi,{ref:m,visible:x.value,effect:"light",pure:!0,offset:R.value,showArrow:!1,persistent:!0,popperClass:O.value,placement:y.value,teleported:b.value,fallbackPlacements:S.value,transition:w.value,gpuAcceleration:!1},{content:()=>{var re;return at("div",{class:[o.m(T.value),o.m("popup-container"),O.value],onMouseenter:ee=>N(ee,100),onMouseleave:()=>k(!0),onFocus:ee=>N(ee,100)},[at("ul",{class:[o.b(),o.m("popup"),o.m(`popup-${y.value}`)],style:M.value},[(re=e.default)==null?void 0:re.call(e)])])},default:()=>at("div",{class:a.e("title"),onClick:I},G)}):at(st,{},[at("div",{class:a.e("title"),ref:g,onClick:I},G),at(fv,{},{default:()=>{var re;return St(at("ul",{role:"menu",class:[o.b(),o.m("inline")],style:M.value},[(re=e.default)==null?void 0:re.call(e)]),[[Kt,x.value]])}})]);return at("li",{class:[a.b(),a.is("active",C.value),a.is("opened",x.value),a.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:x.value,onMouseenter:N,onMouseleave:()=>k(),onFocus:N},[J])}}});const tee=ze({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:ce(Array),default:()=>Cn([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:sn,default:()=>FV},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),A0=t=>Array.isArray(t)&&t.every(e=>yt(e)),nee={close:(t,e)=>yt(t)&&A0(e),open:(t,e)=>yt(t)&&A0(e),select:(t,e,n,i)=>yt(t)&&A0(e)&&Pt(n)&&(i===void 0||i instanceof Promise)};var iee=j({name:"ElMenu",props:tee,emits:nee,setup(t,{emit:e,slots:n,expose:i}){const s=Tt(),r=s.appContext.config.globalProperties.$router,o=z(),a=Oe("menu"),l=Oe("sub-menu"),c=z(-1),u=z(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),d=z(t.defaultActive),f=z({}),p=z({}),g=A(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),m=()=>{const V=d.value&&f.value[d.value];if(!V||t.mode==="horizontal"||t.collapse)return;V.indexPath.forEach(D=>{const I=p.value[D];I&&y(D,I.indexPath)})},y=(V,U)=>{u.value.includes(V)||(t.uniqueOpened&&(u.value=u.value.filter(D=>U.includes(D))),u.value.push(V),e("open",V,U))},v=V=>{const U=u.value.indexOf(V);U!==-1&&u.value.splice(U,1)},_=(V,U)=>{v(V),e("close",V,U)},b=({index:V,indexPath:U})=>{u.value.includes(V)?_(V,U):y(V,U)},w=V=>{(t.mode==="horizontal"||t.collapse)&&(u.value=[]);const{index:U,indexPath:D}=V;if(!(yi(U)||yi(D)))if(t.router&&r){const I=V.route||U,N=r.push(I).then(k=>(k||(d.value=U),k));e("select",U,D,{index:U,indexPath:D,route:I},N)}else d.value=U,e("select",U,D,{index:U,indexPath:D})},S=V=>{const U=f.value,D=U[V]||d.value&&U[d.value]||U[t.defaultActive];D?d.value=D.index:d.value=V},x=V=>{const U=getComputedStyle(V),D=Number.parseInt(U.marginLeft,10),I=Number.parseInt(U.marginRight,10);return V.offsetWidth+D+I||0},C=()=>{var V,U;if(!o.value)return-1;const D=Array.from((U=(V=o.value)==null?void 0:V.childNodes)!=null?U:[]).filter(ee=>ee.nodeName!=="#comment"&&(ee.nodeName!=="#text"||ee.nodeValue)),I=64,N=getComputedStyle(o.value),k=Number.parseInt(N.paddingLeft,10),B=Number.parseInt(N.paddingRight,10),G=o.value.clientWidth-k-B;let J=0,re=0;return D.forEach((ee,ye)=>{J+=x(ee),J<=G-I&&(re=ye+1)}),re===D.length?-1:re},T=V=>p.value[V].indexPath,E=(V,U=33.34)=>{let D;return()=>{D&&clearTimeout(D),D=setTimeout(()=>{V()},U)}};let M=!0;const R=()=>{if(c.value===C())return;const V=()=>{c.value=-1,rt(()=>{c.value=C()})};M?V():E(V)(),M=!1};ke(()=>t.defaultActive,V=>{f.value[V]||(d.value=""),S(V)}),ke(()=>t.collapse,V=>{V&&(u.value=[])}),ke(f.value,m);let O;ki(()=>{t.mode==="horizontal"&&t.ellipsis?O=Mn(o,R).stop:O==null||O()});const F=z(!1);{const V=N=>{p.value[N.index]=N},U=N=>{delete p.value[N.index]};Nt("rootMenu",Xt({props:t,openedMenus:u,items:f,subMenus:p,activeIndex:d,isMenuPopup:g,addMenuItem:N=>{f.value[N.index]=N},removeMenuItem:N=>{delete f.value[N.index]},addSubMenu:V,removeSubMenu:U,openMenu:y,closeMenu:_,handleMenuItemClick:w,handleSubMenuClick:b})),Nt(`subMenu:${s.uid}`,{addSubMenu:V,removeSubMenu:U,mouseInChild:F,level:0})}return Mt(()=>{t.mode==="horizontal"&&new qQ(s.vnode.el,a.namespace.value)}),i({open:U=>{const{indexPath:D}=p.value[U];D.forEach(I=>y(I,D))},close:v,handleResize:R}),()=>{var V,U;let D=(U=(V=n.default)==null?void 0:V.call(n))!=null?U:[];const I=[];if(t.mode==="horizontal"&&o.value){const G=pa(D),J=c.value===-1?G:G.slice(0,c.value),re=c.value===-1?[]:G.slice(c.value);re!=null&&re.length&&t.ellipsis&&(D=J,I.push(at(Tw,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>at(tt,{class:l.e("icon-more")},{default:()=>at(t.ellipsisIcon)}),default:()=>re})))}const N=_I(t,0),k=t.closeOnClickOutside?[[_o,()=>{u.value.length&&(F.value||(u.value.forEach(G=>e("close",G,T(G))),u.value=[]))}]]:[],B=St(at("ul",{key:String(t.collapse),role:"menubar",ref:o,style:N.value,class:{[a.b()]:!0,[a.m(t.mode)]:!0,[a.m("collapse")]:t.collapse}},[...D,...I]),k);return t.collapseTransition&&t.mode==="vertical"?at(JQ,()=>B):B}}});const see=ze({index:{type:ce([String,null]),default:null},route:{type:ce([String,Object])},disabled:Boolean}),ree={click:t=>yt(t.index)&&Array.isArray(t.indexPath)},R0="ElMenuItem",oee=j({name:R0,components:{ElTooltip:Yi},props:see,emits:ree,setup(t,{emit:e}){const n=Tt(),i=et("rootMenu"),s=Oe("menu"),r=Oe("menu-item");i||si(R0,"can not inject root menu");const{parentMenu:o,indexPath:a}=bI(n,on(t,"index")),l=et(`subMenu:${o.value.uid}`);l||si(R0,"can not inject sub menu");const c=A(()=>t.index===i.activeIndex),u=Xt({index:t.index,indexPath:a,active:c}),d=()=>{t.disabled||(i.handleMenuItemClick({index:t.index,indexPath:a.value,route:t.route}),e("click",u))};return Mt(()=>{l.addSubMenu(u),i.addMenuItem(u)}),fn(()=>{l.removeSubMenu(u),i.removeMenuItem(u)}),{parentMenu:o,rootMenu:i,active:c,nsMenu:s,nsMenuItem:r,handleClick:d}}});function aee(t,e,n,i,s,r){const o=bt("el-tooltip");return P(),H("li",{class:L([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:e[0]||(e[0]=(...a)=>t.handleClick&&t.handleClick(...a))},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(P(),_e(o,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:ne(()=>[Me(t.$slots,"title")]),default:ne(()=>[Y("div",{class:L(t.nsMenu.be("tooltip","trigger"))},[Me(t.$slots,"default")],2)]),_:3},8,["effect"])):(P(),H(st,{key:1},[Me(t.$slots,"default"),Me(t.$slots,"title")],64))],2)}var wI=$e(oee,[["render",aee],["__file","menu-item.vue"]]);const lee={title:String},cee="ElMenuItemGroup",uee=j({name:cee,props:lee,setup(){return{ns:Oe("menu-item-group")}}});function dee(t,e,n,i,s,r){return P(),H("li",{class:L(t.ns.b())},[Y("div",{class:L(t.ns.e("title"))},[t.$slots.title?Me(t.$slots,"title",{key:1}):(P(),H(st,{key:0},[zt(Ge(t.title),1)],64))],2),Y("ul",null,[Me(t.$slots,"default")])],2)}var xI=$e(uee,[["render",dee],["__file","menu-item-group.vue"]]);const fee=At(iee,{MenuItem:wI,MenuItemGroup:xI,SubMenu:Tw}),hee=En(wI),pee=En(xI),mee=En(Tw),gee=ze({icon:{type:sn,default:()=>sV},title:String,content:{type:String,default:""}}),vee={back:()=>!0},yee=["aria-label"],bee=j({name:"ElPageHeader"}),_ee=j({...bee,props:gee,emits:vee,setup(t,{emit:e}){const n=Ci(),{t:i}=$t(),s=Oe("page-header"),r=A(()=>[s.b(),{[s.m("has-breadcrumb")]:!!n.breadcrumb,[s.m("has-extra")]:!!n.extra,[s.is("contentful")]:!!n.default}]);function o(){e("back")}return(a,l)=>(P(),H("div",{class:L(h(r))},[a.$slots.breadcrumb?(P(),H("div",{key:0,class:L(h(s).e("breadcrumb"))},[Me(a.$slots,"breadcrumb")],2)):ge("v-if",!0),Y("div",{class:L(h(s).e("header"))},[Y("div",{class:L(h(s).e("left"))},[Y("div",{class:L(h(s).e("back")),role:"button",tabindex:"0",onClick:o},[a.icon||a.$slots.icon?(P(),H("div",{key:0,"aria-label":a.title||h(i)("el.pageHeader.title"),class:L(h(s).e("icon"))},[Me(a.$slots,"icon",{},()=>[a.icon?(P(),_e(h(tt),{key:0},{default:ne(()=>[(P(),_e(kt(a.icon)))]),_:1})):ge("v-if",!0)])],10,yee)):ge("v-if",!0),Y("div",{class:L(h(s).e("title"))},[Me(a.$slots,"title",{},()=>[zt(Ge(a.title||h(i)("el.pageHeader.title")),1)])],2)],2),X(h(aI),{direction:"vertical"}),Y("div",{class:L(h(s).e("content"))},[Me(a.$slots,"content",{},()=>[zt(Ge(a.content),1)])],2)],2),a.$slots.extra?(P(),H("div",{key:0,class:L(h(s).e("extra"))},[Me(a.$slots,"extra")],2)):ge("v-if",!0)],2),a.$slots.default?(P(),H("div",{key:1,class:L(h(s).e("main"))},[Me(a.$slots,"default")],2)):ge("v-if",!0)],2))}});var wee=$e(_ee,[["__file","page-header.vue"]]);const xee=At(wee),SI=Symbol("elPaginationKey"),See=ze({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:sn}}),Mee={click:t=>t instanceof MouseEvent},Cee=["disabled","aria-label","aria-disabled"],Eee={key:0},Tee=j({name:"ElPaginationPrev"}),Aee=j({...Tee,props:See,emits:Mee,setup(t){const e=t,{t:n}=$t(),i=A(()=>e.disabled||e.currentPage<=1);return(s,r)=>(P(),H("button",{type:"button",class:"btn-prev",disabled:h(i),"aria-label":s.prevText||h(n)("el.pagination.prev"),"aria-disabled":h(i),onClick:r[0]||(r[0]=o=>s.$emit("click",o))},[s.prevText?(P(),H("span",Eee,Ge(s.prevText),1)):(P(),_e(h(tt),{key:1},{default:ne(()=>[(P(),_e(kt(s.prevIcon)))]),_:1}))],8,Cee))}});var Ree=$e(Aee,[["__file","prev.vue"]]);const Pee=ze({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:sn}}),Iee=["disabled","aria-label","aria-disabled"],kee={key:0},Oee=j({name:"ElPaginationNext"}),Lee=j({...Oee,props:Pee,emits:["click"],setup(t){const e=t,{t:n}=$t(),i=A(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(s,r)=>(P(),H("button",{type:"button",class:"btn-next",disabled:h(i),"aria-label":s.nextText||h(n)("el.pagination.next"),"aria-disabled":h(i),onClick:r[0]||(r[0]=o=>s.$emit("click",o))},[s.nextText?(P(),H("span",kee,Ge(s.nextText),1)):(P(),_e(h(tt),{key:1},{default:ne(()=>[(P(),_e(kt(s.nextIcon)))]),_:1}))],8,Iee))}});var Nee=$e(Lee,[["__file","next.vue"]]);const MI=Symbol("ElSelectGroup"),Sh=Symbol("ElSelect");function Dee(t,e){const n=et(Sh),i=et(MI,{disabled:!1}),s=A(()=>n.props.multiple?u(n.props.modelValue,t.value):u([n.props.modelValue],t.value)),r=A(()=>{if(n.props.multiple){const p=n.props.modelValue||[];return!s.value&&p.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),o=A(()=>t.label||(Pt(t.value)?"":t.value)),a=A(()=>t.value||t.label||""),l=A(()=>t.disabled||e.groupDisabled||r.value),c=Tt(),u=(p=[],g)=>{if(Pt(t.value)){const m=n.props.valueKey;return p&&p.some(y=>tn(Fn(y,m))===Fn(g,m))}else return p&&p.includes(g)},d=()=>{!t.disabled&&!i.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(c.proxy))},f=p=>{const g=new RegExp(O_(p),"i");e.visible=g.test(o.value)||t.created};return ke(()=>o.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),ke(()=>t.value,(p,g)=>{const{remote:m,valueKey:y}=n.props;if(Gi(p,g)||(n.onOptionDestroy(g,c.proxy),n.onOptionCreate(c.proxy)),!t.created&&!m){if(y&&Pt(p)&&Pt(g)&&p[y]===g[y])return;n.setSelected()}}),ke(()=>i.disabled,()=>{e.groupDisabled=i.disabled},{immediate:!0}),{select:n,currentLabel:o,currentValue:a,itemSelected:s,isDisabled:l,hoverItem:d,updateOption:f}}const Fee=j({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const e=Oe("select"),n=Li(),i=A(()=>[e.be("dropdown","item"),e.is("disabled",h(a)),e.is("selected",h(o)),e.is("hovering",h(f))]),s=Xt({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:r,itemSelected:o,isDisabled:a,select:l,hoverItem:c,updateOption:u}=Dee(t,s),{visible:d,hover:f}=Ti(s),p=Tt().proxy;l.onOptionCreate(p),fn(()=>{const m=p.value,{selected:y}=l.states,_=(l.props.multiple?y:[y]).some(b=>b.value===p.value);rt(()=>{l.states.cachedOptions.get(m)===p&&!_&&l.states.cachedOptions.delete(m)}),l.onOptionDestroy(m,p)});function g(){t.disabled!==!0&&s.groupDisabled!==!0&&l.handleOptionSelect(p)}return{ns:e,id:n,containerKls:i,currentLabel:r,itemSelected:o,isDisabled:a,select:l,hoverItem:c,updateOption:u,visible:d,hover:f,selectOptionClick:g,states:s}}}),Bee=["id","aria-disabled","aria-selected"];function Uee(t,e,n,i,s,r){return St((P(),H("li",{id:t.id,class:L(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMouseenter:e[0]||(e[0]=(...o)=>t.hoverItem&&t.hoverItem(...o)),onClick:e[1]||(e[1]=gt((...o)=>t.selectOptionClick&&t.selectOptionClick(...o),["stop"]))},[Me(t.$slots,"default",{},()=>[Y("span",null,Ge(t.currentLabel),1)])],42,Bee)),[[Kt,t.visible]])}var Aw=$e(Fee,[["render",Uee],["__file","option.vue"]]);const zee=j({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=et(Sh),e=Oe("select"),n=A(()=>t.props.popperClass),i=A(()=>t.props.multiple),s=A(()=>t.props.fitInputWidth),r=z("");function o(){var a;r.value=`${(a=t.selectRef)==null?void 0:a.offsetWidth}px`}return Mt(()=>{o(),Mn(t.selectRef,o)}),{ns:e,minWidth:r,popperClass:n,isMultiple:i,isFitInputWidth:s}}});function Vee(t,e,n,i,s,r){return P(),H("div",{class:L([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:nt({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(P(),H("div",{key:0,class:L(t.ns.be("dropdown","header"))},[Me(t.$slots,"header")],2)):ge("v-if",!0),Me(t.$slots,"default"),t.$slots.footer?(P(),H("div",{key:1,class:L(t.ns.be("dropdown","footer"))},[Me(t.$slots,"footer")],2)):ge("v-if",!0)],6)}var $ee=$e(zee,[["render",Vee],["__file","select-dropdown.vue"]]);function CI(t){const e=z(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:r=>{const o=r.target.value,a=o[o.length-1]||"";e.value=!$_(a)},handleCompositionEnd:r=>{e.value&&(e.value=!1,ht(t)&&t(r))}}}const Hee=11,Wee=(t,e)=>{const{t:n}=$t(),i=Li(),s=Oe("select"),r=Oe("input"),o=Xt({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:t.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),a=z(null),l=z(null),c=z(null),u=z(null),d=z(null),f=z(null),p=z(null),g=z(null),m=z(null),y=z(null),v=z(null),_=z(null),{wrapperRef:b,isFocused:w,handleFocus:S,handleBlur:x}=ov(d,{afterFocus(){t.automaticDropdown&&!C.value&&(C.value=!0,o.menuVisibleOnFocus=!0)},beforeBlur(Xe){var mt,hn;return((mt=c.value)==null?void 0:mt.isFocusInsideContent(Xe))||((hn=u.value)==null?void 0:hn.isFocusInsideContent(Xe))},afterBlur(){C.value=!1,o.menuVisibleOnFocus=!1}}),C=z(!1),T=z(),{form:E,formItem:M}=Xi(),{inputId:R}=wr(t,{formItemContext:M}),{valueOnClear:O,isEmptyValue:F}=av(t),V=A(()=>t.disabled||(E==null?void 0:E.disabled)),U=A(()=>t.multiple?Ze(t.modelValue)&&t.modelValue.length>0:!F(t.modelValue)),D=A(()=>t.clearable&&!V.value&&o.inputHovering&&U.value),I=A(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),N=A(()=>s.is("reverse",I.value&&C.value)),k=A(()=>(M==null?void 0:M.validateState)||""),B=A(()=>V_[k.value]),G=A(()=>t.remote?300:0),J=A(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!o.inputValue&&o.options.size===0?!1:t.filterable&&o.inputValue&&o.options.size>0&&re.value===0?t.noMatchText||n("el.select.noMatch"):o.options.size===0?t.noDataText||n("el.select.noData"):null),re=A(()=>ee.value.filter(Xe=>Xe.visible).length),ee=A(()=>{const Xe=Array.from(o.options.values()),mt=[];return o.optionValues.forEach(hn=>{const Ln=Xe.findIndex(ie=>ie.value===hn);Ln>-1&&mt.push(Xe[Ln])}),mt.length>=Xe.length?mt:Xe}),ye=A(()=>Array.from(o.cachedOptions.values())),te=A(()=>{const Xe=ee.value.filter(mt=>!mt.created).some(mt=>mt.currentLabel===o.inputValue);return t.filterable&&t.allowCreate&&o.inputValue!==""&&!Xe}),oe=()=>{t.filterable&&ht(t.filterMethod)||t.filterable&&t.remote&&ht(t.remoteMethod)||ee.value.forEach(Xe=>{var mt;(mt=Xe.updateOption)==null||mt.call(Xe,o.inputValue)})},de=ei(),Ne=A(()=>["small"].includes(de.value)?"small":"default"),Q=A({get(){return C.value&&J.value!==!1},set(Xe){C.value=Xe}}),Te=A(()=>Ze(t.modelValue)?t.modelValue.length===0&&!o.inputValue:t.filterable?!o.inputValue:!0),me=A(()=>{var Xe;const mt=(Xe=t.placeholder)!=null?Xe:n("el.select.placeholder");return t.multiple||!U.value?mt:o.selectedLabel});ke(()=>t.modelValue,(Xe,mt)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(o.inputValue="",K("")),ue(),!Gi(Xe,mt)&&t.validateEvent&&(M==null||M.validate("change").catch(hn=>void 0))},{flush:"post",deep:!0}),ke(()=>C.value,Xe=>{Xe?K(o.inputValue):(o.inputValue="",o.previousQuery=null,o.isBeforeHide=!0),e("visible-change",Xe)}),ke(()=>o.options.entries(),()=>{var Xe;if(!Ft)return;const mt=((Xe=a.value)==null?void 0:Xe.querySelectorAll("input"))||[];(!t.filterable&&!t.defaultFirstOption&&!Kn(t.modelValue)||!Array.from(mt).includes(document.activeElement))&&ue(),t.defaultFirstOption&&(t.filterable||t.remote)&&re.value&&q()},{flush:"post"}),ke(()=>o.hoveringIndex,Xe=>{ft(Xe)&&Xe>-1?T.value=ee.value[Xe]||{}:T.value={},ee.value.forEach(mt=>{mt.hover=T.value===mt})}),ki(()=>{o.isBeforeHide||oe()});const K=Xe=>{o.previousQuery!==Xe&&(o.previousQuery=Xe,t.filterable&&ht(t.filterMethod)?t.filterMethod(Xe):t.filterable&&t.remote&&ht(t.remoteMethod)&&t.remoteMethod(Xe),t.defaultFirstOption&&(t.filterable||t.remote)&&re.value?rt(q):rt(he))},q=()=>{const Xe=ee.value.filter(Ln=>Ln.visible&&!Ln.disabled&&!Ln.states.groupDisabled),mt=Xe.find(Ln=>Ln.created),hn=Xe[0];o.hoveringIndex=Le(ee.value,mt||hn)},ue=()=>{if(t.multiple)o.selectedLabel="";else{const mt=ve(t.modelValue);o.selectedLabel=mt.currentLabel,o.selected=mt;return}const Xe=[];Ze(t.modelValue)&&t.modelValue.forEach(mt=>{Xe.push(ve(mt))}),o.selected=Xe},ve=Xe=>{let mt;const hn=am(Xe).toLowerCase()==="object",Ln=am(Xe).toLowerCase()==="null",ie=am(Xe).toLowerCase()==="undefined";for(let Ve=o.cachedOptions.size-1;Ve>=0;Ve--){const Ue=ye.value[Ve];if(hn?Fn(Ue.value,t.valueKey)===Fn(Xe,t.valueKey):Ue.value===Xe){mt={value:Xe,currentLabel:Ue.currentLabel,get isDisabled(){return Ue.isDisabled}};break}}if(mt)return mt;const De=hn?Xe.label:!Ln&&!ie?Xe:"";return{value:Xe,currentLabel:De}},he=()=>{t.multiple?o.hoveringIndex=ee.value.findIndex(Xe=>o.selected.some(mt=>ri(mt)===ri(Xe))):o.hoveringIndex=ee.value.findIndex(Xe=>ri(Xe)===ri(o.selected))},xe=()=>{o.selectionWidth=l.value.getBoundingClientRect().width},W=()=>{o.calculatorWidth=f.value.getBoundingClientRect().width},$=()=>{o.collapseItemWidth=v.value.getBoundingClientRect().width},ae=()=>{var Xe,mt;(mt=(Xe=c.value)==null?void 0:Xe.updatePopper)==null||mt.call(Xe)},se=()=>{var Xe,mt;(mt=(Xe=u.value)==null?void 0:Xe.updatePopper)==null||mt.call(Xe)},Ee=()=>{o.inputValue.length>0&&!C.value&&(C.value=!0),K(o.inputValue)},Re=Xe=>{if(o.inputValue=Xe.target.value,t.remote)be();else return Ee()},be=vs(()=>{Ee()},G.value),Pe=Xe=>{Gi(t.modelValue,Xe)||e(mn,Xe)},Fe=Xe=>DR(Xe,mt=>!o.disabledOptions.has(mt)),it=Xe=>{if(t.multiple&&Xe.code!==lt.delete&&Xe.target.value.length<=0){const mt=t.modelValue.slice(),hn=Fe(mt);if(hn<0)return;mt.splice(hn,1),e(It,mt),Pe(mt)}},Ye=(Xe,mt)=>{const hn=o.selected.indexOf(mt);if(hn>-1&&!V.value){const Ln=t.modelValue.slice();Ln.splice(hn,1),e(It,Ln),Pe(Ln),e("remove-tag",mt.value)}Xe.stopPropagation(),ot()},He=Xe=>{Xe.stopPropagation();const mt=t.multiple?[]:O.value;if(t.multiple)for(const hn of o.selected)hn.isDisabled&&mt.push(hn.value);e(It,mt),Pe(mt),o.hoveringIndex=-1,C.value=!1,e("clear"),ot()},Se=Xe=>{if(t.multiple){const mt=(t.modelValue||[]).slice(),hn=Le(mt,Xe.value);hn>-1?mt.splice(hn,1):(t.multipleLimit<=0||mt.length<t.multipleLimit)&&mt.push(Xe.value),e(It,mt),Pe(mt),Xe.created&&K(""),t.filterable&&!t.reserveKeyword&&(o.inputValue="")}else e(It,Xe.value),Pe(Xe.value),C.value=!1;ot(),!C.value&&rt(()=>{we(Xe)})},Le=(Xe=[],mt)=>{if(!Pt(mt))return Xe.indexOf(mt);const hn=t.valueKey;let Ln=-1;return Xe.some((ie,De)=>tn(Fn(ie,hn))===Fn(mt,hn)?(Ln=De,!0):!1),Ln},we=Xe=>{var mt,hn,Ln,ie,De;const Ke=Ze(Xe)?Xe[0]:Xe;let Ve=null;if(Ke!=null&&Ke.value){const Ue=ee.value.filter(_t=>_t.value===Ke.value);Ue.length>0&&(Ve=Ue[0].$el)}if(c.value&&Ve){const Ue=(ie=(Ln=(hn=(mt=c.value)==null?void 0:mt.popperRef)==null?void 0:hn.contentRef)==null?void 0:Ln.querySelector)==null?void 0:ie.call(Ln,`.${s.be("dropdown","wrap")}`);Ue&&VR(Ue,Ve)}(De=_.value)==null||De.handleScroll()},pe=Xe=>{o.options.set(Xe.value,Xe),o.cachedOptions.set(Xe.value,Xe),Xe.disabled&&o.disabledOptions.set(Xe.value,Xe)},Ae=(Xe,mt)=>{o.options.get(Xe)===mt&&o.options.delete(Xe)},{handleCompositionStart:je,handleCompositionUpdate:fe,handleCompositionEnd:le}=CI(Xe=>Re(Xe)),Be=A(()=>{var Xe,mt;return(mt=(Xe=c.value)==null?void 0:Xe.popperRef)==null?void 0:mt.contentRef}),We=()=>{o.isBeforeHide=!1,rt(()=>we(o.selected))},ot=()=>{var Xe;(Xe=d.value)==null||Xe.focus()},pt=()=>{Bt()},dt=Xe=>{He(Xe)},Bt=Xe=>{if(C.value=!1,w.value){const mt=new FocusEvent("focus",Xe);rt(()=>x(mt))}},Tn=()=>{o.inputValue.length>0?o.inputValue="":C.value=!1},Xn=()=>{V.value||(o.menuVisibleOnFocus?o.menuVisibleOnFocus=!1:C.value=!C.value)},un=()=>{C.value?ee.value[o.hoveringIndex]&&Se(ee.value[o.hoveringIndex]):Xn()},ri=Xe=>Pt(Xe.value)?Fn(Xe.value,t.valueKey):Xe.value,oi=A(()=>ee.value.filter(Xe=>Xe.visible).every(Xe=>Xe.disabled)),Wa=A(()=>t.multiple?t.collapseTags?o.selected.slice(0,t.maxCollapseTags):o.selected:[]),pc=A(()=>t.multiple?t.collapseTags?o.selected.slice(t.maxCollapseTags):[]:[]),Cr=Xe=>{if(!C.value){C.value=!0;return}if(!(o.options.size===0||re.value===0)&&!oi.value){Xe==="next"?(o.hoveringIndex++,o.hoveringIndex===o.options.size&&(o.hoveringIndex=0)):Xe==="prev"&&(o.hoveringIndex--,o.hoveringIndex<0&&(o.hoveringIndex=o.options.size-1));const mt=ee.value[o.hoveringIndex];(mt.disabled===!0||mt.states.groupDisabled===!0||!mt.visible)&&Cr(Xe),rt(()=>we(T.value))}},Oo=()=>{if(!l.value)return 0;const Xe=window.getComputedStyle(l.value);return Number.parseFloat(Xe.gap||"6px")},mc=A(()=>{const Xe=Oo();return{maxWidth:`${v.value&&t.maxCollapseTags===1?o.selectionWidth-o.collapseItemWidth-Xe:o.selectionWidth}px`}}),Lo=A(()=>({maxWidth:`${o.selectionWidth}px`})),gc=A(()=>({width:`${Math.max(o.calculatorWidth,Hee)}px`}));return t.multiple&&!Ze(t.modelValue)&&e(It,[]),!t.multiple&&Ze(t.modelValue)&&e(It,""),Mn(l,xe),Mn(f,W),Mn(m,ae),Mn(b,ae),Mn(y,se),Mn(v,$),Mt(()=>{ue()}),{inputId:R,contentId:i,nsSelect:s,nsInput:r,states:o,isFocused:w,expanded:C,optionsArray:ee,hoverOption:T,selectSize:de,filteredOptionsCount:re,resetCalculatorWidth:W,updateTooltip:ae,updateTagTooltip:se,debouncedOnInputChange:be,onInput:Re,deletePrevTag:it,deleteTag:Ye,deleteSelected:He,handleOptionSelect:Se,scrollToOption:we,hasModelValue:U,shouldShowPlaceholder:Te,currentPlaceholder:me,showClose:D,iconComponent:I,iconReverse:N,validateState:k,validateIcon:B,showNewOption:te,updateOptions:oe,collapseTagSize:Ne,setSelected:ue,selectDisabled:V,emptyText:J,handleCompositionStart:je,handleCompositionUpdate:fe,handleCompositionEnd:le,onOptionCreate:pe,onOptionDestroy:Ae,handleMenuEnter:We,handleFocus:S,focus:ot,blur:pt,handleBlur:x,handleClearClick:dt,handleClickOutside:Bt,handleEsc:Tn,toggleMenu:Xn,selectOption:un,getValueKey:ri,navigateOptions:Cr,dropdownMenuVisible:Q,showTagList:Wa,collapseTagList:pc,tagStyle:mc,collapseTagStyle:Lo,inputStyle:gc,popperRef:Be,inputRef:d,tooltipRef:c,tagTooltipRef:u,calculatorRef:f,prefixRef:p,suffixRef:g,selectRef:a,wrapperRef:b,selectionRef:l,scrollbarRef:_,menuRef:m,tagMenuRef:y,collapseItemRef:v}};var Gee=j({name:"ElOptions",setup(t,{slots:e}){const n=et(Sh);let i=[];return()=>{var s,r;const o=(s=e.default)==null?void 0:s.call(e),a=[];function l(c){Ze(c)&&c.forEach(u=>{var d,f,p,g;const m=(d=(u==null?void 0:u.type)||{})==null?void 0:d.name;m==="ElOptionGroup"?l(!yt(u.children)&&!Ze(u.children)&&ht((f=u.children)==null?void 0:f.default)?(p=u.children)==null?void 0:p.default():u.children):m==="ElOption"?a.push((g=u.props)==null?void 0:g.value):Ze(u.children)&&l(u.children)})}return o.length&&l((r=o[0])==null?void 0:r.children),Gi(a,i)||(i=a,n&&(n.states.optionValues=a)),o}}});const Kee=ze({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:fi,effect:{type:ce(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:ce(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:hi.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:sn,default:Da},fitInputWidth:Boolean,suffixIcon:{type:sn,default:Ao},tagType:{...dv.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:ce(String),values:cc,default:"bottom-start"},fallbackPlacements:{type:ce(Array),default:["bottom-start","top-start","right","left"]},...td,...Ai(["ariaLabel"])}),UC="ElSelect",Yee=j({name:UC,componentName:UC,components:{ElInput:Wi,ElSelectMenu:$ee,ElOption:Aw,ElOptions:Gee,ElTag:Nf,ElScrollbar:Po,ElTooltip:Yi,ElIcon:tt},directives:{ClickOutside:_o},props:Kee,emits:[It,mn,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=Wee(t,e);return Nt(Sh,Xt({props:t,states:n.states,optionsArray:n.optionsArray,handleOptionSelect:n.handleOptionSelect,onOptionCreate:n.onOptionCreate,onOptionDestroy:n.onOptionDestroy,selectRef:n.selectRef,setSelected:n.setSelected})),{...n}}}),Xee=["id","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],qee=["textContent"];function jee(t,e,n,i,s,r){const o=bt("el-tag"),a=bt("el-tooltip"),l=bt("el-icon"),c=bt("el-option"),u=bt("el-options"),d=bt("el-scrollbar"),f=bt("el-select-menu"),p=zg("click-outside");return St((P(),H("div",{ref:"selectRef",class:L([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:e[16]||(e[16]=g=>t.states.inputHovering=!0),onMouseleave:e[17]||(e[17]=g=>t.states.inputHovering=!1),onClick:e[18]||(e[18]=gt((...g)=>t.toggleMenu&&t.toggleMenu(...g),["prevent","stop"]))},[X(a,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:e[15]||(e[15]=g=>t.states.isBeforeHide=!1)},{default:ne(()=>{var g;return[Y("div",{ref:"wrapperRef",class:L([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(P(),H("div",{key:0,ref:"prefixRef",class:L(t.nsSelect.e("prefix"))},[Me(t.$slots,"prefix")],2)):ge("v-if",!0),Y("div",{ref:"selectionRef",class:L([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?Me(t.$slots,"tag",{key:0},()=>[(P(!0),H(st,null,Dt(t.showTagList,m=>(P(),H("div",{key:t.getValueKey(m),class:L(t.nsSelect.e("selected-item"))},[X(o,{closable:!t.selectDisabled&&!m.isDisabled,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:nt(t.tagStyle),onClose:y=>t.deleteTag(y,m)},{default:ne(()=>[Y("span",{class:L(t.nsSelect.e("tags-text"))},Ge(m.currentLabel),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(P(),_e(a,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:ne(()=>[Y("div",{ref:"collapseItemRef",class:L(t.nsSelect.e("selected-item"))},[X(o,{closable:!1,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:nt(t.collapseTagStyle)},{default:ne(()=>[Y("span",{class:L(t.nsSelect.e("tags-text"))}," + "+Ge(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:ne(()=>[Y("div",{ref:"tagMenuRef",class:L(t.nsSelect.e("selection"))},[(P(!0),H(st,null,Dt(t.collapseTagList,m=>(P(),H("div",{key:t.getValueKey(m),class:L(t.nsSelect.e("selected-item"))},[X(o,{class:"in-tooltip",closable:!t.selectDisabled&&!m.isDisabled,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",onClose:y=>t.deleteTag(y,m)},{default:ne(()=>[Y("span",{class:L(t.nsSelect.e("tags-text"))},Ge(m.currentLabel),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):ge("v-if",!0)]):ge("v-if",!0),t.selectDisabled?ge("v-if",!0):(P(),H("div",{key:1,class:L([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[St(Y("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=m=>t.states.inputValue=m),type:"text",class:L([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:nt(t.inputStyle),role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((g=t.hoverOption)==null?void 0:g.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:e[1]||(e[1]=(...m)=>t.handleFocus&&t.handleFocus(...m)),onBlur:e[2]||(e[2]=(...m)=>t.handleBlur&&t.handleBlur(...m)),onKeydown:[e[3]||(e[3]=Gt(gt(m=>t.navigateOptions("next"),["stop","prevent"]),["down"])),e[4]||(e[4]=Gt(gt(m=>t.navigateOptions("prev"),["stop","prevent"]),["up"])),e[5]||(e[5]=Gt(gt((...m)=>t.handleEsc&&t.handleEsc(...m),["stop","prevent"]),["esc"])),e[6]||(e[6]=Gt(gt((...m)=>t.selectOption&&t.selectOption(...m),["stop","prevent"]),["enter"])),e[7]||(e[7]=Gt(gt((...m)=>t.deletePrevTag&&t.deletePrevTag(...m),["stop"]),["delete"]))],onCompositionstart:e[8]||(e[8]=(...m)=>t.handleCompositionStart&&t.handleCompositionStart(...m)),onCompositionupdate:e[9]||(e[9]=(...m)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...m)),onCompositionend:e[10]||(e[10]=(...m)=>t.handleCompositionEnd&&t.handleCompositionEnd(...m)),onInput:e[11]||(e[11]=(...m)=>t.onInput&&t.onInput(...m)),onClick:e[12]||(e[12]=gt((...m)=>t.toggleMenu&&t.toggleMenu(...m),["stop"]))},null,46,Xee),[[p_,t.states.inputValue]]),t.filterable?(P(),H("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:L(t.nsSelect.e("input-calculator")),textContent:Ge(t.states.inputValue)},null,10,qee)):ge("v-if",!0)],2)),t.shouldShowPlaceholder?(P(),H("div",{key:2,class:L([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[Y("span",null,Ge(t.currentPlaceholder),1)],2)):ge("v-if",!0)],2),Y("div",{ref:"suffixRef",class:L(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(P(),_e(l,{key:0,class:L([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:ne(()=>[(P(),_e(kt(t.iconComponent)))]),_:1},8,["class"])):ge("v-if",!0),t.showClose&&t.clearIcon?(P(),_e(l,{key:1,class:L([t.nsSelect.e("caret"),t.nsSelect.e("icon")]),onClick:t.handleClearClick},{default:ne(()=>[(P(),_e(kt(t.clearIcon)))]),_:1},8,["class","onClick"])):ge("v-if",!0),t.validateState&&t.validateIcon?(P(),_e(l,{key:2,class:L([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:ne(()=>[(P(),_e(kt(t.validateIcon)))]),_:1},8,["class"])):ge("v-if",!0)],2)],2)]}),content:ne(()=>[X(f,{ref:"menuRef"},{default:ne(()=>[t.$slots.header?(P(),H("div",{key:0,class:L(t.nsSelect.be("dropdown","header")),onClick:e[13]||(e[13]=gt(()=>{},["stop"]))},[Me(t.$slots,"header")],2)):ge("v-if",!0),St(X(d,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:L([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical"},{default:ne(()=>[t.showNewOption?(P(),_e(c,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):ge("v-if",!0),X(u,null,{default:ne(()=>[Me(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[Kt,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(P(),H("div",{key:1,class:L(t.nsSelect.be("dropdown","loading"))},[Me(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(P(),H("div",{key:2,class:L(t.nsSelect.be("dropdown","empty"))},[Me(t.$slots,"empty",{},()=>[Y("span",null,Ge(t.emptyText),1)])],2)):ge("v-if",!0),t.$slots.footer?(P(),H("div",{key:3,class:L(t.nsSelect.be("dropdown","footer")),onClick:e[14]||(e[14]=gt(()=>{},["stop"]))},[Me(t.$slots,"footer")],2)):ge("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow"])],34)),[[p,t.handleClickOutside,t.popperRef]])}var Zee=$e(Yee,[["render",jee],["__file","select.vue"]]);const Jee=j({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=Oe("select"),n=z(null),i=Tt(),s=z([]);Nt(MI,Xt({...Ti(t)}));const r=A(()=>s.value.some(c=>c.visible===!0)),o=c=>{var u,d;return((u=c.type)==null?void 0:u.name)==="ElOption"&&!!((d=c.component)!=null&&d.proxy)},a=c=>{const u=wa(c),d=[];return u.forEach(f=>{var p,g;o(f)?d.push(f.component.proxy):(p=f.children)!=null&&p.length?d.push(...a(f.children)):(g=f.component)!=null&&g.subTree&&d.push(...a(f.component.subTree))}),d},l=()=>{s.value=a(i.subTree)};return Mt(()=>{l()}),jA(n,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:r,ns:e}}});function Qee(t,e,n,i,s,r){return St((P(),H("ul",{ref:"groupRef",class:L(t.ns.be("group","wrap"))},[Y("li",{class:L(t.ns.be("group","title"))},Ge(t.label),3),Y("li",null,[Y("ul",{class:L(t.ns.b("group"))},[Me(t.$slots,"default")],2)])],2)),[[Kt,t.visible]])}var EI=$e(Jee,[["render",Qee],["__file","option-group.vue"]]);const Zl=At(Zee,{Option:Aw,OptionGroup:EI}),fg=En(Aw),ete=En(EI),Rw=()=>et(SI,{}),tte=ze({pageSize:{type:Number,required:!0},pageSizes:{type:ce(Array),default:()=>Cn([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:Gr}}),nte=j({name:"ElPaginationSizes"}),ite=j({...nte,props:tte,emits:["page-size-change"],setup(t,{emit:e}){const n=t,{t:i}=$t(),s=Oe("pagination"),r=Rw(),o=z(n.pageSize);ke(()=>n.pageSizes,(c,u)=>{if(!Gi(c,u)&&Array.isArray(c)){const d=c.includes(n.pageSize)?n.pageSize:n.pageSizes[0];e("page-size-change",d)}}),ke(()=>n.pageSize,c=>{o.value=c});const a=A(()=>n.pageSizes);function l(c){var u;c!==o.value&&(o.value=c,(u=r.handleSizeChange)==null||u.call(r,Number(c)))}return(c,u)=>(P(),H("span",{class:L(h(s).e("sizes"))},[X(h(Zl),{"model-value":o.value,disabled:c.disabled,"popper-class":c.popperClass,size:c.size,teleported:c.teleported,"validate-event":!1,onChange:l},{default:ne(()=>[(P(!0),H(st,null,Dt(h(a),d=>(P(),_e(h(fg),{key:d,value:d,label:d+h(i)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var ste=$e(ite,[["__file","sizes.vue"]]);const rte=ze({size:{type:String,values:Gr}}),ote=["disabled"],ate=j({name:"ElPaginationJumper"}),lte=j({...ate,props:rte,setup(t){const{t:e}=$t(),n=Oe("pagination"),{pageCount:i,disabled:s,currentPage:r,changeEvent:o}=Rw(),a=z(),l=A(()=>{var d;return(d=a.value)!=null?d:r==null?void 0:r.value});function c(d){a.value=d?+d:""}function u(d){d=Math.trunc(+d),o==null||o(d),a.value=void 0}return(d,f)=>(P(),H("span",{class:L(h(n).e("jump")),disabled:h(s)},[Y("span",{class:L([h(n).e("goto")])},Ge(h(e)("el.pagination.goto")),3),X(h(Wi),{size:d.size,class:L([h(n).e("editor"),h(n).is("in-pagination")]),min:1,max:h(i),disabled:h(s),"model-value":h(l),"validate-event":!1,label:h(e)("el.pagination.page"),type:"number","onUpdate:modelValue":c,onChange:u},null,8,["size","class","max","disabled","model-value","label"]),Y("span",{class:L([h(n).e("classifier")])},Ge(h(e)("el.pagination.pageClassifier")),3)],10,ote))}});var cte=$e(lte,[["__file","jumper.vue"]]);const ute=ze({total:{type:Number,default:1e3}}),dte=["disabled"],fte=j({name:"ElPaginationTotal"}),hte=j({...fte,props:ute,setup(t){const{t:e}=$t(),n=Oe("pagination"),{disabled:i}=Rw();return(s,r)=>(P(),H("span",{class:L(h(n).e("total")),disabled:h(i)},Ge(h(e)("el.pagination.total",{total:s.total})),11,dte))}});var pte=$e(hte,[["__file","total.vue"]]);const mte=ze({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),gte=["onKeyup"],vte=["aria-current","aria-label","tabindex"],yte=["tabindex","aria-label"],bte=["aria-current","aria-label","tabindex"],_te=["tabindex","aria-label"],wte=["aria-current","aria-label","tabindex"],xte=j({name:"ElPaginationPager"}),Ste=j({...xte,props:mte,emits:["change"],setup(t,{emit:e}){const n=t,i=Oe("pager"),s=Oe("icon"),{t:r}=$t(),o=z(!1),a=z(!1),l=z(!1),c=z(!1),u=z(!1),d=z(!1),f=A(()=>{const w=n.pagerCount,S=(w-1)/2,x=Number(n.currentPage),C=Number(n.pageCount);let T=!1,E=!1;C>w&&(x>w-S&&(T=!0),x<C-S&&(E=!0));const M=[];if(T&&!E){const R=C-(w-2);for(let O=R;O<C;O++)M.push(O)}else if(!T&&E)for(let R=2;R<w;R++)M.push(R);else if(T&&E){const R=Math.floor(w/2)-1;for(let O=x-R;O<=x+R;O++)M.push(O)}else for(let R=2;R<C;R++)M.push(R);return M}),p=A(()=>["more","btn-quickprev",s.b(),i.is("disabled",n.disabled)]),g=A(()=>["more","btn-quicknext",s.b(),i.is("disabled",n.disabled)]),m=A(()=>n.disabled?-1:0);ki(()=>{const w=(n.pagerCount-1)/2;o.value=!1,a.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-w&&(o.value=!0),n.currentPage<n.pageCount-w&&(a.value=!0))});function y(w=!1){n.disabled||(w?l.value=!0:c.value=!0)}function v(w=!1){w?u.value=!0:d.value=!0}function _(w){const S=w.target;if(S.tagName.toLowerCase()==="li"&&Array.from(S.classList).includes("number")){const x=Number(S.textContent);x!==n.currentPage&&e("change",x)}else S.tagName.toLowerCase()==="li"&&Array.from(S.classList).includes("more")&&b(w)}function b(w){const S=w.target;if(S.tagName.toLowerCase()==="ul"||n.disabled)return;let x=Number(S.textContent);const C=n.pageCount,T=n.currentPage,E=n.pagerCount-2;S.className.includes("more")&&(S.className.includes("quickprev")?x=T-E:S.className.includes("quicknext")&&(x=T+E)),Number.isNaN(+x)||(x<1&&(x=1),x>C&&(x=C)),x!==T&&e("change",x)}return(w,S)=>(P(),H("ul",{class:L(h(i).b()),onClick:b,onKeyup:Gt(_,["enter"])},[w.pageCount>0?(P(),H("li",{key:0,class:L([[h(i).is("active",w.currentPage===1),h(i).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===1,"aria-label":h(r)("el.pagination.currentPage",{pager:1}),tabindex:h(m)}," 1 ",10,vte)):ge("v-if",!0),o.value?(P(),H("li",{key:1,class:L(h(p)),tabindex:h(m),"aria-label":h(r)("el.pagination.prevPages",{pager:w.pagerCount-2}),onMouseenter:S[0]||(S[0]=x=>y(!0)),onMouseleave:S[1]||(S[1]=x=>l.value=!1),onFocus:S[2]||(S[2]=x=>v(!0)),onBlur:S[3]||(S[3]=x=>u.value=!1)},[(l.value||u.value)&&!w.disabled?(P(),_e(h(Eu),{key:0})):(P(),_e(h(TM),{key:1}))],42,yte)):ge("v-if",!0),(P(!0),H(st,null,Dt(h(f),x=>(P(),H("li",{key:x,class:L([[h(i).is("active",w.currentPage===x),h(i).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===x,"aria-label":h(r)("el.pagination.currentPage",{pager:x}),tabindex:h(m)},Ge(x),11,bte))),128)),a.value?(P(),H("li",{key:2,class:L(h(g)),tabindex:h(m),"aria-label":h(r)("el.pagination.nextPages",{pager:w.pagerCount-2}),onMouseenter:S[4]||(S[4]=x=>y()),onMouseleave:S[5]||(S[5]=x=>c.value=!1),onFocus:S[6]||(S[6]=x=>v()),onBlur:S[7]||(S[7]=x=>d.value=!1)},[(c.value||d.value)&&!w.disabled?(P(),_e(h(Tu),{key:0})):(P(),_e(h(TM),{key:1}))],42,_te)):ge("v-if",!0),w.pageCount>1?(P(),H("li",{key:3,class:L([[h(i).is("active",w.currentPage===w.pageCount),h(i).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===w.pageCount,"aria-label":h(r)("el.pagination.currentPage",{pager:w.pageCount}),tabindex:h(m)},Ge(w.pageCount),11,wte)):ge("v-if",!0)],42,gte))}});var Mte=$e(Ste,[["__file","pager.vue"]]);const ji=t=>typeof t!="number",Cte=ze({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>ft(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:ce(Array),default:()=>Cn([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:sn,default:()=>Sa},nextText:{type:String,default:""},nextIcon:{type:sn,default:()=>ts},teleported:{type:Boolean,default:!0},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),Ete={"update:current-page":t=>ft(t),"update:page-size":t=>ft(t),"size-change":t=>ft(t),change:(t,e)=>ft(t)&&ft(e),"current-change":t=>ft(t),"prev-click":t=>ft(t),"next-click":t=>ft(t)},zC="ElPagination";var Tte=j({name:zC,props:Cte,emits:Ete,setup(t,{emit:e,slots:n}){const{t:i}=$t(),s=Oe("pagination"),r=Tt().vnode.props||{},o="onUpdate:currentPage"in r||"onUpdate:current-page"in r||"onCurrentChange"in r,a="onUpdate:pageSize"in r||"onUpdate:page-size"in r||"onSizeChange"in r,l=A(()=>{if(ji(t.total)&&ji(t.pageCount)||!ji(t.currentPage)&&!o)return!1;if(t.layout.includes("sizes")){if(ji(t.pageCount)){if(!ji(t.total)&&!ji(t.pageSize)&&!a)return!1}else if(!a)return!1}return!0}),c=z(ji(t.defaultPageSize)?10:t.defaultPageSize),u=z(ji(t.defaultCurrentPage)?1:t.defaultCurrentPage),d=A({get(){return ji(t.pageSize)?c.value:t.pageSize},set(b){ji(t.pageSize)&&(c.value=b),a&&(e("update:page-size",b),e("size-change",b))}}),f=A(()=>{let b=0;return ji(t.pageCount)?ji(t.total)||(b=Math.max(1,Math.ceil(t.total/d.value))):b=t.pageCount,b}),p=A({get(){return ji(t.currentPage)?u.value:t.currentPage},set(b){let w=b;b<1?w=1:b>f.value&&(w=f.value),ji(t.currentPage)&&(u.value=w),o&&(e("update:current-page",w),e("current-change",w))}});ke(f,b=>{p.value>b&&(p.value=b)}),ke([p,d],b=>{e("change",...b)},{flush:"post"});function g(b){p.value=b}function m(b){d.value=b;const w=f.value;p.value>w&&(p.value=w)}function y(){t.disabled||(p.value-=1,e("prev-click",p.value))}function v(){t.disabled||(p.value+=1,e("next-click",p.value))}function _(b,w){b&&(b.props||(b.props={}),b.props.class=[b.props.class,w].join(" "))}return Nt(SI,{pageCount:f,disabled:A(()=>t.disabled),currentPage:p,changeEvent:g,handleSizeChange:m}),()=>{var b,w;if(!l.value)return i("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&f.value<=1)return null;const S=[],x=[],C=at("div",{class:s.e("rightwrapper")},x),T={prev:at(Ree,{disabled:t.disabled,currentPage:p.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:y}),jumper:at(cte,{size:t.small?"small":"default"}),pager:at(Mte,{currentPage:p.value,pageCount:f.value,pagerCount:t.pagerCount,onChange:g,disabled:t.disabled}),next:at(Nee,{disabled:t.disabled,currentPage:p.value,pageCount:f.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:v}),sizes:at(ste,{pageSize:d.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:t.small?"small":"default"}),slot:(w=(b=n==null?void 0:n.default)==null?void 0:b.call(n))!=null?w:null,total:at(pte,{total:ji(t.total)?0:t.total})},E=t.layout.split(",").map(R=>R.trim());let M=!1;return E.forEach(R=>{if(R==="->"){M=!0;return}M?x.push(T[R]):S.push(T[R])}),_(S[0],s.is("first")),_(S[S.length-1],s.is("last")),M&&x.length>0&&(_(x[0],s.is("first")),_(x[x.length-1],s.is("last")),S.push(C)),at("div",{class:[s.b(),s.is("background",t.background),{[s.m("small")]:t.small}]},S)}}});const Ate=At(Tte),Rte=ze({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:d1,default:"primary"},cancelButtonType:{type:String,values:d1,default:"text"},icon:{type:sn,default:()=>WV},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:hi.teleported,persistent:hi.persistent,width:{type:[String,Number],default:150}}),Pte={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},Ite=j({name:"ElPopconfirm"}),kte=j({...Ite,props:Rte,emits:Pte,setup(t,{emit:e}){const n=t,{t:i}=$t(),s=Oe("popconfirm"),r=z(),o=()=>{var f,p;(p=(f=r.value)==null?void 0:f.onClose)==null||p.call(f)},a=A(()=>({width:On(n.width)})),l=f=>{e("confirm",f),o()},c=f=>{e("cancel",f),o()},u=A(()=>n.confirmButtonText||i("el.popconfirm.confirmButtonText")),d=A(()=>n.cancelButtonText||i("el.popconfirm.cancelButtonText"));return(f,p)=>(P(),_e(h(Yi),Lt({ref_key:"tooltipRef",ref:r,trigger:"click",effect:"light"},f.$attrs,{"popper-class":`${h(s).namespace.value}-popover`,"popper-style":h(a),teleported:f.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":f.hideAfter,persistent:f.persistent}),{content:ne(()=>[Y("div",{class:L(h(s).b())},[Y("div",{class:L(h(s).e("main"))},[!f.hideIcon&&f.icon?(P(),_e(h(tt),{key:0,class:L(h(s).e("icon")),style:nt({color:f.iconColor})},{default:ne(()=>[(P(),_e(kt(f.icon)))]),_:1},8,["class","style"])):ge("v-if",!0),zt(" "+Ge(f.title),1)],2),Y("div",{class:L(h(s).e("action"))},[X(h(bi),{size:"small",type:f.cancelButtonType==="text"?"":f.cancelButtonType,text:f.cancelButtonType==="text",onClick:c},{default:ne(()=>[zt(Ge(h(d)),1)]),_:1},8,["type","text"]),X(h(bi),{size:"small",type:f.confirmButtonType==="text"?"":f.confirmButtonType,text:f.confirmButtonType==="text",onClick:l},{default:ne(()=>[zt(Ge(h(u)),1)]),_:1},8,["type","text"])],2)],2)]),default:ne(()=>[f.$slots.reference?Me(f.$slots,"reference",{key:0}):ge("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Ote=$e(kte,[["__file","popconfirm.vue"]]);const Lte=At(Ote),Nte=ze({trigger:Lf.trigger,placement:Em.placement,disabled:Lf.disabled,visible:hi.visible,transition:hi.transition,popperOptions:Em.popperOptions,tabindex:Em.tabindex,content:hi.content,popperStyle:hi.popperStyle,popperClass:hi.popperClass,enterable:{...hi.enterable,default:!0},effect:{...hi.effect,default:"light"},teleported:hi.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Dte={"update:visible":t=>Yn(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},Fte="onUpdate:visible",Bte=j({name:"ElPopover"}),Ute=j({...Bte,props:Nte,emits:Dte,setup(t,{expose:e,emit:n}){const i=t,s=A(()=>i[Fte]),r=Oe("popover"),o=z(),a=A(()=>{var y;return(y=h(o))==null?void 0:y.popperRef}),l=A(()=>[{width:On(i.width)},i.popperStyle]),c=A(()=>[r.b(),i.popperClass,{[r.m("plain")]:!!i.content}]),u=A(()=>i.transition===`${r.namespace.value}-fade-in-linear`),d=()=>{var y;(y=o.value)==null||y.hide()},f=()=>{n("before-enter")},p=()=>{n("before-leave")},g=()=>{n("after-enter")},m=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:a,hide:d}),(y,v)=>(P(),_e(h(Yi),Lt({ref_key:"tooltipRef",ref:o},y.$attrs,{trigger:y.trigger,placement:y.placement,disabled:y.disabled,visible:y.visible,transition:y.transition,"popper-options":y.popperOptions,tabindex:y.tabindex,content:y.content,offset:y.offset,"show-after":y.showAfter,"hide-after":y.hideAfter,"auto-close":y.autoClose,"show-arrow":y.showArrow,"aria-label":y.title,effect:y.effect,enterable:y.enterable,"popper-class":h(c),"popper-style":h(l),teleported:y.teleported,persistent:y.persistent,"gpu-acceleration":h(u),"onUpdate:visible":h(s),onBeforeShow:f,onBeforeHide:p,onShow:g,onHide:m}),{content:ne(()=>[y.title?(P(),H("div",{key:0,class:L(h(r).e("title")),role:"title"},Ge(y.title),3)):ge("v-if",!0),Me(y.$slots,"default",{},()=>[zt(Ge(y.content),1)])]),default:ne(()=>[y.$slots.reference?Me(y.$slots,"reference",{key:0}):ge("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var zte=$e(Ute,[["__file","popover.vue"]]);const VC=(t,e)=>{const n=e.arg||e.value,i=n==null?void 0:n.popperRef;i&&(i.triggerRef=t)};var Vte={mounted(t,e){VC(t,e)},updated(t,e){VC(t,e)}};const $te="popover",TI=b$(Vte,$te),Hte=At(zte,{directive:TI}),Wte=ze({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:ce(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:ce([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:ce(Function),default:t=>`${t}%`}}),Gte=["aria-valuenow"],Kte={viewBox:"0 0 100 100"},Yte=["d","stroke","stroke-linecap","stroke-width"],Xte=["d","stroke","opacity","stroke-linecap","stroke-width"],qte={key:0},jte=j({name:"ElProgress"}),Zte=j({...jte,props:Wte,setup(t){const e=t,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},i=Oe("progress"),s=A(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,background:_(e.percentage)})),r=A(()=>(e.strokeWidth/e.width*100).toFixed(1)),o=A(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(r.value)/2}`,10):0),a=A(()=>{const b=o.value,w=e.type==="dashboard";return`
          M 50 50
          m 0 ${w?"":"-"}${b}
          a ${b} ${b} 0 1 1 0 ${w?"-":""}${b*2}
          a ${b} ${b} 0 1 1 0 ${w?"":"-"}${b*2}
          `}),l=A(()=>2*Math.PI*o.value),c=A(()=>e.type==="dashboard"?.75:1),u=A(()=>`${-1*l.value*(1-c.value)/2}px`),d=A(()=>({strokeDasharray:`${l.value*c.value}px, ${l.value}px`,strokeDashoffset:u.value})),f=A(()=>({strokeDasharray:`${l.value*c.value*(e.percentage/100)}px, ${l.value}px`,strokeDashoffset:u.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),p=A(()=>{let b;return e.color?b=_(e.percentage):b=n[e.status]||n.default,b}),g=A(()=>e.status==="warning"?tv:e.type==="line"?e.status==="success"?D_:Da:e.status==="success"?ph:gr),m=A(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),y=A(()=>e.format(e.percentage));function v(b){const w=100/b.length;return b.map((x,C)=>yt(x)?{color:x,percentage:(C+1)*w}:x).sort((x,C)=>x.percentage-C.percentage)}const _=b=>{var w;const{color:S}=e;if(ht(S))return S(b);if(yt(S))return S;{const x=v(S);for(const C of x)if(C.percentage>b)return C.color;return(w=x[x.length-1])==null?void 0:w.color}};return(b,w)=>(P(),H("div",{class:L([h(i).b(),h(i).m(b.type),h(i).is(b.status),{[h(i).m("without-text")]:!b.showText,[h(i).m("text-inside")]:b.textInside}]),role:"progressbar","aria-valuenow":b.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[b.type==="line"?(P(),H("div",{key:0,class:L(h(i).b("bar"))},[Y("div",{class:L(h(i).be("bar","outer")),style:nt({height:`${b.strokeWidth}px`})},[Y("div",{class:L([h(i).be("bar","inner"),{[h(i).bem("bar","inner","indeterminate")]:b.indeterminate},{[h(i).bem("bar","inner","striped")]:b.striped},{[h(i).bem("bar","inner","striped-flow")]:b.stripedFlow}]),style:nt(h(s))},[(b.showText||b.$slots.default)&&b.textInside?(P(),H("div",{key:0,class:L(h(i).be("bar","innerText"))},[Me(b.$slots,"default",{percentage:b.percentage},()=>[Y("span",null,Ge(h(y)),1)])],2)):ge("v-if",!0)],6)],6)],2)):(P(),H("div",{key:1,class:L(h(i).b("circle")),style:nt({height:`${b.width}px`,width:`${b.width}px`})},[(P(),H("svg",Kte,[Y("path",{class:L(h(i).be("circle","track")),d:h(a),stroke:`var(${h(i).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":b.strokeLinecap,"stroke-width":h(r),fill:"none",style:nt(h(d))},null,14,Yte),Y("path",{class:L(h(i).be("circle","path")),d:h(a),stroke:h(p),fill:"none",opacity:b.percentage?1:0,"stroke-linecap":b.strokeLinecap,"stroke-width":h(r),style:nt(h(f))},null,14,Xte)]))],6)),(b.showText||b.$slots.default)&&!b.textInside?(P(),H("div",{key:2,class:L(h(i).e("text")),style:nt({fontSize:`${h(m)}px`})},[Me(b.$slots,"default",{percentage:b.percentage},()=>[b.status?(P(),_e(h(tt),{key:1},{default:ne(()=>[(P(),_e(kt(h(g))))]),_:1})):(P(),H("span",qte,Ge(h(y)),1))])],6)):ge("v-if",!0)],10,Gte))}});var Jte=$e(Zte,[["__file","progress.vue"]]);const AI=At(Jte),Qte=ze({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:ce([Array,Object]),default:()=>Cn(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:ce([Array,Object]),default:()=>[Yh,Yh,Yh]},voidIcon:{type:sn,default:()=>c$},disabledVoidIcon:{type:sn,default:()=>Yh},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:ce(Array),default:()=>Cn(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:fi,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1},...Ai(["ariaLabel"])}),ene={[mn]:t=>ft(t),[It]:t=>ft(t)},tne=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],nne=["onMousemove","onClick"],ine=j({name:"ElRate"}),sne=j({...ine,props:Qte,emits:ene,setup(t,{expose:e,emit:n}){const i=t;function s(D,I){const N=G=>Pt(G),k=Object.keys(I).map(G=>+G).filter(G=>{const J=I[G];return(N(J)?J.excluded:!1)?D<G:D<=G}).sort((G,J)=>G-J),B=I[k[0]];return N(B)&&B.value||B}const r=et(uc,void 0),o=et(Hr,void 0),a=ei(),l=Oe("rate"),{inputId:c,isLabeledByFormItem:u}=wr(i,{formItemContext:o}),d=z(i.modelValue),f=z(-1),p=z(!0),g=A(()=>[l.b(),l.m(a.value)]),m=A(()=>i.disabled||(r==null?void 0:r.disabled)),y=A(()=>l.cssVarBlock({"void-color":i.voidColor,"disabled-void-color":i.disabledVoidColor,"fill-color":w.value})),v=A(()=>{let D="";return i.showScore?D=i.scoreTemplate.replace(/\{\s*value\s*\}/,m.value?`${i.modelValue}`:`${d.value}`):i.showText&&(D=i.texts[Math.ceil(d.value)-1]),D}),_=A(()=>i.modelValue*100-Math.floor(i.modelValue)*100),b=A(()=>Ze(i.colors)?{[i.lowThreshold]:i.colors[0],[i.highThreshold]:{value:i.colors[1],excluded:!0},[i.max]:i.colors[2]}:i.colors),w=A(()=>{const D=s(d.value,b.value);return Pt(D)?"":D}),S=A(()=>{let D="";return m.value?D=`${_.value}%`:i.allowHalf&&(D="50%"),{color:w.value,width:D}}),x=A(()=>{let D=Ze(i.icons)?[...i.icons]:{...i.icons};return D=au(D),Ze(D)?{[i.lowThreshold]:D[0],[i.highThreshold]:{value:D[1],excluded:!0},[i.max]:D[2]}:D}),C=A(()=>s(i.modelValue,x.value)),T=A(()=>m.value?yt(i.disabledVoidIcon)?i.disabledVoidIcon:au(i.disabledVoidIcon):yt(i.voidIcon)?i.voidIcon:au(i.voidIcon)),E=A(()=>s(d.value,x.value));function M(D){const I=m.value&&_.value>0&&D-1<i.modelValue&&D>i.modelValue,N=i.allowHalf&&p.value&&D-.5<=d.value&&D>d.value;return I||N}function R(D){i.clearable&&D===i.modelValue&&(D=0),n(It,D),i.modelValue!==D&&n("change",D)}function O(D){m.value||(i.allowHalf&&p.value?R(d.value):R(D))}function F(D){if(m.value)return;let I=d.value;const N=D.code;return N===lt.up||N===lt.right?(i.allowHalf?I+=.5:I+=1,D.stopPropagation(),D.preventDefault()):(N===lt.left||N===lt.down)&&(i.allowHalf?I-=.5:I-=1,D.stopPropagation(),D.preventDefault()),I=I<0?0:I,I=I>i.max?i.max:I,n(It,I),n("change",I),I}function V(D,I){if(!m.value){if(i.allowHalf&&I){let N=I.target;Ys(N,l.e("item"))&&(N=N.querySelector(`.${l.e("icon")}`)),(N.clientWidth===0||Ys(N,l.e("decimal")))&&(N=N.parentNode),p.value=I.offsetX*2<=N.clientWidth,d.value=p.value?D-.5:D}else d.value=D;f.value=D}}function U(){m.value||(i.allowHalf&&(p.value=i.modelValue!==Math.floor(i.modelValue)),d.value=i.modelValue,f.value=-1)}return ke(()=>i.modelValue,D=>{d.value=D,p.value=i.modelValue!==Math.floor(i.modelValue)}),i.modelValue||n(It,0),gi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-rate",ref:"https://element-plus.org/en-US/component/rate.html"},A(()=>!!i.label)),e({setCurrentValue:V,resetCurrentValue:U}),(D,I)=>{var N;return P(),H("div",{id:h(c),class:L([h(g),h(l).is("disabled",h(m))]),role:"slider","aria-label":h(u)?void 0:D.label||D.ariaLabel||"rating","aria-labelledby":h(u)?(N=h(o))==null?void 0:N.labelId:void 0,"aria-valuenow":d.value,"aria-valuetext":h(v)||void 0,"aria-valuemin":"0","aria-valuemax":D.max,tabindex:"0",style:nt(h(y)),onKeydown:F},[(P(!0),H(st,null,Dt(D.max,(k,B)=>(P(),H("span",{key:B,class:L(h(l).e("item")),onMousemove:G=>V(k,G),onMouseleave:U,onClick:G=>O(k)},[X(h(tt),{class:L([h(l).e("icon"),{hover:f.value===k},h(l).is("active",k<=d.value)])},{default:ne(()=>[M(k)?ge("v-if",!0):(P(),H(st,{key:0},[St((P(),_e(kt(h(E)),null,null,512)),[[Kt,k<=d.value]]),St((P(),_e(kt(h(T)),null,null,512)),[[Kt,!(k<=d.value)]])],64)),M(k)?(P(),H(st,{key:1},[(P(),_e(kt(h(T)),{class:L([h(l).em("decimal","box")])},null,8,["class"])),X(h(tt),{style:nt(h(S)),class:L([h(l).e("icon"),h(l).e("decimal")])},{default:ne(()=>[(P(),_e(kt(h(C))))]),_:1},8,["style","class"])],64)):ge("v-if",!0)]),_:2},1032,["class"])],42,nne))),128)),D.showText||D.showScore?(P(),H("span",{key:0,class:L(h(l).e("text")),style:nt({color:D.textColor})},Ge(h(v)),7)):ge("v-if",!0)],46,tne)}}});var rne=$e(sne,[["__file","rate.vue"]]);const one=At(rne),Qc={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},$C={[Qc.success]:hV,[Qc.warning]:tv,[Qc.error]:F_,[Qc.info]:B_},ane=ze({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),lne=j({name:"ElResult"}),cne=j({...lne,props:ane,setup(t){const e=t,n=Oe("result"),i=A(()=>{const s=e.icon,r=s&&Qc[s]?Qc[s]:"icon-info",o=$C[r]||$C["icon-info"];return{class:r,component:o}});return(s,r)=>(P(),H("div",{class:L(h(n).b())},[Y("div",{class:L(h(n).e("icon"))},[Me(s.$slots,"icon",{},()=>[h(i).component?(P(),_e(kt(h(i).component),{key:0,class:L(h(i).class)},null,8,["class"])):ge("v-if",!0)])],2),s.title||s.$slots.title?(P(),H("div",{key:0,class:L(h(n).e("title"))},[Me(s.$slots,"title",{},()=>[Y("p",null,Ge(s.title),1)])],2)):ge("v-if",!0),s.subTitle||s.$slots["sub-title"]?(P(),H("div",{key:1,class:L(h(n).e("subtitle"))},[Me(s.$slots,"sub-title",{},()=>[Y("p",null,Ge(s.subTitle),1)])],2)):ge("v-if",!0),s.$slots.extra?(P(),H("div",{key:2,class:L(h(n).e("extra"))},[Me(s.$slots,"extra")],2)):ge("v-if",!0)],2))}});var une=$e(cne,[["__file","result.vue"]]);const dne=At(une);var HC=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function fne(t,e){return!!(t===e||HC(t)&&HC(e))}function hne(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!fne(t[n],e[n]))return!1;return!0}function pne(t,e){e===void 0&&(e=hne);var n=null;function i(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var o=t.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return i.clear=function(){n=null},i}const RI=()=>{const e=Tt().proxy.$props;return A(()=>{const n=(i,s,r)=>({});return e.perfMode?jg(n):pne(n)})},k1=50,hg="itemRendered",pg="scroll",eu="forward",mg="backward",Hs="auto",pv="smart",Ff="start",Nr="center",Bf="end",Nu="horizontal",Pw="vertical",mne="ltr",hu="rtl",Uf="negative",Iw="positive-ascending",kw="positive-descending",gne={[Nu]:"left",[Pw]:"top"},vne=20,yne={[Nu]:"deltaX",[Pw]:"deltaY"},bne=({atEndEdge:t,atStartEdge:e,layout:n},i)=>{let s,r=0;const o=l=>l<0&&e.value||l>0&&t.value;return{hasReachedEdge:o,onWheel:l=>{Xl(s);const c=l[yne[n.value]];o(r)&&o(r+c)||(r+=c,JA()||l.preventDefault(),s=xa(()=>{i(r),r=0}))}}},O1=br({type:ce([Number,Function]),required:!0}),L1=br({type:Number}),N1=br({type:Number,default:2}),_ne=br({type:String,values:["ltr","rtl"],default:"ltr"}),D1=br({type:Number,default:0}),gg=br({type:Number,required:!0}),PI=br({type:String,values:["horizontal","vertical"],default:Pw}),II=ze({className:{type:String,default:""},containerElement:{type:ce([String,Object]),default:"div"},data:{type:ce(Array),default:()=>Cn([])},direction:_ne,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:ce([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),kI=ze({cache:N1,estimatedItemSize:L1,layout:PI,initScrollOffset:D1,total:gg,itemSize:O1,...II}),F1={type:Number,default:6},OI={type:Number,default:0},LI={type:Number,default:2},Ul=ze({columnCache:N1,columnWidth:O1,estimatedColumnWidth:L1,estimatedRowHeight:L1,initScrollLeft:D1,initScrollTop:D1,itemKey:{type:ce(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:N1,rowHeight:O1,totalColumn:gg,totalRow:gg,hScrollbarSize:F1,vScrollbarSize:F1,scrollbarStartGap:OI,scrollbarEndGap:LI,role:String,...II}),NI=ze({alwaysOn:Boolean,class:String,layout:PI,total:gg,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:F1,startGap:OI,endGap:LI,visible:Boolean}),Cl=(t,e)=>t<e?eu:mg,zf=t=>t===mne||t===hu||t===Nu,WC=t=>t===hu;let _c=null;function vg(t=!1){if(_c===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const i=document.createElement("div"),s=i.style;return s.width="100px",s.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?_c=kw:(e.scrollLeft=1,e.scrollLeft===0?_c=Uf:_c=Iw),document.body.removeChild(e),_c}return _c}function wne({move:t,size:e,bar:n},i){const s={},r=`translate${n.axis}(${t}px)`;return s[n.size]=e,s.transform=r,s.msTransform=r,s.webkitTransform=r,i==="horizontal"?s.height="100%":s.width="100%",s}const B1=j({name:"ElVirtualScrollBar",props:NI,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=A(()=>t.startGap+t.endGap),i=Oe("virtual-scrollbar"),s=Oe("scrollbar"),r=z(),o=z();let a=null,l=null;const c=Xt({isDragging:!1,traveled:0}),u=A(()=>L3[t.layout]),d=A(()=>t.clientSize-h(n)),f=A(()=>({position:"absolute",width:`${Nu===t.layout?d.value:t.scrollbarSize}px`,height:`${Nu===t.layout?t.scrollbarSize:d.value}px`,[gne[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),p=A(()=>{const x=t.ratio,C=t.clientSize;if(x>=100)return Number.POSITIVE_INFINITY;if(x>=50)return x*C/100;const T=C/3;return Math.floor(Math.min(Math.max(x*C,vne),T))}),g=A(()=>{if(!Number.isFinite(p.value))return{display:"none"};const x=`${p.value}px`;return wne({bar:u.value,size:x,move:c.traveled},t.layout)}),m=A(()=>Math.floor(t.clientSize-p.value-h(n))),y=()=>{window.addEventListener("mousemove",w),window.addEventListener("mouseup",b);const x=h(o);x&&(l=document.onselectstart,document.onselectstart=()=>!1,x.addEventListener("touchmove",w),x.addEventListener("touchend",b))},v=()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",b),document.onselectstart=l,l=null;const x=h(o);x&&(x.removeEventListener("touchmove",w),x.removeEventListener("touchend",b))},_=x=>{x.stopImmediatePropagation(),!(x.ctrlKey||[1,2].includes(x.button))&&(c.isDragging=!0,c[u.value.axis]=x.currentTarget[u.value.offset]-(x[u.value.client]-x.currentTarget.getBoundingClientRect()[u.value.direction]),e("start-move"),y())},b=()=>{c.isDragging=!1,c[u.value.axis]=0,e("stop-move"),v()},w=x=>{const{isDragging:C}=c;if(!C||!o.value||!r.value)return;const T=c[u.value.axis];if(!T)return;Xl(a);const E=(r.value.getBoundingClientRect()[u.value.direction]-x[u.value.client])*-1,M=o.value[u.value.offset]-T,R=E-M;a=xa(()=>{c.traveled=Math.max(t.startGap,Math.min(R,m.value)),e("scroll",R,m.value)})},S=x=>{const C=Math.abs(x.target.getBoundingClientRect()[u.value.direction]-x[u.value.client]),T=o.value[u.value.offset]/2,E=C-T;c.traveled=Math.max(0,Math.min(E,m.value)),e("scroll",E,m.value)};return ke(()=>t.scrollFrom,x=>{c.isDragging||(c.traveled=Math.ceil(x*m.value))}),fn(()=>{v()}),()=>at("div",{role:"presentation",ref:r,class:[i.b(),t.class,(t.alwaysOn||c.isDragging)&&"always-on"],style:f.value,onMousedown:gt(S,["stop","prevent"]),onTouchstartPrevent:_},at("div",{ref:o,class:s.e("thumb"),style:g.value,onMousedown:_},[]))}}),DI=({name:t,getOffset:e,getItemSize:n,getItemOffset:i,getEstimatedTotalSize:s,getStartIndexForOffset:r,getStopIndexForStartIndex:o,initCache:a,clearCache:l,validateProps:c})=>j({name:t??"ElVirtualList",props:kI,emits:[hg,pg],setup(u,{emit:d,expose:f}){c(u);const p=Tt(),g=Oe("vl"),m=z(a(u,p)),y=RI(),v=z(),_=z(),b=z(),w=z({isScrolling:!1,scrollDir:"forward",scrollOffset:ft(u.initScrollOffset)?u.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:u.scrollbarAlwaysOn}),S=A(()=>{const{total:re,cache:ee}=u,{isScrolling:ye,scrollDir:te,scrollOffset:oe}=h(w);if(re===0)return[0,0,0,0];const de=r(u,oe,h(m)),Ne=o(u,de,oe,h(m)),Q=!ye||te===mg?Math.max(1,ee):1,Te=!ye||te===eu?Math.max(1,ee):1;return[Math.max(0,de-Q),Math.max(0,Math.min(re-1,Ne+Te)),de,Ne]}),x=A(()=>s(u,h(m))),C=A(()=>zf(u.layout)),T=A(()=>[{position:"relative",[`overflow-${C.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:u.direction,height:ft(u.height)?`${u.height}px`:u.height,width:ft(u.width)?`${u.width}px`:u.width},u.style]),E=A(()=>{const re=h(x),ee=h(C);return{height:ee?"100%":`${re}px`,pointerEvents:h(w).isScrolling?"none":void 0,width:ee?`${re}px`:"100%"}}),M=A(()=>C.value?u.width:u.height),{onWheel:R}=bne({atStartEdge:A(()=>w.value.scrollOffset<=0),atEndEdge:A(()=>w.value.scrollOffset>=x.value),layout:A(()=>u.layout)},re=>{var ee,ye;(ye=(ee=b.value).onMouseUp)==null||ye.call(ee),I(Math.min(w.value.scrollOffset+re,x.value-M.value))}),O=()=>{const{total:re}=u;if(re>0){const[oe,de,Ne,Q]=h(S);d(hg,oe,de,Ne,Q)}const{scrollDir:ee,scrollOffset:ye,updateRequested:te}=h(w);d(pg,ee,ye,te)},F=re=>{const{clientHeight:ee,scrollHeight:ye,scrollTop:te}=re.currentTarget,oe=h(w);if(oe.scrollOffset===te)return;const de=Math.max(0,Math.min(te,ye-ee));w.value={...oe,isScrolling:!0,scrollDir:Cl(oe.scrollOffset,de),scrollOffset:de,updateRequested:!1},rt(B)},V=re=>{const{clientWidth:ee,scrollLeft:ye,scrollWidth:te}=re.currentTarget,oe=h(w);if(oe.scrollOffset===ye)return;const{direction:de}=u;let Ne=ye;if(de===hu)switch(vg()){case Uf:{Ne=-ye;break}case kw:{Ne=te-ee-ye;break}}Ne=Math.max(0,Math.min(Ne,te-ee)),w.value={...oe,isScrolling:!0,scrollDir:Cl(oe.scrollOffset,Ne),scrollOffset:Ne,updateRequested:!1},rt(B)},U=re=>{h(C)?V(re):F(re),O()},D=(re,ee)=>{const ye=(x.value-M.value)/ee*re;I(Math.min(x.value-M.value,ye))},I=re=>{re=Math.max(re,0),re!==h(w).scrollOffset&&(w.value={...h(w),scrollOffset:re,scrollDir:Cl(h(w).scrollOffset,re),updateRequested:!0},rt(B))},N=(re,ee=Hs)=>{const{scrollOffset:ye}=h(w);re=Math.max(0,Math.min(re,u.total-1)),I(e(u,re,ee,ye,h(m)))},k=re=>{const{direction:ee,itemSize:ye,layout:te}=u,oe=y.value(l&&ye,l&&te,l&&ee);let de;if(Ut(oe,String(re)))de=oe[re];else{const Ne=i(u,re,h(m)),Q=n(u,re,h(m)),Te=h(C),me=ee===hu,K=Te?Ne:0;oe[re]=de={position:"absolute",left:me?void 0:`${K}px`,right:me?`${K}px`:void 0,top:Te?0:`${Ne}px`,height:Te?"100%":`${Q}px`,width:Te?`${Q}px`:"100%"}}return de},B=()=>{w.value.isScrolling=!1,rt(()=>{y.value(-1,null,null)})},G=()=>{const re=v.value;re&&(re.scrollTop=0)};Mt(()=>{if(!Ft)return;const{initScrollOffset:re}=u,ee=h(v);ft(re)&&ee&&(h(C)?ee.scrollLeft=re:ee.scrollTop=re),O()}),Co(()=>{const{direction:re,layout:ee}=u,{scrollOffset:ye,updateRequested:te}=h(w),oe=h(v);if(te&&oe)if(ee===Nu)if(re===hu)switch(vg()){case Uf:{oe.scrollLeft=-ye;break}case Iw:{oe.scrollLeft=ye;break}default:{const{clientWidth:de,scrollWidth:Ne}=oe;oe.scrollLeft=Ne-de-ye;break}}else oe.scrollLeft=ye;else oe.scrollTop=ye});const J={ns:g,clientSize:M,estimatedTotalSize:x,windowStyle:T,windowRef:v,innerRef:_,innerStyle:E,itemsToRender:S,scrollbarRef:b,states:w,getItemStyle:k,onScroll:U,onScrollbarScroll:D,onWheel:R,scrollTo:I,scrollToItem:N,resetScrollTop:G};return f({windowRef:v,innerRef:_,getItemStyleCache:y,scrollTo:I,scrollToItem:N,resetScrollTop:G,states:w}),J},render(u){var d;const{$slots:f,className:p,clientSize:g,containerElement:m,data:y,getItemStyle:v,innerElement:_,itemsToRender:b,innerStyle:w,layout:S,total:x,onScroll:C,onScrollbarScroll:T,onWheel:E,states:M,useIsScrolling:R,windowStyle:O,ns:F}=u,[V,U]=b,D=kt(m),I=kt(_),N=[];if(x>0)for(let J=V;J<=U;J++)N.push((d=f.default)==null?void 0:d.call(f,{data:y,key:J,index:J,isScrolling:R?M.isScrolling:void 0,style:v(J)}));const k=[at(I,{style:w,ref:"innerRef"},yt(I)?N:{default:()=>N})],B=at(B1,{ref:"scrollbarRef",clientSize:g,layout:S,onScroll:T,ratio:g*100/this.estimatedTotalSize,scrollFrom:M.scrollOffset/(this.estimatedTotalSize-g),total:x}),G=at(D,{class:[F.e("window"),p],style:O,onScroll:C,onWheel:E,ref:"windowRef",key:0},yt(D)?[k]:{default:()=>[k]});return at("div",{key:0,class:[F.e("wrapper"),M.scrollbarAlwaysOn?"always-on":""]},[G,B])}}),FI=DI({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:i,width:s},r,o,a)=>{const l=zf(i)?s:t,c=Math.max(0,e*n-l),u=Math.min(c,r*n),d=Math.max(0,(r+1)*n-l);switch(o===pv&&(a>=d-l&&a<=u+l?o=Hs:o=Nr),o){case Ff:return u;case Bf:return d;case Nr:{const f=Math.round(d+(u-d)/2);return f<Math.ceil(l/2)?0:f>c+Math.floor(l/2)?c:f}case Hs:default:return a>=d&&a<=u?a:a<d?d:u}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:i,width:s},r,o)=>{const a=r*n,l=zf(i)?s:t,c=Math.ceil((l+o-a)/n);return Math.max(0,Math.min(e-1,r+c-1))},initCache(){},clearCache:!0,validateProps(){}}),tu=(t,e,n)=>{const{itemSize:i}=t,{items:s,lastVisitedIndex:r}=n;if(e>r){let o=0;if(r>=0){const a=s[r];o=a.offset+a.size}for(let a=r+1;a<=e;a++){const l=i(a);s[a]={offset:o,size:l},o+=l}n.lastVisitedIndex=e}return s[e]},xne=(t,e,n)=>{const{items:i,lastVisitedIndex:s}=e;return(s>0?i[s].offset:0)>=n?BI(t,e,0,s,n):Sne(t,e,Math.max(0,s),n)},BI=(t,e,n,i,s)=>{for(;n<=i;){const r=n+Math.floor((i-n)/2),o=tu(t,r,e).offset;if(o===s)return r;o<s?n=r+1:o>s&&(i=r-1)}return Math.max(0,n-1)},Sne=(t,e,n,i)=>{const{total:s}=t;let r=1;for(;n<s&&tu(t,n,e).offset<i;)n+=r,r*=2;return BI(t,e,Math.floor(n/2),Math.min(n,s-1),i)},GC=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:i})=>{let s=0;if(i>=t&&(i=t-1),i>=0){const a=e[i];s=a.offset+a.size}const o=(t-i-1)*n;return s+o},Mne=DI({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>tu(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:GC,getOffset:(t,e,n,i,s)=>{const{height:r,layout:o,width:a}=t,l=zf(o)?a:r,c=tu(t,e,s),u=GC(t,s),d=Math.max(0,Math.min(u-l,c.offset)),f=Math.max(0,c.offset-l+c.size);switch(n===pv&&(i>=f-l&&i<=d+l?n=Hs:n=Nr),n){case Ff:return d;case Bf:return f;case Nr:return Math.round(f+(d-f)/2);case Hs:default:return i>=f&&i<=d?i:i<f?f:d}},getStartIndexForOffset:(t,e,n)=>xne(t,n,e),getStopIndexForStartIndex:(t,e,n,i)=>{const{height:s,total:r,layout:o,width:a}=t,l=zf(o)?a:s,c=tu(t,e,i),u=n+l;let d=c.offset+c.size,f=e;for(;f<r-1&&d<u;)f++,d+=tu(t,f,i).size;return f},initCache({estimatedItemSize:t=k1},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(i,s=!0)=>{var r,o;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,i-1),(r=e.exposed)==null||r.getItemStyleCache(-1),s&&((o=e.proxy)==null||o.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),Cne=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:i},s)=>{let r=null,o=0,a=0;const l=(u,d)=>{const f=u<=0&&e.value||u>=0&&t.value,p=d<=0&&i.value||d>=0&&n.value;return f&&p};return{hasReachedEdge:l,onWheel:u=>{Xl(r);let d=u.deltaX,f=u.deltaY;Math.abs(d)>Math.abs(f)?f=0:d=0,u.shiftKey&&f!==0&&(d=f,f=0),!(l(o,a)&&l(o+d,a+f))&&(o+=d,a+=f,u.preventDefault(),r=xa(()=>{s(o,a),o=0,a=0}))}}},UI=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:i,getColumnStopIndexForStartIndex:s,getEstimatedTotalHeight:r,getEstimatedTotalWidth:o,getColumnOffset:a,getRowOffset:l,getRowPosition:c,getRowStartIndexForOffset:u,getRowStopIndexForStartIndex:d,initCache:f,injectToInstance:p,validateProps:g})=>j({name:t??"ElVirtualList",props:Ul,emits:[hg,pg],setup(m,{emit:y,expose:v,slots:_}){const b=Oe("vl");g(m);const w=Tt(),S=z(f(m,w));p==null||p(w,S);const x=z(),C=z(),T=z(),E=z(null),M=z({isScrolling:!1,scrollLeft:ft(m.initScrollLeft)?m.initScrollLeft:0,scrollTop:ft(m.initScrollTop)?m.initScrollTop:0,updateRequested:!1,xAxisScrollDir:eu,yAxisScrollDir:eu}),R=RI(),O=A(()=>Number.parseInt(`${m.height}`,10)),F=A(()=>Number.parseInt(`${m.width}`,10)),V=A(()=>{const{totalColumn:he,totalRow:xe,columnCache:W}=m,{isScrolling:$,xAxisScrollDir:ae,scrollLeft:se}=h(M);if(he===0||xe===0)return[0,0,0,0];const Ee=i(m,se,h(S)),Re=s(m,Ee,se,h(S)),be=!$||ae===mg?Math.max(1,W):1,Pe=!$||ae===eu?Math.max(1,W):1;return[Math.max(0,Ee-be),Math.max(0,Math.min(he-1,Re+Pe)),Ee,Re]}),U=A(()=>{const{totalColumn:he,totalRow:xe,rowCache:W}=m,{isScrolling:$,yAxisScrollDir:ae,scrollTop:se}=h(M);if(he===0||xe===0)return[0,0,0,0];const Ee=u(m,se,h(S)),Re=d(m,Ee,se,h(S)),be=!$||ae===mg?Math.max(1,W):1,Pe=!$||ae===eu?Math.max(1,W):1;return[Math.max(0,Ee-be),Math.max(0,Math.min(xe-1,Re+Pe)),Ee,Re]}),D=A(()=>r(m,h(S))),I=A(()=>o(m,h(S))),N=A(()=>{var he;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:m.direction,height:ft(m.height)?`${m.height}px`:m.height,width:ft(m.width)?`${m.width}px`:m.width},(he=m.style)!=null?he:{}]}),k=A(()=>{const he=`${h(I)}px`;return{height:`${h(D)}px`,pointerEvents:h(M).isScrolling?"none":void 0,width:he}}),B=()=>{const{totalColumn:he,totalRow:xe}=m;if(he>0&&xe>0){const[Re,be,Pe,Fe]=h(V),[it,Ye,He,Se]=h(U);y(hg,{columnCacheStart:Re,columnCacheEnd:be,rowCacheStart:it,rowCacheEnd:Ye,columnVisibleStart:Pe,columnVisibleEnd:Fe,rowVisibleStart:He,rowVisibleEnd:Se})}const{scrollLeft:W,scrollTop:$,updateRequested:ae,xAxisScrollDir:se,yAxisScrollDir:Ee}=h(M);y(pg,{xAxisScrollDir:se,scrollLeft:W,yAxisScrollDir:Ee,scrollTop:$,updateRequested:ae})},G=he=>{const{clientHeight:xe,clientWidth:W,scrollHeight:$,scrollLeft:ae,scrollTop:se,scrollWidth:Ee}=he.currentTarget,Re=h(M);if(Re.scrollTop===se&&Re.scrollLeft===ae)return;let be=ae;if(WC(m.direction))switch(vg()){case Uf:be=-ae;break;case kw:be=Ee-W-ae;break}M.value={...Re,isScrolling:!0,scrollLeft:be,scrollTop:Math.max(0,Math.min(se,$-xe)),updateRequested:!0,xAxisScrollDir:Cl(Re.scrollLeft,be),yAxisScrollDir:Cl(Re.scrollTop,se)},rt(()=>de()),Ne(),B()},J=(he,xe)=>{const W=h(O),$=(D.value-W)/xe*he;ye({scrollTop:Math.min(D.value-W,$)})},re=(he,xe)=>{const W=h(F),$=(I.value-W)/xe*he;ye({scrollLeft:Math.min(I.value-W,$)})},{onWheel:ee}=Cne({atXStartEdge:A(()=>M.value.scrollLeft<=0),atXEndEdge:A(()=>M.value.scrollLeft>=I.value-h(F)),atYStartEdge:A(()=>M.value.scrollTop<=0),atYEndEdge:A(()=>M.value.scrollTop>=D.value-h(O))},(he,xe)=>{var W,$,ae,se;($=(W=C.value)==null?void 0:W.onMouseUp)==null||$.call(W),(se=(ae=T.value)==null?void 0:ae.onMouseUp)==null||se.call(ae);const Ee=h(F),Re=h(O);ye({scrollLeft:Math.min(M.value.scrollLeft+he,I.value-Ee),scrollTop:Math.min(M.value.scrollTop+xe,D.value-Re)})}),ye=({scrollLeft:he=M.value.scrollLeft,scrollTop:xe=M.value.scrollTop})=>{he=Math.max(he,0),xe=Math.max(xe,0);const W=h(M);xe===W.scrollTop&&he===W.scrollLeft||(M.value={...W,xAxisScrollDir:Cl(W.scrollLeft,he),yAxisScrollDir:Cl(W.scrollTop,xe),scrollLeft:he,scrollTop:xe,updateRequested:!0},rt(()=>de()),Ne(),B())},te=(he=0,xe=0,W=Hs)=>{const $=h(M);xe=Math.max(0,Math.min(xe,m.totalColumn-1)),he=Math.max(0,Math.min(he,m.totalRow-1));const ae=zR(b.namespace.value),se=h(S),Ee=r(m,se),Re=o(m,se);ye({scrollLeft:a(m,xe,W,$.scrollLeft,se,Re>m.width?ae:0),scrollTop:l(m,he,W,$.scrollTop,se,Ee>m.height?ae:0)})},oe=(he,xe)=>{const{columnWidth:W,direction:$,rowHeight:ae}=m,se=R.value(e&&W,e&&ae,e&&$),Ee=`${he},${xe}`;if(Ut(se,Ee))return se[Ee];{const[,Re]=n(m,xe,h(S)),be=h(S),Pe=WC($),[Fe,it]=c(m,he,be),[Ye]=n(m,xe,be);return se[Ee]={position:"absolute",left:Pe?void 0:`${Re}px`,right:Pe?`${Re}px`:void 0,top:`${it}px`,height:`${Fe}px`,width:`${Ye}px`},se[Ee]}},de=()=>{M.value.isScrolling=!1,rt(()=>{R.value(-1,null,null)})};Mt(()=>{if(!Ft)return;const{initScrollLeft:he,initScrollTop:xe}=m,W=h(x);W&&(ft(he)&&(W.scrollLeft=he),ft(xe)&&(W.scrollTop=xe)),B()});const Ne=()=>{const{direction:he}=m,{scrollLeft:xe,scrollTop:W,updateRequested:$}=h(M),ae=h(x);if($&&ae){if(he===hu)switch(vg()){case Uf:{ae.scrollLeft=-xe;break}case Iw:{ae.scrollLeft=xe;break}default:{const{clientWidth:se,scrollWidth:Ee}=ae;ae.scrollLeft=Ee-se-xe;break}}else ae.scrollLeft=Math.max(0,xe);ae.scrollTop=Math.max(0,W)}},{resetAfterColumnIndex:Q,resetAfterRowIndex:Te,resetAfter:me}=w.proxy;v({windowRef:x,innerRef:E,getItemStyleCache:R,scrollTo:ye,scrollToItem:te,states:M,resetAfterColumnIndex:Q,resetAfterRowIndex:Te,resetAfter:me});const K=()=>{const{scrollbarAlwaysOn:he,scrollbarStartGap:xe,scrollbarEndGap:W,totalColumn:$,totalRow:ae}=m,se=h(F),Ee=h(O),Re=h(I),be=h(D),{scrollLeft:Pe,scrollTop:Fe}=h(M),it=at(B1,{ref:C,alwaysOn:he,startGap:xe,endGap:W,class:b.e("horizontal"),clientSize:se,layout:"horizontal",onScroll:re,ratio:se*100/Re,scrollFrom:Pe/(Re-se),total:ae,visible:!0}),Ye=at(B1,{ref:T,alwaysOn:he,startGap:xe,endGap:W,class:b.e("vertical"),clientSize:Ee,layout:"vertical",onScroll:J,ratio:Ee*100/be,scrollFrom:Fe/(be-Ee),total:$,visible:!0});return{horizontalScrollbar:it,verticalScrollbar:Ye}},q=()=>{var he;const[xe,W]=h(V),[$,ae]=h(U),{data:se,totalColumn:Ee,totalRow:Re,useIsScrolling:be,itemKey:Pe}=m,Fe=[];if(Re>0&&Ee>0)for(let it=$;it<=ae;it++)for(let Ye=xe;Ye<=W;Ye++)Fe.push((he=_.default)==null?void 0:he.call(_,{columnIndex:Ye,data:se,key:Pe({columnIndex:Ye,data:se,rowIndex:it}),isScrolling:be?h(M).isScrolling:void 0,style:oe(it,Ye),rowIndex:it}));return Fe},ue=()=>{const he=kt(m.innerElement),xe=q();return[at(he,{style:h(k),ref:E},yt(he)?xe:{default:()=>xe})]};return()=>{const he=kt(m.containerElement),{horizontalScrollbar:xe,verticalScrollbar:W}=K(),$=ue();return at("div",{key:0,class:b.e("wrapper"),role:m.role},[at(he,{class:m.className,style:h(N),onScroll:G,onWheel:ee,ref:x},yt(he)?$:{default:()=>$}),xe,W])}}}),Ene=UI({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},i,s,r,o,a)=>{n=Number(n);const l=Math.max(0,t*e-n),c=Math.min(l,i*e),u=Math.max(0,i*e-n+a+e);switch(s==="smart"&&(r>=u-n&&r<=c+n?s=Hs:s=Nr),s){case Ff:return c;case Bf:return u;case Nr:{const d=Math.round(u+(c-u)/2);return d<Math.ceil(n/2)?0:d>l+Math.floor(n/2)?l:d}case Hs:default:return r>=u&&r<=c?r:u>c||r<u?u:c}},getRowOffset:({rowHeight:t,height:e,totalRow:n},i,s,r,o,a)=>{e=Number(e);const l=Math.max(0,n*t-e),c=Math.min(l,i*t),u=Math.max(0,i*t-e+a+t);switch(s===pv&&(r>=u-e&&r<=c+e?s=Hs:s=Nr),s){case Ff:return c;case Bf:return u;case Nr:{const d=Math.round(u+(c-u)/2);return d<Math.ceil(e/2)?0:d>l+Math.floor(e/2)?l:d}case Hs:default:return r>=u&&r<=c?r:u>c||r<u?u:c}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},i,s)=>{const r=i*t,o=Math.ceil((n+s-r)/t);return Math.max(0,Math.min(e-1,i+o-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},i,s)=>{const r=i*t,o=Math.ceil((n+s-r)/t);return Math.max(0,Math.min(e-1,i+o-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}}),{max:yg,min:zI,floor:VI}=Math,Tne={column:"columnWidth",row:"rowHeight"},U1={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},io=(t,e,n,i)=>{const[s,r,o]=[n[i],t[Tne[i]],n[U1[i]]];if(e>o){let a=0;if(o>=0){const l=s[o];a=l.offset+l.size}for(let l=o+1;l<=e;l++){const c=r(l);s[l]={offset:a,size:c},a+=c}n[U1[i]]=e}return s[e]},$I=(t,e,n,i,s,r)=>{for(;n<=i;){const o=n+VI((i-n)/2),a=io(t,o,e,r).offset;if(a===s)return o;a<s?n=o+1:i=o-1}return yg(0,n-1)},Ane=(t,e,n,i,s)=>{const r=s==="column"?t.totalColumn:t.totalRow;let o=1;for(;n<r&&io(t,n,e,s).offset<i;)n+=o,o*=2;return $I(t,e,VI(n/2),zI(n,r-1),i,s)},KC=(t,e,n,i)=>{const[s,r]=[e[i],e[U1[i]]];return(r>0?s[r].offset:0)>=n?$I(t,e,0,r,n,i):Ane(t,e,yg(0,r),n,i)},HI=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:i})=>{let s=0;if(n>=t&&(n=t-1),n>=0){const a=i[n];s=a.offset+a.size}const o=(t-n-1)*e;return s+o},WI=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:i})=>{let s=0;if(i>t&&(i=t-1),i>=0){const a=e[i];s=a.offset+a.size}const o=(t-i-1)*n;return s+o},Rne={column:WI,row:HI},YC=(t,e,n,i,s,r,o)=>{const[a,l]=[r==="row"?t.height:t.width,Rne[r]],c=io(t,e,s,r),u=l(t,s),d=yg(0,zI(u-a,c.offset)),f=yg(0,c.offset-a+o+c.size);switch(n===pv&&(i>=f-a&&i<=d+a?n=Hs:n=Nr),n){case Ff:return d;case Bf:return f;case Nr:return Math.round(f+(d-f)/2);case Hs:default:return i>=f&&i<=d?i:f>d||i<f?f:d}},Pne=UI({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const i=io(t,e,n,"column");return[i.size,i.offset]},getRowPosition:(t,e,n)=>{const i=io(t,e,n,"row");return[i.size,i.offset]},getColumnOffset:(t,e,n,i,s,r)=>YC(t,e,n,i,s,"column",r),getRowOffset:(t,e,n,i,s,r)=>YC(t,e,n,i,s,"row",r),getColumnStartIndexForOffset:(t,e,n)=>KC(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,i)=>{const s=io(t,e,i,"column"),r=n+t.width;let o=s.offset+s.size,a=e;for(;a<t.totalColumn-1&&o<r;)a++,o+=io(t,e,i,"column").size;return a},getEstimatedTotalHeight:HI,getEstimatedTotalWidth:WI,getRowStartIndexForOffset:(t,e,n)=>KC(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,i)=>{const{totalRow:s,height:r}=t,o=io(t,e,i,"row"),a=n+r;let l=o.size+o.offset,c=e;for(;c<s-1&&l<a;)c++,l+=io(t,c,i,"row").size;return c},injectToInstance:(t,e)=>{const n=({columnIndex:r,rowIndex:o},a)=>{var l,c;a=Kn(a)?!0:a,ft(r)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,r-1)),ft(o)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,o-1)),(l=t.exposed)==null||l.getItemStyleCache.value(-1,null,null),a&&((c=t.proxy)==null||c.$forceUpdate())},i=(r,o)=>{n({columnIndex:r},o)},s=(r,o)=>{n({rowIndex:r},o)};Object.assign(t.proxy,{resetAfterColumnIndex:i,resetAfterRowIndex:s,resetAfter:n})},initCache:({estimatedColumnWidth:t=k1,estimatedRowHeight:e=k1})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),Ine=j({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:Oe("select")}}});function kne(t,e,n,i,s,r){return t.item.isTitle?(P(),H("div",{key:0,class:L(t.ns.be("group","title")),style:nt([t.style,{lineHeight:`${t.height}px`}])},Ge(t.item.label),7)):(P(),H("div",{key:1,class:L(t.ns.be("group","split")),style:nt(t.style)},[Y("span",{class:L(t.ns.be("group","split-dash")),style:nt({top:`${t.height/2}px`})},null,6)],6))}var One=$e(Ine,[["render",kne],["__file","group-item.vue"]]);function Lne(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const GI={label:"label",value:"value",disabled:"disabled",options:"options"};function mv(t){const e=A(()=>({...GI,...t.props}));return{aliasProps:e,getLabel:o=>Fn(o,e.value.label),getValue:o=>Fn(o,e.value.value),getDisabled:o=>Fn(o,e.value.disabled),getOptions:o=>Fn(o,e.value.options)}}const Nne=ze({allowCreate:Boolean,autocomplete:{type:ce(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:sn,default:Da},effect:{type:ce(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:ce([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:ce(Array),required:!0},placeholder:{type:String},teleported:hi.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:ce(Object),default:()=>({})},remote:Boolean,size:fi,props:{type:ce(Object),default:()=>GI},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:ce(String),values:cc,default:"bottom-start"},fallbackPlacements:{type:ce(Array),default:["bottom-start","top-start","right","left"]},tagType:{...dv.type,default:"info"},...td,...Ai(["ariaLabel"])}),Dne=ze({data:Array,disabled:Boolean,hovering:Boolean,item:{type:ce(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),Ow=Symbol("ElSelectV2Injection"),Fne=j({props:Dne,emits:["select","hover"],setup(t,{emit:e}){const n=et(Ow),i=Oe("select"),{hoverItem:s,selectOptionClick:r}=Lne(t,{emit:e}),{getLabel:o}=mv(n.props);return{ns:i,hoverItem:s,selectOptionClick:r,getLabel:o}}}),Bne=["aria-selected"];function Une(t,e,n,i,s,r){return P(),H("li",{"aria-selected":t.selected,style:nt(t.style),class:L([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMouseenter:e[0]||(e[0]=(...o)=>t.hoverItem&&t.hoverItem(...o)),onClick:e[1]||(e[1]=gt((...o)=>t.selectOptionClick&&t.selectOptionClick(...o),["stop"]))},[Me(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[Y("span",null,Ge(t.getLabel(t.item)),1)])],46,Bne)}var zne=$e(Fne,[["render",Une],["__file","option-item.vue"]]),Vne=j({name:"ElSelectDropdown",props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(t,{slots:e,expose:n}){const i=et(Ow),s=Oe("select"),{getLabel:r,getValue:o,getDisabled:a}=mv(i.props),l=z([]),c=z(),u=A(()=>t.data.length);ke(()=>u.value,()=>{var R,O;(O=(R=i.tooltipRef.value).updatePopper)==null||O.call(R)});const d=A(()=>Kn(i.props.estimatedOptionHeight)),f=A(()=>d.value?{itemSize:i.props.itemHeight}:{estimatedSize:i.props.estimatedOptionHeight,itemSize:R=>l.value[R]}),p=(R=[],O)=>{const{props:{valueKey:F}}=i;return Pt(O)?R&&R.some(V=>tn(Fn(V,F))===Fn(O,F)):R.includes(O)},g=(R,O)=>{if(Pt(O)){const{valueKey:F}=i.props;return Fn(R,F)===Fn(O,F)}else return R===O},m=(R,O)=>i.props.multiple?p(R,o(O)):g(R,o(O)),y=(R,O)=>{const{disabled:F,multiple:V,multipleLimit:U}=i.props;return F||!O&&(V?U>0&&R.length>=U:!1)},v=R=>t.hoveringIndex===R;n({listRef:c,isSized:d,isItemDisabled:y,isItemHovering:v,isItemSelected:m,scrollToItem:R=>{const O=c.value;O&&O.scrollToItem(R)},resetScrollTop:()=>{const R=c.value;R&&R.resetScrollTop()}});const w=R=>{const{index:O,data:F,style:V}=R,U=h(d),{itemSize:D,estimatedSize:I}=h(f),{modelValue:N}=i.props,{onSelect:k,onHover:B}=i,G=F[O];if(G.type==="Group")return X(One,{item:G,style:V,height:U?D:I},null);const J=m(N,G),re=y(N,J),ee=v(O);return X(zne,Lt(R,{selected:J,disabled:a(G)||re,created:!!G.created,hovering:ee,item:G,onSelect:k,onHover:B}),{default:ye=>{var te;return((te=e.default)==null?void 0:te.call(e,ye))||X("span",null,[r(G)])}})},{onKeyboardNavigate:S,onKeyboardSelect:x}=i,C=()=>{S("forward")},T=()=>{S("backward")},E=()=>{i.expanded=!1},M=R=>{const{code:O}=R,{tab:F,esc:V,down:U,up:D,enter:I}=lt;switch(O!==F&&(R.preventDefault(),R.stopPropagation()),O){case F:case V:{E();break}case U:{C();break}case D:{T();break}case I:{x();break}}};return()=>{var R,O,F,V;const{data:U,width:D}=t,{height:I,multiple:N,scrollbarAlwaysOn:k}=i.props,B=h(d)?FI:Mne;return X("div",{class:[s.b("dropdown"),s.is("multiple",N)],style:{width:`${D}px`}},[(R=e.header)==null?void 0:R.call(e),((O=e.loading)==null?void 0:O.call(e))||((F=e.empty)==null?void 0:F.call(e))||X(B,Lt({ref:c},h(f),{className:s.be("dropdown","list"),scrollbarAlwaysOn:k,data:U,height:I,width:D,total:U.length,onKeydown:M}),{default:G=>X(w,G,null)}),(V=e.footer)==null?void 0:V.call(e)])}}});function $ne(t,e){const{aliasProps:n,getLabel:i,getValue:s}=mv(t),r=z(0),o=z(null),a=A(()=>t.allowCreate&&t.filterable);function l(p){const g=m=>i(m)===p;return t.options&&t.options.some(g)||e.createdOptions.some(g)}function c(p){a.value&&(t.multiple&&p.created?r.value++:o.value=p)}function u(p){if(a.value)if(p&&p.length>0){if(l(p))return;const g={[n.value.value]:p,[n.value.label]:p,created:!0,[n.value.disabled]:!1};e.createdOptions.length>=r.value?e.createdOptions[r.value]=g:e.createdOptions.push(g)}else if(t.multiple)e.createdOptions.length=r.value;else{const g=o.value;e.createdOptions.length=0,g&&g.created&&e.createdOptions.push(g)}}function d(p){if(!a.value||!p||!p.created||p.created&&t.reserveKeyword&&e.inputValue===i(p))return;const g=e.createdOptions.findIndex(m=>s(m)===s(p));~g&&(e.createdOptions.splice(g,1),r.value--)}function f(){a.value&&(e.createdOptions.length=0,r.value=0)}return{createNewOption:u,removeNewOption:d,selectNewOption:c,clearAllNewOption:f}}const Hne=11,Wne=(t,e)=>{const{t:n}=$t(),i=Oe("select"),s=Oe("input"),{form:r,formItem:o}=Xi(),{inputId:a}=wr(t,{formItemContext:o}),{aliasProps:l,getLabel:c,getValue:u,getDisabled:d,getOptions:f}=mv(t),{valueOnClear:p,isEmptyValue:g}=av(t),m=Xt({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),y=z(-1),v=z(null),_=z(null),b=z(null),w=z(null),S=z(null),x=z(null),C=z(null),T=z(null),E=z(null),M=z(null),R=z(null),{wrapperRef:O,isFocused:F,handleFocus:V,handleBlur:U}=ov(S,{afterFocus(){t.automaticDropdown&&!N.value&&(N.value=!0,m.menuVisibleOnFocus=!0)},beforeBlur(Ie){var Qe,ut;return((Qe=b.value)==null?void 0:Qe.isFocusInsideContent(Ie))||((ut=w.value)==null?void 0:ut.isFocusInsideContent(Ie))},afterBlur(){N.value=!1,m.menuVisibleOnFocus=!1}}),D=z([]),I=z([]),N=z(!1),k=A(()=>t.disabled||(r==null?void 0:r.disabled)),B=A(()=>{const Ie=I.value.length*t.itemHeight;return Ie>t.height?t.height:Ie}),G=A(()=>t.multiple?Ze(t.modelValue)&&t.modelValue.length>0:!g(t.modelValue)),J=A(()=>t.clearable&&!k.value&&m.inputHovering&&G.value),re=A(()=>t.remote&&t.filterable?"":Ao),ee=A(()=>re.value&&i.is("reverse",N.value)),ye=A(()=>(o==null?void 0:o.validateState)||""),te=A(()=>V_[ye.value]),oe=A(()=>t.remote?300:0),de=A(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!m.inputValue&&D.value.length===0?!1:t.filterable&&m.inputValue&&D.value.length>0&&I.value.length===0?t.noMatchText||n("el.select.noMatch"):D.value.length===0?t.noDataText||n("el.select.noData"):null),Ne=Ie=>{const Qe=ut=>{if(t.filterable&&ht(t.filterMethod)||t.filterable&&t.remote&&ht(t.remoteMethod))return!0;const wt=new RegExp(O_(Ie),"i");return Ie?wt.test(c(ut)||""):!0};return t.loading?[]:[...m.createdOptions,...t.options].reduce((ut,wt)=>{const Vt=f(wt);if(Ze(Vt)){const bn=Vt.filter(Qe);bn.length>0&&ut.push({label:c(wt),isTitle:!0,type:"Group"},...bn,{type:"Group"})}else(t.remote||Qe(wt))&&ut.push(wt);return ut},[])},Q=()=>{D.value=Ne(""),I.value=Ne(m.inputValue)},Te=A(()=>{const Ie=new Map;return D.value.forEach((Qe,ut)=>{Ie.set(dt(u(Qe)),{option:Qe,index:ut})}),Ie}),me=A(()=>{const Ie=new Map;return I.value.forEach((Qe,ut)=>{Ie.set(dt(u(Qe)),{option:Qe,index:ut})}),Ie}),K=A(()=>I.value.every(Ie=>d(Ie))),q=ei(),ue=A(()=>q.value==="small"?"small":"default"),ve=()=>{var Ie;y.value=((Ie=v.value)==null?void 0:Ie.offsetWidth)||200},he=()=>{if(!_.value)return 0;const Ie=window.getComputedStyle(_.value);return Number.parseFloat(Ie.gap||"6px")},xe=A(()=>{const Ie=he();return{maxWidth:`${R.value&&t.maxCollapseTags===1?m.selectionWidth-m.collapseItemWidth-Ie:m.selectionWidth}px`}}),W=A(()=>({maxWidth:`${m.selectionWidth}px`})),$=A(()=>({width:`${Math.max(m.calculatorWidth,Hne)}px`})),ae=A(()=>Ze(t.modelValue)?t.modelValue.length===0&&!m.inputValue:t.filterable?!m.inputValue:!0),se=A(()=>{var Ie;const Qe=(Ie=t.placeholder)!=null?Ie:n("el.select.placeholder");return t.multiple||!G.value?Qe:m.selectedLabel}),Ee=A(()=>{var Ie,Qe;return(Qe=(Ie=b.value)==null?void 0:Ie.popperRef)==null?void 0:Qe.contentRef}),Re=A(()=>{if(t.multiple){const Ie=t.modelValue.length;if(t.modelValue.length>0&&me.value.has(t.modelValue[Ie-1])){const{index:Qe}=me.value.get(t.modelValue[Ie-1]);return Qe}}else if(t.modelValue&&me.value.has(t.modelValue)){const{index:Ie}=me.value.get(t.modelValue);return Ie}return-1}),be=A({get(){return N.value&&de.value!==!1},set(Ie){N.value=Ie}}),Pe=A(()=>t.multiple?t.collapseTags?m.cachedOptions.slice(0,t.maxCollapseTags):m.cachedOptions:[]),Fe=A(()=>t.multiple?t.collapseTags?m.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:it,removeNewOption:Ye,selectNewOption:He,clearAllNewOption:Se}=$ne(t,m),{handleCompositionStart:Le,handleCompositionUpdate:we,handleCompositionEnd:pe}=CI(Ie=>De(Ie)),Ae=()=>{k.value||(m.menuVisibleOnFocus?m.menuVisibleOnFocus=!1:N.value=!N.value)},je=()=>{m.inputValue.length>0&&!N.value&&(N.value=!0),it(m.inputValue),le(m.inputValue)},fe=vs(je,oe.value),le=Ie=>{m.previousQuery!==Ie&&(m.previousQuery=Ie,t.filterable&&ht(t.filterMethod)?t.filterMethod(Ie):t.filterable&&t.remote&&ht(t.remoteMethod)&&t.remoteMethod(Ie),t.defaultFirstOption&&(t.filterable||t.remote)&&I.value.length?rt(Be):rt(ie))},Be=()=>{const Ie=I.value.filter(wt=>!wt.disabled&&wt.type!=="Group"),Qe=Ie.find(wt=>wt.created),ut=Ie[0];m.hoveringIndex=pt(I.value,Qe||ut)},We=Ie=>{Gi(t.modelValue,Ie)||e(mn,Ie)},ot=Ie=>{e(It,Ie),We(Ie),m.previousValue=t.multiple?String(Ie):Ie},pt=(Ie=[],Qe)=>{if(!Pt(Qe))return Ie.indexOf(Qe);const ut=t.valueKey;let wt=-1;return Ie.some((Vt,bn)=>Fn(Vt,ut)===Fn(Qe,ut)?(wt=bn,!0):!1),wt},dt=Ie=>Pt(Ie)?Fn(Ie,t.valueKey):Ie,Bt=()=>{ve()},Tn=()=>{m.selectionWidth=_.value.getBoundingClientRect().width},Xn=()=>{m.calculatorWidth=x.value.getBoundingClientRect().width},un=()=>{m.collapseItemWidth=R.value.getBoundingClientRect().width},ri=()=>{var Ie,Qe;(Qe=(Ie=b.value)==null?void 0:Ie.updatePopper)==null||Qe.call(Ie)},oi=()=>{var Ie,Qe;(Qe=(Ie=w.value)==null?void 0:Ie.updatePopper)==null||Qe.call(Ie)},Wa=Ie=>{if(t.multiple){let Qe=t.modelValue.slice();const ut=pt(Qe,u(Ie));ut>-1?(Qe=[...Qe.slice(0,ut),...Qe.slice(ut+1)],m.cachedOptions.splice(ut,1),Ye(Ie)):(t.multipleLimit<=0||Qe.length<t.multipleLimit)&&(Qe=[...Qe,u(Ie)],m.cachedOptions.push(Ie),He(Ie)),ot(Qe),Ie.created&&le(""),t.filterable&&!t.reserveKeyword&&(m.inputValue="")}else m.selectedLabel=c(Ie),ot(u(Ie)),N.value=!1,He(Ie),Ie.created||Se();Cr()},pc=(Ie,Qe)=>{let ut=t.modelValue.slice();const wt=pt(ut,u(Qe));wt>-1&&!k.value&&(ut=[...t.modelValue.slice(0,wt),...t.modelValue.slice(wt+1)],m.cachedOptions.splice(wt,1),ot(ut),e("remove-tag",u(Qe)),Ye(Qe)),Ie.stopPropagation(),Cr()},Cr=()=>{var Ie;(Ie=S.value)==null||Ie.focus()},Oo=()=>{var Ie;(Ie=S.value)==null||Ie.blur()},mc=()=>{m.inputValue.length>0?m.inputValue="":N.value=!1},Lo=Ie=>DR(Ie,Qe=>!m.cachedOptions.some(ut=>u(ut)===Qe&&d(ut))),gc=Ie=>{if(t.multiple&&Ie.code!==lt.delete&&m.inputValue.length===0){Ie.preventDefault();const Qe=t.modelValue.slice(),ut=Lo(Qe);if(ut<0)return;Qe.splice(ut,1);const wt=m.cachedOptions[ut];m.cachedOptions.splice(ut,1),Ye(wt),ot(Qe)}},Xe=()=>{let Ie;Ze(t.modelValue)?Ie=[]:Ie=p.value,t.multiple?m.cachedOptions=[]:m.selectedLabel="",N.value=!1,ot(Ie),e("clear"),Se(),Cr()},mt=(Ie,Qe=void 0)=>{const ut=I.value;if(!["forward","backward"].includes(Ie)||k.value||ut.length<=0||K.value)return;if(!N.value)return Ae();Qe===void 0&&(Qe=m.hoveringIndex);let wt=-1;Ie==="forward"?(wt=Qe+1,wt>=ut.length&&(wt=0)):Ie==="backward"&&(wt=Qe-1,(wt<0||wt>=ut.length)&&(wt=ut.length-1));const Vt=ut[wt];if(d(Vt)||Vt.type==="Group")return mt(Ie,wt);m.hoveringIndex=wt,Ue(wt)},hn=()=>{if(N.value)~m.hoveringIndex&&I.value[m.hoveringIndex]&&Wa(I.value[m.hoveringIndex]);else return Ae()},Ln=Ie=>{m.hoveringIndex=Ie},ie=()=>{t.multiple?m.hoveringIndex=I.value.findIndex(Ie=>t.modelValue.some(Qe=>dt(Qe)===dt(Ie))):m.hoveringIndex=I.value.findIndex(Ie=>dt(Ie)===dt(t.modelValue))},De=Ie=>{if(m.inputValue=Ie.target.value,t.remote)fe();else return je()},Ke=Ie=>{if(N.value=!1,F.value){const Qe=new FocusEvent("focus",Ie);U(Qe)}},Ve=()=>(m.isBeforeHide=!1,rt(()=>{~Re.value&&Ue(m.hoveringIndex)})),Ue=Ie=>{E.value.scrollToItem(Ie)},_t=Ie=>{const Qe=dt(Ie);if(Te.value.has(Qe)){const{option:ut}=Te.value.get(Qe);return ut}return{[l.value.value]:Ie,[l.value.label]:Ie}},Ot=()=>{if(t.multiple)if(t.modelValue.length>0){m.cachedOptions.length=0,m.previousValue=t.modelValue.toString();for(const Ie of t.modelValue){const Qe=_t(Ie);m.cachedOptions.push(Qe)}}else m.cachedOptions=[],m.previousValue=void 0;else if(G.value){m.previousValue=t.modelValue;const Ie=I.value,Qe=Ie.findIndex(ut=>dt(u(ut))===dt(t.modelValue));~Qe?m.selectedLabel=c(Ie[Qe]):m.selectedLabel=dt(t.modelValue)}else m.selectedLabel="",m.previousValue=void 0;Se(),ve()};return ke(N,Ie=>{Ie?le(""):(m.inputValue="",m.previousQuery=null,m.isBeforeHide=!0,it("")),e("visible-change",Ie)}),ke(()=>t.modelValue,(Ie,Qe)=>{var ut;(!Ie||t.multiple&&Ie.toString()!==m.previousValue||!t.multiple&&dt(Ie)!==dt(m.previousValue))&&Ot(),!Gi(Ie,Qe)&&t.validateEvent&&((ut=o==null?void 0:o.validate)==null||ut.call(o,"change").catch(wt=>void 0))},{deep:!0}),ke(()=>t.options,()=>{const Ie=S.value;(!Ie||Ie&&document.activeElement!==Ie)&&Ot()},{deep:!0,flush:"post"}),ke(()=>I.value,()=>E.value&&rt(E.value.resetScrollTop)),ki(()=>{m.isBeforeHide||Q()}),ki(()=>{const{valueKey:Ie,options:Qe}=t,ut=new Map;for(const wt of Qe){const Vt=u(wt);let bn=Vt;if(Pt(bn)&&(bn=Fn(Vt,Ie)),ut.get(bn))break;ut.set(bn,!0)}}),Mt(()=>{Ot()}),Mn(v,Bt),Mn(_,Tn),Mn(x,Xn),Mn(E,ri),Mn(O,ri),Mn(M,oi),Mn(R,un),{inputId:a,collapseTagSize:ue,currentPlaceholder:se,expanded:N,emptyText:de,popupHeight:B,debounce:oe,allOptions:D,filteredOptions:I,iconComponent:re,iconReverse:ee,tagStyle:xe,collapseTagStyle:W,inputStyle:$,popperSize:y,dropdownMenuVisible:be,hasModelValue:G,shouldShowPlaceholder:ae,selectDisabled:k,selectSize:q,showClearBtn:J,states:m,isFocused:F,nsSelect:i,nsInput:s,calculatorRef:x,inputRef:S,menuRef:E,tagMenuRef:M,tooltipRef:b,tagTooltipRef:w,selectRef:v,wrapperRef:O,selectionRef:_,prefixRef:C,suffixRef:T,collapseItemRef:R,popperRef:Ee,validateState:ye,validateIcon:te,showTagList:Pe,collapseTagList:Fe,debouncedOnInputChange:fe,deleteTag:pc,getLabel:c,getValue:u,getDisabled:d,getValueKey:dt,handleBlur:U,handleClear:Xe,handleClickOutside:Ke,handleDel:gc,handleEsc:mc,handleFocus:V,focus:Cr,blur:Oo,handleMenuEnter:Ve,handleResize:Bt,resetSelectionWidth:Tn,resetCalculatorWidth:Xn,updateTooltip:ri,updateTagTooltip:oi,updateOptions:Q,toggleMenu:Ae,scrollTo:Ue,onInput:De,onKeyboardNavigate:mt,onKeyboardSelect:hn,onSelect:Wa,onHover:Ln,handleCompositionStart:Le,handleCompositionEnd:pe,handleCompositionUpdate:we}},Gne=j({name:"ElSelectV2",components:{ElSelectMenu:Vne,ElTag:Nf,ElTooltip:Yi,ElIcon:tt},directives:{ClickOutside:_o},props:Nne,emits:[It,mn,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=A(()=>{const{modelValue:s,multiple:r}=t,o=r?[]:void 0;return Ze(s)?r?s:o:r?o:s}),i=Wne(Xt({...Ti(t),modelValue:n}),e);return Nt(Ow,{props:Xt({...Ti(t),height:i.popupHeight,modelValue:n}),tooltipRef:i.tooltipRef,onSelect:i.onSelect,onHover:i.onHover,onKeyboardNavigate:i.onKeyboardNavigate,onKeyboardSelect:i.onKeyboardSelect}),{...i,modelValue:n}}}),Kne=["id","autocomplete","aria-expanded","aria-label","disabled","readonly","name"],Yne=["textContent"];function Xne(t,e,n,i,s,r){const o=bt("el-tag"),a=bt("el-tooltip"),l=bt("el-icon"),c=bt("el-select-menu"),u=zg("click-outside");return St((P(),H("div",{ref:"selectRef",class:L([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:e[14]||(e[14]=d=>t.states.inputHovering=!0),onMouseleave:e[15]||(e[15]=d=>t.states.inputHovering=!1),onClick:e[16]||(e[16]=gt((...d)=>t.toggleMenu&&t.toggleMenu(...d),["prevent","stop"]))},[X(a,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:e[13]||(e[13]=d=>t.states.isBeforeHide=!1)},{default:ne(()=>[Y("div",{ref:"wrapperRef",class:L([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(P(),H("div",{key:0,ref:"prefixRef",class:L(t.nsSelect.e("prefix"))},[Me(t.$slots,"prefix")],2)):ge("v-if",!0),Y("div",{ref:"selectionRef",class:L([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?Me(t.$slots,"tag",{key:0},()=>[(P(!0),H(st,null,Dt(t.showTagList,d=>(P(),H("div",{key:t.getValueKey(t.getValue(d)),class:L(t.nsSelect.e("selected-item"))},[X(o,{closable:!t.selectDisabled&&!t.getDisabled(d),size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:nt(t.tagStyle),onClose:f=>t.deleteTag(f,d)},{default:ne(()=>[Y("span",{class:L(t.nsSelect.e("tags-text"))},Ge(t.getLabel(d)),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(P(),_e(a,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:ne(()=>[Y("div",{ref:"collapseItemRef",class:L(t.nsSelect.e("selected-item"))},[X(o,{closable:!1,size:t.collapseTagSize,type:t.tagType,style:nt(t.collapseTagStyle),"disable-transitions":""},{default:ne(()=>[Y("span",{class:L(t.nsSelect.e("tags-text"))}," + "+Ge(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:ne(()=>[Y("div",{ref:"tagMenuRef",class:L(t.nsSelect.e("selection"))},[(P(!0),H(st,null,Dt(t.collapseTagList,d=>(P(),H("div",{key:t.getValueKey(t.getValue(d)),class:L(t.nsSelect.e("selected-item"))},[X(o,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(d),size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",onClose:f=>t.deleteTag(f,d)},{default:ne(()=>[Y("span",{class:L(t.nsSelect.e("tags-text"))},Ge(t.getLabel(d)),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):ge("v-if",!0)]):ge("v-if",!0),t.selectDisabled?ge("v-if",!0):(P(),H("div",{key:1,class:L([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[St(Y("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=d=>t.states.inputValue=d),style:nt(t.inputStyle),autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:L([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onFocus:e[1]||(e[1]=(...d)=>t.handleFocus&&t.handleFocus(...d)),onBlur:e[2]||(e[2]=(...d)=>t.handleBlur&&t.handleBlur(...d)),onInput:e[3]||(e[3]=(...d)=>t.onInput&&t.onInput(...d)),onCompositionstart:e[4]||(e[4]=(...d)=>t.handleCompositionStart&&t.handleCompositionStart(...d)),onCompositionupdate:e[5]||(e[5]=(...d)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...d)),onCompositionend:e[6]||(e[6]=(...d)=>t.handleCompositionEnd&&t.handleCompositionEnd(...d)),onKeydown:[e[7]||(e[7]=Gt(gt(d=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[8]||(e[8]=Gt(gt(d=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[9]||(e[9]=Gt(gt((...d)=>t.onKeyboardSelect&&t.onKeyboardSelect(...d),["stop","prevent"]),["enter"])),e[10]||(e[10]=Gt(gt((...d)=>t.handleEsc&&t.handleEsc(...d),["stop","prevent"]),["esc"])),e[11]||(e[11]=Gt(gt((...d)=>t.handleDel&&t.handleDel(...d),["stop"]),["delete"]))],onClick:e[12]||(e[12]=gt((...d)=>t.toggleMenu&&t.toggleMenu(...d),["stop"]))},null,46,Kne),[[p_,t.states.inputValue]]),t.filterable?(P(),H("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:L(t.nsSelect.e("input-calculator")),textContent:Ge(t.states.inputValue)},null,10,Yne)):ge("v-if",!0)],2)),t.shouldShowPlaceholder?(P(),H("div",{key:2,class:L([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[Y("span",null,Ge(t.currentPlaceholder),1)],2)):ge("v-if",!0)],2),Y("div",{ref:"suffixRef",class:L(t.nsSelect.e("suffix"))},[t.iconComponent?St((P(),_e(l,{key:0,class:L([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:ne(()=>[(P(),_e(kt(t.iconComponent)))]),_:1},8,["class"])),[[Kt,!t.showClearBtn]]):ge("v-if",!0),t.showClearBtn&&t.clearIcon?(P(),_e(l,{key:1,class:L([t.nsSelect.e("caret"),t.nsInput.e("icon")]),onClick:gt(t.handleClear,["prevent","stop"])},{default:ne(()=>[(P(),_e(kt(t.clearIcon)))]),_:1},8,["class","onClick"])):ge("v-if",!0),t.validateState&&t.validateIcon?(P(),_e(l,{key:2,class:L([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:ne(()=>[(P(),_e(kt(t.validateIcon)))]),_:1},8,["class"])):ge("v-if",!0)],2)],2)]),content:ne(()=>[X(c,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},vo({default:ne(d=>[Me(t.$slots,"default",co(_u(d)))]),_:2},[t.$slots.header?{name:"header",fn:ne(()=>[Y("div",{class:L(t.nsSelect.be("dropdown","header"))},[Me(t.$slots,"header")],2)])}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:ne(()=>[Y("div",{class:L(t.nsSelect.be("dropdown","loading"))},[Me(t.$slots,"loading")],2)])}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:ne(()=>[Y("div",{class:L(t.nsSelect.be("dropdown","empty"))},[Me(t.$slots,"empty",{},()=>[Y("span",null,Ge(t.emptyText),1)])],2)])}:void 0,t.$slots.footer?{name:"footer",fn:ne(()=>[Y("div",{class:L(t.nsSelect.be("dropdown","footer"))},[Me(t.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","onBeforeShow"])],34)),[[u,t.handleClickOutside,t.popperRef]])}var Tm=$e(Gne,[["render",Xne],["__file","select.vue"]]);Tm.install=t=>{t.component(Tm.name,Tm)};const qne=Tm,jne=qne,Zne=ze({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),Jne=ze({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),Qne=j({name:"ElSkeletonItem"}),eie=j({...Qne,props:Jne,setup(t){const e=Oe("skeleton");return(n,i)=>(P(),H("div",{class:L([h(e).e("item"),h(e).e(n.variant)])},[n.variant==="image"?(P(),_e(h(UV),{key:0})):ge("v-if",!0)],2))}});var bg=$e(eie,[["__file","skeleton-item.vue"]]);const tie=j({name:"ElSkeleton"}),nie=j({...tie,props:Zne,setup(t,{expose:e}){const n=t,i=Oe("skeleton"),s=UH(on(n,"loading"),n.throttle);return e({uiLoading:s}),(r,o)=>h(s)?(P(),H("div",Lt({key:0,class:[h(i).b(),h(i).is("animated",r.animated)]},r.$attrs),[(P(!0),H(st,null,Dt(r.count,a=>(P(),H(st,{key:a},[r.loading?Me(r.$slots,"template",{key:a},()=>[X(bg,{class:L(h(i).is("first")),variant:"p"},null,8,["class"]),(P(!0),H(st,null,Dt(r.rows,l=>(P(),_e(bg,{key:l,class:L([h(i).e("paragraph"),h(i).is("last",l===r.rows&&r.rows>1)]),variant:"p"},null,8,["class"]))),128))]):ge("v-if",!0)],64))),128))],16)):Me(r.$slots,"default",co(Lt({key:1},r.$attrs)))}});var iie=$e(nie,[["__file","skeleton.vue"]]);const sie=At(iie,{SkeletonItem:bg}),rie=En(bg),KI=Symbol("sliderContextKey"),oie=ze({modelValue:{type:ce([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:fi,inputSize:fi,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:ce(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:ce(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:cc,default:"top"},marks:{type:ce(Object)},validateEvent:{type:Boolean,default:!0},...Ai(["ariaLabel"])}),P0=t=>ft(t)||Ze(t)&&t.every(ft),aie={[It]:P0,[ns]:P0,[mn]:P0},lie=(t,e,n)=>{const i=z();return Mt(async()=>{t.range?(Array.isArray(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(typeof t.modelValue!="number"||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),pn(window,"resize",n),await rt(),n()}),{sliderWrapper:i}},cie=t=>A(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((n,i)=>n-i).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),uie=(t,e,n)=>{const{form:i,formItem:s}=Xi(),r=vn(),o=z(),a=z(),l={firstButton:o,secondButton:a},c=A(()=>t.disabled||(i==null?void 0:i.disabled)||!1),u=A(()=>Math.min(e.firstValue,e.secondValue)),d=A(()=>Math.max(e.firstValue,e.secondValue)),f=A(()=>t.range?`${100*(d.value-u.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),p=A(()=>t.range?`${100*(u.value-t.min)/(t.max-t.min)}%`:"0%"),g=A(()=>t.vertical?{height:t.height}:{}),m=A(()=>t.vertical?{height:f.value,bottom:p.value}:{width:f.value,left:p.value}),y=()=>{r.value&&(e.sliderSize=r.value[`client${t.vertical?"Height":"Width"}`])},v=R=>{const O=t.min+R*(t.max-t.min)/100;if(!t.range)return o;let F;return Math.abs(u.value-O)<Math.abs(d.value-O)?F=e.firstValue<e.secondValue?"firstButton":"secondButton":F=e.firstValue>e.secondValue?"firstButton":"secondButton",l[F]},_=R=>{const O=v(R);return O.value.setPosition(R),O},b=R=>{e.firstValue=R,S(t.range?[u.value,d.value]:R)},w=R=>{e.secondValue=R,t.range&&S([u.value,d.value])},S=R=>{n(It,R),n(ns,R)},x=async()=>{await rt(),n(mn,t.range?[u.value,d.value]:t.modelValue)},C=R=>{var O,F,V,U,D,I;if(c.value||e.dragging)return;y();let N=0;if(t.vertical){const k=(V=(F=(O=R.touches)==null?void 0:O.item(0))==null?void 0:F.clientY)!=null?V:R.clientY;N=(r.value.getBoundingClientRect().bottom-k)/e.sliderSize*100}else{const k=(I=(D=(U=R.touches)==null?void 0:U.item(0))==null?void 0:D.clientX)!=null?I:R.clientX,B=r.value.getBoundingClientRect().left;N=(k-B)/e.sliderSize*100}if(!(N<0||N>100))return _(N)};return{elFormItem:s,slider:r,firstButton:o,secondButton:a,sliderDisabled:c,minValue:u,maxValue:d,runwayStyle:g,barStyle:m,resetSize:y,setPosition:_,emitChange:x,onSliderWrapperPrevent:R=>{var O,F;((O=l.firstButton.value)!=null&&O.dragging||(F=l.secondButton.value)!=null&&F.dragging)&&R.preventDefault()},onSliderClick:R=>{C(R)&&x()},onSliderDown:async R=>{const O=C(R);O&&(await rt(),O.value.onButtonDown(R))},setFirstValue:b,setSecondValue:w}},{left:die,down:fie,right:hie,up:pie,home:mie,end:gie,pageUp:vie,pageDown:yie}=lt,bie=(t,e,n)=>{const i=z(),s=z(!1),r=A(()=>e.value instanceof Function),o=A(()=>r.value&&e.value(t.modelValue)||t.modelValue),a=vs(()=>{n.value&&(s.value=!0)},50),l=vs(()=>{n.value&&(s.value=!1)},50);return{tooltip:i,tooltipVisible:s,formatValue:o,displayTooltip:a,hideTooltip:l}},_ie=(t,e,n)=>{const{disabled:i,min:s,max:r,step:o,showTooltip:a,precision:l,sliderSize:c,formatTooltip:u,emitChange:d,resetSize:f,updateDragging:p}=et(KI),{tooltip:g,tooltipVisible:m,formatValue:y,displayTooltip:v,hideTooltip:_}=bie(t,u,a),b=z(),w=A(()=>`${(t.modelValue-s.value)/(r.value-s.value)*100}%`),S=A(()=>t.vertical?{bottom:w.value}:{left:w.value}),x=()=>{e.hovering=!0,v()},C=()=>{e.hovering=!1,e.dragging||_()},T=J=>{i.value||(J.preventDefault(),N(J),window.addEventListener("mousemove",k),window.addEventListener("touchmove",k),window.addEventListener("mouseup",B),window.addEventListener("touchend",B),window.addEventListener("contextmenu",B),b.value.focus())},E=J=>{i.value||(e.newPosition=Number.parseFloat(w.value)+J/(r.value-s.value)*100,G(e.newPosition),d())},M=()=>{E(-o.value)},R=()=>{E(o.value)},O=()=>{E(-o.value*4)},F=()=>{E(o.value*4)},V=()=>{i.value||(G(0),d())},U=()=>{i.value||(G(100),d())},D=J=>{let re=!0;[die,fie].includes(J.key)?M():[hie,pie].includes(J.key)?R():J.key===mie?V():J.key===gie?U():J.key===yie?O():J.key===vie?F():re=!1,re&&J.preventDefault()},I=J=>{let re,ee;return J.type.startsWith("touch")?(ee=J.touches[0].clientY,re=J.touches[0].clientX):(ee=J.clientY,re=J.clientX),{clientX:re,clientY:ee}},N=J=>{e.dragging=!0,e.isClick=!0;const{clientX:re,clientY:ee}=I(J);t.vertical?e.startY=ee:e.startX=re,e.startPosition=Number.parseFloat(w.value),e.newPosition=e.startPosition},k=J=>{if(e.dragging){e.isClick=!1,v(),f();let re;const{clientX:ee,clientY:ye}=I(J);t.vertical?(e.currentY=ye,re=(e.startY-e.currentY)/c.value*100):(e.currentX=ee,re=(e.currentX-e.startX)/c.value*100),e.newPosition=e.startPosition+re,G(e.newPosition)}},B=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||_(),e.isClick||G(e.newPosition),d()},0),window.removeEventListener("mousemove",k),window.removeEventListener("touchmove",k),window.removeEventListener("mouseup",B),window.removeEventListener("touchend",B),window.removeEventListener("contextmenu",B))},G=async J=>{if(J===null||Number.isNaN(+J))return;J<0?J=0:J>100&&(J=100);const re=100/((r.value-s.value)/o.value);let ye=Math.round(J/re)*re*(r.value-s.value)*.01+s.value;ye=Number.parseFloat(ye.toFixed(l.value)),ye!==t.modelValue&&n(It,ye),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await rt(),e.dragging&&v(),g.value.updatePopper()};return ke(()=>e.dragging,J=>{p(J)}),{disabled:i,button:b,tooltip:g,tooltipVisible:m,showTooltip:a,wrapperStyle:S,formatValue:y,handleMouseEnter:x,handleMouseLeave:C,onButtonDown:T,onKeyDown:D,setPosition:G}},wie=(t,e,n,i)=>({stops:A(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const o=(t.max-t.min)/t.step,a=100*t.step/(t.max-t.min),l=Array.from({length:o-1}).map((c,u)=>(u+1)*a);return t.range?l.filter(c=>c<100*(n.value-t.min)/(t.max-t.min)||c>100*(i.value-t.min)/(t.max-t.min)):l.filter(c=>c>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:o=>t.vertical?{bottom:`${o}%`}:{left:`${o}%`}}),xie=(t,e,n,i,s,r)=>{const o=c=>{s(It,c),s(ns,c)},a=()=>t.range?![n.value,i.value].every((c,u)=>c===e.oldValue[u]):t.modelValue!==e.oldValue,l=()=>{var c,u;t.min>t.max&&si("Slider","min should not be greater than max.");const d=t.modelValue;t.range&&Array.isArray(d)?d[1]<t.min?o([t.min,t.min]):d[0]>t.max?o([t.max,t.max]):d[0]<t.min?o([t.min,d[1]]):d[1]>t.max?o([d[0],t.max]):(e.firstValue=d[0],e.secondValue=d[1],a()&&(t.validateEvent&&((c=r==null?void 0:r.validate)==null||c.call(r,"change").catch(f=>void 0)),e.oldValue=d.slice())):!t.range&&typeof d=="number"&&!Number.isNaN(d)&&(d<t.min?o(t.min):d>t.max?o(t.max):(e.firstValue=d,a()&&(t.validateEvent&&((u=r==null?void 0:r.validate)==null||u.call(r,"change").catch(f=>void 0)),e.oldValue=d)))};l(),ke(()=>e.dragging,c=>{c||l()}),ke(()=>t.modelValue,(c,u)=>{e.dragging||Array.isArray(c)&&Array.isArray(u)&&c.every((d,f)=>d===u[f])&&e.firstValue===c[0]&&e.secondValue===c[1]||l()},{deep:!0}),ke(()=>[t.min,t.max],()=>{l()})},Sie=ze({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:cc,default:"top"}}),Mie={[It]:t=>ft(t)},Cie=["tabindex"],Eie=j({name:"ElSliderButton"}),Tie=j({...Eie,props:Sie,emits:Mie,setup(t,{expose:e,emit:n}){const i=t,s=Oe("slider"),r=Xt({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:i.modelValue}),{disabled:o,button:a,tooltip:l,showTooltip:c,tooltipVisible:u,wrapperStyle:d,formatValue:f,handleMouseEnter:p,handleMouseLeave:g,onButtonDown:m,onKeyDown:y,setPosition:v}=_ie(i,r,n),{hovering:_,dragging:b}=Ti(r);return e({onButtonDown:m,onKeyDown:y,setPosition:v,hovering:_,dragging:b}),(w,S)=>(P(),H("div",{ref_key:"button",ref:a,class:L([h(s).e("button-wrapper"),{hover:h(_),dragging:h(b)}]),style:nt(h(d)),tabindex:h(o)?-1:0,onMouseenter:S[0]||(S[0]=(...x)=>h(p)&&h(p)(...x)),onMouseleave:S[1]||(S[1]=(...x)=>h(g)&&h(g)(...x)),onMousedown:S[2]||(S[2]=(...x)=>h(m)&&h(m)(...x)),onTouchstart:S[3]||(S[3]=(...x)=>h(m)&&h(m)(...x)),onFocus:S[4]||(S[4]=(...x)=>h(p)&&h(p)(...x)),onBlur:S[5]||(S[5]=(...x)=>h(g)&&h(g)(...x)),onKeydown:S[6]||(S[6]=(...x)=>h(y)&&h(y)(...x))},[X(h(Yi),{ref_key:"tooltip",ref:l,visible:h(u),placement:w.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":w.tooltipClass,disabled:!h(c),persistent:""},{content:ne(()=>[Y("span",null,Ge(h(f)),1)]),default:ne(()=>[Y("div",{class:L([h(s).e("button"),{hover:h(_),dragging:h(b)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,Cie))}});var XC=$e(Tie,[["__file","button.vue"]]);const Aie=ze({mark:{type:ce([String,Object]),default:void 0}});var Rie=j({name:"ElSliderMarker",props:Aie,setup(t){const e=Oe("slider"),n=A(()=>yt(t.mark)?t.mark:t.mark.label),i=A(()=>yt(t.mark)?void 0:t.mark.style);return()=>at("div",{class:e.e("marks-text"),style:i.value},n.value)}});const Pie=["id","role","aria-label","aria-labelledby"],Iie={key:1},kie=j({name:"ElSlider"}),Oie=j({...kie,props:oie,emits:aie,setup(t,{expose:e,emit:n}){const i=t,s=Oe("slider"),{t:r}=$t(),o=Xt({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:a,slider:l,firstButton:c,secondButton:u,sliderDisabled:d,minValue:f,maxValue:p,runwayStyle:g,barStyle:m,resetSize:y,emitChange:v,onSliderWrapperPrevent:_,onSliderClick:b,onSliderDown:w,setFirstValue:S,setSecondValue:x}=uie(i,o,n),{stops:C,getStopStyle:T}=wie(i,o,f,p),{inputId:E,isLabeledByFormItem:M}=wr(i,{formItemContext:a}),R=ei(),O=A(()=>i.inputSize||R.value),F=A(()=>i.label||i.ariaLabel||r("el.slider.defaultLabel",{min:i.min,max:i.max})),V=A(()=>i.range?i.rangeStartLabel||r("el.slider.defaultRangeStartLabel"):F.value),U=A(()=>i.formatValueText?i.formatValueText(J.value):`${J.value}`),D=A(()=>i.rangeEndLabel||r("el.slider.defaultRangeEndLabel")),I=A(()=>i.formatValueText?i.formatValueText(re.value):`${re.value}`),N=A(()=>[s.b(),s.m(R.value),s.is("vertical",i.vertical),{[s.m("with-input")]:i.showInput}]),k=cie(i);xie(i,o,f,p,n,a);const B=A(()=>{const te=[i.min,i.max,i.step].map(oe=>{const de=`${oe}`.split(".")[1];return de?de.length:0});return Math.max.apply(null,te)}),{sliderWrapper:G}=lie(i,o,y),{firstValue:J,secondValue:re,sliderSize:ee}=Ti(o),ye=te=>{o.dragging=te};return Nt(KI,{...Ti(i),sliderSize:ee,disabled:d,precision:B,emitChange:v,resetSize:y,updateDragging:ye}),gi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-slider",ref:"https://element-plus.org/en-US/component/slider.html"},A(()=>!!i.label)),e({onSliderClick:b}),(te,oe)=>{var de,Ne;return P(),H("div",{id:te.range?h(E):void 0,ref_key:"sliderWrapper",ref:G,class:L(h(N)),role:te.range?"group":void 0,"aria-label":te.range&&!h(M)?h(F):void 0,"aria-labelledby":te.range&&h(M)?(de=h(a))==null?void 0:de.labelId:void 0,onTouchstart:oe[2]||(oe[2]=(...Q)=>h(_)&&h(_)(...Q)),onTouchmove:oe[3]||(oe[3]=(...Q)=>h(_)&&h(_)(...Q))},[Y("div",{ref_key:"slider",ref:l,class:L([h(s).e("runway"),{"show-input":te.showInput&&!te.range},h(s).is("disabled",h(d))]),style:nt(h(g)),onMousedown:oe[0]||(oe[0]=(...Q)=>h(w)&&h(w)(...Q)),onTouchstart:oe[1]||(oe[1]=(...Q)=>h(w)&&h(w)(...Q))},[Y("div",{class:L(h(s).e("bar")),style:nt(h(m))},null,6),X(XC,{id:te.range?void 0:h(E),ref_key:"firstButton",ref:c,"model-value":h(J),vertical:te.vertical,"tooltip-class":te.tooltipClass,placement:te.placement,role:"slider","aria-label":te.range||!h(M)?h(V):void 0,"aria-labelledby":!te.range&&h(M)?(Ne=h(a))==null?void 0:Ne.labelId:void 0,"aria-valuemin":te.min,"aria-valuemax":te.range?h(re):te.max,"aria-valuenow":h(J),"aria-valuetext":h(U),"aria-orientation":te.vertical?"vertical":"horizontal","aria-disabled":h(d),"onUpdate:modelValue":h(S)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),te.range?(P(),_e(XC,{key:0,ref_key:"secondButton",ref:u,"model-value":h(re),vertical:te.vertical,"tooltip-class":te.tooltipClass,placement:te.placement,role:"slider","aria-label":h(D),"aria-valuemin":h(J),"aria-valuemax":te.max,"aria-valuenow":h(re),"aria-valuetext":h(I),"aria-orientation":te.vertical?"vertical":"horizontal","aria-disabled":h(d),"onUpdate:modelValue":h(x)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):ge("v-if",!0),te.showStops?(P(),H("div",Iie,[(P(!0),H(st,null,Dt(h(C),(Q,Te)=>(P(),H("div",{key:Te,class:L(h(s).e("stop")),style:nt(h(T)(Q))},null,6))),128))])):ge("v-if",!0),h(k).length>0?(P(),H(st,{key:2},[Y("div",null,[(P(!0),H(st,null,Dt(h(k),(Q,Te)=>(P(),H("div",{key:Te,style:nt(h(T)(Q.position)),class:L([h(s).e("stop"),h(s).e("marks-stop")])},null,6))),128))]),Y("div",{class:L(h(s).e("marks"))},[(P(!0),H(st,null,Dt(h(k),(Q,Te)=>(P(),_e(h(Rie),{key:Te,mark:Q.mark,style:nt(h(T)(Q.position))},null,8,["mark","style"]))),128))],2)],64)):ge("v-if",!0)],38),te.showInput&&!te.range?(P(),_e(h(yI),{key:0,ref:"input","model-value":h(J),class:L(h(s).e("input")),step:te.step,disabled:h(d),controls:te.showInputControls,min:te.min,max:te.max,debounce:te.debounce,size:h(O),"onUpdate:modelValue":h(S),onChange:h(v)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):ge("v-if",!0)],42,Pie)}}});var Lie=$e(Oie,[["__file","slider.vue"]]);const Nie=At(Lie),Die=ze({prefixCls:{type:String}}),qC=j({name:"ElSpaceItem",props:Die,setup(t,{slots:e}){const n=Oe("space"),i=A(()=>`${t.prefixCls||n.b()}__item`);return()=>at("div",{class:i.value},Me(e,"default"))}}),jC={small:8,default:12,large:16};function Fie(t){const e=Oe("space"),n=A(()=>[e.b(),e.m(t.direction),t.class]),i=z(0),s=z(0),r=A(()=>{const a=t.wrap||t.fill?{flexWrap:"wrap"}:{},l={alignItems:t.alignment},c={rowGap:`${s.value}px`,columnGap:`${i.value}px`};return[a,l,c,t.style]}),o=A(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return ki(()=>{const{size:a="small",wrap:l,direction:c,fill:u}=t;if(Ze(a)){const[d=0,f=0]=a;i.value=d,s.value=f}else{let d;ft(a)?d=a:d=jC[a||"small"]||jC.small,(l||u)&&c==="horizontal"?i.value=s.value=d:c==="horizontal"?(i.value=d,s.value=0):(s.value=d,i.value=0)}}),{classes:n,containerStyle:r,itemStyle:o}}const Bie=ze({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:ce([String,Object,Array]),default:""},style:{type:ce([String,Array,Object]),default:""},alignment:{type:ce(String),default:"center"},prefixCls:{type:String},spacer:{type:ce([Object,String,Number,Array]),default:null,validator:t=>xn(t)||ft(t)||yt(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Gr,validator:t=>ft(t)||Ze(t)&&t.length===2&&t.every(ft)}}),Uie=j({name:"ElSpace",props:Bie,setup(t,{slots:e}){const{classes:n,containerStyle:i,itemStyle:s}=Fie(t);function r(o,a="",l=[]){const{prefixCls:c}=t;return o.forEach((u,d)=>{t1(u)?Ze(u.children)&&u.children.forEach((f,p)=>{t1(f)&&Ze(f.children)?r(f.children,`${a+p}-`,l):l.push(X(qC,{style:s.value,prefixCls:c,key:`nested-${a+p}`},{default:()=>[f]},Us.PROPS|Us.STYLE,["style","prefixCls"]))}):x$(u)&&l.push(X(qC,{style:s.value,prefixCls:c,key:`LoopKey${a+d}`},{default:()=>[u]},Us.PROPS|Us.STYLE,["style","prefixCls"]))}),l}return()=>{var o;const{spacer:a,direction:l}=t,c=Me(e,"default",{key:0},()=>[]);if(((o=c.children)!=null?o:[]).length===0)return null;if(Ze(c.children)){let u=r(c.children);if(a){const d=u.length-1;u=u.reduce((f,p,g)=>{const m=[...f,p];return g!==d&&m.push(X("span",{style:[s.value,l==="vertical"?"width: 100%":null],key:g},[xn(a)?a:zt(a,Us.TEXT)],Us.STYLE)),m},[])}return X("div",{class:n.value,style:i.value},u,Us.STYLE|Us.CLASS)}return c.children}}}),zie=At(Uie),Vie=ze({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:ce([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:ce([String,Object,Array])}}),$ie=j({name:"ElStatistic"}),Hie=j({...$ie,props:Vie,setup(t,{expose:e}){const n=t,i=Oe("statistic"),s=A(()=>{const{value:r,formatter:o,precision:a,decimalSeparator:l,groupSeparator:c}=n;if(ht(o))return o(r);if(!ft(r))return r;let[u,d=""]=String(r).split(".");return d=d.padEnd(a,"0").slice(0,a>0?a:0),u=u.replace(/\B(?=(\d{3})+(?!\d))/g,c),[u,d].join(d?l:"")});return e({displayValue:s}),(r,o)=>(P(),H("div",{class:L(h(i).b())},[r.$slots.title||r.title?(P(),H("div",{key:0,class:L(h(i).e("head"))},[Me(r.$slots,"title",{},()=>[zt(Ge(r.title),1)])],2)):ge("v-if",!0),Y("div",{class:L(h(i).e("content"))},[r.$slots.prefix||r.prefix?(P(),H("div",{key:0,class:L(h(i).e("prefix"))},[Me(r.$slots,"prefix",{},()=>[Y("span",null,Ge(r.prefix),1)])],2)):ge("v-if",!0),Y("span",{class:L(h(i).e("number")),style:nt(r.valueStyle)},Ge(h(s)),7),r.$slots.suffix||r.suffix?(P(),H("div",{key:1,class:L(h(i).e("suffix"))},[Me(r.$slots,"suffix",{},()=>[Y("span",null,Ge(r.suffix),1)])],2)):ge("v-if",!0)],2)],2))}});var Wie=$e(Hie,[["__file","statistic.vue"]]);const YI=At(Wie),Gie=ze({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:ce([Number,Object]),default:0},valueStyle:{type:ce([String,Object,Array])}}),Kie={finish:()=>!0,[mn]:t=>ft(t)},Yie=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],ZC=t=>ft(t)?new Date(t).getTime():t.valueOf(),JC=(t,e)=>{let n=t;const i=/\[([^\]]*)]/g;return Yie.reduce((r,[o,a])=>{const l=new RegExp(`${o}+(?![^\\[\\]]*\\])`,"g");if(l.test(r)){const c=Math.floor(n/a);return n-=c*a,r.replace(l,u=>String(c).padStart(u.length,"0"))}return r},e).replace(i,"$1")},Xie=j({name:"ElCountdown"}),qie=j({...Xie,props:Gie,emits:Kie,setup(t,{expose:e,emit:n}){const i=t;let s;const r=z(ZC(i.value)-Date.now()),o=A(()=>JC(r.value,i.format)),a=u=>JC(u,i.format),l=()=>{s&&(Xl(s),s=void 0)},c=()=>{const u=ZC(i.value),d=()=>{let f=u-Date.now();n("change",f),f<=0?(f=0,l(),n("finish")):s=xa(d),r.value=f};s=xa(d)};return ke(()=>[i.value,i.format],()=>{l(),c()},{immediate:!0}),fn(()=>{l()}),e({displayValue:o}),(u,d)=>(P(),_e(h(YI),{value:r.value,title:u.title,prefix:u.prefix,suffix:u.suffix,"value-style":u.valueStyle,formatter:a},vo({_:2},[Dt(u.$slots,(f,p)=>({name:p,fn:ne(()=>[Me(u.$slots,p)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var jie=$e(qie,[["__file","countdown.vue"]]);const Zie=At(jie),Jie=ze({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),Qie={[mn]:(t,e)=>[t,e].every(ft)},ese=j({name:"ElSteps"}),tse=j({...ese,props:Jie,emits:Qie,setup(t,{emit:e}){const n=t,i=Oe("steps"),{children:s,addChild:r,removeChild:o}=cw(Tt(),"ElStep");return ke(s,()=>{s.value.forEach((a,l)=>{a.setIndex(l)})}),Nt("ElSteps",{props:n,steps:s,addStep:r,removeStep:o}),ke(()=>n.active,(a,l)=>{e(mn,a,l)}),(a,l)=>(P(),H("div",{class:L([h(i).b(),h(i).m(a.simple?"simple":a.direction)])},[Me(a.$slots,"default")],2))}});var nse=$e(tse,[["__file","steps.vue"]]);const ise=ze({title:{type:String,default:""},icon:{type:sn},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),sse=j({name:"ElStep"}),rse=j({...sse,props:ise,setup(t){const e=t,n=Oe("step"),i=z(-1),s=z({}),r=z(""),o=et("ElSteps"),a=Tt();Mt(()=>{ke([()=>o.props.active,()=>o.props.processStatus,()=>o.props.finishStatus],([x])=>{w(x)},{immediate:!0})}),fn(()=>{o.removeStep(S.uid)});const l=A(()=>e.status||r.value),c=A(()=>{const x=o.steps.value[i.value-1];return x?x.currentStatus:"wait"}),u=A(()=>o.props.alignCenter),d=A(()=>o.props.direction==="vertical"),f=A(()=>o.props.simple),p=A(()=>o.steps.value.length),g=A(()=>{var x;return((x=o.steps.value[p.value-1])==null?void 0:x.uid)===(a==null?void 0:a.uid)}),m=A(()=>f.value?"":o.props.space),y=A(()=>[n.b(),n.is(f.value?"simple":o.props.direction),n.is("flex",g.value&&!m.value&&!u.value),n.is("center",u.value&&!d.value&&!f.value)]),v=A(()=>{const x={flexBasis:ft(m.value)?`${m.value}px`:m.value?m.value:`${100/(p.value-(u.value?0:1))}%`};return d.value||g.value&&(x.maxWidth=`${100/p.value}%`),x}),_=x=>{i.value=x},b=x=>{const C=x==="wait",T={transitionDelay:`${C?"-":""}${150*i.value}ms`},E=x===o.props.processStatus||C?0:100;T.borderWidth=E&&!f.value?"1px":0,T[o.props.direction==="vertical"?"height":"width"]=`${E}%`,s.value=T},w=x=>{x>i.value?r.value=o.props.finishStatus:x===i.value&&c.value!=="error"?r.value=o.props.processStatus:r.value="wait";const C=o.steps.value[i.value-1];C&&C.calcProgress(r.value)},S=Xt({uid:a.uid,currentStatus:l,setIndex:_,calcProgress:b});return o.addStep(S),(x,C)=>(P(),H("div",{style:nt(h(v)),class:L(h(y))},[ge(" icon & line "),Y("div",{class:L([h(n).e("head"),h(n).is(h(l))])},[h(f)?ge("v-if",!0):(P(),H("div",{key:0,class:L(h(n).e("line"))},[Y("i",{class:L(h(n).e("line-inner")),style:nt(s.value)},null,6)],2)),Y("div",{class:L([h(n).e("icon"),h(n).is(x.icon||x.$slots.icon?"icon":"text")])},[Me(x.$slots,"icon",{},()=>[x.icon?(P(),_e(h(tt),{key:0,class:L(h(n).e("icon-inner"))},{default:ne(()=>[(P(),_e(kt(x.icon)))]),_:1},8,["class"])):h(l)==="success"?(P(),_e(h(tt),{key:1,class:L([h(n).e("icon-inner"),h(n).is("status")])},{default:ne(()=>[X(h(ph))]),_:1},8,["class"])):h(l)==="error"?(P(),_e(h(tt),{key:2,class:L([h(n).e("icon-inner"),h(n).is("status")])},{default:ne(()=>[X(h(gr))]),_:1},8,["class"])):h(f)?ge("v-if",!0):(P(),H("div",{key:3,class:L(h(n).e("icon-inner"))},Ge(i.value+1),3))])],2)],2),ge(" title & description "),Y("div",{class:L(h(n).e("main"))},[Y("div",{class:L([h(n).e("title"),h(n).is(h(l))])},[Me(x.$slots,"title",{},()=>[zt(Ge(x.title),1)])],2),h(f)?(P(),H("div",{key:0,class:L(h(n).e("arrow"))},null,2)):(P(),H("div",{key:1,class:L([h(n).e("description"),h(n).is(h(l))])},[Me(x.$slots,"description",{},()=>[zt(Ge(x.description),1)])],2))],2)],6))}});var XI=$e(rse,[["__file","item.vue"]]);const ose=At(nse,{Step:XI}),ase=En(XI),lse=ze({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:jR},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:sn},activeActionIcon:{type:sn},activeIcon:{type:sn},inactiveIcon:{type:sn},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:ce(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0},...Ai(["ariaLabel"])}),cse={[It]:t=>Yn(t)||yt(t)||ft(t),[mn]:t=>Yn(t)||yt(t)||ft(t),[ns]:t=>Yn(t)||yt(t)||ft(t)},use=["onClick"],dse=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],fse=["aria-hidden"],hse=["aria-hidden"],pse=["aria-hidden"],qI="ElSwitch",mse=j({name:qI}),gse=j({...mse,props:lse,emits:cse,setup(t,{expose:e,emit:n}){const i=t,{formItem:s}=Xi(),r=ei(),o=Oe("switch"),{inputId:a}=wr(i,{formItemContext:s}),l=os(A(()=>i.loading)),c=z(i.modelValue!==!1),u=z(),d=z(),f=A(()=>[o.b(),o.m(r.value),o.is("disabled",l.value),o.is("checked",v.value)]),p=A(()=>[o.e("label"),o.em("label","left"),o.is("active",!v.value)]),g=A(()=>[o.e("label"),o.em("label","right"),o.is("active",v.value)]),m=A(()=>({width:On(i.width)}));ke(()=>i.modelValue,()=>{c.value=!0});const y=A(()=>c.value?i.modelValue:!1),v=A(()=>y.value===i.activeValue);[i.activeValue,i.inactiveValue].includes(y.value)||(n(It,i.inactiveValue),n(mn,i.inactiveValue),n(ns,i.inactiveValue)),ke(v,S=>{var x;u.value.checked=S,i.validateEvent&&((x=s==null?void 0:s.validate)==null||x.call(s,"change").catch(C=>void 0))});const _=()=>{const S=v.value?i.inactiveValue:i.activeValue;n(It,S),n(mn,S),n(ns,S),rt(()=>{u.value.checked=v.value})},b=()=>{if(l.value)return;const{beforeChange:S}=i;if(!S){_();return}const x=S();[vf(x),Yn(x)].includes(!0)||si(qI,"beforeChange must return type `Promise<boolean>` or `boolean`"),vf(x)?x.then(T=>{T&&_()}).catch(T=>{}):x&&_()},w=()=>{var S,x;(x=(S=u.value)==null?void 0:S.focus)==null||x.call(S)};return Mt(()=>{u.value.checked=v.value}),gi({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-switch",ref:"https://element-plus.org/en-US/component/switch.html"},A(()=>!!i.label)),e({focus:w,checked:v}),(S,x)=>(P(),H("div",{class:L(h(f)),onClick:gt(b,["prevent"])},[Y("input",{id:h(a),ref_key:"input",ref:u,class:L(h(o).e("input")),type:"checkbox",role:"switch","aria-checked":h(v),"aria-disabled":h(l),"aria-label":S.label||S.ariaLabel,name:S.name,"true-value":S.activeValue,"false-value":S.inactiveValue,disabled:h(l),tabindex:S.tabindex,onChange:_,onKeydown:Gt(b,["enter"])},null,42,dse),!S.inlinePrompt&&(S.inactiveIcon||S.inactiveText)?(P(),H("span",{key:0,class:L(h(p))},[S.inactiveIcon?(P(),_e(h(tt),{key:0},{default:ne(()=>[(P(),_e(kt(S.inactiveIcon)))]),_:1})):ge("v-if",!0),!S.inactiveIcon&&S.inactiveText?(P(),H("span",{key:1,"aria-hidden":h(v)},Ge(S.inactiveText),9,fse)):ge("v-if",!0)],2)):ge("v-if",!0),Y("span",{ref_key:"core",ref:d,class:L(h(o).e("core")),style:nt(h(m))},[S.inlinePrompt?(P(),H("div",{key:0,class:L(h(o).e("inner"))},[S.activeIcon||S.inactiveIcon?(P(),_e(h(tt),{key:0,class:L(h(o).is("icon"))},{default:ne(()=>[(P(),_e(kt(h(v)?S.activeIcon:S.inactiveIcon)))]),_:1},8,["class"])):S.activeText||S.inactiveText?(P(),H("span",{key:1,class:L(h(o).is("text")),"aria-hidden":!h(v)},Ge(h(v)?S.activeText:S.inactiveText),11,hse)):ge("v-if",!0)],2)):ge("v-if",!0),Y("div",{class:L(h(o).e("action"))},[S.loading?(P(),_e(h(tt),{key:0,class:L(h(o).is("loading"))},{default:ne(()=>[X(h(Fa))]),_:1},8,["class"])):h(v)?Me(S.$slots,"active-action",{key:1},()=>[S.activeActionIcon?(P(),_e(h(tt),{key:0},{default:ne(()=>[(P(),_e(kt(S.activeActionIcon)))]),_:1})):ge("v-if",!0)]):h(v)?ge("v-if",!0):Me(S.$slots,"inactive-action",{key:2},()=>[S.inactiveActionIcon?(P(),_e(h(tt),{key:0},{default:ne(()=>[(P(),_e(kt(S.inactiveActionIcon)))]),_:1})):ge("v-if",!0)])],2)],6),!S.inlinePrompt&&(S.activeIcon||S.activeText)?(P(),H("span",{key:1,class:L(h(g))},[S.activeIcon?(P(),_e(h(tt),{key:0},{default:ne(()=>[(P(),_e(kt(S.activeIcon)))]),_:1})):ge("v-if",!0),!S.activeIcon&&S.activeText?(P(),H("span",{key:1,"aria-hidden":!h(v)},Ge(S.activeText),9,pse)):ge("v-if",!0)],2)):ge("v-if",!0)],10,use))}});var vse=$e(gse,[["__file","switch.vue"]]);const yse=At(vse),I0=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},bse=function(t,e,n,i,s){if(!e&&!i&&(!s||Array.isArray(s)&&!s.length))return t;typeof n=="string"?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const r=i?null:function(a,l){return s?(Array.isArray(s)||(s=[s]),s.map(c=>typeof c=="string"?Fn(a,c):c(a,l,t))):(e!=="$key"&&Pt(a)&&"$value"in a&&(a=a.$value),[Pt(a)?Fn(a,e):a])},o=function(a,l){if(i)return i(a.value,l.value);for(let c=0,u=a.key.length;c<u;c++){if(a.key[c]<l.key[c])return-1;if(a.key[c]>l.key[c])return 1}return 0};return t.map((a,l)=>({value:a,index:l,key:r?r(a,l):null})).sort((a,l)=>{let c=o(a,l);return c||(c=a.index-l.index),c*+n}).map(a=>a.value)},jI=function(t,e){let n=null;return t.columns.forEach(i=>{i.id===e&&(n=i)}),n},_se=function(t,e){let n=null;for(let i=0;i<t.columns.length;i++){const s=t.columns[i];if(s.columnKey===e){n=s;break}}return n||si("ElTable",`No column matching with column-key: ${e}`),n},QC=function(t,e,n){const i=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return i?jI(t,i[0]):null},Ii=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let i=t;for(const s of n)i=i[s];return`${i}`}else if(typeof e=="function")return e.call(null,t)},El=function(t,e){const n={};return(t||[]).forEach((i,s)=>{n[Ii(i,e)]={row:i,index:s}}),n};function wse(t,e){const n={};let i;for(i in t)n[i]=t[i];for(i in e)if(Ut(e,i)){const s=e[i];typeof s<"u"&&(n[i]=s)}return n}function Lw(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function ZI(t){return t===""||t!==void 0&&(t=Lw(t),Number.isNaN(t)&&(t=80)),t}function xse(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function Sse(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function uf(t,e,n){let i=!1;const s=t.indexOf(e),r=s!==-1,o=a=>{a==="add"?t.push(e):t.splice(s,1),i=!0,Ze(e.children)&&e.children.forEach(l=>{uf(t,l,n??!r)})};return Yn(n)?n&&!r?o("add"):!n&&r&&o("remove"):o(r?"remove":"add"),i}function Mse(t,e,n="children",i="hasChildren"){const s=o=>!(Array.isArray(o)&&o.length);function r(o,a,l){e(o,a,l),a.forEach(c=>{if(c[i]){e(c,null,l+1);return}const u=c[n];s(u)||r(c,u,l+1)})}t.forEach(o=>{if(o[i]){e(o,null,0);return}const a=o[n];s(a)||r(o,a,0)})}let Fs=null;function Cse(t,e,n,i){if((Fs==null?void 0:Fs.trigger)===n)return;Fs==null||Fs();const s=i==null?void 0:i.refs.tableWrapper,r=s==null?void 0:s.dataset.prefix,o={strategy:"fixed",...t.popperOptions},a=X(Yi,{content:e,virtualTriggering:!0,virtualRef:n,appendTo:s,placement:"top",transition:"none",offset:0,hideAfter:0,...t,popperOptions:o,onHide:()=>{Fs==null||Fs()}});a.appContext={...i.appContext,...i};const l=document.createElement("div");ba(a,l),a.component.exposed.onOpen();const c=s==null?void 0:s.querySelector(`.${r}-scrollbar__wrap`);Fs=()=>{ba(null,l),c==null||c.removeEventListener("scroll",Fs),Fs=null},Fs.trigger=n,c==null||c.addEventListener("scroll",Fs)}function JI(t){return t.children?R8(t.children,JI):[t]}function eE(t,e){return t+e.colSpan}const QI=(t,e,n,i)=>{let s=0,r=t;const o=n.states.columns.value;if(i){const l=JI(i[t]);s=o.slice(0,o.indexOf(l[0])).reduce(eE,0),r=s+l.reduce(eE,0)-1}else s=t;let a;switch(e){case"left":r<n.states.fixedLeafColumnsLength.value&&(a="left");break;case"right":s>=o.length-n.states.rightFixedLeafColumnsLength.value&&(a="right");break;default:r<n.states.fixedLeafColumnsLength.value?a="left":s>=o.length-n.states.rightFixedLeafColumnsLength.value&&(a="right")}return a?{direction:a,start:s,after:r}:{}},Nw=(t,e,n,i,s,r=0)=>{const o=[],{direction:a,start:l,after:c}=QI(e,n,i,s);if(a){const u=a==="left";o.push(`${t}-fixed-column--${a}`),u&&c+r===i.states.fixedLeafColumnsLength.value-1?o.push("is-last-column"):!u&&l-r===i.states.columns.value.length-i.states.rightFixedLeafColumnsLength.value&&o.push("is-first-column")}return o};function tE(t,e){return t+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const Dw=(t,e,n,i)=>{const{direction:s,start:r=0,after:o=0}=QI(t,e,n,i);if(!s)return;const a={},l=s==="left",c=n.states.columns.value;return l?a.left=c.slice(0,r).reduce(tE,0):a.right=c.slice(o+1).reverse().reduce(tE,0),a},Du=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};function Ese(t){const e=Tt(),n=z(!1),i=z([]);return{updateExpandRows:()=>{const l=t.data.value||[],c=t.rowKey.value;if(n.value)i.value=l.slice();else if(c){const u=El(i.value,c);i.value=l.reduce((d,f)=>{const p=Ii(f,c);return u[p]&&d.push(f),d},[])}else i.value=[]},toggleRowExpansion:(l,c)=>{uf(i.value,l,c)&&e.emit("expand-change",l,i.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const c=t.data.value||[],u=t.rowKey.value,d=El(c,u);i.value=l.reduce((f,p)=>{const g=d[p];return g&&f.push(g.row),f},[])},isRowExpanded:l=>{const c=t.rowKey.value;return c?!!El(i.value,c)[Ii(l,c)]:i.value.includes(l)},states:{expandRows:i,defaultExpandAll:n}}}function Tse(t){const e=Tt(),n=z(null),i=z(null),s=c=>{e.store.assertRowKey(),n.value=c,o(c)},r=()=>{n.value=null},o=c=>{const{data:u,rowKey:d}=t;let f=null;d.value&&(f=(h(u)||[]).find(p=>Ii(p,d.value)===c)),i.value=f,e.emit("current-change",i.value,null)};return{setCurrentRowKey:s,restoreCurrentRowKey:r,setCurrentRowByKey:o,updateCurrentRow:c=>{const u=i.value;if(c&&c!==u){i.value=c,e.emit("current-change",i.value,u);return}!c&&u&&(i.value=null,e.emit("current-change",null,u))},updateCurrentRowData:()=>{const c=t.rowKey.value,u=t.data.value||[],d=i.value;if(!u.includes(d)&&d){if(c){const f=Ii(d,c);o(f)}else i.value=null;i.value===null&&e.emit("current-change",null,d)}else n.value&&(o(n.value),r())},states:{_currentRowKey:n,currentRow:i}}}function Ase(t){const e=z([]),n=z({}),i=z(16),s=z(!1),r=z({}),o=z("hasChildren"),a=z("children"),l=Tt(),c=A(()=>{if(!t.rowKey.value)return{};const v=t.data.value||[];return d(v)}),u=A(()=>{const v=t.rowKey.value,_=Object.keys(r.value),b={};return _.length&&_.forEach(w=>{if(r.value[w].length){const S={children:[]};r.value[w].forEach(x=>{const C=Ii(x,v);S.children.push(C),x[o.value]&&!b[C]&&(b[C]={children:[]})}),b[w]=S}}),b}),d=v=>{const _=t.rowKey.value,b={};return Mse(v,(w,S,x)=>{const C=Ii(w,_);Array.isArray(S)?b[C]={children:S.map(T=>Ii(T,_)),level:x}:s.value&&(b[C]={children:[],lazy:!0,level:x})},a.value,o.value),b},f=(v=!1,_=(b=>(b=l.store)==null?void 0:b.states.defaultExpandAll.value)())=>{var b;const w=c.value,S=u.value,x=Object.keys(w),C={};if(x.length){const T=h(n),E=[],M=(O,F)=>{if(v)return e.value?_||e.value.includes(F):!!(_||O!=null&&O.expanded);{const V=_||e.value&&e.value.includes(F);return!!(O!=null&&O.expanded||V)}};x.forEach(O=>{const F=T[O],V={...w[O]};if(V.expanded=M(F,O),V.lazy){const{loaded:U=!1,loading:D=!1}=F||{};V.loaded=!!U,V.loading=!!D,E.push(O)}C[O]=V});const R=Object.keys(S);s.value&&R.length&&E.length&&R.forEach(O=>{const F=T[O],V=S[O].children;if(E.includes(O)){if(C[O].children.length!==0)throw new Error("[ElTable]children must be an empty array.");C[O].children=V}else{const{loaded:U=!1,loading:D=!1}=F||{};C[O]={lazy:!0,loaded:!!U,loading:!!D,expanded:M(F,O),children:V,level:""}}})}n.value=C,(b=l.store)==null||b.updateTableScrollY()};ke(()=>e.value,()=>{f(!0)}),ke(()=>c.value,()=>{f()}),ke(()=>u.value,()=>{f()});const p=v=>{e.value=v,f()},g=(v,_)=>{l.store.assertRowKey();const b=t.rowKey.value,w=Ii(v,b),S=w&&n.value[w];if(w&&S&&"expanded"in S){const x=S.expanded;_=typeof _>"u"?!S.expanded:_,n.value[w].expanded=_,x!==_&&l.emit("expand-change",v,_),l.store.updateTableScrollY()}},m=v=>{l.store.assertRowKey();const _=t.rowKey.value,b=Ii(v,_),w=n.value[b];s.value&&w&&"loaded"in w&&!w.loaded?y(v,b,w):g(v,void 0)},y=(v,_,b)=>{const{load:w}=l.props;w&&!n.value[_].loaded&&(n.value[_].loading=!0,w(v,b,S=>{if(!Array.isArray(S))throw new TypeError("[ElTable] data must be an array");n.value[_].loading=!1,n.value[_].loaded=!0,n.value[_].expanded=!0,S.length&&(r.value[_]=S),l.emit("expand-change",v,!0)}))};return{loadData:y,loadOrToggle:m,toggleTreeExpansion:g,updateTreeExpandKeys:p,updateTreeData:f,normalize:d,states:{expandRowKeys:e,treeData:n,indent:i,lazy:s,lazyTreeNodeMap:r,lazyColumnIdentifier:o,childrenColumnName:a}}}const Rse=(t,e)=>{const n=e.sortingColumn;return!n||typeof n.sortable=="string"?t:bse(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},Am=t=>{const e=[];return t.forEach(n=>{n.children&&n.children.length>0?e.push.apply(e,Am(n.children)):e.push(n)}),e};function Pse(){var t;const e=Tt(),{size:n}=Ti((t=e.proxy)==null?void 0:t.$props),i=z(null),s=z([]),r=z([]),o=z(!1),a=z([]),l=z([]),c=z([]),u=z([]),d=z([]),f=z([]),p=z([]),g=z([]),m=[],y=z(0),v=z(0),_=z(0),b=z(!1),w=z([]),S=z(!1),x=z(!1),C=z(null),T=z({}),E=z(null),M=z(null),R=z(null),O=z(null),F=z(null);ke(s,()=>e.state&&I(!1),{deep:!0});const V=()=>{if(!i.value)throw new Error("[ElTable] prop row-key is required")},U=He=>{var Se;(Se=He.children)==null||Se.forEach(Le=>{Le.fixed=He.fixed,U(Le)})},D=()=>{a.value.forEach(pe=>{U(pe)}),u.value=a.value.filter(pe=>pe.fixed===!0||pe.fixed==="left"),d.value=a.value.filter(pe=>pe.fixed==="right"),u.value.length>0&&a.value[0]&&a.value[0].type==="selection"&&!a.value[0].fixed&&(a.value[0].fixed=!0,u.value.unshift(a.value[0]));const He=a.value.filter(pe=>!pe.fixed);l.value=[].concat(u.value).concat(He).concat(d.value);const Se=Am(He),Le=Am(u.value),we=Am(d.value);y.value=Se.length,v.value=Le.length,_.value=we.length,c.value=[].concat(Le).concat(Se).concat(we),o.value=u.value.length>0||d.value.length>0},I=(He,Se=!1)=>{He&&D(),Se?e.state.doLayout():e.state.debouncedUpdateLayout()},N=He=>w.value.includes(He),k=()=>{b.value=!1,w.value.length&&(w.value=[],e.emit("selection-change",[]))},B=()=>{let He;if(i.value){He=[];const Se=El(w.value,i.value),Le=El(s.value,i.value);for(const we in Se)Ut(Se,we)&&!Le[we]&&He.push(Se[we].row)}else He=w.value.filter(Se=>!s.value.includes(Se));if(He.length){const Se=w.value.filter(Le=>!He.includes(Le));w.value=Se,e.emit("selection-change",Se.slice())}},G=()=>(w.value||[]).slice(),J=(He,Se=void 0,Le=!0)=>{if(uf(w.value,He,Se)){const pe=(w.value||[]).slice();Le&&e.emit("select",pe,He),e.emit("selection-change",pe)}},re=()=>{var He,Se;const Le=x.value?!b.value:!(b.value||w.value.length);b.value=Le;let we=!1,pe=0;const Ae=(Se=(He=e==null?void 0:e.store)==null?void 0:He.states)==null?void 0:Se.rowKey.value;s.value.forEach((je,fe)=>{const le=fe+pe;C.value?C.value.call(null,je,le)&&uf(w.value,je,Le)&&(we=!0):uf(w.value,je,Le)&&(we=!0),pe+=te(Ii(je,Ae))}),we&&e.emit("selection-change",w.value?w.value.slice():[]),e.emit("select-all",w.value)},ee=()=>{const He=El(w.value,i.value);s.value.forEach(Se=>{const Le=Ii(Se,i.value),we=He[Le];we&&(w.value[we.index]=Se)})},ye=()=>{var He,Se,Le;if(((He=s.value)==null?void 0:He.length)===0){b.value=!1;return}let we;i.value&&(we=El(w.value,i.value));const pe=function(le){return we?!!we[Ii(le,i.value)]:w.value.includes(le)};let Ae=!0,je=0,fe=0;for(let le=0,Be=(s.value||[]).length;le<Be;le++){const We=(Le=(Se=e==null?void 0:e.store)==null?void 0:Se.states)==null?void 0:Le.rowKey.value,ot=le+fe,pt=s.value[le],dt=C.value&&C.value.call(null,pt,ot);if(pe(pt))je++;else if(!C.value||dt){Ae=!1;break}fe+=te(Ii(pt,We))}je===0&&(Ae=!1),b.value=Ae},te=He=>{var Se;if(!e||!e.store)return 0;const{treeData:Le}=e.store.states;let we=0;const pe=(Se=Le.value[He])==null?void 0:Se.children;return pe&&(we+=pe.length,pe.forEach(Ae=>{we+=te(Ae)})),we},oe=(He,Se)=>{Array.isArray(He)||(He=[He]);const Le={};return He.forEach(we=>{T.value[we.id]=Se,Le[we.columnKey||we.id]=Se}),Le},de=(He,Se,Le)=>{M.value&&M.value!==He&&(M.value.order=null),M.value=He,R.value=Se,O.value=Le},Ne=()=>{let He=h(r);Object.keys(T.value).forEach(Se=>{const Le=T.value[Se];if(!Le||Le.length===0)return;const we=jI({columns:c.value},Se);we&&we.filterMethod&&(He=He.filter(pe=>Le.some(Ae=>we.filterMethod.call(null,Ae,pe,we))))}),E.value=He},Q=()=>{s.value=Rse(E.value,{sortingColumn:M.value,sortProp:R.value,sortOrder:O.value})},Te=(He=void 0)=>{He&&He.filter||Ne(),Q()},me=He=>{const{tableHeaderRef:Se}=e.refs;if(!Se)return;const Le=Object.assign({},Se.filterPanels),we=Object.keys(Le);if(we.length)if(typeof He=="string"&&(He=[He]),Array.isArray(He)){const pe=He.map(Ae=>_se({columns:c.value},Ae));we.forEach(Ae=>{const je=pe.find(fe=>fe.id===Ae);je&&(je.filteredValue=[])}),e.store.commit("filterChange",{column:pe,values:[],silent:!0,multi:!0})}else we.forEach(pe=>{const Ae=c.value.find(je=>je.id===pe);Ae&&(Ae.filteredValue=[])}),T.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},K=()=>{M.value&&(de(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:q,toggleRowExpansion:ue,updateExpandRows:ve,states:he,isRowExpanded:xe}=Ese({data:s,rowKey:i}),{updateTreeExpandKeys:W,toggleTreeExpansion:$,updateTreeData:ae,loadOrToggle:se,states:Ee}=Ase({data:s,rowKey:i}),{updateCurrentRowData:Re,updateCurrentRow:be,setCurrentRowKey:Pe,states:Fe}=Tse({data:s,rowKey:i});return{assertRowKey:V,updateColumns:D,scheduleLayout:I,isSelected:N,clearSelection:k,cleanSelection:B,getSelectionRows:G,toggleRowSelection:J,_toggleAllSelection:re,toggleAllSelection:null,updateSelectionByRowKey:ee,updateAllSelected:ye,updateFilters:oe,updateCurrentRow:be,updateSort:de,execFilter:Ne,execSort:Q,execQuery:Te,clearFilter:me,clearSort:K,toggleRowExpansion:ue,setExpandRowKeysAdapter:He=>{q(He),W(He)},setCurrentRowKey:Pe,toggleRowExpansionAdapter:(He,Se)=>{c.value.some(({type:we})=>we==="expand")?ue(He,Se):$(He,Se)},isRowExpanded:xe,updateExpandRows:ve,updateCurrentRowData:Re,loadOrToggle:se,updateTreeData:ae,states:{tableSize:n,rowKey:i,data:s,_data:r,isComplex:o,_columns:a,originColumns:l,columns:c,fixedColumns:u,rightFixedColumns:d,leafColumns:f,fixedLeafColumns:p,rightFixedLeafColumns:g,updateOrderFns:m,leafColumnsLength:y,fixedLeafColumnsLength:v,rightFixedLeafColumnsLength:_,isAllSelected:b,selection:w,reserveSelection:S,selectOnIndeterminate:x,selectable:C,filters:T,filteredData:E,sortingColumn:M,sortProp:R,sortOrder:O,hoverRow:F,...he,...Ee,...Fe}}}function z1(t,e){return t.map(n=>{var i;return n.id===e.id?e:((i=n.children)!=null&&i.length&&(n.children=z1(n.children,e)),n)})}function V1(t){t.forEach(e=>{var n,i;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(i=e.children)!=null&&i.length&&V1(e.children)}),t.sort((e,n)=>e.no-n.no)}function Ise(){const t=Tt(),e=Pse();return{ns:Oe("table"),...e,mutations:{setData(o,a){const l=h(o._data)!==a;o.data.value=a,o._data.value=a,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),h(o.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):l?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(o,a,l,c){const u=h(o._columns);let d=[];l?(l&&!l.children&&(l.children=[]),l.children.push(a),d=z1(u,l)):(u.push(a),d=u),V1(d),o._columns.value=d,o.updateOrderFns.push(c),a.type==="selection"&&(o.selectable.value=a.selectable,o.reserveSelection.value=a.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(o,a){var l;((l=a.getColumnIndex)==null?void 0:l.call(a))!==a.no&&(V1(o._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(o,a,l,c){const u=h(o._columns)||[];if(l)l.children.splice(l.children.findIndex(f=>f.id===a.id),1),rt(()=>{var f;((f=l.children)==null?void 0:f.length)===0&&delete l.children}),o._columns.value=z1(u,l);else{const f=u.indexOf(a);f>-1&&(u.splice(f,1),o._columns.value=u)}const d=o.updateOrderFns.indexOf(c);d>-1&&o.updateOrderFns.splice(d,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(o,a){const{prop:l,order:c,init:u}=a;if(l){const d=h(o.columns).find(f=>f.property===l);d&&(d.order=c,t.store.updateSort(d,l,c),t.store.commit("changeSortCondition",{init:u}))}},changeSortCondition(o,a){const{sortingColumn:l,sortProp:c,sortOrder:u}=o,d=h(l),f=h(c),p=h(u);p===null&&(o.sortingColumn.value=null,o.sortProp.value=null);const g={filter:!0};t.store.execQuery(g),(!a||!(a.silent||a.init))&&t.emit("sort-change",{column:d,prop:f,order:p}),t.store.updateTableScrollY()},filterChange(o,a){const{column:l,values:c,silent:u}=a,d=t.store.updateFilters(l,c);t.store.execQuery(),u||t.emit("filter-change",d),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(o,a){t.store.toggleRowSelection(a),t.store.updateAllSelected()},setHoverRow(o,a){o.hoverRow.value=a},setCurrentRow(o,a){t.store.updateCurrentRow(a)}},commit:function(o,...a){const l=t.store.mutations;if(l[o])l[o].apply(t,[t.store.states].concat(a));else throw new Error(`Action not found: ${o}`)},updateTableScrollY:function(){rt(()=>t.layout.updateScrollY.apply(t.layout))}}}const df={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function kse(t,e){if(!t)throw new Error("Table is required.");const n=Ise();return n.toggleAllSelection=vs(n._toggleAllSelection,10),Object.keys(df).forEach(i=>{ek(tk(e,i),i,n)}),Ose(n,e),n}function Ose(t,e){Object.keys(df).forEach(n=>{ke(()=>tk(e,n),i=>{ek(i,n,t)})})}function ek(t,e,n){let i=t,s=df[e];typeof df[e]=="object"&&(s=s.key,i=i||df[e].default),n.states[s].value=i}function tk(t,e){if(e.includes(".")){const n=e.split(".");let i=t;return n.forEach(s=>{i=i[s]}),i}else return t[e]}class Lse{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=z(null),this.scrollX=z(!1),this.scrollY=z(!1),this.bodyWidth=z(null),this.fixedWidth=z(null),this.rightFixedWidth=z(null),this.gutterWidth=0;for(const n in e)Ut(e,n)&&(yn(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let i=!0;const s=this.scrollY.value;return i=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=i,s!==i}return!1}setHeight(e,n="height"){if(!Ft)return;const i=this.table.vnode.el;if(e=xse(e),this.height.value=Number(e),!i&&(e||e===0))return rt(()=>this.setHeight(e,n));typeof e=="number"?(i.style[n]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(i.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(i=>{i.isColumnGroup?e.push.apply(e,i.columns):e.push(i)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!Ft)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let i=0;const s=this.getFlattenColumns(),r=s.filter(l=>typeof l.width!="number");if(s.forEach(l=>{typeof l.width=="number"&&l.realWidth&&(l.realWidth=null)}),r.length>0&&e){if(s.forEach(l=>{i+=Number(l.width||l.minWidth||80)}),i<=n){this.scrollX.value=!1;const l=n-i;if(r.length===1)r[0].realWidth=Number(r[0].minWidth||80)+l;else{const c=r.reduce((f,p)=>f+Number(p.minWidth||80),0),u=l/c;let d=0;r.forEach((f,p)=>{if(p===0)return;const g=Math.floor(Number(f.minWidth||80)*u);d+=g,f.realWidth=Number(f.minWidth||80)+g}),r[0].realWidth=Number(r[0].minWidth||80)+l-d}}else this.scrollX.value=!0,r.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(i,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else s.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),i+=l.realWidth}),this.scrollX.value=i>n,this.bodyWidth.value=i;const o=this.store.states.fixedColumns.value;if(o.length>0){let l=0;o.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.fixedWidth.value=l}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let l=0;a.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(i=>{var s,r;switch(e){case"columns":(s=i.state)==null||s.onColumnsChange(this);break;case"scrollable":(r=i.state)==null||r.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:Nse}=tr,Dse=j({name:"ElTableFilterPanel",components:{ElCheckbox:tr,ElCheckboxGroup:Nse,ElScrollbar:Po,ElTooltip:Yi,ElIcon:tt,ArrowDown:Ao,ArrowUp:N_},directives:{ClickOutside:_o},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(t){const e=Tt(),{t:n}=$t(),i=Oe("table-filter"),s=e==null?void 0:e.parent;s.filterPanels.value[t.column.id]||(s.filterPanels.value[t.column.id]=e);const r=z(!1),o=z(null),a=A(()=>t.column&&t.column.filters),l=A(()=>t.column.filterClassName?`${i.b()} ${t.column.filterClassName}`:i.b()),c=A({get:()=>{var S;return(((S=t.column)==null?void 0:S.filteredValue)||[])[0]},set:S=>{u.value&&(typeof S<"u"&&S!==null?u.value.splice(0,1,S):u.value.splice(0,1))}}),u=A({get(){return t.column?t.column.filteredValue||[]:[]},set(S){t.column&&t.upDataColumn("filteredValue",S)}}),d=A(()=>t.column?t.column.filterMultiple:!0),f=S=>S.value===c.value,p=()=>{r.value=!1},g=S=>{S.stopPropagation(),r.value=!r.value},m=()=>{r.value=!1},y=()=>{b(u.value),p()},v=()=>{u.value=[],b(u.value),p()},_=S=>{c.value=S,b(typeof S<"u"&&S!==null?u.value:[]),p()},b=S=>{t.store.commit("filterChange",{column:t.column,values:S}),t.store.updateAllSelected()};ke(r,S=>{t.column&&t.upDataColumn("filterOpened",S)},{immediate:!0});const w=A(()=>{var S,x;return(x=(S=o.value)==null?void 0:S.popperRef)==null?void 0:x.contentRef});return{tooltipVisible:r,multiple:d,filterClassName:l,filteredValue:u,filterValue:c,filters:a,handleConfirm:y,handleReset:v,handleSelect:_,isActive:f,t:n,ns:i,showFilterPanel:g,hideFilterPanel:m,popperPaneRef:w,tooltip:o}}}),Fse={key:0},Bse=["disabled"],Use=["label","onClick"];function zse(t,e,n,i,s,r){const o=bt("el-checkbox"),a=bt("el-checkbox-group"),l=bt("el-scrollbar"),c=bt("arrow-up"),u=bt("arrow-down"),d=bt("el-icon"),f=bt("el-tooltip"),p=zg("click-outside");return P(),_e(f,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:""},{content:ne(()=>[t.multiple?(P(),H("div",Fse,[Y("div",{class:L(t.ns.e("content"))},[X(l,{"wrap-class":t.ns.e("wrap")},{default:ne(()=>[X(a,{modelValue:t.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=g=>t.filteredValue=g),class:L(t.ns.e("checkbox-group"))},{default:ne(()=>[(P(!0),H(st,null,Dt(t.filters,g=>(P(),_e(o,{key:g.value,value:g.value},{default:ne(()=>[zt(Ge(g.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),Y("div",{class:L(t.ns.e("bottom"))},[Y("button",{class:L({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...g)=>t.handleConfirm&&t.handleConfirm(...g))},Ge(t.t("el.table.confirmFilter")),11,Bse),Y("button",{type:"button",onClick:e[2]||(e[2]=(...g)=>t.handleReset&&t.handleReset(...g))},Ge(t.t("el.table.resetFilter")),1)],2)])):(P(),H("ul",{key:1,class:L(t.ns.e("list"))},[Y("li",{class:L([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:e[3]||(e[3]=g=>t.handleSelect(null))},Ge(t.t("el.table.clearFilter")),3),(P(!0),H(st,null,Dt(t.filters,g=>(P(),H("li",{key:g.value,class:L([t.ns.e("list-item"),t.ns.is("active",t.isActive(g))]),label:g.value,onClick:m=>t.handleSelect(g.value)},Ge(g.text),11,Use))),128))],2))]),default:ne(()=>[St((P(),H("span",{class:L([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:e[4]||(e[4]=(...g)=>t.showFilterPanel&&t.showFilterPanel(...g))},[X(d,null,{default:ne(()=>[t.column.filterOpened?(P(),_e(c,{key:0})):(P(),_e(u,{key:1}))]),_:1})],2)),[[p,t.hideFilterPanel,t.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var Vse=$e(Dse,[["render",zse],["__file","filter-panel.vue"]]);function nk(t){const e=Tt();Hg(()=>{n.value.addObserver(e)}),Mt(()=>{i(n.value),s(n.value)}),Co(()=>{i(n.value),s(n.value)}),La(()=>{n.value.removeObserver(e)});const n=A(()=>{const r=t.layout;if(!r)throw new Error("Can not find table layout.");return r}),i=r=>{var o;const a=((o=t.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col"))||[];if(!a.length)return;const l=r.getFlattenColumns(),c={};l.forEach(u=>{c[u.id]=u});for(let u=0,d=a.length;u<d;u++){const f=a[u],p=f.getAttribute("name"),g=c[p];g&&f.setAttribute("width",g.realWidth||g.width)}},s=r=>{var o,a;const l=((o=t.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let u=0,d=l.length;u<d;u++)l[u].setAttribute("width",r.scrollY.value?r.gutterWidth:"0");const c=((a=t.vnode.el)==null?void 0:a.querySelectorAll("th.gutter"))||[];for(let u=0,d=c.length;u<d;u++){const f=c[u];f.style.width=r.scrollY.value?`${r.gutterWidth}px`:"0",f.style.display=r.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:i,onScrollableChange:s}}const Kr=Symbol("ElTable");function $se(t,e){const n=Tt(),i=et(Kr),s=m=>{m.stopPropagation()},r=(m,y)=>{!y.filters&&y.sortable?g(m,y,!1):y.filterable&&!y.sortable&&s(m),i==null||i.emit("header-click",y,m)},o=(m,y)=>{i==null||i.emit("header-contextmenu",y,m)},a=z(null),l=z(!1),c=z({}),u=(m,y)=>{if(Ft&&!(y.children&&y.children.length>0)&&a.value&&t.border){l.value=!0;const v=i;e("set-drag-visible",!0);const b=(v==null?void 0:v.vnode.el).getBoundingClientRect().left,w=n.vnode.el.querySelector(`th.${y.id}`),S=w.getBoundingClientRect(),x=S.left-b+30;$s(w,"noclick"),c.value={startMouseLeft:m.clientX,startLeft:S.right-b,startColumnLeft:S.left-b,tableLeft:b};const C=v==null?void 0:v.refs.resizeProxy;C.style.left=`${c.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const T=M=>{const R=M.clientX-c.value.startMouseLeft,O=c.value.startLeft+R;C.style.left=`${Math.max(x,O)}px`},E=()=>{if(l.value){const{startColumnLeft:M,startLeft:R}=c.value,F=Number.parseInt(C.style.left,10)-M;y.width=y.realWidth=F,v==null||v.emit("header-dragend",y.width,R-M,y,m),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,a.value=null,c.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",E),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Ki(w,"noclick")},0)};document.addEventListener("mousemove",T),document.addEventListener("mouseup",E)}},d=(m,y)=>{if(y.children&&y.children.length>0)return;const v=m.target;if(!Js(v))return;const _=v==null?void 0:v.closest("th");if(!(!y||!y.resizable)&&!l.value&&t.border){const b=_.getBoundingClientRect(),w=document.body.style;b.width>12&&b.right-m.pageX<8?(w.cursor="col-resize",Ys(_,"is-sortable")&&(_.style.cursor="col-resize"),a.value=y):l.value||(w.cursor="",Ys(_,"is-sortable")&&(_.style.cursor="pointer"),a.value=null)}},f=()=>{Ft&&(document.body.style.cursor="")},p=({order:m,sortOrders:y})=>{if(m==="")return y[0];const v=y.indexOf(m||null);return y[v>y.length-2?0:v+1]},g=(m,y,v)=>{var _;m.stopPropagation();const b=y.order===v?null:v||p(y),w=(_=m.target)==null?void 0:_.closest("th");if(w&&Ys(w,"noclick")){Ki(w,"noclick");return}if(!y.sortable)return;const S=t.store.states;let x=S.sortProp.value,C;const T=S.sortingColumn.value;(T!==y||T===y&&T.order===null)&&(T&&(T.order=null),S.sortingColumn.value=y,x=y.property),b?C=y.order=b:C=y.order=null,S.sortProp.value=x,S.sortOrder.value=C,i==null||i.store.commit("changeSortCondition")};return{handleHeaderClick:r,handleHeaderContextMenu:o,handleMouseDown:u,handleMouseMove:d,handleMouseOut:f,handleSortClick:g,handleFilterClick:s}}function Hse(t){const e=et(Kr),n=Oe("table");return{getHeaderRowStyle:a=>{const l=e==null?void 0:e.props.headerRowStyle;return typeof l=="function"?l.call(null,{rowIndex:a}):l},getHeaderRowClass:a=>{const l=[],c=e==null?void 0:e.props.headerRowClassName;return typeof c=="string"?l.push(c):typeof c=="function"&&l.push(c.call(null,{rowIndex:a})),l.join(" ")},getHeaderCellStyle:(a,l,c,u)=>{var d;let f=(d=e==null?void 0:e.props.headerCellStyle)!=null?d:{};typeof f=="function"&&(f=f.call(null,{rowIndex:a,columnIndex:l,row:c,column:u}));const p=Dw(l,u.fixed,t.store,c);return Du(p,"left"),Du(p,"right"),Object.assign({},f,p)},getHeaderCellClass:(a,l,c,u)=>{const d=Nw(n.b(),l,u.fixed,t.store,c),f=[u.id,u.order,u.headerAlign,u.className,u.labelClassName,...d];u.children||f.push("is-leaf"),u.sortable&&f.push("is-sortable");const p=e==null?void 0:e.props.headerCellClassName;return typeof p=="string"?f.push(p):typeof p=="function"&&f.push(p.call(null,{rowIndex:a,columnIndex:l,row:c,column:u})),f.push(n.e("cell")),f.filter(g=>!!g).join(" ")}}}const ik=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,ik(n.children))):e.push(n)}),e},Wse=t=>{let e=1;const n=(r,o)=>{if(o&&(r.level=o.level+1,e<r.level&&(e=r.level)),r.children){let a=0;r.children.forEach(l=>{n(l,r),a+=l.colSpan}),r.colSpan=a}else r.colSpan=1};t.forEach(r=>{r.level=1,n(r,void 0)});const i=[];for(let r=0;r<e;r++)i.push([]);return ik(t).forEach(r=>{r.children?(r.rowSpan=1,r.children.forEach(o=>o.isSubColumn=!0)):r.rowSpan=e-r.level+1,i[r.level-1].push(r)}),i};function Gse(t){const e=et(Kr),n=A(()=>Wse(t.store.states.originColumns.value));return{isGroup:A(()=>{const r=n.value.length>1;return r&&e&&(e.state.isGroup.value=!0),r}),toggleAllSelection:r=>{r.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var Kse=j({name:"ElTableHeader",components:{ElCheckbox:tr},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t,{emit:e}){const n=Tt(),i=et(Kr),s=Oe("table"),r=z({}),{onColumnsChange:o,onScrollableChange:a}=nk(i);Mt(async()=>{await rt(),await rt();const{prop:x,order:C}=t.defaultSort;i==null||i.store.commit("sort",{prop:x,order:C,init:!0})});const{handleHeaderClick:l,handleHeaderContextMenu:c,handleMouseDown:u,handleMouseMove:d,handleMouseOut:f,handleSortClick:p,handleFilterClick:g}=$se(t,e),{getHeaderRowStyle:m,getHeaderRowClass:y,getHeaderCellStyle:v,getHeaderCellClass:_}=Hse(t),{isGroup:b,toggleAllSelection:w,columnRows:S}=Gse(t);return n.state={onColumnsChange:o,onScrollableChange:a},n.filterPanels=r,{ns:s,filterPanels:r,onColumnsChange:o,onScrollableChange:a,columnRows:S,getHeaderRowClass:y,getHeaderRowStyle:m,getHeaderCellClass:_,getHeaderCellStyle:v,handleHeaderClick:l,handleHeaderContextMenu:c,handleMouseDown:u,handleMouseMove:d,handleMouseOut:f,handleSortClick:p,handleFilterClick:g,isGroup:b,toggleAllSelection:w}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:i,getHeaderCellClass:s,getHeaderRowClass:r,getHeaderRowStyle:o,handleHeaderClick:a,handleHeaderContextMenu:l,handleMouseDown:c,handleMouseMove:u,handleSortClick:d,handleMouseOut:f,store:p,$parent:g}=this;let m=1;return at("thead",{class:{[t.is("group")]:e}},n.map((y,v)=>at("tr",{class:r(v),key:v,style:o(v)},y.map((_,b)=>(_.rowSpan>m&&(m=_.rowSpan),at("th",{class:s(v,b,y,_),colspan:_.colSpan,key:`${_.id}-thead`,rowspan:_.rowSpan,style:i(v,b,y,_),onClick:w=>a(w,_),onContextmenu:w=>l(w,_),onMousedown:w=>c(w,_),onMousemove:w=>u(w,_),onMouseout:f},[at("div",{class:["cell",_.filteredValue&&_.filteredValue.length>0?"highlight":""]},[_.renderHeader?_.renderHeader({column:_,$index:b,store:p,_self:g}):_.label,_.sortable&&at("span",{onClick:w=>d(w,_),class:"caret-wrapper"},[at("i",{onClick:w=>d(w,_,"ascending"),class:"sort-caret ascending"}),at("i",{onClick:w=>d(w,_,"descending"),class:"sort-caret descending"})]),_.filterable&&at(Vse,{store:p,placement:_.filterPlacement||"bottom-start",column:_,upDataColumn:(w,S)=>{_[w]=S}})])]))))))}});function Yse(t){const e=et(Kr),n=z(""),i=z(at("div")),s=(g,m,y)=>{var v;const _=e,b=I0(g);let w;const S=(v=_==null?void 0:_.vnode.el)==null?void 0:v.dataset.prefix;b&&(w=QC({columns:t.store.states.columns.value},b,S),w&&(_==null||_.emit(`cell-${y}`,m,w,b,g))),_==null||_.emit(`row-${y}`,m,w,g)},r=(g,m)=>{s(g,m,"dblclick")},o=(g,m)=>{t.store.commit("setCurrentRow",m),s(g,m,"click")},a=(g,m)=>{s(g,m,"contextmenu")},l=vs(g=>{t.store.commit("setHoverRow",g)},30),c=vs(()=>{t.store.commit("setHoverRow",null)},30),u=g=>{const m=window.getComputedStyle(g,null),y=Number.parseInt(m.paddingLeft,10)||0,v=Number.parseInt(m.paddingRight,10)||0,_=Number.parseInt(m.paddingTop,10)||0,b=Number.parseInt(m.paddingBottom,10)||0;return{left:y,right:v,top:_,bottom:b}},d=(g,m,y)=>{let v=m.target.parentNode;for(;g>1&&(v=v==null?void 0:v.nextSibling,!(!v||v.nodeName!=="TR"));)y(v,"hover-row hover-fixed-row"),g--};return{handleDoubleClick:r,handleClick:o,handleContextMenu:a,handleMouseEnter:l,handleMouseLeave:c,handleCellMouseEnter:(g,m,y)=>{var v;const _=e,b=I0(g),w=(v=_==null?void 0:_.vnode.el)==null?void 0:v.dataset.prefix;if(b){const k=QC({columns:t.store.states.columns.value},b,w);b.rowSpan>1&&d(b.rowSpan,g,$s);const B=_.hoverState={cell:b,column:k,row:m};_==null||_.emit("cell-mouse-enter",B.row,B.column,B.cell,g)}if(!y)return;const S=g.target.querySelector(".cell");if(!(Ys(S,`${w}-tooltip`)&&S.childNodes.length))return;const x=document.createRange();x.setStart(S,0),x.setEnd(S,S.childNodes.length);let C=x.getBoundingClientRect().width,T=x.getBoundingClientRect().height;const E=C-Math.floor(C),{width:M,height:R}=S.getBoundingClientRect();E<.001&&(C=Math.floor(C)),T-Math.floor(T)<.001&&(T=Math.floor(T));const{top:F,left:V,right:U,bottom:D}=u(S),I=V+U,N=F+D;(C+I>M||T+N>R||S.scrollWidth>M)&&Cse(y,b.innerText||b.textContent,b,_)},handleCellMouseLeave:g=>{const m=I0(g);if(!m)return;m.rowSpan>1&&d(m.rowSpan,g,Ki);const y=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",y==null?void 0:y.row,y==null?void 0:y.column,y==null?void 0:y.cell,g)},tooltipContent:n,tooltipTrigger:i}}function Xse(t){const e=et(Kr),n=Oe("table");return{getRowStyle:(c,u)=>{const d=e==null?void 0:e.props.rowStyle;return typeof d=="function"?d.call(null,{row:c,rowIndex:u}):d||null},getRowClass:(c,u)=>{const d=[n.e("row")];e!=null&&e.props.highlightCurrentRow&&c===t.store.states.currentRow.value&&d.push("current-row"),t.stripe&&u%2===1&&d.push(n.em("row","striped"));const f=e==null?void 0:e.props.rowClassName;return typeof f=="string"?d.push(f):typeof f=="function"&&d.push(f.call(null,{row:c,rowIndex:u})),d},getCellStyle:(c,u,d,f)=>{const p=e==null?void 0:e.props.cellStyle;let g=p??{};typeof p=="function"&&(g=p.call(null,{rowIndex:c,columnIndex:u,row:d,column:f}));const m=Dw(u,t==null?void 0:t.fixed,t.store);return Du(m,"left"),Du(m,"right"),Object.assign({},g,m)},getCellClass:(c,u,d,f,p)=>{const g=Nw(n.b(),u,t==null?void 0:t.fixed,t.store,void 0,p),m=[f.id,f.align,f.className,...g],y=e==null?void 0:e.props.cellClassName;return typeof y=="string"?m.push(y):typeof y=="function"&&m.push(y.call(null,{rowIndex:c,columnIndex:u,row:d,column:f})),m.push(n.e("cell")),m.filter(v=>!!v).join(" ")},getSpan:(c,u,d,f)=>{let p=1,g=1;const m=e==null?void 0:e.props.spanMethod;if(typeof m=="function"){const y=m({row:c,column:u,rowIndex:d,columnIndex:f});Array.isArray(y)?(p=y[0],g=y[1]):typeof y=="object"&&(p=y.rowspan,g=y.colspan)}return{rowspan:p,colspan:g}},getColspanRealWidth:(c,u,d)=>{if(u<1)return c[d].realWidth;const f=c.map(({realWidth:p,width:g})=>p||g).slice(d,d+u);return Number(f.reduce((p,g)=>Number(p)+Number(g),-1))}}}function qse(t){const e=et(Kr),n=Oe("table"),{handleDoubleClick:i,handleClick:s,handleContextMenu:r,handleMouseEnter:o,handleMouseLeave:a,handleCellMouseEnter:l,handleCellMouseLeave:c,tooltipContent:u,tooltipTrigger:d}=Yse(t),{getRowStyle:f,getRowClass:p,getCellStyle:g,getCellClass:m,getSpan:y,getColspanRealWidth:v}=Xse(t),_=A(()=>t.store.states.columns.value.findIndex(({type:C})=>C==="default")),b=(C,T)=>{const E=e.props.rowKey;return E?Ii(C,E):T},w=(C,T,E,M=!1)=>{const{tooltipEffect:R,tooltipOptions:O,store:F}=t,{indent:V,columns:U}=F.states,D=p(C,T);let I=!0;return E&&(D.push(n.em("row",`level-${E.level}`)),I=E.display),at("tr",{style:[I?null:{display:"none"},f(C,T)],class:D,key:b(C,T),onDblclick:k=>i(k,C),onClick:k=>s(k,C),onContextmenu:k=>r(k,C),onMouseenter:()=>o(T),onMouseleave:a},U.value.map((k,B)=>{const{rowspan:G,colspan:J}=y(C,k,T,B);if(!G||!J)return null;const re=Object.assign({},k);re.realWidth=v(U.value,J,B);const ee={store:t.store,_self:t.context||e,column:re,row:C,$index:T,cellIndex:B,expanded:M};B===_.value&&E&&(ee.treeNode={indent:E.level*V.value,level:E.level},typeof E.expanded=="boolean"&&(ee.treeNode.expanded=E.expanded,"loading"in E&&(ee.treeNode.loading=E.loading),"noLazyChildren"in E&&(ee.treeNode.noLazyChildren=E.noLazyChildren)));const ye=`${b(C,T)},${B}`,te=re.columnKey||re.rawColumnKey||"",oe=S(B,k,ee),de=k.showOverflowTooltip&&O8({effect:R},O,k.showOverflowTooltip);return at("td",{style:g(T,B,C,k),class:m(T,B,C,k,J-1),key:`${te}${ye}`,rowspan:G,colspan:J,onMouseenter:Ne=>l(Ne,C,de),onMouseleave:c},[oe])}))},S=(C,T,E)=>T.renderCell(E);return{wrappedRowRender:(C,T)=>{const E=t.store,{isRowExpanded:M,assertRowKey:R}=E,{treeData:O,lazyTreeNodeMap:F,childrenColumnName:V,rowKey:U}=E.states,D=E.states.columns.value;if(D.some(({type:N})=>N==="expand")){const N=M(C),k=w(C,T,void 0,N),B=e.renderExpanded;return N?B?[[k,at("tr",{key:`expanded-row__${k.key}`},[at("td",{colspan:D.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[B({row:C,$index:T,store:E,expanded:N})])])]]:(console.error("[Element Error]renderExpanded is required."),k):[[k]]}else if(Object.keys(O.value).length){R();const N=Ii(C,U.value);let k=O.value[N],B=null;k&&(B={expanded:k.expanded,level:k.level,display:!0},typeof k.lazy=="boolean"&&(typeof k.loaded=="boolean"&&k.loaded&&(B.noLazyChildren=!(k.children&&k.children.length)),B.loading=k.loading));const G=[w(C,T,B)];if(k){let J=0;const re=(ye,te)=>{ye&&ye.length&&te&&ye.forEach(oe=>{const de={display:te.display&&te.expanded,level:te.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Ne=Ii(oe,U.value);if(Ne==null)throw new Error("For nested data item, row-key is required.");if(k={...O.value[Ne]},k&&(de.expanded=k.expanded,k.level=k.level||de.level,k.display=!!(k.expanded&&de.display),typeof k.lazy=="boolean"&&(typeof k.loaded=="boolean"&&k.loaded&&(de.noLazyChildren=!(k.children&&k.children.length)),de.loading=k.loading)),J++,G.push(w(oe,T+J,de)),k){const Q=F.value[Ne]||oe[V.value];re(Q,k)}})};k.display=!0;const ee=F.value[N]||C[V.value];re(ee,k)}return G}else return w(C,T,void 0)},tooltipContent:u,tooltipTrigger:d}}const jse={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var Zse=j({name:"ElTableBody",props:jse,setup(t){const e=Tt(),n=et(Kr),i=Oe("table"),{wrappedRowRender:s,tooltipContent:r,tooltipTrigger:o}=qse(t),{onColumnsChange:a,onScrollableChange:l}=nk(n),c=[];return ke(t.store.states.hoverRow,(u,d)=>{var f;const p=e==null?void 0:e.vnode.el,g=Array.from((p==null?void 0:p.children)||[]).filter(v=>v==null?void 0:v.classList.contains(`${i.e("row")}`));let m=u;const y=(f=g[m])==null?void 0:f.childNodes;if(y!=null&&y.length){let v=0;Array.from(y).reduce((b,w,S)=>{var x,C;return((x=y[S])==null?void 0:x.colSpan)>1&&(v=(C=y[S])==null?void 0:C.colSpan),w.nodeName!=="TD"&&v===0&&b.push(S),v>0&&v--,b},[]).forEach(b=>{var w;for(m=u;m>0;){const S=(w=g[m-1])==null?void 0:w.childNodes;if(S[b]&&S[b].nodeName==="TD"&&S[b].rowSpan>1){$s(S[b],"hover-cell"),c.push(S[b]);break}m--}})}else c.forEach(v=>Ki(v,"hover-cell")),c.length=0;!t.store.states.isComplex.value||!Ft||xa(()=>{const v=g[d],_=g[u];v&&!v.classList.contains("hover-fixed-row")&&Ki(v,"hover-row"),_&&$s(_,"hover-row")})}),La(()=>{var u;(u=Fs)==null||u()}),{ns:i,onColumnsChange:a,onScrollableChange:l,wrappedRowRender:s,tooltipContent:r,tooltipTrigger:o}},render(){const{wrappedRowRender:t,store:e}=this,n=e.states.data.value||[];return at("tbody",{tabIndex:-1},[n.reduce((i,s)=>i.concat(t(s,i.length)),[])])}});function Jse(){const t=et(Kr),e=t==null?void 0:t.store,n=A(()=>e.states.fixedLeafColumnsLength.value),i=A(()=>e.states.rightFixedColumns.value.length),s=A(()=>e.states.columns.value.length),r=A(()=>e.states.fixedColumns.value.length),o=A(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:i,columnsCount:s,leftFixedCount:r,rightFixedCount:o,columns:e.states.columns}}function Qse(t){const{columns:e}=Jse(),n=Oe("table");return{getCellClasses:(r,o)=>{const a=r[o],l=[n.e("cell"),a.id,a.align,a.labelClassName,...Nw(n.b(),o,a.fixed,t.store)];return a.className&&l.push(a.className),a.children||l.push(n.is("leaf")),l},getCellStyles:(r,o)=>{const a=Dw(o,r.fixed,t.store);return Du(a,"left"),Du(a,"right"),a},columns:e}}var ere=j({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:e,getCellStyles:n,columns:i}=Qse(t);return{ns:Oe("table"),getCellClasses:e,getCellStyles:n,columns:i}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:i,sumText:s}=this,r=this.store.states.data.value;let o=[];return i?o=i({columns:t,data:r}):t.forEach((a,l)=>{if(l===0){o[l]=s;return}const c=r.map(p=>Number(p[a.property])),u=[];let d=!0;c.forEach(p=>{if(!Number.isNaN(+p)){d=!1;const g=`${p}`.split(".")[1];u.push(g?g.length:0)}});const f=Math.max.apply(null,u);d?o[l]="":o[l]=c.reduce((p,g)=>{const m=Number(g);return Number.isNaN(+m)?p:Number.parseFloat((p+g).toFixed(Math.min(f,20)))},0)}),at(at("tfoot",[at("tr",{},[...t.map((a,l)=>at("td",{key:l,colspan:a.colSpan,rowspan:a.rowSpan,class:n(t,l),style:e(a,l)},[at("div",{class:["cell",a.labelClassName]},[o[l]])]))])]))}});function tre(t){return{setCurrentRow:u=>{t.commit("setCurrentRow",u)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(u,d)=>{t.toggleRowSelection(u,d,!1),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:u=>{t.clearFilter(u)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(u,d)=>{t.toggleRowExpansionAdapter(u,d)},clearSort:()=>{t.clearSort()},sort:(u,d)=>{t.commit("sort",{prop:u,order:d})}}}function nre(t,e,n,i){const s=z(!1),r=z(null),o=z(!1),a=k=>{o.value=k},l=z({width:null,height:null,headerHeight:null}),c=z(!1),u={display:"inline-block",verticalAlign:"middle"},d=z(),f=z(0),p=z(0),g=z(0),m=z(0),y=z(0);ki(()=>{e.setHeight(t.height)}),ki(()=>{e.setMaxHeight(t.maxHeight)}),ke(()=>[t.currentRowKey,n.states.rowKey],([k,B])=>{!h(B)||!h(k)||n.setCurrentRowKey(`${k}`)},{immediate:!0}),ke(()=>t.data,k=>{i.store.commit("setData",k)},{immediate:!0,deep:!0}),ki(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const v=()=>{i.store.commit("setHoverRow",null),i.hoverState&&(i.hoverState=null)},_=(k,B)=>{const{pixelX:G,pixelY:J}=B;Math.abs(G)>=Math.abs(J)&&(i.refs.bodyWrapper.scrollLeft+=B.pixelX/5)},b=A(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),w=A(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),S=()=>{b.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(E)};Mt(async()=>{await rt(),n.updateColumns(),M(),requestAnimationFrame(S);const k=i.vnode.el,B=i.refs.headerWrapper;t.flexible&&k&&k.parentElement&&(k.parentElement.style.minWidth="0"),l.value={width:d.value=k.offsetWidth,height:k.offsetHeight,headerHeight:t.showHeader&&B?B.offsetHeight:null},n.states.columns.value.forEach(G=>{G.filteredValue&&G.filteredValue.length&&i.store.commit("filterChange",{column:G,values:G.filteredValue,silent:!0})}),i.$ready=!0});const x=(k,B)=>{if(!k)return;const G=Array.from(k.classList).filter(J=>!J.startsWith("is-scrolling-"));G.push(e.scrollX.value?B:"is-scrolling-none"),k.className=G.join(" ")},C=k=>{const{tableWrapper:B}=i.refs;x(B,k)},T=k=>{const{tableWrapper:B}=i.refs;return!!(B&&B.classList.contains(k))},E=function(){if(!i.refs.scrollBarRef)return;if(!e.scrollX.value){const te="is-scrolling-none";T(te)||C(te);return}const k=i.refs.scrollBarRef.wrapRef;if(!k)return;const{scrollLeft:B,offsetWidth:G,scrollWidth:J}=k,{headerWrapper:re,footerWrapper:ee}=i.refs;re&&(re.scrollLeft=B),ee&&(ee.scrollLeft=B);const ye=J-G-1;B>=ye?C("is-scrolling-right"):C(B===0?"is-scrolling-left":"is-scrolling-middle")},M=()=>{i.refs.scrollBarRef&&(i.refs.scrollBarRef.wrapRef&&pn(i.refs.scrollBarRef.wrapRef,"scroll",E,{passive:!0}),t.fit?Mn(i.vnode.el,R):pn(window,"resize",R),Mn(i.refs.bodyWrapper,()=>{var k,B;R(),(B=(k=i.refs)==null?void 0:k.scrollBarRef)==null||B.update()}))},R=()=>{var k,B,G,J;const re=i.vnode.el;if(!i.$ready||!re)return;let ee=!1;const{width:ye,height:te,headerHeight:oe}=l.value,de=d.value=re.offsetWidth;ye!==de&&(ee=!0);const Ne=re.offsetHeight;(t.height||b.value)&&te!==Ne&&(ee=!0);const Q=t.tableLayout==="fixed"?i.refs.headerWrapper:(k=i.refs.tableHeaderRef)==null?void 0:k.$el;t.showHeader&&(Q==null?void 0:Q.offsetHeight)!==oe&&(ee=!0),f.value=((B=i.refs.tableWrapper)==null?void 0:B.scrollHeight)||0,g.value=(Q==null?void 0:Q.scrollHeight)||0,m.value=((G=i.refs.footerWrapper)==null?void 0:G.offsetHeight)||0,y.value=((J=i.refs.appendWrapper)==null?void 0:J.offsetHeight)||0,p.value=f.value-g.value-m.value-y.value,ee&&(l.value={width:de,height:Ne,headerHeight:t.showHeader&&(Q==null?void 0:Q.offsetHeight)||0},S())},O=ei(),F=A(()=>{const{bodyWidth:k,scrollY:B,gutterWidth:G}=e;return k.value?`${k.value-(B.value?G:0)}px`:""}),V=A(()=>t.maxHeight?"fixed":t.tableLayout),U=A(()=>{if(t.data&&t.data.length)return null;let k="100%";t.height&&p.value&&(k=`${p.value}px`);const B=d.value;return{width:B?`${B}px`:"",height:k}}),D=A(()=>t.height?{height:Number.isNaN(Number(t.height))?t.height:`${t.height}px`}:t.maxHeight?{maxHeight:Number.isNaN(Number(t.maxHeight))?t.maxHeight:`${t.maxHeight}px`}:{}),I=A(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${g.value+m.value}px)`}:{maxHeight:`${t.maxHeight-g.value-m.value}px`}:{});return{isHidden:s,renderExpanded:r,setDragVisible:a,isGroup:c,handleMouseLeave:v,handleHeaderFooterMousewheel:_,tableSize:O,emptyBlockStyle:U,handleFixedMousewheel:(k,B)=>{const G=i.refs.bodyWrapper;if(Math.abs(B.spinY)>0){const J=G.scrollTop;B.pixelY<0&&J!==0&&k.preventDefault(),B.pixelY>0&&G.scrollHeight-G.clientHeight>J&&k.preventDefault(),G.scrollTop+=Math.ceil(B.pixelY/5)}else G.scrollLeft+=Math.ceil(B.pixelX/5)},resizeProxyVisible:o,bodyWidth:F,resizeState:l,doLayout:S,tableBodyStyles:w,tableLayout:V,scrollbarViewStyle:u,tableInnerStyle:D,scrollbarStyle:I}}function ire(t){const e=z(),n=()=>{const s=t.vnode.el.querySelector(".hidden-columns"),r={childList:!0,subtree:!0},o=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{o.forEach(a=>a())}),e.value.observe(s,r)};Mt(()=>{n()}),La(()=>{var i;(i=e.value)==null||i.disconnect()})}var sre={data:{type:Array,default:()=>[]},size:fi,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function sk(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(s=>s.width===void 0)&&(n=[]);const i=s=>{const r={key:`${t.tableLayout}_${s.id}`,style:{},name:void 0};return e?r.style={width:`${s.width}px`}:r.name=s.id,r};return at("colgroup",{},n.map(s=>at("col",i(s))))}sk.props=["columns","tableLayout"];const rre=()=>{const t=z(),e=(r,o)=>{const a=t.value;a&&a.scrollTo(r,o)},n=(r,o)=>{const a=t.value;a&&ft(o)&&["Top","Left"].includes(r)&&a[`setScroll${r}`](o)};return{scrollBarRef:t,scrollTo:e,setScrollTop:r=>n("Top",r),setScrollLeft:r=>n("Left",r)}};let ore=1;const are=j({name:"ElTable",directives:{Mousewheel:Y7},components:{TableHeader:Kse,TableBody:Zse,TableFooter:ere,ElScrollbar:Po,hColgroup:sk},props:sre,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:e}=$t(),n=Oe("table"),i=Tt();Nt(Kr,i);const s=kse(i,t);i.store=s;const r=new Lse({store:i.store,table:i,fit:t.fit,showHeader:t.showHeader});i.layout=r;const o=A(()=>(s.states.data.value||[]).length===0),{setCurrentRow:a,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:p,clearSort:g,sort:m}=tre(s),{isHidden:y,renderExpanded:v,setDragVisible:_,isGroup:b,handleMouseLeave:w,handleHeaderFooterMousewheel:S,tableSize:x,emptyBlockStyle:C,handleFixedMousewheel:T,resizeProxyVisible:E,bodyWidth:M,resizeState:R,doLayout:O,tableBodyStyles:F,tableLayout:V,scrollbarViewStyle:U,tableInnerStyle:D,scrollbarStyle:I}=nre(t,r,s,i),{scrollBarRef:N,scrollTo:k,setScrollLeft:B,setScrollTop:G}=rre(),J=vs(O,50),re=`${n.namespace.value}-table_${ore++}`;i.tableId=re,i.state={isGroup:b,resizeState:R,doLayout:O,debouncedUpdateLayout:J};const ee=A(()=>t.sumText||e("el.table.sumText")),ye=A(()=>t.emptyText||e("el.table.emptyText"));return ire(i),{ns:n,layout:r,store:s,handleHeaderFooterMousewheel:S,handleMouseLeave:w,tableId:re,tableSize:x,isHidden:y,isEmpty:o,renderExpanded:v,resizeProxyVisible:E,resizeState:R,isGroup:b,bodyWidth:M,tableBodyStyles:F,emptyBlockStyle:C,debouncedUpdateLayout:J,handleFixedMousewheel:T,setCurrentRow:a,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:p,clearSort:g,doLayout:O,sort:m,t:e,setDragVisible:_,context:i,computedSumText:ee,computedEmptyText:ye,tableLayout:V,scrollbarViewStyle:U,tableInnerStyle:D,scrollbarStyle:I,scrollBarRef:N,scrollTo:k,setScrollLeft:B,setScrollTop:G}}}),lre=["data-prefix"],cre={ref:"hiddenColumns",class:"hidden-columns"};function ure(t,e,n,i,s,r){const o=bt("hColgroup"),a=bt("table-header"),l=bt("table-body"),c=bt("table-footer"),u=bt("el-scrollbar"),d=zg("mousewheel");return P(),H("div",{ref:"tableWrapper",class:L([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:nt(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:e[0]||(e[0]=(...f)=>t.handleMouseLeave&&t.handleMouseLeave(...f))},[Y("div",{class:L(t.ns.e("inner-wrapper")),style:nt(t.tableInnerStyle)},[Y("div",cre,[Me(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?St((P(),H("div",{key:0,ref:"headerWrapper",class:L(t.ns.e("header-wrapper"))},[Y("table",{ref:"tableHeader",class:L(t.ns.e("header")),style:nt(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[X(o,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),X(a,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[d,t.handleHeaderFooterMousewheel]]):ge("v-if",!0),Y("div",{ref:"bodyWrapper",class:L(t.ns.e("body-wrapper"))},[X(u,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn},{default:ne(()=>[Y("table",{ref:"tableBody",class:L(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:nt({width:t.bodyWidth,tableLayout:t.tableLayout})},[X(o,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(P(),_e(a,{key:0,ref:"tableHeaderRef",class:L(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):ge("v-if",!0),X(l,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(P(),_e(c,{key:1,class:L(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):ge("v-if",!0)],6),t.isEmpty?(P(),H("div",{key:0,ref:"emptyBlock",style:nt(t.emptyBlockStyle),class:L(t.ns.e("empty-block"))},[Y("span",{class:L(t.ns.e("empty-text"))},[Me(t.$slots,"empty",{},()=>[zt(Ge(t.computedEmptyText),1)])],2)],6)):ge("v-if",!0),t.$slots.append?(P(),H("div",{key:1,ref:"appendWrapper",class:L(t.ns.e("append-wrapper"))},[Me(t.$slots,"append")],2)):ge("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),t.showSummary&&t.tableLayout==="fixed"?St((P(),H("div",{key:1,ref:"footerWrapper",class:L(t.ns.e("footer-wrapper"))},[Y("table",{class:L(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:nt(t.tableBodyStyles)},[X(o,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),X(c,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Kt,!t.isEmpty],[d,t.handleHeaderFooterMousewheel]]):ge("v-if",!0),t.border||t.isGroup?(P(),H("div",{key:2,class:L(t.ns.e("border-left-patch"))},null,2)):ge("v-if",!0)],6),St(Y("div",{ref:"resizeProxy",class:L(t.ns.e("column-resize-proxy"))},null,2),[[Kt,t.resizeProxyVisible]])],46,lre)}var dre=$e(are,[["render",ure],["__file","table.vue"]]);const fre={selection:"table-column--selection",expand:"table__expand-column"},hre={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},pre=t=>fre[t]||"",mre={selection:{renderHeader({store:t,column:e}){function n(){return t.states.data.value&&t.states.data.value.length===0}return at(tr,{disabled:n(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:t,column:e,store:n,$index:i}){return at(tr,{disabled:e.selectable?!e.selectable.call(null,t,i):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:s=>s.stopPropagation(),modelValue:n.isSelected(t),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const i=t.index;return typeof i=="number"?n=e+i:typeof i=="function"&&(n=i(e)),at("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:n}){const{ns:i}=e,s=[i.e("expand-icon")];return n&&s.push(i.em("expand-icon","expanded")),at("div",{class:s,onClick:function(o){o.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[at(tt,null,{default:()=>[at(ts)]})]})},sortable:!1,resizable:!1}};function gre({row:t,column:e,$index:n}){var i;const s=e.property,r=s&&pm(t,s).value;return e&&e.formatter?e.formatter(t,e,r,n):((i=r==null?void 0:r.toString)==null?void 0:i.call(r))||""}function vre({row:t,treeNode:e,store:n},i=!1){const{ns:s}=n;if(!e)return i?[at("span",{class:s.e("placeholder")})]:null;const r=[],o=function(a){a.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&r.push(at("span",{class:s.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const a=[s.e("expand-icon"),e.expanded?s.em("expand-icon","expanded"):""];let l=ts;e.loading&&(l=Fa),r.push(at("div",{class:a,onClick:o},{default:()=>[at(tt,{class:{[s.is("loading")]:e.loading}},{default:()=>[at(l)]})]}))}else r.push(at("span",{class:s.e("placeholder")}));return r}function nE(t,e){return t.reduce((n,i)=>(n[i]=i,n),e)}function yre(t,e){const n=Tt();return{registerComplexWatchers:()=>{const r=["fixed"],o={realWidth:"width",realMinWidth:"minWidth"},a=nE(r,o);Object.keys(a).forEach(l=>{const c=o[l];Ut(e,c)&&ke(()=>e[c],u=>{let d=u;c==="width"&&l==="realWidth"&&(d=Lw(u)),c==="minWidth"&&l==="realMinWidth"&&(d=ZI(u)),n.columnConfig.value[c]=d,n.columnConfig.value[l]=d;const f=c==="fixed";t.value.store.scheduleLayout(f)})})},registerNormalWatchers:()=>{const r=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},a=nE(r,o);Object.keys(a).forEach(l=>{const c=o[l];Ut(e,c)&&ke(()=>e[c],u=>{n.columnConfig.value[l]=u})})}}}function bre(t,e,n){const i=Tt(),s=z(""),r=z(!1),o=z(),a=z(),l=Oe("table");ki(()=>{o.value=t.align?`is-${t.align}`:null,o.value}),ki(()=>{a.value=t.headerAlign?`is-${t.headerAlign}`:o.value,a.value});const c=A(()=>{let w=i.vnode.vParent||i.parent;for(;w&&!w.tableId&&!w.columnId;)w=w.vnode.vParent||w.parent;return w}),u=A(()=>{const{store:w}=i.parent;if(!w)return!1;const{treeData:S}=w.states,x=S.value;return x&&Object.keys(x).length>0}),d=z(Lw(t.width)),f=z(ZI(t.minWidth)),p=w=>(d.value&&(w.width=d.value),f.value&&(w.minWidth=f.value),!d.value&&f.value&&(w.width=void 0),w.minWidth||(w.minWidth=80),w.realWidth=Number(w.width===void 0?w.minWidth:w.width),w),g=w=>{const S=w.type,x=mre[S]||{};Object.keys(x).forEach(T=>{const E=x[T];T!=="className"&&E!==void 0&&(w[T]=E)});const C=pre(S);if(C){const T=`${h(l.namespace)}-${C}`;w.className=w.className?`${w.className} ${T}`:T}return w},m=w=>{Array.isArray(w)?w.forEach(x=>S(x)):S(w);function S(x){var C;((C=x==null?void 0:x.type)==null?void 0:C.name)==="ElTableColumn"&&(x.vParent=i)}};return{columnId:s,realAlign:o,isSubColumn:r,realHeaderAlign:a,columnOrTableParent:c,setColumnWidth:p,setColumnForcedProps:g,setColumnRenders:w=>{t.renderHeader||w.type!=="selection"&&(w.renderHeader=x=>(i.columnConfig.value.label,Me(e,"header",x,()=>[w.label])));let S=w.renderCell;return w.type==="expand"?(w.renderCell=x=>at("div",{class:"cell"},[S(x)]),n.value.renderExpanded=x=>e.default?e.default(x):e.default):(S=S||gre,w.renderCell=x=>{let C=null;if(e.default){const F=e.default(x);C=F.some(V=>V.type!==Hi)?F:S(x)}else C=S(x);const{columns:T}=n.value.store.states,E=T.value.findIndex(F=>F.type==="default"),M=u.value&&x.cellIndex===E,R=vre(x,M),O={class:"cell",style:{}};return w.showOverflowTooltip&&(O.class=`${O.class} ${h(l.namespace)}-tooltip`,O.style={width:`${(x.column.realWidth||Number(x.column.width))-1}px`}),m(C),at("div",O,[R,C])}),w},getPropsData:(...w)=>w.reduce((S,x)=>(Array.isArray(x)&&x.forEach(C=>{S[C]=t[C]}),S),{}),getColumnElIndex:(w,S)=>Array.prototype.indexOf.call(w,S),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",i.columnConfig.value)}}}var _re={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let wre=1;var rk=j({name:"ElTableColumn",components:{ElCheckbox:tr},props:_re,setup(t,{slots:e}){const n=Tt(),i=z({}),s=A(()=>{let b=n.parent;for(;b&&!b.tableId;)b=b.parent;return b}),{registerNormalWatchers:r,registerComplexWatchers:o}=yre(s,t),{columnId:a,isSubColumn:l,realHeaderAlign:c,columnOrTableParent:u,setColumnWidth:d,setColumnForcedProps:f,setColumnRenders:p,getPropsData:g,getColumnElIndex:m,realAlign:y,updateColumnOrder:v}=bre(t,e,s),_=u.value;a.value=`${_.tableId||_.columnId}_column_${wre++}`,Hg(()=>{l.value=s.value!==_;const b=t.type||"default",w=t.sortable===""?!0:t.sortable,S=Kn(t.showOverflowTooltip)?_.props.showOverflowTooltip:t.showOverflowTooltip,x={...hre[b],id:a.value,type:b,property:t.prop||t.property,align:y,headerAlign:c,showOverflowTooltip:S,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:w,index:t.index,rawColumnKey:n.vnode.key};let R=g(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);R=wse(x,R),R=Sse(p,d,f)(R),i.value=R,r(),o()}),Mt(()=>{var b;const w=u.value,S=l.value?w.vnode.el.children:(b=w.refs.hiddenColumns)==null?void 0:b.children,x=()=>m(S||[],n.vnode.el);i.value.getColumnIndex=x,x()>-1&&s.value.store.commit("insertColumn",i.value,l.value?w.columnConfig.value:null,v)}),fn(()=>{i.value.getColumnIndex()>-1&&s.value.store.commit("removeColumn",i.value,l.value?_.columnConfig.value:null,v)}),n.columnId=a.value,n.columnConfig=i},render(){var t,e,n;try{const i=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),s=[];if(Array.isArray(i))for(const o of i)((n=o.type)==null?void 0:n.name)==="ElTableColumn"||o.shapeFlag&2?s.push(o):o.type===st&&Array.isArray(o.children)&&o.children.forEach(a=>{(a==null?void 0:a.patchFlag)!==1024&&!yt(a==null?void 0:a.children)&&s.push(a)});return at("div",s)}catch{return at("div",[])}}});const xre=At(dre,{TableColumn:rk}),Sre=En(rk);var Vf=(t=>(t.ASC="asc",t.DESC="desc",t))(Vf||{}),$f=(t=>(t.CENTER="center",t.RIGHT="right",t))($f||{}),ok=(t=>(t.LEFT="left",t.RIGHT="right",t))(ok||{});const $1={asc:"desc",desc:"asc"},Hf=Symbol("placeholder"),Mre=(t,e,n)=>{var i;const s={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(s.flexShrink=1);const r={...(i=t.style)!=null?i:{},...s,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&(r.maxWidth=t.maxWidth),t.minWidth&&(r.minWidth=t.minWidth)),r};function Cre(t,e,n){const i=A(()=>h(e).filter(m=>!m.hidden)),s=A(()=>h(i).filter(m=>m.fixed==="left"||m.fixed===!0)),r=A(()=>h(i).filter(m=>m.fixed==="right")),o=A(()=>h(i).filter(m=>!m.fixed)),a=A(()=>{const m=[];return h(s).forEach(y=>{m.push({...y,placeholderSign:Hf})}),h(o).forEach(y=>{m.push(y)}),h(r).forEach(y=>{m.push({...y,placeholderSign:Hf})}),m}),l=A(()=>h(s).length||h(r).length),c=A(()=>h(e).reduce((y,v)=>(y[v.key]=Mre(v,h(n),t.fixed),y),{})),u=A(()=>h(i).reduce((m,y)=>m+y.width,0)),d=m=>h(e).find(y=>y.key===m),f=m=>h(c)[m],p=(m,y)=>{m.width=y};function g(m){var y;const{key:v}=m.currentTarget.dataset;if(!v)return;const{sortState:_,sortBy:b}=t;let w=Vf.ASC;Pt(_)?w=$1[_[v]]:w=$1[b.order],(y=t.onColumnSort)==null||y.call(t,{column:d(v),key:v,order:w})}return{columns:e,columnsStyles:c,columnsTotalWidth:u,fixedColumnsOnLeft:s,fixedColumnsOnRight:r,hasFixedColumns:l,mainColumns:a,normalColumns:o,visibleColumns:i,getColumn:d,getColumnStyle:f,updateColumnWidth:p,onColumnSorted:g}}const Ere=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,onMaybeEndReached:s})=>{const r=z({scrollLeft:0,scrollTop:0});function o(p){var g,m,y;const{scrollTop:v}=p;(g=e.value)==null||g.scrollTo(p),(m=n.value)==null||m.scrollToTop(v),(y=i.value)==null||y.scrollToTop(v)}function a(p){r.value=p,o(p)}function l(p){r.value.scrollTop=p,o(h(r))}function c(p){var g,m;r.value.scrollLeft=p,(m=(g=e.value)==null?void 0:g.scrollTo)==null||m.call(g,h(r))}function u(p){var g;a(p),(g=t.onScroll)==null||g.call(t,p)}function d({scrollTop:p}){const{scrollTop:g}=h(r);p!==g&&l(p)}function f(p,g="auto"){var m;(m=e.value)==null||m.scrollToRow(p,g)}return ke(()=>h(r).scrollTop,(p,g)=>{p>g&&s()}),{scrollPos:r,scrollTo:a,scrollToLeft:c,scrollToTop:l,scrollToRow:f,onScroll:u,onVerticalScroll:d}},Tre=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,tableInstance:s,ns:r,isScrolling:o})=>{const a=Tt(),{emit:l}=a,c=vn(!1),u=z(t.defaultExpandedRowKeys||[]),d=z(-1),f=vn(null),p=z({}),g=z({}),m=vn({}),y=vn({}),v=vn({}),_=A(()=>ft(t.estimatedRowHeight));function b(M){var R;(R=t.onRowsRendered)==null||R.call(t,M),M.rowCacheEnd>h(d)&&(d.value=M.rowCacheEnd)}function w({hovered:M,rowKey:R}){if(o.value)return;s.vnode.el.querySelectorAll(`[rowkey=${R}]`).forEach(V=>{M?V.classList.add(r.is("hovered")):V.classList.remove(r.is("hovered"))})}function S({expanded:M,rowData:R,rowIndex:O,rowKey:F}){var V,U;const D=[...h(u)],I=D.indexOf(F);M?I===-1&&D.push(F):I>-1&&D.splice(I,1),u.value=D,l("update:expandedRowKeys",D),(V=t.onRowExpand)==null||V.call(t,{expanded:M,rowData:R,rowIndex:O,rowKey:F}),(U=t.onExpandedRowsChange)==null||U.call(t,D)}const x=vs(()=>{var M,R,O,F;c.value=!0,p.value={...h(p),...h(g)},C(h(f),!1),g.value={},f.value=null,(M=e.value)==null||M.forceUpdate(),(R=n.value)==null||R.forceUpdate(),(O=i.value)==null||O.forceUpdate(),(F=a.proxy)==null||F.$forceUpdate(),c.value=!1},0);function C(M,R=!1){h(_)&&[e,n,i].forEach(O=>{const F=h(O);F&&F.resetAfterRowIndex(M,R)})}function T(M,R,O){const F=h(f);(F===null||F>O)&&(f.value=O),g.value[M]=R}function E({rowKey:M,height:R,rowIndex:O},F){F?F===ok.RIGHT?v.value[M]=R:m.value[M]=R:y.value[M]=R;const V=Math.max(...[m,v,y].map(U=>U.value[M]||0));h(p)[M]!==V&&(T(M,V,O),x())}return{expandedRowKeys:u,lastRenderedRowIndex:d,isDynamic:_,isResetting:c,rowHeights:p,resetAfterIndex:C,onRowExpanded:S,onRowHovered:w,onRowsRendered:b,onRowHeightChange:E}},Are=(t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:i})=>{const s=z({}),r=A(()=>{const a={},{data:l,rowKey:c}=t,u=h(e);if(!u||!u.length)return l;const d=[],f=new Set;u.forEach(g=>f.add(g));let p=l.slice();for(p.forEach(g=>a[g[c]]=0);p.length>0;){const g=p.shift();d.push(g),f.has(g[c])&&Array.isArray(g.children)&&g.children.length>0&&(p=[...g.children,...p],g.children.forEach(m=>a[m[c]]=a[g[c]]+1))}return s.value=a,d}),o=A(()=>{const{data:a,expandColumnKey:l}=t;return l?h(r):a});return ke(o,(a,l)=>{a!==l&&(n.value=-1,i(0,!0))}),{data:o,depthMap:s}},Rre=(t,e)=>t+e,Rm=t=>Ze(t)?t.reduce(Rre,0):t,Jl=(t,e,n={})=>ht(t)?t(e):t??n,ua=t=>(["width","maxWidth","minWidth","height"].forEach(e=>{t[e]=On(t[e])}),t),ak=t=>xn(t)?e=>at(t,e):t,Pre=(t,{columnsTotalWidth:e,data:n,fixedColumnsOnLeft:i,fixedColumnsOnRight:s})=>{const r=A(()=>{const{fixed:b,width:w,vScrollbarSize:S}=t,x=w-S;return b?Math.max(Math.round(h(e)),x):x}),o=A(()=>h(r)+t.vScrollbarSize),a=A(()=>{const{height:b=0,maxHeight:w=0,footerHeight:S,hScrollbarSize:x}=t;if(w>0){const C=h(g),T=h(l),M=h(p)+C+T+x;return Math.min(M,w-S)}return b-S}),l=A(()=>{const{rowHeight:b,estimatedRowHeight:w}=t,S=h(n);return ft(w)?S.length*w:S.length*b}),c=A(()=>{const{maxHeight:b}=t,w=h(a);if(ft(b)&&b>0)return w;const S=h(l)+h(p)+h(g);return Math.min(w,S)}),u=b=>b.width,d=A(()=>Rm(h(i).map(u))),f=A(()=>Rm(h(s).map(u))),p=A(()=>Rm(t.headerHeight)),g=A(()=>{var b;return(((b=t.fixedData)==null?void 0:b.length)||0)*t.rowHeight}),m=A(()=>h(a)-h(p)-h(g)),y=A(()=>{const{style:b={},height:w,width:S}=t;return ua({...b,height:w,width:S})}),v=A(()=>ua({height:t.footerHeight})),_=A(()=>({top:On(h(p)),bottom:On(t.footerHeight),width:On(t.width)}));return{bodyWidth:r,fixedTableHeight:c,mainTableHeight:a,leftTableWidth:d,rightTableWidth:f,headerWidth:o,rowsHeight:l,windowHeight:m,footerHeight:v,emptyStyle:_,rootStyle:y,headerHeight:p}},Ire=t=>{const e=z(),n=z(0),i=z(0);let s;return Mt(()=>{s=Mn(e,([r])=>{const{width:o,height:a}=r.contentRect,{paddingLeft:l,paddingRight:c,paddingTop:u,paddingBottom:d}=getComputedStyle(r.target),f=Number.parseInt(l)||0,p=Number.parseInt(c)||0,g=Number.parseInt(u)||0,m=Number.parseInt(d)||0;n.value=o-f-p,i.value=a-g-m}).stop}),fn(()=>{s==null||s()}),ke([n,i],([r,o])=>{var a;(a=t.onResize)==null||a.call(t,{width:r,height:o})}),{sizer:e,width:n,height:i}};function kre(t){const e=z(),n=z(),i=z(),{columns:s,columnsStyles:r,columnsTotalWidth:o,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,hasFixedColumns:c,mainColumns:u,onColumnSorted:d}=Cre(t,on(t,"columns"),on(t,"fixed")),{scrollTo:f,scrollToLeft:p,scrollToTop:g,scrollToRow:m,onScroll:y,onVerticalScroll:v,scrollPos:_}=Ere(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,onMaybeEndReached:K}),b=Oe("table-v2"),w=Tt(),S=vn(!1),{expandedRowKeys:x,lastRenderedRowIndex:C,isDynamic:T,isResetting:E,rowHeights:M,resetAfterIndex:R,onRowExpanded:O,onRowHeightChange:F,onRowHovered:V,onRowsRendered:U}=Tre(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,tableInstance:w,ns:b,isScrolling:S}),{data:D,depthMap:I}=Are(t,{expandedRowKeys:x,lastRenderedRowIndex:C,resetAfterIndex:R}),{bodyWidth:N,fixedTableHeight:k,mainTableHeight:B,leftTableWidth:G,rightTableWidth:J,headerWidth:re,rowsHeight:ee,windowHeight:ye,footerHeight:te,emptyStyle:oe,rootStyle:de,headerHeight:Ne}=Pre(t,{columnsTotalWidth:o,data:D,fixedColumnsOnLeft:a,fixedColumnsOnRight:l}),Q=z(),Te=A(()=>{const q=h(D).length===0;return Ze(t.fixedData)?t.fixedData.length===0&&q:q});function me(q){const{estimatedRowHeight:ue,rowHeight:ve,rowKey:he}=t;return ue?h(M)[h(D)[q][he]]||ue:ve}function K(){const{onEndReached:q}=t;if(!q)return;const{scrollTop:ue}=h(_),ve=h(ee),he=h(ye),xe=ve-(ue+he)+t.hScrollbarSize;h(C)>=0&&ve===ue+h(B)-h(Ne)&&q(xe)}return ke(()=>t.expandedRowKeys,q=>x.value=q,{deep:!0}),{columns:s,containerRef:Q,mainTableRef:e,leftTableRef:n,rightTableRef:i,isDynamic:T,isResetting:E,isScrolling:S,hasFixedColumns:c,columnsStyles:r,columnsTotalWidth:o,data:D,expandedRowKeys:x,depthMap:I,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,mainColumns:u,bodyWidth:N,emptyStyle:oe,rootStyle:de,headerWidth:re,footerHeight:te,mainTableHeight:B,fixedTableHeight:k,leftTableWidth:G,rightTableWidth:J,showEmpty:Te,getRowHeight:me,onColumnSorted:d,onRowHovered:V,onRowExpanded:O,onRowsRendered:U,onRowHeightChange:F,scrollTo:f,scrollToLeft:p,scrollToTop:g,scrollToRow:m,onScroll:y,onVerticalScroll:v}}const Fw=Symbol("tableV2"),lk=String,Mh={type:ce(Array),required:!0},Bw={type:ce(Array)},ck={...Bw,required:!0},Ore=String,iE={type:ce(Array),default:()=>Cn([])},bl={type:Number,required:!0},uk={type:ce([String,Number,Symbol]),default:"id"},sE={type:ce(Object)},Tl=ze({class:String,columns:Mh,columnsStyles:{type:ce(Object),required:!0},depth:Number,expandColumnKey:Ore,estimatedRowHeight:{...Ul.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:ce(Function)},onRowHover:{type:ce(Function)},onRowHeightChange:{type:ce(Function)},rowData:{type:ce(Object),required:!0},rowEventHandlers:{type:ce(Object)},rowIndex:{type:Number,required:!0},rowKey:uk,style:{type:ce(Object)}}),k0={type:Number,required:!0},Uw=ze({class:String,columns:Mh,fixedHeaderData:{type:ce(Array)},headerData:{type:ce(Array),required:!0},headerHeight:{type:ce([Number,Array]),default:50},rowWidth:k0,rowHeight:{type:Number,default:50},height:k0,width:k0}),Pm=ze({columns:Mh,data:ck,fixedData:Bw,estimatedRowHeight:Tl.estimatedRowHeight,width:bl,height:bl,headerWidth:bl,headerHeight:Uw.headerHeight,bodyWidth:bl,rowHeight:bl,cache:kI.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Ul.scrollbarAlwaysOn,scrollbarStartGap:Ul.scrollbarStartGap,scrollbarEndGap:Ul.scrollbarEndGap,class:lk,style:sE,containerStyle:sE,getRowHeight:{type:ce(Function),required:!0},rowKey:Tl.rowKey,onRowsRendered:{type:ce(Function)},onScroll:{type:ce(Function)}}),Lre=ze({cache:Pm.cache,estimatedRowHeight:Tl.estimatedRowHeight,rowKey:uk,headerClass:{type:ce([String,Function])},headerProps:{type:ce([Object,Function])},headerCellProps:{type:ce([Object,Function])},headerHeight:Uw.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:ce([String,Function])},rowProps:{type:ce([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:ce([Object,Function])},columns:Mh,data:ck,dataGetter:{type:ce(Function)},fixedData:Bw,expandColumnKey:Tl.expandColumnKey,expandedRowKeys:iE,defaultExpandedRowKeys:iE,class:lk,fixed:Boolean,style:{type:ce(Object)},width:bl,height:bl,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Ul.hScrollbarSize,vScrollbarSize:Ul.vScrollbarSize,scrollbarAlwaysOn:NI.alwaysOn,sortBy:{type:ce(Object),default:()=>({})},sortState:{type:ce(Object),default:void 0},onColumnSort:{type:ce(Function)},onExpandedRowsChange:{type:ce(Function)},onEndReached:{type:ce(Function)},onRowExpand:Tl.onRowExpand,onScroll:Pm.onScroll,onRowsRendered:Pm.onRowsRendered,rowEventHandlers:Tl.rowEventHandlers}),zw=(t,{slots:e})=>{var n;const{cellData:i,style:s}=t,r=((n=i==null?void 0:i.toString)==null?void 0:n.call(i))||"",o=Me(e,"default",t,()=>[r]);return X("div",{class:t.class,title:r,style:s},[o])};zw.displayName="ElTableV2Cell";zw.inheritAttrs=!1;const Vw=(t,{slots:e})=>Me(e,"default",t,()=>{var n,i;return[X("div",{class:t.class,title:(n=t.column)==null?void 0:n.title},[(i=t.column)==null?void 0:i.title])]});Vw.displayName="ElTableV2HeaderCell";Vw.inheritAttrs=!1;const Nre=ze({class:String,columns:Mh,columnsStyles:{type:ce(Object),required:!0},headerIndex:Number,style:{type:ce(Object)}}),Dre=j({name:"ElTableV2HeaderRow",props:Nre,setup(t,{slots:e}){return()=>{const{columns:n,columnsStyles:i,headerIndex:s,style:r}=t;let o=n.map((a,l)=>e.cell({columns:n,column:a,columnIndex:l,headerIndex:s,style:i[a.key]}));return e.header&&(o=e.header({cells:o.map(a=>Ze(a)&&a.length===1?a[0]:a),columns:n,headerIndex:s})),X("div",{class:t.class,style:r,role:"row"},[o])}}}),Fre="ElTableV2Header",Bre=j({name:Fre,props:Uw,setup(t,{slots:e,expose:n}){const i=Oe("table-v2"),s=z(),r=A(()=>ua({width:t.width,height:t.height})),o=A(()=>ua({width:t.rowWidth,height:t.height})),a=A(()=>wa(h(t.headerHeight))),l=d=>{const f=h(s);rt(()=>{f!=null&&f.scroll&&f.scroll({left:d})})},c=()=>{const d=i.e("fixed-header-row"),{columns:f,fixedHeaderData:p,rowHeight:g}=t;return p==null?void 0:p.map((m,y)=>{var v;const _=ua({height:g,width:"100%"});return(v=e.fixed)==null?void 0:v.call(e,{class:d,columns:f,rowData:m,rowIndex:-(y+1),style:_})})},u=()=>{const d=i.e("dynamic-header-row"),{columns:f}=t;return h(a).map((p,g)=>{var m;const y=ua({width:"100%",height:p});return(m=e.dynamic)==null?void 0:m.call(e,{class:d,columns:f,headerIndex:g,style:y})})};return n({scrollToLeft:l}),()=>{if(!(t.height<=0))return X("div",{ref:s,class:t.class,style:h(r),role:"rowgroup"},[X("div",{style:h(o),class:i.e("header")},[u(),c()])])}}}),Ure=t=>{const{isScrolling:e}=et(Fw),n=z(!1),i=z(),s=A(()=>ft(t.estimatedRowHeight)&&t.rowIndex>=0),r=(l=!1)=>{const c=h(i);if(!c)return;const{columns:u,onRowHeightChange:d,rowKey:f,rowIndex:p,style:g}=t,{height:m}=c.getBoundingClientRect();n.value=!0,rt(()=>{if(l||m!==Number.parseInt(g.height)){const y=u[0],v=(y==null?void 0:y.placeholderSign)===Hf;d==null||d({rowKey:f,height:m,rowIndex:p},y&&!v&&y.fixed)}})},o=A(()=>{const{rowData:l,rowIndex:c,rowKey:u,onRowHover:d}=t,f=t.rowEventHandlers||{},p={};return Object.entries(f).forEach(([g,m])=>{ht(m)&&(p[g]=y=>{m({event:y,rowData:l,rowIndex:c,rowKey:u})})}),d&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:g,hovered:m})=>{const y=p[g];p[g]=v=>{d({event:v,hovered:m,rowData:l,rowIndex:c,rowKey:u}),y==null||y(v)}}),p}),a=l=>{const{onRowExpand:c,rowData:u,rowIndex:d,rowKey:f}=t;c==null||c({expanded:l,rowData:u,rowIndex:d,rowKey:f})};return Mt(()=>{h(s)&&r(!0)}),{isScrolling:e,measurable:s,measured:n,rowRef:i,eventHandlers:o,onExpand:a}},zre="ElTableV2TableRow",Vre=j({name:zre,props:Tl,setup(t,{expose:e,slots:n,attrs:i}){const{eventHandlers:s,isScrolling:r,measurable:o,measured:a,rowRef:l,onExpand:c}=Ure(t);return e({onExpand:c}),()=>{const{columns:u,columnsStyles:d,expandColumnKey:f,depth:p,rowData:g,rowIndex:m,style:y}=t;let v=u.map((_,b)=>{const w=Ze(g.children)&&g.children.length>0&&_.key===f;return n.cell({column:_,columns:u,columnIndex:b,depth:p,style:d[_.key],rowData:g,rowIndex:m,isScrolling:h(r),expandIconProps:w?{rowData:g,rowIndex:m,onExpand:c}:void 0})});if(n.row&&(v=n.row({cells:v.map(_=>Ze(_)&&_.length===1?_[0]:_),style:y,columns:u,depth:p,rowData:g,rowIndex:m,isScrolling:h(r)})),h(o)){const{height:_,...b}=y||{},w=h(a);return X("div",Lt({ref:l,class:t.class,style:w?y:b,role:"row"},i,h(s)),[v])}return X("div",Lt(i,{ref:l,class:t.class,style:y,role:"row"},h(s)),[v])}}}),$re=t=>{const{sortOrder:e}=t;return X(tt,{size:14,class:t.class},{default:()=>[e===Vf.ASC?X(o$,null,null):X(s$,null,null)]})},Hre=t=>{const{expanded:e,expandable:n,onExpand:i,style:s,size:r}=t,o={onClick:n?()=>i(!e):void 0,class:t.class};return X(tt,Lt(o,{size:r,style:s}),{default:()=>[X(ts,null,null)]})},Wre="ElTableV2Grid",Gre=t=>{const e=z(),n=z(),i=A(()=>{const{data:m,rowHeight:y,estimatedRowHeight:v}=t;if(!v)return m.length*y}),s=A(()=>{const{fixedData:m,rowHeight:y}=t;return((m==null?void 0:m.length)||0)*y}),r=A(()=>Rm(t.headerHeight)),o=A(()=>{const{height:m}=t;return Math.max(0,m-h(r)-h(s))}),a=A(()=>h(r)+h(s)>0),l=({data:m,rowIndex:y})=>m[y][t.rowKey];function c({rowCacheStart:m,rowCacheEnd:y,rowVisibleStart:v,rowVisibleEnd:_}){var b;(b=t.onRowsRendered)==null||b.call(t,{rowCacheStart:m,rowCacheEnd:y,rowVisibleStart:v,rowVisibleEnd:_})}function u(m,y){var v;(v=n.value)==null||v.resetAfterRowIndex(m,y)}function d(m,y){const v=h(e),_=h(n);Pt(m)?(v==null||v.scrollToLeft(m.scrollLeft),_==null||_.scrollTo(m)):(v==null||v.scrollToLeft(m),_==null||_.scrollTo({scrollLeft:m,scrollTop:y}))}function f(m){var y;(y=h(n))==null||y.scrollTo({scrollTop:m})}function p(m,y){var v;(v=h(n))==null||v.scrollToItem(m,1,y)}function g(){var m,y;(m=h(n))==null||m.$forceUpdate(),(y=h(e))==null||y.$forceUpdate()}return{bodyRef:n,forceUpdate:g,fixedRowHeight:s,gridHeight:o,hasHeader:a,headerHeight:r,headerRef:e,totalHeight:i,itemKey:l,onItemRendered:c,resetAfterRowIndex:u,scrollTo:d,scrollToTop:f,scrollToRow:p}},$w=j({name:Wre,props:Pm,setup(t,{slots:e,expose:n}){const{ns:i}=et(Fw),{bodyRef:s,fixedRowHeight:r,gridHeight:o,hasHeader:a,headerRef:l,headerHeight:c,totalHeight:u,forceUpdate:d,itemKey:f,onItemRendered:p,resetAfterRowIndex:g,scrollTo:m,scrollToTop:y,scrollToRow:v}=Gre(t);n({forceUpdate:d,totalHeight:u,scrollTo:m,scrollToTop:y,scrollToRow:v,resetAfterRowIndex:g});const _=()=>t.bodyWidth;return()=>{const{cache:b,columns:w,data:S,fixedData:x,useIsScrolling:C,scrollbarAlwaysOn:T,scrollbarEndGap:E,scrollbarStartGap:M,style:R,rowHeight:O,bodyWidth:F,estimatedRowHeight:V,headerWidth:U,height:D,width:I,getRowHeight:N,onScroll:k}=t,B=ft(V),G=B?Pne:Ene,J=h(c);return X("div",{role:"table",class:[i.e("table"),t.class],style:R},[X(G,{ref:s,data:S,useIsScrolling:C,itemKey:f,columnCache:0,columnWidth:B?_:F,totalColumn:1,totalRow:S.length,rowCache:b,rowHeight:B?N:O,width:I,height:h(o),class:i.e("body"),role:"rowgroup",scrollbarStartGap:M,scrollbarEndGap:E,scrollbarAlwaysOn:T,onScroll:k,onItemRendered:p,perfMode:!1},{default:re=>{var ee;const ye=S[re.rowIndex];return(ee=e.row)==null?void 0:ee.call(e,{...re,columns:w,rowData:ye})}}),h(a)&&X(Bre,{ref:l,class:i.e("header-wrapper"),columns:w,headerData:S,headerHeight:t.headerHeight,fixedHeaderData:x,rowWidth:U,rowHeight:O,width:I,height:Math.min(J+h(r),D)},{dynamic:e.header,fixed:e.row})])}}});function Kre(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!xn(t)}const Yre=(t,{slots:e})=>{const{mainTableRef:n,...i}=t;return X($w,Lt({ref:n},i),Kre(e)?e:{default:()=>[e]})};function Xre(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!xn(t)}const qre=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...i}=t;return X($w,Lt({ref:n},i),Xre(e)?e:{default:()=>[e]})};function jre(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!xn(t)}const Zre=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...i}=t;return X($w,Lt({ref:n},i),jre(e)?e:{default:()=>[e]})};function Jre(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!xn(t)}const Qre=(t,{slots:e})=>{const{columns:n,columnsStyles:i,depthMap:s,expandColumnKey:r,expandedRowKeys:o,estimatedRowHeight:a,hasFixedColumns:l,rowData:c,rowIndex:u,style:d,isScrolling:f,rowProps:p,rowClass:g,rowKey:m,rowEventHandlers:y,ns:v,onRowHovered:_,onRowExpanded:b}=t,w=Jl(g,{columns:n,rowData:c,rowIndex:u},""),S=Jl(p,{columns:n,rowData:c,rowIndex:u}),x=c[m],C=s[x]||0,T=!!r,E=u<0,M=[v.e("row"),w,{[v.e(`row-depth-${C}`)]:T&&u>=0,[v.is("expanded")]:T&&o.includes(x),[v.is("fixed")]:!C&&E,[v.is("customized")]:!!e.row}],R=l?_:void 0,O={...S,columns:n,columnsStyles:i,class:M,depth:C,expandColumnKey:r,estimatedRowHeight:E?void 0:a,isScrolling:f,rowIndex:u,rowData:c,rowKey:x,rowEventHandlers:y,style:d};return X(Vre,Lt(O,{onRowExpand:b,onMouseenter:U=>{R==null||R({hovered:!0,rowKey:x,event:U,rowData:c,rowIndex:u})},onMouseleave:U=>{R==null||R({hovered:!1,rowKey:x,event:U,rowData:c,rowIndex:u})},rowkey:x}),Jre(e)?e:{default:()=>[e]})},H1=({columns:t,column:e,columnIndex:n,depth:i,expandIconProps:s,isScrolling:r,rowData:o,rowIndex:a,style:l,expandedRowKeys:c,ns:u,cellProps:d,expandColumnKey:f,indentSize:p,iconSize:g,rowKey:m},{slots:y})=>{const v=ua(l);if(e.placeholderSign===Hf)return X("div",{class:u.em("row-cell","placeholder"),style:v},null);const{cellRenderer:_,dataKey:b,dataGetter:w}=e,S=ht(w)?w({columns:t,column:e,columnIndex:n,rowData:o,rowIndex:a}):Fn(o,b??""),x=Jl(d,{cellData:S,columns:t,column:e,columnIndex:n,rowIndex:a,rowData:o}),C={class:u.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:S,isScrolling:r,rowData:o,rowIndex:a},T=ak(_),E=T?T(C):Me(y,"default",C,()=>[X(zw,C,null)]),M=[u.e("row-cell"),e.class,e.align===$f.CENTER&&u.is("align-center"),e.align===$f.RIGHT&&u.is("align-right")],R=a>=0&&f&&e.key===f,O=a>=0&&c.includes(o[m]);let F;const V=`margin-inline-start: ${i*p}px;`;return R&&(Pt(s)?F=X(Hre,Lt(s,{class:[u.e("expand-icon"),u.is("expanded",O)],size:g,expanded:O,style:V,expandable:!0}),null):F=X("div",{style:[V,`width: ${g}px; height: ${g}px;`].join(" ")},null)),X("div",Lt({class:M,style:v},x,{role:"cell"}),[F,E])};H1.inheritAttrs=!1;function eoe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!xn(t)}const toe=({columns:t,columnsStyles:e,headerIndex:n,style:i,headerClass:s,headerProps:r,ns:o},{slots:a})=>{const l={columns:t,headerIndex:n},c=[o.e("header-row"),Jl(s,l,""),{[o.is("customized")]:!!a.header}],u={...Jl(r,l),columnsStyles:e,class:c,columns:t,headerIndex:n,style:i};return X(Dre,u,eoe(a)?a:{default:()=>[a]})},rE=(t,{slots:e})=>{const{column:n,ns:i,style:s,onColumnSorted:r}=t,o=ua(s);if(n.placeholderSign===Hf)return X("div",{class:i.em("header-row-cell","placeholder"),style:o},null);const{headerCellRenderer:a,headerClass:l,sortable:c}=n,u={...t,class:i.e("header-cell-text")},d=ak(a),f=d?d(u):Me(e,"default",u,()=>[X(Vw,u,null)]),{sortBy:p,sortState:g,headerCellProps:m}=t;let y,v;if(g){const w=g[n.key];y=!!$1[w],v=y?w:Vf.ASC}else y=n.key===p.key,v=y?p.order:Vf.ASC;const _=[i.e("header-cell"),Jl(l,t,""),n.align===$f.CENTER&&i.is("align-center"),n.align===$f.RIGHT&&i.is("align-right"),c&&i.is("sortable")],b={...Jl(m,t),onClick:n.sortable?r:void 0,class:_,style:o,"data-key":n.key};return X("div",Lt(b,{role:"columnheader"}),[f,c&&X($re,{class:[i.e("sort-icon"),y&&i.is("sorting")],sortOrder:v},null)])},dk=(t,{slots:e})=>{var n;return X("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};dk.displayName="ElTableV2Footer";const fk=(t,{slots:e})=>{const n=Me(e,"default",{},()=>[X(gI,null,null)]);return X("div",{class:t.class,style:t.style},[n])};fk.displayName="ElTableV2Empty";const hk=(t,{slots:e})=>{var n;return X("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};hk.displayName="ElTableV2Overlay";function bd(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!xn(t)}const noe="ElTableV2",ioe=j({name:noe,props:Lre,setup(t,{slots:e,expose:n}){const i=Oe("table-v2"),{columnsStyles:s,fixedColumnsOnLeft:r,fixedColumnsOnRight:o,mainColumns:a,mainTableHeight:l,fixedTableHeight:c,leftTableWidth:u,rightTableWidth:d,data:f,depthMap:p,expandedRowKeys:g,hasFixedColumns:m,mainTableRef:y,leftTableRef:v,rightTableRef:_,isDynamic:b,isResetting:w,isScrolling:S,bodyWidth:x,emptyStyle:C,rootStyle:T,headerWidth:E,footerHeight:M,showEmpty:R,scrollTo:O,scrollToLeft:F,scrollToTop:V,scrollToRow:U,getRowHeight:D,onColumnSorted:I,onRowHeightChange:N,onRowHovered:k,onRowExpanded:B,onRowsRendered:G,onScroll:J,onVerticalScroll:re}=kre(t);return n({scrollTo:O,scrollToLeft:F,scrollToTop:V,scrollToRow:U}),Nt(Fw,{ns:i,isResetting:w,isScrolling:S}),()=>{const{cache:ee,cellProps:ye,estimatedRowHeight:te,expandColumnKey:oe,fixedData:de,headerHeight:Ne,headerClass:Q,headerProps:Te,headerCellProps:me,sortBy:K,sortState:q,rowHeight:ue,rowClass:ve,rowEventHandlers:he,rowKey:xe,rowProps:W,scrollbarAlwaysOn:$,indentSize:ae,iconSize:se,useIsScrolling:Ee,vScrollbarSize:Re,width:be}=t,Pe=h(f),Fe={cache:ee,class:i.e("main"),columns:h(a),data:Pe,fixedData:de,estimatedRowHeight:te,bodyWidth:h(x)+Re,headerHeight:Ne,headerWidth:h(E),height:h(l),mainTableRef:y,rowKey:xe,rowHeight:ue,scrollbarAlwaysOn:$,scrollbarStartGap:2,scrollbarEndGap:Re,useIsScrolling:Ee,width:be,getRowHeight:D,onRowsRendered:G,onScroll:J},it=h(u),Ye=h(c),He={cache:ee,class:i.e("left"),columns:h(r),data:Pe,estimatedRowHeight:te,leftTableRef:v,rowHeight:ue,bodyWidth:it,headerWidth:it,headerHeight:Ne,height:Ye,rowKey:xe,scrollbarAlwaysOn:$,scrollbarStartGap:2,scrollbarEndGap:Re,useIsScrolling:Ee,width:it,getRowHeight:D,onScroll:re},Le=h(d)+Re,we={cache:ee,class:i.e("right"),columns:h(o),data:Pe,estimatedRowHeight:te,rightTableRef:_,rowHeight:ue,bodyWidth:Le,headerWidth:Le,headerHeight:Ne,height:Ye,rowKey:xe,scrollbarAlwaysOn:$,scrollbarStartGap:2,scrollbarEndGap:Re,width:Le,style:`--${h(i.namespace)}-table-scrollbar-size: ${Re}px`,useIsScrolling:Ee,getRowHeight:D,onScroll:re},pe=h(s),Ae={ns:i,depthMap:h(p),columnsStyles:pe,expandColumnKey:oe,expandedRowKeys:h(g),estimatedRowHeight:te,hasFixedColumns:h(m),rowProps:W,rowClass:ve,rowKey:xe,rowEventHandlers:he,onRowHovered:k,onRowExpanded:B,onRowHeightChange:N},je={cellProps:ye,expandColumnKey:oe,indentSize:ae,iconSize:se,rowKey:xe,expandedRowKeys:h(g),ns:i},fe={ns:i,headerClass:Q,headerProps:Te,columnsStyles:pe},le={ns:i,sortBy:K,sortState:q,headerCellProps:me,onColumnSorted:I},Be={row:pt=>X(Qre,Lt(pt,Ae),{row:e.row,cell:dt=>{let Bt;return e.cell?X(H1,Lt(dt,je,{style:pe[dt.column.key]}),bd(Bt=e.cell(dt))?Bt:{default:()=>[Bt]}):X(H1,Lt(dt,je,{style:pe[dt.column.key]}),null)}}),header:pt=>X(toe,Lt(pt,fe),{header:e.header,cell:dt=>{let Bt;return e["header-cell"]?X(rE,Lt(dt,le,{style:pe[dt.column.key]}),bd(Bt=e["header-cell"](dt))?Bt:{default:()=>[Bt]}):X(rE,Lt(dt,le,{style:pe[dt.column.key]}),null)}})},We=[t.class,i.b(),i.e("root"),{[i.is("dynamic")]:h(b)}],ot={class:i.e("footer"),style:h(M)};return X("div",{class:We,style:h(T)},[X(Yre,Fe,bd(Be)?Be:{default:()=>[Be]}),X(qre,He,bd(Be)?Be:{default:()=>[Be]}),X(Zre,we,bd(Be)?Be:{default:()=>[Be]}),e.footer&&X(dk,ot,{default:e.footer}),h(R)&&X(fk,{class:i.e("empty"),style:h(C)},{default:e.empty}),e.overlay&&X(hk,{class:i.e("overlay")},{default:e.overlay})])}}}),soe=ze({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:ce(Function)}}),roe=j({name:"ElAutoResizer",props:soe,setup(t,{slots:e}){const n=Oe("auto-resizer"),{height:i,width:s,sizer:r}=Ire(t),o={width:"100%",height:"100%"};return()=>{var a;return X("div",{ref:r,class:n.b(),style:o},[(a=e.default)==null?void 0:a.call(e,{height:i.value,width:s.value})])}}}),ooe=At(ioe),aoe=At(roe),gv=Symbol("tabsRootContextKey"),loe=ze({tabs:{type:ce(Array),default:()=>Cn([])}}),pk="ElTabBar",coe=j({name:pk}),uoe=j({...coe,props:loe,setup(t,{expose:e}){const n=t,i=Tt(),s=et(gv);s||si(pk,"<el-tabs><el-tab-bar /></el-tabs>");const r=Oe("tabs"),o=z(),a=z(),l=()=>{let u=0,d=0;const f=["top","bottom"].includes(s.props.tabPosition)?"width":"height",p=f==="width"?"x":"y",g=p==="x"?"left":"top";return n.tabs.every(m=>{var y,v;const _=(v=(y=i.parent)==null?void 0:y.refs)==null?void 0:v[`tab-${m.uid}`];if(!_)return!1;if(!m.active)return!0;u=_[`offset${Or(g)}`],d=_[`client${Or(f)}`];const b=window.getComputedStyle(_);return f==="width"&&(n.tabs.length>1&&(d-=Number.parseFloat(b.paddingLeft)+Number.parseFloat(b.paddingRight)),u+=Number.parseFloat(b.paddingLeft)),!1}),{[f]:`${d}px`,transform:`translate${Or(p)}(${u}px)`}},c=()=>a.value=l();return ke(()=>n.tabs,async()=>{await rt(),c()},{immediate:!0}),Mn(o,()=>c()),e({ref:o,update:c}),(u,d)=>(P(),H("div",{ref_key:"barRef",ref:o,class:L([h(r).e("active-bar"),h(r).is(h(s).props.tabPosition)]),style:nt(a.value)},null,6))}});var doe=$e(uoe,[["__file","tab-bar.vue"]]);const foe=ze({panes:{type:ce(Array),default:()=>Cn([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),hoe={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},oE="ElTabNav",poe=j({name:oE,props:foe,emits:hoe,setup(t,{expose:e,emit:n}){const i=Tt(),s=et(gv);s||si(oE,"<el-tabs><tab-nav /></el-tabs>");const r=Oe("tabs"),o=oF(),a=yF(),l=z(),c=z(),u=z(),d=z(),f=z(!1),p=z(0),g=z(!1),m=z(!0),y=A(()=>["top","bottom"].includes(s.props.tabPosition)?"width":"height"),v=A(()=>({transform:`translate${y.value==="width"?"X":"Y"}(-${p.value}px)`})),_=()=>{if(!l.value)return;const E=l.value[`offset${Or(y.value)}`],M=p.value;if(!M)return;const R=M>E?M-E:0;p.value=R},b=()=>{if(!l.value||!c.value)return;const E=c.value[`offset${Or(y.value)}`],M=l.value[`offset${Or(y.value)}`],R=p.value;if(E-R<=M)return;const O=E-R>M*2?R+M:E-M;p.value=O},w=async()=>{const E=c.value;if(!f.value||!u.value||!l.value||!E)return;await rt();const M=u.value.querySelector(".is-active");if(!M)return;const R=l.value,O=["top","bottom"].includes(s.props.tabPosition),F=M.getBoundingClientRect(),V=R.getBoundingClientRect(),U=O?E.offsetWidth-V.width:E.offsetHeight-V.height,D=p.value;let I=D;O?(F.left<V.left&&(I=D-(V.left-F.left)),F.right>V.right&&(I=D+F.right-V.right)):(F.top<V.top&&(I=D-(V.top-F.top)),F.bottom>V.bottom&&(I=D+(F.bottom-V.bottom))),I=Math.max(I,0),p.value=Math.min(I,U)},S=()=>{var E;if(!c.value||!l.value)return;t.stretch&&((E=d.value)==null||E.update());const M=c.value[`offset${Or(y.value)}`],R=l.value[`offset${Or(y.value)}`],O=p.value;R<M?(f.value=f.value||{},f.value.prev=O,f.value.next=O+R<M,M-O<R&&(p.value=M-R)):(f.value=!1,O>0&&(p.value=0))},x=E=>{const M=E.code,{up:R,down:O,left:F,right:V}=lt;if(![R,O,F,V].includes(M))return;const U=Array.from(E.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),D=U.indexOf(E.target);let I;M===F||M===R?D===0?I=U.length-1:I=D-1:D<U.length-1?I=D+1:I=0,U[I].focus({preventScroll:!0}),U[I].click(),C()},C=()=>{m.value&&(g.value=!0)},T=()=>g.value=!1;return ke(o,E=>{E==="hidden"?m.value=!1:E==="visible"&&setTimeout(()=>m.value=!0,50)}),ke(a,E=>{E?setTimeout(()=>m.value=!0,50):m.value=!1}),Mn(u,S),Mt(()=>setTimeout(()=>w(),0)),Co(()=>S()),e({scrollToActiveTab:w,removeFocus:T}),ke(()=>t.panes,()=>i.update(),{flush:"post",deep:!0}),()=>{const E=f.value?[X("span",{class:[r.e("nav-prev"),r.is("disabled",!f.value.prev)],onClick:_},[X(tt,null,{default:()=>[X(Sa,null,null)]})]),X("span",{class:[r.e("nav-next"),r.is("disabled",!f.value.next)],onClick:b},[X(tt,null,{default:()=>[X(ts,null,null)]})])]:null,M=t.panes.map((R,O)=>{var F,V,U,D;const I=R.uid,N=R.props.disabled,k=(V=(F=R.props.name)!=null?F:R.index)!=null?V:`${O}`,B=!N&&(R.isClosable||t.editable);R.index=`${O}`;const G=B?X(tt,{class:"is-icon-close",onClick:ee=>n("tabRemove",R,ee)},{default:()=>[X(gr,null,null)]}):null,J=((D=(U=R.slots).label)==null?void 0:D.call(U))||R.props.label,re=!N&&R.active?0:-1;return X("div",{ref:`tab-${I}`,class:[r.e("item"),r.is(s.props.tabPosition),r.is("active",R.active),r.is("disabled",N),r.is("closable",B),r.is("focus",g.value)],id:`tab-${k}`,key:`tab-${I}`,"aria-controls":`pane-${k}`,role:"tab","aria-selected":R.active,tabindex:re,onFocus:()=>C(),onBlur:()=>T(),onClick:ee=>{T(),n("tabClick",R,k,ee)},onKeydown:ee=>{B&&(ee.code===lt.delete||ee.code===lt.backspace)&&n("tabRemove",R,ee)}},[J,G])});return X("div",{ref:u,class:[r.e("nav-wrap"),r.is("scrollable",!!f.value),r.is(s.props.tabPosition)]},[E,X("div",{class:r.e("nav-scroll"),ref:l},[X("div",{class:[r.e("nav"),r.is(s.props.tabPosition),r.is("stretch",t.stretch&&["top","bottom"].includes(s.props.tabPosition))],ref:c,style:v.value,role:"tablist",onKeydown:x},[t.type?null:X(doe,{ref:d,tabs:[...t.panes]},null),M])])])}}}),moe=ze({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ce(Function),default:()=>!0},stretch:Boolean}),O0=t=>yt(t)||ft(t),goe={[It]:t=>O0(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>O0(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>O0(t),tabAdd:()=>!0},voe=j({name:"ElTabs",props:moe,emits:goe,setup(t,{emit:e,slots:n,expose:i}){var s;const r=Oe("tabs"),{children:o,addChild:a,removeChild:l}=cw(Tt(),"ElTabPane"),c=z(),u=z((s=t.modelValue)!=null?s:"0"),d=async(m,y=!1)=>{var v,_,b;if(!(u.value===m||Kn(m)))try{await((v=t.beforeLeave)==null?void 0:v.call(t,m,u.value))!==!1&&(u.value=m,y&&(e(It,m),e("tabChange",m)),(b=(_=c.value)==null?void 0:_.removeFocus)==null||b.call(_))}catch{}},f=(m,y,v)=>{m.props.disabled||(d(y,!0),e("tabClick",m,v))},p=(m,y)=>{m.props.disabled||Kn(m.props.name)||(y.stopPropagation(),e("edit",m.props.name,"remove"),e("tabRemove",m.props.name))},g=()=>{e("edit",void 0,"add"),e("tabAdd")};return ke(()=>t.modelValue,m=>d(m)),ke(u,async()=>{var m;await rt(),(m=c.value)==null||m.scrollToActiveTab()}),Nt(gv,{props:t,currentName:u,registerPane:a,unregisterPane:l}),i({currentName:u}),()=>{const m=n["add-icon"],y=t.editable||t.addable?X("span",{class:r.e("new-tab"),tabindex:"0",onClick:g,onKeydown:b=>{b.code===lt.enter&&g()}},[m?Me(n,"add-icon"):X(tt,{class:r.is("icon-plus")},{default:()=>[X(WR,null,null)]})]):null,v=X("div",{class:[r.e("header"),r.is(t.tabPosition)]},[y,X(poe,{ref:c,currentName:u.value,editable:t.editable,type:t.type,panes:o.value,stretch:t.stretch,onTabClick:f,onTabRemove:p},null)]),_=X("div",{class:r.e("content")},[Me(n,"default")]);return X("div",{class:[r.b(),r.m(t.tabPosition),{[r.m("card")]:t.type==="card",[r.m("border-card")]:t.type==="border-card"}]},[...t.tabPosition!=="bottom"?[v,_]:[_,v]])}}}),yoe=ze({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),boe=["id","aria-hidden","aria-labelledby"],mk="ElTabPane",_oe=j({name:mk}),woe=j({..._oe,props:yoe,setup(t){const e=t,n=Tt(),i=Ci(),s=et(gv);s||si(mk,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const r=Oe("tab-pane"),o=z(),a=A(()=>e.closable||s.props.closable),l=DS(()=>{var p;return s.currentName.value===((p=e.name)!=null?p:o.value)}),c=z(l.value),u=A(()=>{var p;return(p=e.name)!=null?p:o.value}),d=DS(()=>!e.lazy||c.value||l.value);ke(l,p=>{p&&(c.value=!0)});const f=Xt({uid:n.uid,slots:i,props:e,paneName:u,active:l,index:o,isClosable:a});return Mt(()=>{s.registerPane(f)}),La(()=>{s.unregisterPane(f.uid)}),(p,g)=>h(d)?St((P(),H("div",{key:0,id:`pane-${h(u)}`,class:L(h(r).b()),role:"tabpanel","aria-hidden":!h(l),"aria-labelledby":`tab-${h(u)}`},[Me(p.$slots,"default")],10,boe)),[[Kt,h(l)]]):ge("v-if",!0)}});var gk=$e(woe,[["__file","tab-pane.vue"]]);const xoe=At(voe,{TabPane:gk}),Soe=En(gk),Moe=ze({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Gr,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),Coe=j({name:"ElText"}),Eoe=j({...Coe,props:Moe,setup(t){const e=t,n=ei(),i=Oe("text"),s=A(()=>[i.b(),i.m(e.type),i.m(n.value),i.is("truncated",e.truncated),i.is("line-clamp",!Kn(e.lineClamp))]);return(r,o)=>(P(),_e(kt(r.tag),{class:L(h(s)),style:nt({"-webkit-line-clamp":r.lineClamp})},{default:ne(()=>[Me(r.$slots,"default")]),_:3},8,["class","style"]))}});var Toe=$e(Eoe,[["__file","text.vue"]]);const Aoe=At(Toe),Roe=ze({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:fi,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:ce([String,Object]),default:()=>HR},clearIcon:{type:ce([String,Object]),default:()=>Da},...td}),ro=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const i=Number.parseInt(e[1],10),s=t.toUpperCase();return s.includes("AM")&&n===12?n=0:s.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:i}}return null},L0=(t,e)=>{const n=ro(t);if(!n)return-1;const i=ro(e);if(!i)return-1;const s=n.minutes+n.hours*60,r=i.minutes+i.hours*60;return s===r?0:s>r?1:-1},aE=t=>`${t}`.padStart(2,"0"),jc=t=>`${aE(t.hours)}:${aE(t.minutes)}`,Poe=(t,e)=>{const n=ro(t);if(!n)return"";const i=ro(e);if(!i)return"";const s={hours:n.hours,minutes:n.minutes};return s.minutes+=i.minutes,s.hours+=i.hours,s.hours+=Math.floor(s.minutes/60),s.minutes=s.minutes%60,jc(s)},Ioe=j({name:"ElTimeSelect"}),koe=j({...Ioe,props:Roe,emits:["change","blur","focus","update:modelValue"],setup(t,{expose:e}){const n=t;Rt.extend(gw);const{Option:i}=Zl,s=Oe("input"),r=z(),o=os(),{lang:a}=$t(),l=A(()=>n.modelValue),c=A(()=>{const v=ro(n.start);return v?jc(v):null}),u=A(()=>{const v=ro(n.end);return v?jc(v):null}),d=A(()=>{const v=ro(n.step);return v?jc(v):null}),f=A(()=>{const v=ro(n.minTime||"");return v?jc(v):null}),p=A(()=>{const v=ro(n.maxTime||"");return v?jc(v):null}),g=A(()=>{const v=[];if(n.start&&n.end&&n.step){let _=c.value,b;for(;_&&u.value&&L0(_,u.value)<=0;)b=Rt(_,"HH:mm").locale(a.value).format(n.format),v.push({value:b,disabled:L0(_,f.value||"-1:-1")<=0||L0(_,p.value||"100:100")>=0}),_=Poe(_,d.value)}return v});return e({blur:()=>{var v,_;(_=(v=r.value)==null?void 0:v.blur)==null||_.call(v)},focus:()=>{var v,_;(_=(v=r.value)==null?void 0:v.focus)==null||_.call(v)}}),(v,_)=>(P(),_e(h(Zl),{ref_key:"select",ref:r,"model-value":h(l),disabled:h(o),clearable:v.clearable,"clear-icon":v.clearIcon,size:v.size,effect:v.effect,placeholder:v.placeholder,"default-first-option":"",filterable:v.editable,"empty-values":v.emptyValues,"value-on-clear":v.valueOnClear,"onUpdate:modelValue":_[0]||(_[0]=b=>v.$emit("update:modelValue",b)),onChange:_[1]||(_[1]=b=>v.$emit("change",b)),onBlur:_[2]||(_[2]=b=>v.$emit("blur",b)),onFocus:_[3]||(_[3]=b=>v.$emit("focus",b))},{prefix:ne(()=>[v.prefixIcon?(P(),_e(h(tt),{key:0,class:L(h(s).e("prefix-icon"))},{default:ne(()=>[(P(),_e(kt(v.prefixIcon)))]),_:1},8,["class"])):ge("v-if",!0)]),default:ne(()=>[(P(!0),H(st,null,Dt(h(g),b=>(P(),_e(h(i),{key:b.value,label:b.value,value:b.value,disabled:b.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear"]))}});var Im=$e(koe,[["__file","time-select.vue"]]);Im.install=t=>{t.component(Im.name,Im)};const Ooe=Im,Loe=Ooe,Noe=j({name:"ElTimeline",setup(t,{slots:e}){const n=Oe("timeline");return Nt("timeline",e),()=>at("ul",{class:[n.b()]},[Me(e,"default")])}}),Doe=ze({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:sn},hollow:{type:Boolean,default:!1}}),Foe=j({name:"ElTimelineItem"}),Boe=j({...Foe,props:Doe,setup(t){const e=t,n=Oe("timeline-item"),i=A(()=>[n.e("node"),n.em("node",e.size||""),n.em("node",e.type||""),n.is("hollow",e.hollow)]);return(s,r)=>(P(),H("li",{class:L([h(n).b(),{[h(n).e("center")]:s.center}])},[Y("div",{class:L(h(n).e("tail"))},null,2),s.$slots.dot?ge("v-if",!0):(P(),H("div",{key:0,class:L(h(i)),style:nt({backgroundColor:s.color})},[s.icon?(P(),_e(h(tt),{key:0,class:L(h(n).e("icon"))},{default:ne(()=>[(P(),_e(kt(s.icon)))]),_:1},8,["class"])):ge("v-if",!0)],6)),s.$slots.dot?(P(),H("div",{key:1,class:L(h(n).e("dot"))},[Me(s.$slots,"dot")],2)):ge("v-if",!0),Y("div",{class:L(h(n).e("wrapper"))},[!s.hideTimestamp&&s.placement==="top"?(P(),H("div",{key:0,class:L([h(n).e("timestamp"),h(n).is("top")])},Ge(s.timestamp),3)):ge("v-if",!0),Y("div",{class:L(h(n).e("content"))},[Me(s.$slots,"default")],2),!s.hideTimestamp&&s.placement==="bottom"?(P(),H("div",{key:1,class:L([h(n).e("timestamp"),h(n).is("bottom")])},Ge(s.timestamp),3)):ge("v-if",!0)],2)],2))}});var vk=$e(Boe,[["__file","timeline-item.vue"]]);const Uoe=At(Noe,{TimelineItem:vk}),zoe=En(vk),yk=ze({nowrap:Boolean});var bk=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(bk||{});const Voe=Object.values(bk),Hw=ze({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:ce(Object),default:null}}),$oe=ze({side:{type:ce(String),values:Voe,required:!0}}),Hoe=["absolute","fixed"],Woe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],Ww=ze({arrowPadding:{type:ce(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:ce(String),values:Woe,default:"bottom"},reference:{type:ce(Object),default:null},offset:{type:Number,default:8},strategy:{type:ce(String),values:Hoe,default:"absolute"},showArrow:{type:Boolean,default:!1},...Ai(["ariaLabel"])}),Gw=ze({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:ce(Function)},"onUpdate:open":{type:ce(Function)}}),wc={type:ce(Function)},Kw=ze({onBlur:wc,onClick:wc,onFocus:wc,onMouseDown:wc,onMouseEnter:wc,onMouseLeave:wc}),Goe=ze({...Gw,...Hw,...Kw,...Ww,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:ce(Object),default:null},teleported:Boolean,to:{type:ce(String),default:"body"}}),vv=Symbol("tooltipV2"),_k=Symbol("tooltipV2Content"),N0="tooltip_v2.open",Koe=j({name:"ElTooltipV2Root"}),Yoe=j({...Koe,props:Gw,setup(t,{expose:e}){const n=t,i=z(n.defaultOpen),s=z(null),r=A({get:()=>Yl(n.open)?i.value:n.open,set:y=>{var v;i.value=y,(v=n["onUpdate:open"])==null||v.call(n,y)}}),o=A(()=>ft(n.delayDuration)&&n.delayDuration>0),{start:a,stop:l}=Gl(()=>{r.value=!0},A(()=>n.delayDuration),{immediate:!1}),c=Oe("tooltip-v2"),u=Li(),d=()=>{l(),r.value=!0},f=()=>{h(o)?a():d()},p=d,g=()=>{l(),r.value=!1};return ke(r,y=>{var v;y&&(document.dispatchEvent(new CustomEvent(N0)),p()),(v=n.onOpenChange)==null||v.call(n,y)}),Mt(()=>{document.addEventListener(N0,g)}),fn(()=>{l(),document.removeEventListener(N0,g)}),Nt(vv,{contentId:u,triggerRef:s,ns:c,onClose:g,onDelayOpen:f,onOpen:p}),e({onOpen:p,onClose:g}),(y,v)=>Me(y.$slots,"default",{open:h(r)})}});var Xoe=$e(Yoe,[["__file","root.vue"]]);const qoe=j({name:"ElTooltipV2Arrow"}),joe=j({...qoe,props:{...Hw,...$oe},setup(t){const e=t,{ns:n}=et(vv),{arrowRef:i}=et(_k),s=A(()=>{const{style:r,width:o,height:a}=e,l=n.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${o}px`,[`--${l}-tooltip-v2-arrow-height`]:`${a}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${o/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:o/2-1,...r||{}}});return(r,o)=>(P(),H("span",{ref_key:"arrowRef",ref:i,style:nt(h(s)),class:L(h(n).e("arrow"))},null,6))}});var lE=$e(joe,[["__file","arrow.vue"]]);const Zoe=ze({style:{type:ce([String,Object,Array]),default:()=>({})}}),Joe=j({name:"ElVisuallyHidden"}),Qoe=j({...Joe,props:Zoe,setup(t){const e=t,n=A(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(i,s)=>(P(),H("span",Lt(i.$attrs,{style:h(n)}),[Me(i.$slots,"default")],16))}});var eae=$e(Qoe,[["__file","visual-hidden.vue"]]);const tae=["data-side"],nae=j({name:"ElTooltipV2Content"}),iae=j({...nae,props:{...Ww,...yk},setup(t){const e=t,{triggerRef:n,contentId:i}=et(vv),s=z(e.placement),r=z(e.strategy),o=z(null),{referenceRef:a,contentRef:l,middlewareData:c,x:u,y:d,update:f}=P6({placement:s,strategy:r,middleware:A(()=>{const b=[E3(e.offset)];return e.showArrow&&b.push(I6({arrowRef:o})),b})}),p=Qu().nextZIndex(),g=Oe("tooltip-v2"),m=A(()=>s.value.split("-")[0]),y=A(()=>({position:h(r),top:`${h(d)||0}px`,left:`${h(u)||0}px`,zIndex:p})),v=A(()=>{if(!e.showArrow)return{};const{arrow:b}=h(c);return{[`--${g.namespace.value}-tooltip-v2-arrow-x`]:`${b==null?void 0:b.x}px`||"",[`--${g.namespace.value}-tooltip-v2-arrow-y`]:`${b==null?void 0:b.y}px`||""}}),_=A(()=>[g.e("content"),g.is("dark",e.effect==="dark"),g.is(h(r)),e.contentClass]);return ke(o,()=>f()),ke(()=>e.placement,b=>s.value=b),Mt(()=>{ke(()=>e.reference||n.value,b=>{a.value=b||void 0},{immediate:!0})}),Nt(_k,{arrowRef:o}),(b,w)=>(P(),H("div",{ref_key:"contentRef",ref:l,style:nt(h(y)),"data-tooltip-v2-root":""},[b.nowrap?ge("v-if",!0):(P(),H("div",{key:0,"data-side":h(m),class:L(h(_))},[Me(b.$slots,"default",{contentStyle:h(y),contentClass:h(_)}),X(h(eae),{id:h(i),role:"tooltip"},{default:ne(()=>[b.ariaLabel?(P(),H(st,{key:0},[zt(Ge(b.ariaLabel),1)],64)):Me(b.$slots,"default",{key:1})]),_:3},8,["id"]),Me(b.$slots,"arrow",{style:nt(h(v)),side:h(m)})],10,tae))],4))}});var cE=$e(iae,[["__file","content.vue"]]);const sae=ze({setRef:{type:ce(Function),required:!0},onlyChild:Boolean});var rae=j({props:sae,setup(t,{slots:e}){const n=z(),i=nv(n,s=>{s?t.setRef(s.nextElementSibling):t.setRef(null)});return()=>{var s;const[r]=((s=e.default)==null?void 0:s.call(e))||[],o=t.onlyChild?M$(r.children):r.children;return X(st,{ref:i},[o])}}});const oae=j({name:"ElTooltipV2Trigger"}),aae=j({...oae,props:{...yk,...Kw},setup(t){const e=t,{onClose:n,onOpen:i,onDelayOpen:s,triggerRef:r,contentId:o}=et(vv);let a=!1;const l=_=>{r.value=_},c=()=>{a=!1},u=kn(e.onMouseEnter,s),d=kn(e.onMouseLeave,n),f=kn(e.onMouseDown,()=>{n(),a=!0,document.addEventListener("mouseup",c,{once:!0})}),p=kn(e.onFocus,()=>{a||i()}),g=kn(e.onBlur,n),m=kn(e.onClick,_=>{_.detail===0&&n()}),y={blur:g,click:m,focus:p,mousedown:f,mouseenter:u,mouseleave:d},v=(_,b,w)=>{_&&Object.entries(b).forEach(([S,x])=>{_[w](S,x)})};return ke(r,(_,b)=>{v(_,y,"addEventListener"),v(b,y,"removeEventListener"),_&&_.setAttribute("aria-describedby",o.value)}),fn(()=>{v(r.value,y,"removeEventListener"),document.removeEventListener("mouseup",c)}),(_,b)=>_.nowrap?(P(),_e(h(rae),{key:0,"set-ref":l,"only-child":""},{default:ne(()=>[Me(_.$slots,"default")]),_:3})):(P(),H("button",Lt({key:1,ref_key:"triggerRef",ref:r},_.$attrs),[Me(_.$slots,"default")],16))}});var lae=$e(aae,[["__file","trigger.vue"]]);const cae=j({name:"ElTooltipV2"}),uae=j({...cae,props:Goe,setup(t){const n=Ti(t),i=Xt(Lr(n,Object.keys(Hw))),s=Xt(Lr(n,Object.keys(Ww))),r=Xt(Lr(n,Object.keys(Gw))),o=Xt(Lr(n,Object.keys(Kw)));return(a,l)=>(P(),_e(Xoe,co(_u(r)),{default:ne(({open:c})=>[X(lae,Lt(o,{nowrap:""}),{default:ne(()=>[Me(a.$slots,"trigger")]),_:3},16),(P(),_e(Yu,{to:a.to,disabled:!a.teleported},[a.fullTransition?(P(),_e(ii,co(Lt({key:0},a.transitionProps)),{default:ne(()=>[a.alwaysOn||c?(P(),_e(cE,co(Lt({key:0},s)),{arrow:ne(({style:u,side:d})=>[a.showArrow?(P(),_e(lE,Lt({key:0},i,{style:u,side:d}),null,16,["style","side"])):ge("v-if",!0)]),default:ne(()=>[Me(a.$slots,"default")]),_:3},16)):ge("v-if",!0)]),_:2},1040)):(P(),H(st,{key:1},[a.alwaysOn||c?(P(),_e(cE,co(Lt({key:0},s)),{arrow:ne(({style:u,side:d})=>[a.showArrow?(P(),_e(lE,Lt({key:0},i,{style:u,side:d}),null,16,["style","side"])):ge("v-if",!0)]),default:ne(()=>[Me(a.$slots,"default")]),_:3},16)):ge("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var dae=$e(uae,[["__file","tooltip.vue"]]);const fae=At(dae),wk="left-check-change",xk="right-check-change",Zc=ze({data:{type:ce(Array),default:()=>[]},titles:{type:ce(Array),default:()=>[]},buttonTexts:{type:ce(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:ce(Function)},leftDefaultChecked:{type:ce(Array),default:()=>[]},rightDefaultChecked:{type:ce(Array),default:()=>[]},renderContent:{type:ce(Function)},modelValue:{type:ce(Array),default:()=>[]},format:{type:ce(Object),default:()=>({})},filterable:Boolean,props:{type:ce(Object),default:()=>Cn({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),W1=(t,e)=>[t,e].every(Ze)||Ze(t)&&yi(e),hae={[mn]:(t,e,n)=>[t,n].every(Ze)&&["left","right"].includes(e),[It]:t=>Ze(t),[wk]:W1,[xk]:W1},G1="checked-change",pae=ze({data:Zc.data,optionRender:{type:ce(Function)},placeholder:String,title:String,filterable:Boolean,format:Zc.format,filterMethod:Zc.filterMethod,defaultChecked:Zc.leftDefaultChecked,props:Zc.props}),mae={[G1]:W1},Ch=t=>{const e={label:"label",key:"key",disabled:"disabled"};return A(()=>({...e,...t.props}))},gae=(t,e,n)=>{const i=Ch(t),s=A(()=>t.data.filter(u=>ht(t.filterMethod)?t.filterMethod(e.query,u):String(u[i.value.label]||u[i.value.key]).toLowerCase().includes(e.query.toLowerCase()))),r=A(()=>s.value.filter(u=>!u[i.value.disabled])),o=A(()=>{const u=e.checked.length,d=t.data.length,{noChecked:f,hasChecked:p}=t.format;return f&&p?u>0?p.replace(/\${checked}/g,u.toString()).replace(/\${total}/g,d.toString()):f.replace(/\${total}/g,d.toString()):`${u}/${d}`}),a=A(()=>{const u=e.checked.length;return u>0&&u<r.value.length}),l=()=>{const u=r.value.map(d=>d[i.value.key]);e.allChecked=u.length>0&&u.every(d=>e.checked.includes(d))},c=u=>{e.checked=u?r.value.map(d=>d[i.value.key]):[]};return ke(()=>e.checked,(u,d)=>{if(l(),e.checkChangeByUser){const f=u.concat(d).filter(p=>!u.includes(p)||!d.includes(p));n(G1,u,f)}else n(G1,u),e.checkChangeByUser=!0}),ke(r,()=>{l()}),ke(()=>t.data,()=>{const u=[],d=s.value.map(f=>f[i.value.key]);e.checked.forEach(f=>{d.includes(f)&&u.push(f)}),e.checkChangeByUser=!1,e.checked=u}),ke(()=>t.defaultChecked,(u,d)=>{if(d&&u.length===d.length&&u.every(g=>d.includes(g)))return;const f=[],p=r.value.map(g=>g[i.value.key]);u.forEach(g=>{p.includes(g)&&f.push(g)}),e.checkChangeByUser=!1,e.checked=f},{immediate:!0}),{filteredData:s,checkableData:r,checkedSummary:o,isIndeterminate:a,updateAllChecked:l,handleAllCheckedChange:c}},vae=(t,e)=>({onSourceCheckedChange:(s,r)=>{t.leftChecked=s,r&&e(wk,s,r)},onTargetCheckedChange:(s,r)=>{t.rightChecked=s,r&&e(xk,s,r)}}),yae=t=>{const e=Ch(t),n=A(()=>t.data.reduce((r,o)=>(r[o[e.value.key]]=o)&&r,{})),i=A(()=>t.data.filter(r=>!t.modelValue.includes(r[e.value.key]))),s=A(()=>t.targetOrder==="original"?t.data.filter(r=>t.modelValue.includes(r[e.value.key])):t.modelValue.reduce((r,o)=>{const a=n.value[o];return a&&r.push(a),r},[]));return{sourceData:i,targetData:s}},bae=(t,e,n)=>{const i=Ch(t),s=(a,l,c)=>{n(It,a),n(mn,a,l,c)};return{addToLeft:()=>{const a=t.modelValue.slice();e.rightChecked.forEach(l=>{const c=a.indexOf(l);c>-1&&a.splice(c,1)}),s(a,"left",e.rightChecked)},addToRight:()=>{let a=t.modelValue.slice();const l=t.data.filter(c=>{const u=c[i.value.key];return e.leftChecked.includes(u)&&!t.modelValue.includes(u)}).map(c=>c[i.value.key]);a=t.targetOrder==="unshift"?l.concat(a):a.concat(l),t.targetOrder==="original"&&(a=t.data.filter(c=>a.includes(c[i.value.key])).map(c=>c[i.value.key])),s(a,"right",e.leftChecked)}}},_ae=j({name:"ElTransferPanel"}),wae=j({..._ae,props:pae,emits:mae,setup(t,{expose:e,emit:n}){const i=t,s=Ci(),r=({option:b})=>b,{t:o}=$t(),a=Oe("transfer"),l=Xt({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),c=Ch(i),{filteredData:u,checkedSummary:d,isIndeterminate:f,handleAllCheckedChange:p}=gae(i,l,n),g=A(()=>!Vs(l.query)&&Vs(u.value)),m=A(()=>!Vs(s.default()[0].children)),{checked:y,allChecked:v,query:_}=Ti(l);return e({query:_}),(b,w)=>(P(),H("div",{class:L(h(a).b("panel"))},[Y("p",{class:L(h(a).be("panel","header"))},[X(h(tr),{modelValue:h(v),"onUpdate:modelValue":w[0]||(w[0]=S=>yn(v)?v.value=S:null),indeterminate:h(f),"validate-event":!1,onChange:h(p)},{default:ne(()=>[zt(Ge(b.title)+" ",1),Y("span",null,Ge(h(d)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),Y("div",{class:L([h(a).be("panel","body"),h(a).is("with-footer",h(m))])},[b.filterable?(P(),_e(h(Wi),{key:0,modelValue:h(_),"onUpdate:modelValue":w[1]||(w[1]=S=>yn(_)?_.value=S:null),class:L(h(a).be("panel","filter")),size:"default",placeholder:b.placeholder,"prefix-icon":h(n$),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):ge("v-if",!0),St(X(h(TP),{modelValue:h(y),"onUpdate:modelValue":w[2]||(w[2]=S=>yn(y)?y.value=S:null),"validate-event":!1,class:L([h(a).is("filterable",b.filterable),h(a).be("panel","list")])},{default:ne(()=>[(P(!0),H(st,null,Dt(h(u),S=>(P(),_e(h(tr),{key:S[h(c).key],class:L(h(a).be("panel","item")),value:S[h(c).key],disabled:S[h(c).disabled],"validate-event":!1},{default:ne(()=>{var x;return[X(r,{option:(x=b.optionRender)==null?void 0:x.call(b,S)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Kt,!h(g)&&!h(Vs)(b.data)]]),St(Y("p",{class:L(h(a).be("panel","empty"))},Ge(h(g)?h(o)("el.transfer.noMatch"):h(o)("el.transfer.noData")),3),[[Kt,h(g)||h(Vs)(b.data)]])],2),h(m)?(P(),H("p",{key:0,class:L(h(a).be("panel","footer"))},[Me(b.$slots,"default")],2)):ge("v-if",!0)],2))}});var uE=$e(wae,[["__file","transfer-panel.vue"]]);const xae={key:0},Sae={key:0},Mae=j({name:"ElTransfer"}),Cae=j({...Mae,props:Zc,emits:hae,setup(t,{expose:e,emit:n}){const i=t,s=Ci(),{t:r}=$t(),o=Oe("transfer"),{formItem:a}=Xi(),l=Xt({leftChecked:[],rightChecked:[]}),c=Ch(i),{sourceData:u,targetData:d}=yae(i),{onSourceCheckedChange:f,onTargetCheckedChange:p}=vae(l,n),{addToLeft:g,addToRight:m}=bae(i,l,n),y=z(),v=z(),_=T=>{switch(T){case"left":y.value.query="";break;case"right":v.value.query="";break}},b=A(()=>i.buttonTexts.length===2),w=A(()=>i.titles[0]||r("el.transfer.titles.0")),S=A(()=>i.titles[1]||r("el.transfer.titles.1")),x=A(()=>i.filterPlaceholder||r("el.transfer.filterPlaceholder"));ke(()=>i.modelValue,()=>{var T;i.validateEvent&&((T=a==null?void 0:a.validate)==null||T.call(a,"change").catch(E=>void 0))});const C=A(()=>T=>i.renderContent?i.renderContent(at,T):s.default?s.default({option:T}):at("span",T[c.value.label]||T[c.value.key]));return e({clearQuery:_,leftPanel:y,rightPanel:v}),(T,E)=>(P(),H("div",{class:L(h(o).b())},[X(uE,{ref_key:"leftPanel",ref:y,data:h(u),"option-render":h(C),placeholder:h(x),title:h(w),filterable:T.filterable,format:T.format,"filter-method":T.filterMethod,"default-checked":T.leftDefaultChecked,props:i.props,onCheckedChange:h(f)},{default:ne(()=>[Me(T.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Y("div",{class:L(h(o).e("buttons"))},[X(h(bi),{type:"primary",class:L([h(o).e("button"),h(o).is("with-texts",h(b))]),disabled:h(Vs)(l.rightChecked),onClick:h(g)},{default:ne(()=>[X(h(tt),null,{default:ne(()=>[X(h(Sa))]),_:1}),h(Kn)(T.buttonTexts[0])?ge("v-if",!0):(P(),H("span",xae,Ge(T.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),X(h(bi),{type:"primary",class:L([h(o).e("button"),h(o).is("with-texts",h(b))]),disabled:h(Vs)(l.leftChecked),onClick:h(m)},{default:ne(()=>[h(Kn)(T.buttonTexts[1])?ge("v-if",!0):(P(),H("span",Sae,Ge(T.buttonTexts[1]),1)),X(h(tt),null,{default:ne(()=>[X(h(ts))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),X(uE,{ref_key:"rightPanel",ref:v,data:h(d),"option-render":h(C),placeholder:h(x),filterable:T.filterable,format:T.format,"filter-method":T.filterMethod,title:h(S),"default-checked":T.rightDefaultChecked,props:i.props,onCheckedChange:h(p)},{default:ne(()=>[Me(T.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var Eae=$e(Cae,[["__file","transfer.vue"]]);const Tae=At(Eae),pu="$treeNodeId",dE=function(t,e){!e||e[pu]||Object.defineProperty(e,pu,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},Yw=function(t,e){return t?e[t]:e[pu]},K1=(t,e,n)=>{const i=t.value.currentNode;n();const s=t.value.currentNode;i!==s&&e("current-change",s?s.data:null,s)},Y1=t=>{let e=!0,n=!0,i=!0;for(let s=0,r=t.length;s<r;s++){const o=t[s];(o.checked!==!0||o.indeterminate)&&(e=!1,o.disabled||(i=!1)),(o.checked!==!1||o.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:i,half:!e&&!n}},Hd=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:i}=Y1(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):i?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const s=t.parent;!s||s.level===0||t.store.checkStrictly||Hd(s)},op=function(t,e){const n=t.store.props,i=t.data||{},s=n[e];if(typeof s=="function")return s(i,t);if(typeof s=="string")return i[s];if(typeof s>"u"){const r=i[e];return r===void 0?"":r}};let Aae=0,X1=class km{constructor(e){this.id=Aae++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)Ut(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const n=e.props;if(n&&typeof n.isLeaf<"u"){const r=op(this,"isLeaf");typeof r=="boolean"&&(this.isLeafByUser=r)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||dE(this,this.data),!this.data)return;const i=e.defaultExpandedKeys,s=e.key;s&&i&&i.includes(this.key)&&this.expand(null,e.autoExpandParent),s&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||dE(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=op(this,"children")||[];for(let i=0,s=n.length;i<s;i++)this.insertChild({data:n[i]})}get label(){return op(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return op(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(i=>i===e||n&&i.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,i){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof km)){if(!i){const s=this.getChildren(!0);s.includes(e.data)||(typeof n>"u"||n<0?s.push(e.data):s.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=Xt(new km(e)),e instanceof km&&e.initialize()}e.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let i;n&&(i=this.childNodes.indexOf(n)),this.insertChild(e,i)}insertAfter(e,n){let i;n&&(i=this.childNodes.indexOf(n),i!==-1&&(i+=1)),this.insertChild(e,i)}removeChild(e){const n=this.getChildren()||[],i=n.indexOf(e.data);i>-1&&n.splice(i,1);const s=this.childNodes.indexOf(e);s>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(s,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let i=0;i<this.childNodes.length;i++)if(this.childNodes[i].data===e){n=this.childNodes[i];break}n&&this.removeChild(n)}expand(e,n){const i=()=>{if(n){let s=this.parent;for(;s.level>0;)s.expanded=!0,s=s.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(s=>{s.canFocus=!0})};this.shouldLoadData()?this.loadData(s=>{Array.isArray(s)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Hd(this),i())}):i()}doCreateChildren(e,n={}){e.forEach(i=>{this.insertChild(Object.assign({data:i},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,i,s){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:o,allWithoutDisable:a}=Y1(this.childNodes);!this.isLeaf&&!o&&a&&(this.checked=!1,e=!1);const l=()=>{if(n){const c=this.childNodes;for(let f=0,p=c.length;f<p;f++){const g=c[f];s=s||e!==!1;const m=g.disabled?g.checked:s;g.setChecked(m,n,!0,s)}const{half:u,all:d}=Y1(c);d||(this.checked=d,this.indeterminate=u)}};if(this.shouldLoadData()){this.loadData(()=>{l(),Hd(this)},{checked:e!==!1});return}else l()}const r=this.parent;!r||r.level===0||i||Hd(r)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const i=this.store.props;let s="children";return i&&(s=i.children||"children"),n[s]===void 0&&(n[s]=null),e&&!n[s]&&(n[s]=[]),n[s]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(r=>r.data),i={},s=[];e.forEach((r,o)=>{const a=r[pu];!!a&&n.findIndex(c=>c[pu]===a)>=0?i[a]={index:o,data:r}:s.push({index:o,data:r})}),this.store.lazy||n.forEach(r=>{i[r[pu]]||this.removeChildByData(r)}),s.forEach(({index:r,data:o})=>{this.insertChild({data:o},r)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const i=r=>{this.childNodes=[],this.doCreateChildren(r,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,r)},s=()=>{this.loading=!1};this.store.load(this,i,s)}else e&&e.call(this)}eachNode(e){const n=[this];for(;n.length;){const i=n.shift();n.unshift(...i.childNodes),e(i)}}reInitChecked(){this.store.checkStrictly||Hd(this)}};class Rae{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const n in e)Ut(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new X1({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,i=this.lazy,s=function(r){const o=r.root?r.root.childNodes:r.childNodes;if(o.forEach(a=>{a.visible=n.call(a,e,a.data,a),s(a)}),!r.visible&&o.length){let a=!0;a=!o.some(l=>l.visible),r.root?r.root.visible=a===!1:r.visible=a===!1}e&&r.visible&&!r.isLeaf&&(!i||r.loaded)&&r.expand()};s(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof X1)return e;const n=Pt(e)?Yw(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){const i=this.getNode(n);i.parent.insertBefore({data:e},i)}insertAfter(e,n){const i=this.getNode(n);i.parent.insertAfter({data:e},i)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const i=Yl(n)?this.root:this.getNode(n);i&&i.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(i=>{const s=n[i];s&&s.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;!e||!e.data||(n?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(i=>{this.deregisterNode(i)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const i=[],s=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(a=>{(a.checked||n&&a.indeterminate)&&(!e||e&&a.isLeaf)&&i.push(a.data),s(a)})};return s(this),i}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(r=>{r.indeterminate&&e.push(r.data),n(r)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const i in n)Ut(n,i)&&e.push(n[i]);return e}updateChildren(e,n){const i=this.nodesMap[e];if(!i)return;const s=i.childNodes;for(let r=s.length-1;r>=0;r--){const o=s[r];this.remove(o.data)}for(let r=0,o=n.length;r<o;r++){const a=n[r];this.append(a,i.data)}}_setCheckedKeys(e,n=!1,i){const s=this._getAllNodes().sort((l,c)=>l.level-c.level),r=Object.create(null),o=Object.keys(i);s.forEach(l=>l.setChecked(!1,!1));const a=l=>{l.childNodes.forEach(c=>{var u;r[c.data[e]]=!0,(u=c.childNodes)!=null&&u.length&&a(c)})};for(let l=0,c=s.length;l<c;l++){const u=s[l],d=u.data[e].toString();if(!o.includes(d)){u.checked&&!r[d]&&u.setChecked(!1,!1);continue}if(u.childNodes.length&&a(u),u.isLeaf||this.checkStrictly){u.setChecked(!0,!1);continue}if(u.setChecked(!0,!0),n){u.setChecked(!1,!1);const p=function(g){g.childNodes.forEach(y=>{y.isLeaf||y.setChecked(!1,!1),p(y)})};p(u)}}}setCheckedNodes(e,n=!1){const i=this.key,s={};e.forEach(r=>{s[(r||{})[i]]=!0}),this._setCheckedKeys(i,n,s)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const i=this.key,s={};e.forEach(r=>{s[r]=!0}),this._setCheckedKeys(i,n,s)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const i=this.getNode(n);i&&i.expand(null,this.autoExpandParent)})}setChecked(e,n,i){const s=this.getNode(e);s&&s.setChecked(!!n,i)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){const i=e[this.key],s=this.nodesMap[i];this.setCurrentNode(s),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,n=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const i=this.getNode(e);i&&(this.setCurrentNode(i),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Pae=j({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=Oe("tree"),n=et("NodeInstance"),i=et("RootTree");return()=>{const s=t.node,{data:r,store:o}=s;return t.renderContent?t.renderContent(at,{_self:n,node:s,data:r,store:o}):Me(i.ctx.slots,"default",{node:s,data:r},()=>[at("span",{class:e.be("node","label")},[s.label])])}}});var Iae=$e(Pae,[["__file","tree-node-content.vue"]]);function Sk(t){const e=et("TreeNodeMap",null),n={treeNodeExpand:i=>{t.node!==i&&t.node.collapse()},children:[]};return e&&e.children.push(n),Nt("TreeNodeMap",n),{broadcastExpanded:i=>{if(t.accordion)for(const s of n.children)s.treeNodeExpand(i)}}}const Mk=Symbol("dragEvents");function kae({props:t,ctx:e,el$:n,dropIndicator$:i,store:s}){const r=Oe("tree"),o=z({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Nt(Mk,{treeNodeDragStart:({event:u,treeNode:d})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(d.node))return u.preventDefault(),!1;u.dataTransfer.effectAllowed="move";try{u.dataTransfer.setData("text/plain","")}catch{}o.value.draggingNode=d,e.emit("node-drag-start",d.node,u)},treeNodeDragOver:({event:u,treeNode:d})=>{const f=d,p=o.value.dropNode;p&&p.node.id!==f.node.id&&Ki(p.$el,r.is("drop-inner"));const g=o.value.draggingNode;if(!g||!f)return;let m=!0,y=!0,v=!0,_=!0;typeof t.allowDrop=="function"&&(m=t.allowDrop(g.node,f.node,"prev"),_=y=t.allowDrop(g.node,f.node,"inner"),v=t.allowDrop(g.node,f.node,"next")),u.dataTransfer.dropEffect=y||m||v?"move":"none",(m||y||v)&&(p==null?void 0:p.node.id)!==f.node.id&&(p&&e.emit("node-drag-leave",g.node,p.node,u),e.emit("node-drag-enter",g.node,f.node,u)),m||y||v?o.value.dropNode=f:o.value.dropNode=null,f.node.nextSibling===g.node&&(v=!1),f.node.previousSibling===g.node&&(m=!1),f.node.contains(g.node,!1)&&(y=!1),(g.node===f.node||g.node.contains(f.node))&&(m=!1,y=!1,v=!1);const b=f.$el.querySelector(`.${r.be("node","content")}`).getBoundingClientRect(),w=n.value.getBoundingClientRect();let S;const x=m?y?.25:v?.45:1:-1,C=v?y?.75:m?.55:0:1;let T=-9999;const E=u.clientY-b.top;E<b.height*x?S="before":E>b.height*C?S="after":y?S="inner":S="none";const M=f.$el.querySelector(`.${r.be("node","expand-icon")}`).getBoundingClientRect(),R=i.value;S==="before"?T=M.top-w.top:S==="after"&&(T=M.bottom-w.top),R.style.top=`${T}px`,R.style.left=`${M.right-w.left}px`,S==="inner"?$s(f.$el,r.is("drop-inner")):Ki(f.$el,r.is("drop-inner")),o.value.showDropIndicator=S==="before"||S==="after",o.value.allowDrop=o.value.showDropIndicator||_,o.value.dropType=S,e.emit("node-drag-over",g.node,f.node,u)},treeNodeDragEnd:u=>{const{draggingNode:d,dropType:f,dropNode:p}=o.value;if(u.preventDefault(),u.dataTransfer.dropEffect="move",d&&p){const g={data:d.node.data};f!=="none"&&d.node.remove(),f==="before"?p.node.parent.insertBefore(g,p.node):f==="after"?p.node.parent.insertAfter(g,p.node):f==="inner"&&p.node.insertChild(g),f!=="none"&&(s.value.registerNode(g),s.value.key&&d.node.eachNode(m=>{var y;(y=s.value.nodesMap[m.data[s.value.key]])==null||y.setChecked(m.checked,!s.value.checkStrictly)})),Ki(p.$el,r.is("drop-inner")),e.emit("node-drag-end",d.node,p.node,f,u),f!=="none"&&e.emit("node-drop",d.node,p.node,f,u)}d&&!p&&e.emit("node-drag-end",d.node,null,f,u),o.value.showDropIndicator=!1,o.value.draggingNode=null,o.value.dropNode=null,o.value.allowDrop=!0}}),{dragState:o}}const Oae=j({name:"ElTreeNode",components:{ElCollapseTransition:fv,ElCheckbox:tr,NodeContent:Iae,ElIcon:tt,Loading:Fa},props:{node:{type:X1,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const n=Oe("tree"),{broadcastExpanded:i}=Sk(t),s=et("RootTree"),r=z(!1),o=z(!1),a=z(null),l=z(null),c=z(null),u=et(Mk),d=Tt();Nt("NodeInstance",d),t.node.expanded&&(r.value=!0,o.value=!0);const f=s.props.props.children||"children";ke(()=>{const E=t.node.data[f];return E&&[...E]},()=>{t.node.updateChildren()}),ke(()=>t.node.indeterminate,E=>{m(t.node.checked,E)}),ke(()=>t.node.checked,E=>{m(E,t.node.indeterminate)}),ke(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),ke(()=>t.node.expanded,E=>{rt(()=>r.value=E),E&&(o.value=!0)});const p=E=>Yw(s.props.nodeKey,E.data),g=E=>{const M=t.props.class;if(!M)return{};let R;if(ht(M)){const{data:O}=E;R=M(O,E)}else R=M;return yt(R)?{[R]:!0}:R},m=(E,M)=>{(a.value!==E||l.value!==M)&&s.ctx.emit("check-change",t.node.data,E,M),a.value=E,l.value=M},y=E=>{K1(s.store,s.ctx.emit,()=>s.store.value.setCurrentNode(t.node)),s.currentNode.value=t.node,s.props.expandOnClickNode&&_(),s.props.checkOnClickNode&&!t.node.disabled&&b(null,{target:{checked:!t.node.checked}}),s.ctx.emit("node-click",t.node.data,t.node,d,E)},v=E=>{s.instance.vnode.props.onNodeContextmenu&&(E.stopPropagation(),E.preventDefault()),s.ctx.emit("node-contextmenu",E,t.node.data,t.node,d)},_=()=>{t.node.isLeaf||(r.value?(s.ctx.emit("node-collapse",t.node.data,t.node,d),t.node.collapse()):(t.node.expand(),e.emit("node-expand",t.node.data,t.node,d)))},b=(E,M)=>{t.node.setChecked(M.target.checked,!s.props.checkStrictly),rt(()=>{const R=s.store.value;s.ctx.emit("check",t.node.data,{checkedNodes:R.getCheckedNodes(),checkedKeys:R.getCheckedKeys(),halfCheckedNodes:R.getHalfCheckedNodes(),halfCheckedKeys:R.getHalfCheckedKeys()})})};return{ns:n,node$:c,tree:s,expanded:r,childNodeRendered:o,oldChecked:a,oldIndeterminate:l,getNodeKey:p,getNodeClass:g,handleSelectChange:m,handleClick:y,handleContextMenu:v,handleExpandIconClick:_,handleCheckChange:b,handleChildNodeExpand:(E,M,R)=>{i(M),s.ctx.emit("node-expand",E,M,R)},handleDragStart:E=>{s.props.draggable&&u.treeNodeDragStart({event:E,treeNode:t})},handleDragOver:E=>{E.preventDefault(),s.props.draggable&&u.treeNodeDragOver({event:E,treeNode:{$el:c.value,node:t.node}})},handleDrop:E=>{E.preventDefault()},handleDragEnd:E=>{s.props.draggable&&u.treeNodeDragEnd(E)},CaretRight:ev}}}),Lae=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],Nae=["aria-expanded"];function Dae(t,e,n,i,s,r){const o=bt("el-icon"),a=bt("el-checkbox"),l=bt("loading"),c=bt("node-content"),u=bt("el-tree-node"),d=bt("el-collapse-transition");return St((P(),H("div",{ref:"node$",class:L([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:e[1]||(e[1]=gt((...f)=>t.handleClick&&t.handleClick(...f),["stop"])),onContextmenu:e[2]||(e[2]=(...f)=>t.handleContextMenu&&t.handleContextMenu(...f)),onDragstart:e[3]||(e[3]=gt((...f)=>t.handleDragStart&&t.handleDragStart(...f),["stop"])),onDragover:e[4]||(e[4]=gt((...f)=>t.handleDragOver&&t.handleDragOver(...f),["stop"])),onDragend:e[5]||(e[5]=gt((...f)=>t.handleDragEnd&&t.handleDragEnd(...f),["stop"])),onDrop:e[6]||(e[6]=gt((...f)=>t.handleDrop&&t.handleDrop(...f),["stop"]))},[Y("div",{class:L(t.ns.be("node","content")),style:nt({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(P(),_e(o,{key:0,class:L([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:gt(t.handleExpandIconClick,["stop"])},{default:ne(()=>[(P(),_e(kt(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):ge("v-if",!0),t.showCheckbox?(P(),_e(a,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:e[0]||(e[0]=gt(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):ge("v-if",!0),t.node.loading?(P(),_e(o,{key:2,class:L([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:ne(()=>[X(l)]),_:1},8,["class"])):ge("v-if",!0),X(c,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),X(d,null,{default:ne(()=>[!t.renderAfterExpand||t.childNodeRendered?St((P(),H("div",{key:0,class:L(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(P(!0),H(st,null,Dt(t.node.childNodes,f=>(P(),_e(u,{key:t.getNodeKey(f),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:f,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,Nae)),[[Kt,t.expanded]]):ge("v-if",!0)]),_:1})],42,Lae)),[[Kt,t.node.visible]])}var Fae=$e(Oae,[["render",Dae],["__file","tree-node.vue"]]);function Bae({el$:t},e){const n=Oe("tree"),i=vn([]),s=vn([]);Mt(()=>{o()}),Co(()=>{i.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),s.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),ke(s,a=>{a.forEach(l=>{l.setAttribute("tabindex","-1")})}),pn(t,"keydown",a=>{const l=a.target;if(!l.className.includes(n.b("node")))return;const c=a.code;i.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const u=i.value.indexOf(l);let d;if([lt.up,lt.down].includes(c)){if(a.preventDefault(),c===lt.up){d=u===-1?0:u!==0?u-1:i.value.length-1;const p=d;for(;!e.value.getNode(i.value[d].dataset.key).canFocus;){if(d--,d===p){d=-1;break}d<0&&(d=i.value.length-1)}}else{d=u===-1?0:u<i.value.length-1?u+1:0;const p=d;for(;!e.value.getNode(i.value[d].dataset.key).canFocus;){if(d++,d===p){d=-1;break}d>=i.value.length&&(d=0)}}d!==-1&&i.value[d].focus()}[lt.left,lt.right].includes(c)&&(a.preventDefault(),l.click());const f=l.querySelector('[type="checkbox"]');[lt.enter,lt.space].includes(c)&&f&&(a.preventDefault(),f.click())});const o=()=>{var a;i.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),s.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const l=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(a=i.value[0])==null||a.setAttribute("tabindex","0")}}const Uae=j({name:"ElTree",components:{ElTreeNode:Fae},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:sn}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=$t(),i=Oe("tree"),s=z(new Rae({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));s.value.initialize();const r=z(s.value.root),o=z(null),a=z(null),l=z(null),{broadcastExpanded:c}=Sk(t),{dragState:u}=kae({props:t,ctx:e,el$:a,dropIndicator$:l,store:s});Bae({el$:a},s);const d=A(()=>{const{childNodes:I}=r.value;return!I||I.length===0||I.every(({visible:N})=>!N)});ke(()=>t.currentNodeKey,I=>{s.value.setCurrentNodeKey(I)}),ke(()=>t.defaultCheckedKeys,I=>{s.value.setDefaultCheckedKey(I)}),ke(()=>t.defaultExpandedKeys,I=>{s.value.setDefaultExpandedKeys(I)}),ke(()=>t.data,I=>{s.value.setData(I)},{deep:!0}),ke(()=>t.checkStrictly,I=>{s.value.checkStrictly=I});const f=I=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");s.value.filter(I)},p=I=>Yw(t.nodeKey,I.data),g=I=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const N=s.value.getNode(I);if(!N)return[];const k=[N.data];let B=N.parent;for(;B&&B!==r.value;)k.push(B.data),B=B.parent;return k.reverse()},m=(I,N)=>s.value.getCheckedNodes(I,N),y=I=>s.value.getCheckedKeys(I),v=()=>{const I=s.value.getCurrentNode();return I?I.data:null},_=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const I=v();return I?I[t.nodeKey]:null},b=(I,N)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");s.value.setCheckedNodes(I,N)},w=(I,N)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");s.value.setCheckedKeys(I,N)},S=(I,N,k)=>{s.value.setChecked(I,N,k)},x=()=>s.value.getHalfCheckedNodes(),C=()=>s.value.getHalfCheckedKeys(),T=(I,N=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");K1(s,e.emit,()=>s.value.setUserCurrentNode(I,N))},E=(I,N=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");K1(s,e.emit,()=>s.value.setCurrentNodeKey(I,N))},M=I=>s.value.getNode(I),R=I=>{s.value.remove(I)},O=(I,N)=>{s.value.append(I,N)},F=(I,N)=>{s.value.insertBefore(I,N)},V=(I,N)=>{s.value.insertAfter(I,N)},U=(I,N,k)=>{c(N),e.emit("node-expand",I,N,k)},D=(I,N)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");s.value.updateChildren(I,N)};return Nt("RootTree",{ctx:e,props:t,store:s,root:r,currentNode:o,instance:Tt()}),Nt(Hr,void 0),{ns:i,store:s,root:r,currentNode:o,dragState:u,el$:a,dropIndicator$:l,isEmpty:d,filter:f,getNodeKey:p,getNodePath:g,getCheckedNodes:m,getCheckedKeys:y,getCurrentNode:v,getCurrentKey:_,setCheckedNodes:b,setCheckedKeys:w,setChecked:S,getHalfCheckedNodes:x,getHalfCheckedKeys:C,setCurrentNode:T,setCurrentKey:E,t:n,getNode:M,remove:R,append:O,insertBefore:F,insertAfter:V,handleNodeExpand:U,updateKeyChildren:D}}});function zae(t,e,n,i,s,r){const o=bt("el-tree-node");return P(),H("div",{ref:"el$",class:L([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(P(!0),H(st,null,Dt(t.root.childNodes,a=>(P(),_e(o,{key:t.getNodeKey(a),node:a,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(P(),H("div",{key:0,class:L(t.ns.e("empty-block"))},[Me(t.$slots,"empty",{},()=>{var a;return[Y("span",{class:L(t.ns.e("empty-text"))},Ge((a=t.emptyText)!=null?a:t.t("el.tree.emptyText")),3)]})],2)):ge("v-if",!0),St(Y("div",{ref:"dropIndicator$",class:L(t.ns.e("drop-indicator"))},null,2),[[Kt,t.dragState.showDropIndicator]])],2)}var Om=$e(Uae,[["render",zae],["__file","tree.vue"]]);Om.install=t=>{t.component(Om.name,Om)};const _g=Om,Vae=_g,$ae=(t,{attrs:e,emit:n},{select:i,tree:s,key:r})=>{const o=Oe("tree-select");return ke(()=>t.data,()=>{t.filterable&&rt(()=>{var l,c;(c=s.value)==null||c.filter((l=i.value)==null?void 0:l.states.inputValue)})},{flush:"post"}),{...Lr(Ti(t),Object.keys(Zl.props)),...e,"onUpdate:modelValue":l=>n(It,l),valueKey:r,popperClass:A(()=>{const l=[o.e("popper")];return t.popperClass&&l.push(t.popperClass),l.join(" ")}),filterMethod:(l="")=>{var c;t.filterMethod?t.filterMethod(l):t.remoteMethod?t.remoteMethod(l):(c=s.value)==null||c.filter(l)}}},Hae=j({extends:fg,setup(t,e){const n=fg.setup(t,e);delete n.selectOptionClick;const i=Tt().proxy;return rt(()=>{n.select.states.cachedOptions.get(i.value)||n.select.onOptionCreate(i)}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function q1(t){return t||t===0}function Xw(t){return Array.isArray(t)&&t.length}function _d(t){return Array.isArray(t)?t:q1(t)?[t]:[]}function Lm(t,e,n,i,s){for(let r=0;r<t.length;r++){const o=t[r];if(e(o,r,t,s))return i?i(o,r,t,s):o;{const a=n(o);if(Xw(a)){const l=Lm(a,e,n,i,o);if(l)return l}}}}function j1(t,e,n,i){for(let s=0;s<t.length;s++){const r=t[s];e(r,s,t,i);const o=n(r);Xw(o)&&j1(o,e,n,r)}}const Wae=(t,{attrs:e,slots:n,emit:i},{select:s,tree:r,key:o})=>{ke(()=>t.modelValue,()=>{t.showCheckbox&&rt(()=>{const d=r.value;d&&!Gi(d.getCheckedKeys(),_d(t.modelValue))&&d.setCheckedKeys(_d(t.modelValue))})},{immediate:!0,deep:!0});const a=A(()=>({value:o.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),l=(d,f)=>{var p;const g=a.value[d];return ht(g)?g(f,(p=r.value)==null?void 0:p.getNode(l("value",f))):f[g]},c=_d(t.modelValue).map(d=>Lm(t.data||[],f=>l("value",f)===d,f=>l("children",f),(f,p,g,m)=>m&&l("value",m))).filter(d=>q1(d)),u=A(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const d=[];return j1(t.data.concat(t.cacheData),f=>{const p=l("value",f);d.push({value:p,currentLabel:l("label",f),isDisabled:l("disabled",f)})},f=>l("children",f)),d});return{...Lr(Ti(t),Object.keys(_g.props)),...e,nodeKey:o,expandOnClickNode:A(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:A(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(c):c),renderContent:(d,{node:f,data:p,store:g})=>d(Hae,{value:l("value",p),label:l("label",p),disabled:l("disabled",p)},t.renderContent?()=>t.renderContent(d,{node:f,data:p,store:g}):n.default?()=>n.default({node:f,data:p,store:g}):void 0),filterNodeMethod:(d,f,p)=>t.filterNodeMethod?t.filterNodeMethod(d,f,p):d?new RegExp(O_(d),"i").test(l("label",f)||""):!0,onNodeClick:(d,f,p)=>{var g,m,y,v;if((g=e.onNodeClick)==null||g.call(e,d,f,p),!(t.showCheckbox&&t.checkOnClickNode)){if(!t.showCheckbox&&(t.checkStrictly||f.isLeaf)){if(!l("disabled",d)){const _=(m=s.value)==null?void 0:m.states.options.get(l("value",d));(y=s.value)==null||y.handleOptionSelect(_)}}else t.expandOnClickNode&&p.proxy.handleExpandIconClick();(v=s.value)==null||v.focus()}},onCheck:(d,f)=>{var p;if(!t.showCheckbox)return;const g=l("value",d),m={};j1([r.value.store.root],b=>m[b.key]=b,b=>b.childNodes);const y=f.checkedKeys,v=t.multiple?_d(t.modelValue).filter(b=>!(b in m)&&!y.includes(b)):[],_=v.concat(y);if(t.checkStrictly)i(It,t.multiple?_:_.includes(g)?g:void 0);else if(t.multiple)i(It,v.concat(r.value.getCheckedKeys(!0)));else{const b=Lm([d],x=>!Xw(l("children",x))&&!l("disabled",x),x=>l("children",x)),w=b?l("value",b):void 0,S=q1(t.modelValue)&&!!Lm([d],x=>l("value",x)===t.modelValue,x=>l("children",x));i(It,w===t.modelValue||S?void 0:w)}rt(()=>{var b;const w=_d(t.modelValue);r.value.setCheckedKeys(w),(b=e.onCheck)==null||b.call(e,d,{checkedKeys:r.value.getCheckedKeys(),checkedNodes:r.value.getCheckedNodes(),halfCheckedKeys:r.value.getHalfCheckedKeys(),halfCheckedNodes:r.value.getHalfCheckedNodes()})}),(p=s.value)==null||p.focus()},cacheOptions:u}};var Gae=j({props:{data:{type:Array,default:()=>[]}},setup(t){const e=et(Sh);return ke(()=>t.data,()=>{var n;t.data.forEach(s=>{e.states.cachedOptions.has(s.value)||e.states.cachedOptions.set(s.value,s)});const i=((n=e.selectRef)==null?void 0:n.querySelectorAll("input"))||[];Array.from(i).includes(document.activeElement)||e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const Kae=j({name:"ElTreeSelect",inheritAttrs:!1,props:{...Zl.props,..._g.props,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:i}=e,s=z(),r=z(),o=A(()=>t.nodeKey||t.valueKey||"value"),a=$ae(t,e,{select:s,tree:r,key:o}),{cacheOptions:l,...c}=Wae(t,e,{select:s,tree:r,key:o}),u=Xt({});return i(u),Mt(()=>{Object.assign(u,{...Lr(r.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...Lr(s.value,["focus","blur"])})}),()=>at(Zl,Xt({...a,ref:d=>s.value=d}),{...n,default:()=>[at(Gae,{data:l.value}),at(_g,Xt({...c,ref:d=>r.value=d}))]})}});var Nm=$e(Kae,[["__file","tree-select.vue"]]);Nm.install=t=>{t.component(Nm.name,Nm)};const Yae=Nm,Xae=Yae,qw=Symbol(),qae={key:-1,level:-1,data:{}};var Wd=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t))(Wd||{}),Z1=(t=>(t.ADD="add",t.DELETE="delete",t))(Z1||{});const Ck={type:Number,default:26},jae=ze({data:{type:ce(Array),default:()=>Cn([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:ce(Object),default:()=>Cn({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:ce(Array),default:()=>Cn([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:ce(Array),default:()=>Cn([])},indent:{type:Number,default:16},itemSize:Ck,icon:{type:sn},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:ce([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:ce(Function)},perfMode:{type:Boolean,default:!0}}),Zae=ze({node:{type:ce(Object),default:()=>Cn(qae)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:Ck}),Jae=ze({node:{type:ce(Object),required:!0}}),Ek="node-click",Tk="node-expand",Ak="node-collapse",Rk="current-change",Pk="check",Ik="check-change",kk="node-contextmenu",Qae={[Ek]:(t,e,n)=>t&&e&&n,[Tk]:(t,e)=>t&&e,[Ak]:(t,e)=>t&&e,[Rk]:(t,e)=>t&&e,[Pk]:(t,e)=>t&&e,[Ik]:(t,e)=>t&&typeof e=="boolean",[kk]:(t,e,n)=>t&&e&&n},ele={click:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&typeof e=="boolean"};function tle(t,e){const n=z(new Set),i=z(new Set),{emit:s}=Tt();ke([()=>e.value,()=>t.defaultCheckedKeys],()=>rt(()=>{_(t.defaultCheckedKeys)}),{immediate:!0});const r=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:b,maxLevel:w}=e.value,S=n.value,x=new Set;for(let C=w-1;C>=1;--C){const T=b.get(C);T&&T.forEach(E=>{const M=E.children;if(M){let R=!0,O=!1;for(const F of M){const V=F.key;if(S.has(V))O=!0;else if(x.has(V)){R=!1,O=!0;break}else R=!1}R?S.add(E.key):O?(x.add(E.key),S.delete(E.key)):(S.delete(E.key),x.delete(E.key))}})}i.value=x},o=b=>n.value.has(b.key),a=b=>i.value.has(b.key),l=(b,w,S=!0)=>{const x=n.value,C=(T,E)=>{x[E?Z1.ADD:Z1.DELETE](T.key);const M=T.children;!t.checkStrictly&&M&&M.forEach(R=>{R.disabled||C(R,E)})};C(b,w),r(),S&&c(b,w)},c=(b,w)=>{const{checkedNodes:S,checkedKeys:x}=g(),{halfCheckedNodes:C,halfCheckedKeys:T}=m();s(Pk,b.data,{checkedKeys:x,checkedNodes:S,halfCheckedKeys:T,halfCheckedNodes:C}),s(Ik,b.data,w)};function u(b=!1){return g(b).checkedKeys}function d(b=!1){return g(b).checkedNodes}function f(){return m().halfCheckedKeys}function p(){return m().halfCheckedNodes}function g(b=!1){const w=[],S=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:x}=e.value;n.value.forEach(C=>{const T=x.get(C);T&&(!b||b&&T.isLeaf)&&(S.push(C),w.push(T.data))})}return{checkedKeys:S,checkedNodes:w}}function m(){const b=[],w=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:S}=e.value;i.value.forEach(x=>{const C=S.get(x);C&&(w.push(x),b.push(C.data))})}return{halfCheckedNodes:b,halfCheckedKeys:w}}function y(b){n.value.clear(),i.value.clear(),rt(()=>{_(b)})}function v(b,w){if(e!=null&&e.value&&t.showCheckbox){const S=e.value.treeNodeMap.get(b);S&&l(S,w,!1)}}function _(b){if(e!=null&&e.value){const{treeNodeMap:w}=e.value;if(t.showCheckbox&&w&&b)for(const S of b){const x=w.get(S);x&&!o(x)&&l(x,!0,!1)}}}return{updateCheckedKeys:r,toggleCheckbox:l,isChecked:o,isIndeterminate:a,getCheckedKeys:u,getCheckedNodes:d,getHalfCheckedKeys:f,getHalfCheckedNodes:p,setChecked:v,setCheckedKeys:y}}function nle(t,e){const n=z(new Set([])),i=z(new Set([])),s=A(()=>ht(t.filterMethod));function r(a){var l;if(!s.value)return;const c=new Set,u=i.value,d=n.value,f=[],p=((l=e.value)==null?void 0:l.treeNodes)||[],g=t.filterMethod;d.clear();function m(y){y.forEach(v=>{f.push(v),g!=null&&g(a,v.data)?f.forEach(b=>{c.add(b.key)}):v.isLeaf&&d.add(v.key);const _=v.children;if(_&&m(_),!v.isLeaf){if(!c.has(v.key))d.add(v.key);else if(_){let b=!0;for(const w of _)if(!d.has(w.key)){b=!1;break}b?u.add(v.key):u.delete(v.key)}}f.pop()})}return m(p),c}function o(a){return i.value.has(a.key)}return{hiddenExpandIconKeySet:i,hiddenNodeKeySet:n,doFilter:r,isForceHiddenExpandIcon:o}}function ile(t,e){const n=z(new Set(t.defaultExpandedKeys)),i=z(),s=vn();ke(()=>t.currentNodeKey,de=>{i.value=de},{immediate:!0}),ke(()=>t.data,de=>{te(de)},{immediate:!0});const{isIndeterminate:r,isChecked:o,toggleCheckbox:a,getCheckedKeys:l,getCheckedNodes:c,getHalfCheckedKeys:u,getHalfCheckedNodes:d,setChecked:f,setCheckedKeys:p}=tle(t,s),{doFilter:g,hiddenNodeKeySet:m,isForceHiddenExpandIcon:y}=nle(t,s),v=A(()=>{var de;return((de=t.props)==null?void 0:de.value)||Wd.KEY}),_=A(()=>{var de;return((de=t.props)==null?void 0:de.children)||Wd.CHILDREN}),b=A(()=>{var de;return((de=t.props)==null?void 0:de.disabled)||Wd.DISABLED}),w=A(()=>{var de;return((de=t.props)==null?void 0:de.label)||Wd.LABEL}),S=A(()=>{const de=n.value,Ne=m.value,Q=[],Te=s.value&&s.value.treeNodes||[];function me(){const K=[];for(let q=Te.length-1;q>=0;--q)K.push(Te[q]);for(;K.length;){const q=K.pop();if(q&&(Ne.has(q.key)||Q.push(q),de.has(q.key))){const ue=q.children;if(ue){const ve=ue.length;for(let he=ve-1;he>=0;--he)K.push(ue[he])}}}}return me(),Q}),x=A(()=>S.value.length>0);function C(de){const Ne=new Map,Q=new Map;let Te=1;function me(q,ue=1,ve=void 0){var he;const xe=[];for(const W of q){const $=M(W),ae={level:ue,key:$,data:W};ae.label=O(W),ae.parent=ve;const se=E(W);ae.disabled=R(W),ae.isLeaf=!se||se.length===0,se&&se.length&&(ae.children=me(se,ue+1,ae)),xe.push(ae),Ne.set($,ae),Q.has(ue)||Q.set(ue,[]),(he=Q.get(ue))==null||he.push(ae)}return ue>Te&&(Te=ue),xe}const K=me(de);return{treeNodeMap:Ne,levelTreeNodeMap:Q,maxLevel:Te,treeNodes:K}}function T(de){const Ne=g(de);Ne&&(n.value=Ne)}function E(de){return de[_.value]}function M(de){return de?de[v.value]:""}function R(de){return de[b.value]}function O(de){return de[w.value]}function F(de){n.value.has(de.key)?k(de):N(de)}function V(de){n.value=new Set(de)}function U(de,Ne){e(Ek,de.data,de,Ne),D(de),t.expandOnClickNode&&F(de),t.showCheckbox&&t.checkOnClickNode&&!de.disabled&&a(de,!o(de),!0)}function D(de){J(de)||(i.value=de.key,e(Rk,de.data,de))}function I(de,Ne){a(de,Ne)}function N(de){const Ne=n.value;if(s.value&&t.accordion){const{treeNodeMap:Q}=s.value;Ne.forEach(Te=>{const me=Q.get(Te);de&&de.level===(me==null?void 0:me.level)&&Ne.delete(Te)})}Ne.add(de.key),e(Tk,de.data,de)}function k(de){n.value.delete(de.key),e(Ak,de.data,de)}function B(de){return n.value.has(de.key)}function G(de){return!!de.disabled}function J(de){const Ne=i.value;return Ne!==void 0&&Ne===de.key}function re(){var de,Ne;if(i.value)return(Ne=(de=s.value)==null?void 0:de.treeNodeMap.get(i.value))==null?void 0:Ne.data}function ee(){return i.value}function ye(de){i.value=de}function te(de){rt(()=>s.value=C(de))}function oe(de){var Ne;const Q=Pt(de)?M(de):de;return(Ne=s.value)==null?void 0:Ne.treeNodeMap.get(Q)}return{tree:s,flattenTree:S,isNotEmpty:x,getKey:M,getChildren:E,toggleExpand:F,toggleCheckbox:a,isExpanded:B,isChecked:o,isIndeterminate:r,isDisabled:G,isCurrent:J,isForceHiddenExpandIcon:y,handleNodeClick:U,handleNodeCheck:I,getCurrentNode:re,getCurrentKey:ee,setCurrentKey:ye,getCheckedKeys:l,getCheckedNodes:c,getHalfCheckedKeys:u,getHalfCheckedNodes:d,setChecked:f,setCheckedKeys:p,filter:T,setData:te,getNode:oe,expandNode:N,collapseNode:k,setExpandedKeys:V}}var sle=j({name:"ElTreeNodeContent",props:Jae,setup(t){const e=et(qw),n=Oe("tree");return()=>{const i=t.node,{data:s}=i;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:i,data:s}):at("span",{class:n.be("node","label")},[i==null?void 0:i.label])}}});const rle=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],ole=j({name:"ElTreeNode"}),ale=j({...ole,props:Zae,emits:ele,setup(t,{emit:e}){const n=t,i=et(qw),s=Oe("tree"),r=A(()=>{var d;return(d=i==null?void 0:i.props.indent)!=null?d:16}),o=A(()=>{var d;return(d=i==null?void 0:i.props.icon)!=null?d:ev}),a=d=>{e("click",n.node,d)},l=()=>{e("toggle",n.node)},c=d=>{e("check",n.node,d)},u=d=>{var f,p,g,m;(g=(p=(f=i==null?void 0:i.instance)==null?void 0:f.vnode)==null?void 0:p.props)!=null&&g.onNodeContextmenu&&(d.stopPropagation(),d.preventDefault()),i==null||i.ctx.emit(kk,d,(m=n.node)==null?void 0:m.data,n.node)};return(d,f)=>{var p,g,m;return P(),H("div",{ref:"node$",class:L([h(s).b("node"),h(s).is("expanded",d.expanded),h(s).is("current",d.current),h(s).is("focusable",!d.disabled),h(s).is("checked",!d.disabled&&d.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":d.expanded,"aria-disabled":d.disabled,"aria-checked":d.checked,"data-key":(p=d.node)==null?void 0:p.key,onClick:gt(a,["stop"]),onContextmenu:u},[Y("div",{class:L(h(s).be("node","content")),style:nt({paddingLeft:`${(d.node.level-1)*h(r)}px`,height:d.itemSize+"px"})},[h(o)?(P(),_e(h(tt),{key:0,class:L([h(s).is("leaf",!!((g=d.node)!=null&&g.isLeaf)),h(s).is("hidden",d.hiddenExpandIcon),{expanded:!((m=d.node)!=null&&m.isLeaf)&&d.expanded},h(s).be("node","expand-icon")]),onClick:gt(l,["stop"])},{default:ne(()=>[(P(),_e(kt(h(o))))]),_:1},8,["class","onClick"])):ge("v-if",!0),d.showCheckbox?(P(),_e(h(tr),{key:1,"model-value":d.checked,indeterminate:d.indeterminate,disabled:d.disabled,onChange:c,onClick:f[0]||(f[0]=gt(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):ge("v-if",!0),X(h(sle),{node:d.node},null,8,["node"])],6)],42,rle)}}});var lle=$e(ale,[["__file","tree-node.vue"]]);const cle=j({name:"ElTreeV2"}),ule=j({...cle,props:jae,emits:Qae,setup(t,{expose:e,emit:n}){const i=t,s=Ci(),r=A(()=>i.itemSize);Nt(qw,{ctx:{emit:n,slots:s},props:i,instance:Tt()}),Nt(Hr,void 0);const{t:o}=$t(),a=Oe("tree"),{flattenTree:l,isNotEmpty:c,toggleExpand:u,isExpanded:d,isIndeterminate:f,isChecked:p,isDisabled:g,isCurrent:m,isForceHiddenExpandIcon:y,handleNodeClick:v,handleNodeCheck:_,toggleCheckbox:b,getCurrentNode:w,getCurrentKey:S,setCurrentKey:x,getCheckedKeys:C,getCheckedNodes:T,getHalfCheckedKeys:E,getHalfCheckedNodes:M,setChecked:R,setCheckedKeys:O,filter:F,setData:V,getNode:U,expandNode:D,collapseNode:I,setExpandedKeys:N}=ile(i,n);return e({toggleCheckbox:b,getCurrentNode:w,getCurrentKey:S,setCurrentKey:x,getCheckedKeys:C,getCheckedNodes:T,getHalfCheckedKeys:E,getHalfCheckedNodes:M,setChecked:R,setCheckedKeys:O,filter:F,setData:V,getNode:U,expandNode:D,collapseNode:I,setExpandedKeys:N}),(k,B)=>{var G;return P(),H("div",{class:L([h(a).b(),{[h(a).m("highlight-current")]:k.highlightCurrent}]),role:"tree"},[h(c)?(P(),_e(h(FI),{key:0,"class-name":h(a).b("virtual-list"),data:h(l),total:h(l).length,height:k.height,"item-size":h(r),"perf-mode":k.perfMode},{default:ne(({data:J,index:re,style:ee})=>[(P(),_e(lle,{key:J[re].key,style:nt(ee),node:J[re],expanded:h(d)(J[re]),"show-checkbox":k.showCheckbox,checked:h(p)(J[re]),indeterminate:h(f)(J[re]),"item-size":h(r),disabled:h(g)(J[re]),current:h(m)(J[re]),"hidden-expand-icon":h(y)(J[re]),onClick:h(v),onToggle:h(u),onCheck:h(_)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(P(),H("div",{key:1,class:L(h(a).e("empty-block"))},[Y("span",{class:L(h(a).e("empty-text"))},Ge((G=k.emptyText)!=null?G:h(o)("el.tree.emptyText")),3)],2))],2)}}});var dle=$e(ule,[["__file","tree.vue"]]);const fle=At(dle),Ok=Symbol("uploadContextKey"),hle="ElUpload";class ple extends Error{constructor(e,n,i,s){super(e),this.name="UploadAjaxError",this.status=n,this.method=i,this.url=s}}function fE(t,e,n){let i;return n.response?i=`${n.response.error||n.response}`:n.responseText?i=`${n.responseText}`:i=`fail to ${e.method} ${t} ${n.status}`,new ple(i,n.status,e.method,t)}function mle(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const gle=t=>{typeof XMLHttpRequest>"u"&&si(hle,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",r=>{const o=r;o.percent=r.total>0?r.loaded/r.total*100:0,t.onProgress(o)});const i=new FormData;if(t.data)for(const[r,o]of Object.entries(t.data))Ze(o)&&o.length?i.append(r,...o):i.append(r,o);i.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(fE(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(fE(n,t,e));t.onSuccess(mle(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const s=t.headers||{};if(s instanceof Headers)s.forEach((r,o)=>e.setRequestHeader(o,r));else for(const[r,o]of Object.entries(s))yi(o)||e.setRequestHeader(r,String(o));return e.send(i),e},Lk=["text","picture","picture-card"];let vle=1;const J1=()=>Date.now()+vle++,Nk=ze({action:{type:String,default:"#"},headers:{type:ce(Object)},method:{type:String,default:"post"},data:{type:ce([Object,Function,Promise]),default:()=>Cn({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:ce(Array),default:()=>Cn([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Lk,default:"text"},httpRequest:{type:ce(Function),default:gle},disabled:Boolean,limit:Number}),yle=ze({...Nk,beforeUpload:{type:ce(Function),default:en},beforeRemove:{type:ce(Function)},onRemove:{type:ce(Function),default:en},onChange:{type:ce(Function),default:en},onPreview:{type:ce(Function),default:en},onSuccess:{type:ce(Function),default:en},onProgress:{type:ce(Function),default:en},onError:{type:ce(Function),default:en},onExceed:{type:ce(Function),default:en},crossorigin:{type:ce(String)}}),ble=ze({files:{type:ce(Array),default:()=>Cn([])},disabled:{type:Boolean,default:!1},handlePreview:{type:ce(Function),default:en},listType:{type:String,values:Lk,default:"text"},crossorigin:{type:ce(String)}}),_le={remove:t=>!!t},wle=["onKeydown"],xle=["src","crossorigin"],Sle=["onClick"],Mle=["title"],Cle=["onClick"],Ele=["onClick"],Tle=j({name:"ElUploadList"}),Ale=j({...Tle,props:ble,emits:_le,setup(t,{emit:e}){const n=t,{t:i}=$t(),s=Oe("upload"),r=Oe("icon"),o=Oe("list"),a=os(),l=z(!1),c=A(()=>[s.b("list"),s.bm("list",n.listType),s.is("disabled",n.disabled)]),u=d=>{e("remove",d)};return(d,f)=>(P(),_e(UA,{tag:"ul",class:L(h(c)),name:h(o).b()},{default:ne(()=>[(P(!0),H(st,null,Dt(d.files,p=>(P(),H("li",{key:p.uid||p.name,class:L([h(s).be("list","item"),h(s).is(p.status),{focusing:l.value}]),tabindex:"0",onKeydown:Gt(g=>!h(a)&&u(p),["delete"]),onFocus:f[0]||(f[0]=g=>l.value=!0),onBlur:f[1]||(f[1]=g=>l.value=!1),onClick:f[2]||(f[2]=g=>l.value=!1)},[Me(d.$slots,"default",{file:p},()=>[d.listType==="picture"||p.status!=="uploading"&&d.listType==="picture-card"?(P(),H("img",{key:0,class:L(h(s).be("list","item-thumbnail")),src:p.url,crossorigin:d.crossorigin,alt:""},null,10,xle)):ge("v-if",!0),p.status==="uploading"||d.listType!=="picture-card"?(P(),H("div",{key:1,class:L(h(s).be("list","item-info"))},[Y("a",{class:L(h(s).be("list","item-name")),onClick:gt(g=>d.handlePreview(p),["prevent"])},[X(h(tt),{class:L(h(r).m("document"))},{default:ne(()=>[X(h(EV))]),_:1},8,["class"]),Y("span",{class:L(h(s).be("list","item-file-name")),title:p.name},Ge(p.name),11,Mle)],10,Sle),p.status==="uploading"?(P(),_e(h(AI),{key:0,type:d.listType==="picture-card"?"circle":"line","stroke-width":d.listType==="picture-card"?6:2,percentage:Number(p.percentage),style:nt(d.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):ge("v-if",!0)],2)):ge("v-if",!0),Y("label",{class:L(h(s).be("list","item-status-label"))},[d.listType==="text"?(P(),_e(h(tt),{key:0,class:L([h(r).m("upload-success"),h(r).m("circle-check")])},{default:ne(()=>[X(h(D_))]),_:1},8,["class"])):["picture-card","picture"].includes(d.listType)?(P(),_e(h(tt),{key:1,class:L([h(r).m("upload-success"),h(r).m("check")])},{default:ne(()=>[X(h(ph))]),_:1},8,["class"])):ge("v-if",!0)],2),h(a)?ge("v-if",!0):(P(),_e(h(tt),{key:2,class:L(h(r).m("close")),onClick:g=>u(p)},{default:ne(()=>[X(h(gr))]),_:2},1032,["class","onClick"])),ge(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),ge(" This is a bug which needs to be fixed "),ge(" TODO: Fix the incorrect navigation interaction "),h(a)?ge("v-if",!0):(P(),H("i",{key:3,class:L(h(r).m("close-tip"))},Ge(h(i)("el.upload.deleteTip")),3)),d.listType==="picture-card"?(P(),H("span",{key:4,class:L(h(s).be("list","item-actions"))},[Y("span",{class:L(h(s).be("list","item-preview")),onClick:g=>d.handlePreview(p)},[X(h(tt),{class:L(h(r).m("zoom-in"))},{default:ne(()=>[X(h(YR))]),_:1},8,["class"])],10,Cle),h(a)?ge("v-if",!0):(P(),H("span",{key:0,class:L(h(s).be("list","item-delete")),onClick:g=>u(p)},[X(h(tt),{class:L(h(r).m("delete"))},{default:ne(()=>[X(h(MV))]),_:1},8,["class"])],10,Ele))],2)):ge("v-if",!0)])],42,wle))),128)),Me(d.$slots,"append")]),_:3},8,["class","name"]))}});var hE=$e(Ale,[["__file","upload-list.vue"]]);const Rle=ze({disabled:{type:Boolean,default:!1}}),Ple={file:t=>Ze(t)},Ile=["onDrop","onDragover"],Dk="ElUploadDrag",kle=j({name:Dk}),Ole=j({...kle,props:Rle,emits:Ple,setup(t,{emit:e}){et(Ok)||si(Dk,"usage: <el-upload><el-upload-dragger /></el-upload>");const i=Oe("upload"),s=z(!1),r=os(),o=l=>{if(r.value)return;s.value=!1,l.stopPropagation();const c=Array.from(l.dataTransfer.files);e("file",c)},a=()=>{r.value||(s.value=!0)};return(l,c)=>(P(),H("div",{class:L([h(i).b("dragger"),h(i).is("dragover",s.value)]),onDrop:gt(o,["prevent"]),onDragover:gt(a,["prevent"]),onDragleave:c[0]||(c[0]=gt(u=>s.value=!1,["prevent"]))},[Me(l.$slots,"default")],42,Ile))}});var Lle=$e(Ole,[["__file","upload-dragger.vue"]]);const Nle=ze({...Nk,beforeUpload:{type:ce(Function),default:en},onRemove:{type:ce(Function),default:en},onStart:{type:ce(Function),default:en},onSuccess:{type:ce(Function),default:en},onProgress:{type:ce(Function),default:en},onError:{type:ce(Function),default:en},onExceed:{type:ce(Function),default:en}}),Dle=["onKeydown"],Fle=["name","multiple","accept"],Ble=j({name:"ElUploadContent",inheritAttrs:!1}),Ule=j({...Ble,props:Nle,setup(t,{expose:e}){const n=t,i=Oe("upload"),s=os(),r=vn({}),o=vn(),a=m=>{if(m.length===0)return;const{autoUpload:y,limit:v,fileList:_,multiple:b,onStart:w,onExceed:S}=n;if(v&&_.length+m.length>v){S(m,_);return}b||(m=m.slice(0,1));for(const x of m){const C=x;C.uid=J1(),w(C),y&&l(C)}},l=async m=>{if(o.value.value="",!n.beforeUpload)return u(m);let y,v={};try{const b=n.data,w=n.beforeUpload(m);v=Km(n.data)?ig(n.data):n.data,y=await w,Km(n.data)&&Gi(b,v)&&(v=ig(n.data))}catch{y=!1}if(y===!1){n.onRemove(m);return}let _=m;y instanceof Blob&&(y instanceof File?_=y:_=new File([y],m.name,{type:m.type})),u(Object.assign(_,{uid:m.uid}),v)},c=async(m,y)=>ht(m)?m(y):m,u=async(m,y)=>{const{headers:v,data:_,method:b,withCredentials:w,name:S,action:x,onProgress:C,onSuccess:T,onError:E,httpRequest:M}=n;try{y=await c(y??_,m)}catch{n.onRemove(m);return}const{uid:R}=m,O={headers:v||{},withCredentials:w,file:m,data:y,method:b,filename:S,action:x,onProgress:V=>{C(V,m)},onSuccess:V=>{T(V,m),delete r.value[R]},onError:V=>{E(V,m),delete r.value[R]}},F=M(O);r.value[R]=F,F instanceof Promise&&F.then(O.onSuccess,O.onError)},d=m=>{const y=m.target.files;y&&a(Array.from(y))},f=()=>{s.value||(o.value.value="",o.value.click())},p=()=>{f()};return e({abort:m=>{q8(r.value).filter(m?([v])=>String(m.uid)===v:()=>!0).forEach(([v,_])=>{_ instanceof XMLHttpRequest&&_.abort(),delete r.value[v]})},upload:l}),(m,y)=>(P(),H("div",{class:L([h(i).b(),h(i).m(m.listType),h(i).is("drag",m.drag)]),tabindex:"0",onClick:f,onKeydown:Gt(gt(p,["self"]),["enter","space"])},[m.drag?(P(),_e(Lle,{key:0,disabled:h(s),onFile:a},{default:ne(()=>[Me(m.$slots,"default")]),_:3},8,["disabled"])):Me(m.$slots,"default",{key:1}),Y("input",{ref_key:"inputRef",ref:o,class:L(h(i).e("input")),name:m.name,multiple:m.multiple,accept:m.accept,type:"file",onChange:d,onClick:y[0]||(y[0]=gt(()=>{},["stop"]))},null,42,Fle)],42,Dle))}});var pE=$e(Ule,[["__file","upload-content.vue"]]);const mE="ElUpload",gE=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},zle=(t,e)=>{const n=ZA(t,"fileList",void 0,{passive:!0}),i=f=>n.value.find(p=>p.uid===f.uid);function s(f){var p;(p=e.value)==null||p.abort(f)}function r(f=["ready","uploading","success","fail"]){n.value=n.value.filter(p=>!f.includes(p.status))}const o=(f,p)=>{const g=i(p);g&&(console.error(f),g.status="fail",n.value.splice(n.value.indexOf(g),1),t.onError(f,g,n.value),t.onChange(g,n.value))},a=(f,p)=>{const g=i(p);g&&(t.onProgress(f,g,n.value),g.status="uploading",g.percentage=Math.round(f.percent))},l=(f,p)=>{const g=i(p);g&&(g.status="success",g.response=f,t.onSuccess(f,g,n.value),t.onChange(g,n.value))},c=f=>{yi(f.uid)&&(f.uid=J1());const p={name:f.name,percentage:0,status:"ready",size:f.size,raw:f,uid:f.uid};if(t.listType==="picture-card"||t.listType==="picture")try{p.url=URL.createObjectURL(f)}catch(g){g.message,t.onError(g,p,n.value)}n.value=[...n.value,p],t.onChange(p,n.value)},u=async f=>{const p=f instanceof File?i(f):f;p||si(mE,"file to be removed not found");const g=m=>{s(m);const y=n.value;y.splice(y.indexOf(m),1),t.onRemove(m,y),gE(m)};t.beforeRemove?await t.beforeRemove(p,n.value)!==!1&&g(p):g(p)};function d(){n.value.filter(({status:f})=>f==="ready").forEach(({raw:f})=>{var p;return f&&((p=e.value)==null?void 0:p.upload(f))})}return ke(()=>t.listType,f=>{f!=="picture-card"&&f!=="picture"||(n.value=n.value.map(p=>{const{raw:g,url:m}=p;if(!m&&g)try{p.url=URL.createObjectURL(g)}catch(y){t.onError(y,p,n.value)}return p}))}),ke(n,f=>{for(const p of f)p.uid||(p.uid=J1()),p.status||(p.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:s,clearFiles:r,handleError:o,handleProgress:a,handleStart:c,handleSuccess:l,handleRemove:u,submit:d,revokeFileObjectURL:gE}},Vle=j({name:"ElUpload"}),$le=j({...Vle,props:yle,setup(t,{expose:e}){const n=t,i=os(),s=vn(),{abort:r,submit:o,clearFiles:a,uploadFiles:l,handleStart:c,handleError:u,handleRemove:d,handleSuccess:f,handleProgress:p,revokeFileObjectURL:g}=zle(n,s),m=A(()=>n.listType==="picture-card"),y=A(()=>({...n,fileList:l.value,onStart:c,onProgress:p,onSuccess:f,onError:u,onRemove:d}));return fn(()=>{l.value.forEach(g)}),Nt(Ok,{accept:on(n,"accept")}),e({abort:r,submit:o,clearFiles:a,handleStart:c,handleRemove:d}),(v,_)=>(P(),H("div",null,[h(m)&&v.showFileList?(P(),_e(hE,{key:0,disabled:h(i),"list-type":v.listType,files:h(l),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:h(d)},vo({append:ne(()=>[X(pE,Lt({ref_key:"uploadRef",ref:s},h(y)),{default:ne(()=>[v.$slots.trigger?Me(v.$slots,"trigger",{key:0}):ge("v-if",!0),!v.$slots.trigger&&v.$slots.default?Me(v.$slots,"default",{key:1}):ge("v-if",!0)]),_:3},16)]),_:2},[v.$slots.file?{name:"default",fn:ne(({file:b})=>[Me(v.$slots,"file",{file:b})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):ge("v-if",!0),!h(m)||h(m)&&!v.showFileList?(P(),_e(pE,Lt({key:1,ref_key:"uploadRef",ref:s},h(y)),{default:ne(()=>[v.$slots.trigger?Me(v.$slots,"trigger",{key:0}):ge("v-if",!0),!v.$slots.trigger&&v.$slots.default?Me(v.$slots,"default",{key:1}):ge("v-if",!0)]),_:3},16)):ge("v-if",!0),v.$slots.trigger?Me(v.$slots,"default",{key:2}):ge("v-if",!0),Me(v.$slots,"tip"),!h(m)&&v.showFileList?(P(),_e(hE,{key:3,disabled:h(i),"list-type":v.listType,files:h(l),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:h(d)},vo({_:2},[v.$slots.file?{name:"default",fn:ne(({file:b})=>[Me(v.$slots,"file",{file:b})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):ge("v-if",!0)]))}});var Hle=$e($le,[["__file","upload.vue"]]);const Wle=At(Hle),Gle=ze({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:ce([String,Array]),default:"Element Plus"},font:{type:ce(Object)},gap:{type:ce(Array),default:()=>[100,100]},offset:{type:ce(Array)}});function Kle(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function Yle(t){return Object.keys(t).map(e=>`${Kle(e)}: ${t[e]};`).join(" ")}function Xle(){return window.devicePixelRatio||1}const qle=(t,e)=>{let n=!1;return t.removedNodes.length&&e&&(n=Array.from(t.removedNodes).includes(e)),t.type==="attributes"&&t.target===e&&(n=!0),n},Fk=3;function D0(t,e,n=1){const i=document.createElement("canvas"),s=i.getContext("2d"),r=t*n,o=e*n;return i.setAttribute("width",`${r}px`),i.setAttribute("height",`${o}px`),s.save(),[s,i,r,o]}function jle(){function t(e,n,i,s,r,o,a,l){const[c,u,d,f]=D0(s,r,i);if(e instanceof HTMLImageElement)c.drawImage(e,0,0,d,f);else{const{color:G,fontSize:J,fontStyle:re,fontWeight:ee,fontFamily:ye,textAlign:te,textBaseline:oe}=o,de=Number(J)*i;c.font=`${re} normal ${ee} ${de}px/${r}px ${ye}`,c.fillStyle=G,c.textAlign=te,c.textBaseline=oe;const Ne=Array.isArray(e)?e:[e];Ne==null||Ne.forEach((Q,Te)=>{c.fillText(Q??"",d/2,Te*(de+Fk*i))})}const p=Math.PI/180*Number(n),g=Math.max(s,r),[m,y,v]=D0(g,g,i);m.translate(v/2,v/2),m.rotate(p),d>0&&f>0&&m.drawImage(u,-d/2,-f/2);function _(G,J){const re=G*Math.cos(p)-J*Math.sin(p),ee=G*Math.sin(p)+J*Math.cos(p);return[re,ee]}let b=0,w=0,S=0,x=0;const C=d/2,T=f/2;[[0-C,0-T],[0+C,0-T],[0+C,0+T],[0-C,0+T]].forEach(([G,J])=>{const[re,ee]=_(G,J);b=Math.min(b,re),w=Math.max(w,re),S=Math.min(S,ee),x=Math.max(x,ee)});const M=b+v/2,R=S+v/2,O=w-b,F=x-S,V=a*i,U=l*i,D=(O+V)*2,I=F+U,[N,k]=D0(D,I);function B(G=0,J=0){N.drawImage(y,M,R,O,F,G,J,O,F)}return B(),B(O+V,-F/2-U/2),B(O+V,+F/2+U/2),[k.toDataURL(),D/i,I/i]}return t}const Zle=j({name:"ElWatermark"}),Jle=j({...Zle,props:Gle,setup(t){const e=t,n={position:"relative"},i=A(()=>{var M,R;return(R=(M=e.font)==null?void 0:M.color)!=null?R:"rgba(0,0,0,.15)"}),s=A(()=>{var M,R;return(R=(M=e.font)==null?void 0:M.fontSize)!=null?R:16}),r=A(()=>{var M,R;return(R=(M=e.font)==null?void 0:M.fontWeight)!=null?R:"normal"}),o=A(()=>{var M,R;return(R=(M=e.font)==null?void 0:M.fontStyle)!=null?R:"normal"}),a=A(()=>{var M,R;return(R=(M=e.font)==null?void 0:M.fontFamily)!=null?R:"sans-serif"}),l=A(()=>{var M,R;return(R=(M=e.font)==null?void 0:M.textAlign)!=null?R:"center"}),c=A(()=>{var M,R;return(R=(M=e.font)==null?void 0:M.textBaseline)!=null?R:"top"}),u=A(()=>e.gap[0]),d=A(()=>e.gap[1]),f=A(()=>u.value/2),p=A(()=>d.value/2),g=A(()=>{var M,R;return(R=(M=e.offset)==null?void 0:M[0])!=null?R:f.value}),m=A(()=>{var M,R;return(R=(M=e.offset)==null?void 0:M[1])!=null?R:p.value}),y=()=>{const M={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let R=g.value-f.value,O=m.value-p.value;return R>0&&(M.left=`${R}px`,M.width=`calc(100% - ${R}px)`,R=0),O>0&&(M.top=`${O}px`,M.height=`calc(100% - ${O}px)`,O=0),M.backgroundPosition=`${R}px ${O}px`,M},v=vn(null),_=vn(),b=z(!1),w=()=>{_.value&&(_.value.remove(),_.value=void 0)},S=(M,R)=>{var O;v.value&&_.value&&(b.value=!0,_.value.setAttribute("style",Yle({...y(),backgroundImage:`url('${M}')`,backgroundSize:`${Math.floor(R)}px`})),(O=v.value)==null||O.append(_.value),setTimeout(()=>{b.value=!1}))},x=M=>{let R=120,O=64;const F=e.image,V=e.content,U=e.width,D=e.height;if(!F&&M.measureText){M.font=`${Number(s.value)}px ${a.value}`;const I=Array.isArray(V)?V:[V],N=I.map(k=>{const B=M.measureText(k);return[B.width,B.fontBoundingBoxAscent!==void 0?B.fontBoundingBoxAscent+B.fontBoundingBoxDescent:B.actualBoundingBoxAscent+B.actualBoundingBoxDescent]});R=Math.ceil(Math.max(...N.map(k=>k[0]))),O=Math.ceil(Math.max(...N.map(k=>k[1])))*I.length+(I.length-1)*Fk}return[U??R,D??O]},C=jle(),T=()=>{const R=document.createElement("canvas").getContext("2d"),O=e.image,F=e.content,V=e.rotate;if(R){_.value||(_.value=document.createElement("div"));const U=Xle(),[D,I]=x(R),N=k=>{const[B,G]=C(k||"",V,U,D,I,{color:i.value,fontSize:s.value,fontStyle:o.value,fontWeight:r.value,fontFamily:a.value,textAlign:l.value,textBaseline:c.value},u.value,d.value);S(B,G)};if(O){const k=new Image;k.onload=()=>{N(k)},k.onerror=()=>{N(F)},k.crossOrigin="anonymous",k.referrerPolicy="no-referrer",k.src=O}else N(F)}};return Mt(()=>{T()}),ke(()=>e,()=>{T()},{deep:!0,flush:"post"}),fn(()=>{w()}),jA(v,M=>{b.value||M.forEach(R=>{qle(R,_.value)&&(w(),T())})},{attributes:!0,subtree:!0,childList:!0}),(M,R)=>(P(),H("div",{ref_key:"containerRef",ref:v,style:nt([n])},[Me(M.$slots,"default")],4))}});var Qle=$e(Jle,[["__file","watermark.vue"]]);const ece=At(Qle),tce=ze({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:ce(Object)},targetAreaClickable:{type:Boolean,default:!0}}),nce=(t,e,n,i,s)=>{const r=z(null),o=()=>{let d;return yt(t.value)?d=document.querySelector(t.value):ht(t.value)?d=t.value():d=t.value,d},a=()=>{const d=o();if(!d||!e.value){r.value=null;return}!ice(d)&&e.value&&d.scrollIntoView(s.value);const{left:f,top:p,width:g,height:m}=d.getBoundingClientRect();r.value={left:f,top:p,width:g,height:m,radius:0}};Mt(()=>{ke([e,t],()=>{a()},{immediate:!0}),window.addEventListener("resize",a)}),fn(()=>{window.removeEventListener("resize",a)});const l=d=>{var f;return(f=Ze(n.value.offset)?n.value.offset[d]:n.value.offset)!=null?f:6},c=A(()=>{var d;if(!r.value)return r.value;const f=l(0),p=l(1),g=((d=n.value)==null?void 0:d.radius)||2;return{left:r.value.left-f,top:r.value.top-p,width:r.value.width+f*2,height:r.value.height+p*2,radius:g}}),u=A(()=>{const d=o();return!i.value||!d||!window.DOMRect?d||void 0:{getBoundingClientRect(){var f,p,g,m;return window.DOMRect.fromRect({width:((f=c.value)==null?void 0:f.width)||0,height:((p=c.value)==null?void 0:p.height)||0,x:((g=c.value)==null?void 0:g.left)||0,y:((m=c.value)==null?void 0:m.top)||0})}}});return{mergedPosInfo:c,triggerTarget:u}},yv=Symbol("ElTour");function ice(t){const e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:i,right:s,bottom:r,left:o}=t.getBoundingClientRect();return i>=0&&o>=0&&s<=e&&r<=n}const sce=(t,e,n,i,s,r,o,a)=>{const l=z(),c=z(),u=z({}),d={x:l,y:c,placement:i,strategy:s,middlewareData:u},f=A(()=>{const v=[E3(h(r)),A6(),T6(),rce()];return h(a)&&h(n)&&v.push(T3({element:h(n)})),v}),p=async()=>{if(!Ft)return;const v=h(t),_=h(e);if(!v||!_)return;const b=await A3(v,_,{placement:h(i),strategy:h(s),middleware:h(f)});Cu(d).forEach(w=>{d[w].value=b[w]})},g=A(()=>{if(!h(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:h(o)};const{overflow:v}=h(u);return{position:h(s),zIndex:h(o),top:h(c)!=null?`${h(c)}px`:"",left:h(l)!=null?`${h(l)}px`:"",maxWidth:v!=null&&v.maxWidth?`${v==null?void 0:v.maxWidth}px`:""}}),m=A(()=>{if(!h(a))return{};const{arrow:v}=h(u);return{left:(v==null?void 0:v.x)!=null?`${v==null?void 0:v.x}px`:"",top:(v==null?void 0:v.y)!=null?`${v==null?void 0:v.y}px`:""}});let y;return Mt(()=>{const v=h(t),_=h(e);v&&_&&(y=C6(v,_,p)),ki(()=>{p()})}),fn(()=>{y&&y()}),{update:p,contentStyle:g,arrowStyle:m}},rce=()=>({name:"overflow",async fn(t){const e=await E6(t);let n=0;return e.left>0&&(n=e.left),e.right>0&&(n=e.right),{data:{maxWidth:t.rects.floating.width-n}}}}),oce={style:{width:"100%",height:"100%"}},ace=["d"],lce=j({name:"ElTourMask",inheritAttrs:!1}),cce=j({...lce,props:tce,setup(t){const e=t,{ns:n}=et(yv),i=A(()=>{var a,l;return(l=(a=e.pos)==null?void 0:a.radius)!=null?l:2}),s=A(()=>{const a=i.value,l=`a${a},${a} 0 0 1`;return{topRight:`${l} ${a},${a}`,bottomRight:`${l} ${-a},${a}`,bottomLeft:`${l} ${-a},${-a}`,topLeft:`${l} ${a},${-a}`}}),r=A(()=>{const a=window.innerWidth,l=window.innerHeight,c=s.value,u=`M${a},0 L0,0 L0,${l} L${a},${l} L${a},0 Z`,d=i.value;return e.pos?`${u} M${e.pos.left+d},${e.pos.top} h${e.pos.width-d*2} ${c.topRight} v${e.pos.height-d*2} ${c.bottomRight} h${-e.pos.width+d*2} ${c.bottomLeft} v${-e.pos.height+d*2} ${c.topLeft} z`:u}),o=A(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return G_(on(e,"visible"),{ns:n}),(a,l)=>a.visible?(P(),H("div",Lt({key:0,class:h(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:a.zIndex,pointerEvents:a.pos&&a.targetAreaClickable?"none":"auto"}},a.$attrs),[(P(),H("svg",oce,[Y("path",{class:L(h(n).e("hollow")),style:nt(h(o)),d:h(r)},null,14,ace)]))],16)):ge("v-if",!0)}});var uce=$e(cce,[["__file","mask.vue"]]);const dce=["absolute","fixed"],fce=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],jw=ze({placement:{type:ce(String),values:fce,default:"bottom"},reference:{type:ce(Object),default:null},strategy:{type:ce(String),values:dce,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),hce={close:()=>!0},pce=["data-side"],mce=j({name:"ElTourContent"}),gce=j({...mce,props:jw,emits:hce,setup(t,{emit:e}){const n=t,i=z(n.placement),s=z(n.strategy),r=z(null),o=z(null);ke(()=>n.placement,()=>{i.value=n.placement});const{contentStyle:a,arrowStyle:l}=sce(on(n,"reference"),r,o,i,s,on(n,"offset"),on(n,"zIndex"),on(n,"showArrow")),c=A(()=>i.value.split("-")[0]),{ns:u}=et(yv),d=()=>{e("close")},f=p=>{p.detail.focusReason==="pointer"&&p.preventDefault()};return(p,g)=>(P(),H("div",{ref_key:"contentRef",ref:r,style:nt(h(a)),class:L(h(u).e("content")),"data-side":h(c),tabindex:"-1"},[X(h(xh),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":r.value||void 0,onReleaseRequested:d,onFocusoutPrevented:f},{default:ne(()=>[Me(p.$slots,"default")]),_:3},8,["focus-trap-el"]),p.showArrow?(P(),H("span",{key:0,ref_key:"arrowRef",ref:o,style:nt(h(l)),class:L(h(u).e("arrow"))},null,6)):ge("v-if",!0)],14,pce))}});var vce=$e(gce,[["__file","content.vue"]]),yce=j({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:e,emit:n}){let i=0;return()=>{var s,r;const o=(s=e.default)==null?void 0:s.call(e),a=[];let l=0;function c(u){Ze(u)&&u.forEach(d=>{var f;((f=(d==null?void 0:d.type)||{})==null?void 0:f.name)==="ElTourStep"&&(a.push(d),l+=1)})}return o.length&&c(pa((r=o[0])==null?void 0:r.children)),i!==l&&(i=l,n("update-total",l)),a.length?a[t.current]:null}}});const bce=ze({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:sn},placement:jw.placement,contentStyle:{type:ce([Object])},mask:{type:ce([Boolean,Object]),default:!0},gap:{type:ce(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:ce([Boolean,Object]),default:()=>({block:"center"})},type:{type:ce(String)},appendTo:{type:ce([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),_ce={[It]:t=>Yn(t),"update:current":t=>ft(t),close:t=>ft(t),finish:()=>!0,change:t=>ft(t)},wce=j({name:"ElTour"}),xce=j({...wce,props:bce,emits:_ce,setup(t,{emit:e}){const n=t,i=Oe("tour"),s=z(0),r=z(),o=ZA(n,"current",e,{passive:!0}),a=A(()=>{var E;return(E=r.value)==null?void 0:E.target}),l=A(()=>[i.b(),y.value==="primary"?i.m("primary"):""]),c=A(()=>{var E;return((E=r.value)==null?void 0:E.placement)||n.placement}),u=A(()=>{var E,M;return(M=(E=r.value)==null?void 0:E.contentStyle)!=null?M:n.contentStyle}),d=A(()=>{var E,M;return(M=(E=r.value)==null?void 0:E.mask)!=null?M:n.mask}),f=A(()=>!!d.value&&n.modelValue),p=A(()=>Yn(d.value)?void 0:d.value),g=A(()=>{var E,M;return!!a.value&&((M=(E=r.value)==null?void 0:E.showArrow)!=null?M:n.showArrow)}),m=A(()=>{var E,M;return(M=(E=r.value)==null?void 0:E.scrollIntoViewOptions)!=null?M:n.scrollIntoViewOptions}),y=A(()=>{var E,M;return(M=(E=r.value)==null?void 0:E.type)!=null?M:n.type}),{nextZIndex:v}=Qu(),_=v(),b=A(()=>{var E;return(E=n.zIndex)!=null?E:_}),{mergedPosInfo:w,triggerTarget:S}=nce(a,on(n,"modelValue"),on(n,"gap"),d,m);ke(()=>n.modelValue,E=>{E||(o.value=0)});const x=()=>{n.closeOnPressEscape&&(e("update:modelValue",!1),e("close",o.value))},C=E=>{s.value=E},T=Ci();return Nt(yv,{currentStep:r,current:o,total:s,showClose:on(n,"showClose"),closeIcon:on(n,"closeIcon"),mergedType:y,ns:i,slots:T,updateModelValue(E){e("update:modelValue",E)},onClose(){e("close",o.value)},onFinish(){e("finish")},onChange(){e("change",o.value)}}),(E,M)=>{var R,O;return P(),H(st,null,[(P(),_e(Yu,{to:E.appendTo},[Y("div",Lt({class:h(l)},E.$attrs),[X(uce,{visible:h(f),fill:(R=h(p))==null?void 0:R.color,style:nt((O=h(p))==null?void 0:O.style),pos:h(w),"z-index":h(b),"target-area-clickable":E.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),E.modelValue?(P(),_e(vce,{key:h(o),reference:h(S),placement:h(c),"show-arrow":h(g),"z-index":h(b),style:nt(h(u)),onClose:x},{default:ne(()=>[X(h(yce),{current:h(o),onUpdateTotal:C},{default:ne(()=>[Me(E.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):ge("v-if",!0)],16)],8,["to"])),ge(" just for IDE "),ge("v-if",!0)],64)}}});var Sce=$e(xce,[["__file","tour.vue"]]);const Mce=ze({target:{type:ce([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:sn},showArrow:{type:Boolean,default:void 0},placement:jw.placement,mask:{type:ce([Boolean,Object]),default:void 0},contentStyle:{type:ce([Object])},prevButtonProps:{type:ce(Object)},nextButtonProps:{type:ce(Object)},scrollIntoViewOptions:{type:ce([Boolean,Object]),default:void 0},type:{type:ce(String)}}),Cce={close:()=>!0},Ece=j({name:"ElTourStep"}),Tce=j({...Ece,props:Mce,emits:Cce,setup(t,{emit:e}){const n=t,{Close:i}=U_,{t:s}=$t(),{currentStep:r,current:o,total:a,showClose:l,closeIcon:c,mergedType:u,ns:d,slots:f,updateModelValue:p,onClose:g,onFinish:m,onChange:y}=et(yv);ke(n,T=>{r.value=T},{immediate:!0});const v=A(()=>{var T;return(T=n.showClose)!=null?T:l.value}),_=A(()=>{var T,E;return(E=(T=n.closeIcon)!=null?T:c.value)!=null?E:i}),b=T=>{if(T)return U8(T,["children","onClick"])},w=()=>{var T,E;o.value-=1,(T=n.prevButtonProps)!=null&&T.onClick&&((E=n.prevButtonProps)==null||E.onClick()),y()},S=()=>{var T;o.value>=a.value-1?x():o.value+=1,(T=n.nextButtonProps)!=null&&T.onClick&&n.nextButtonProps.onClick(),y()},x=()=>{C(),m()},C=()=>{p(!1),g(),e("close")};return(T,E)=>(P(),H(st,null,[h(v)?(P(),H("button",{key:0,"aria-label":"Close",class:L(h(d).e("closebtn")),type:"button",onClick:C},[X(h(tt),{class:L(h(d).e("close"))},{default:ne(()=>[(P(),_e(kt(h(_))))]),_:1},8,["class"])],2)):ge("v-if",!0),Y("header",{class:L([h(d).e("header"),{"show-close":h(l)}])},[Me(T.$slots,"header",{},()=>[Y("span",{role:"heading",class:L(h(d).e("title"))},Ge(T.title),3)])],2),Y("div",{class:L(h(d).e("body"))},[Me(T.$slots,"default",{},()=>[Y("span",null,Ge(T.description),1)])],2),Y("footer",{class:L(h(d).e("footer"))},[Y("div",{class:L(h(d).b("indicators"))},[h(f).indicators?(P(),_e(kt(h(f).indicators),{key:0,current:h(o),total:h(a)},null,8,["current","total"])):(P(!0),H(st,{key:1},Dt(h(a),(M,R)=>(P(),H("span",{key:M,class:L([h(d).b("indicator"),R===h(o)?"is-active":""])},null,2))),128))],2),Y("div",{class:L(h(d).b("buttons"))},[h(o)>0?(P(),_e(h(bi),Lt({key:0,size:"small",type:h(u)},b(T.prevButtonProps),{onClick:w}),{default:ne(()=>{var M,R;return[zt(Ge((R=(M=T.prevButtonProps)==null?void 0:M.children)!=null?R:h(s)("el.tour.previous")),1)]}),_:1},16,["type"])):ge("v-if",!0),h(o)<=h(a)-1?(P(),_e(h(bi),Lt({key:1,size:"small",type:h(u)==="primary"?"default":"primary"},b(T.nextButtonProps),{onClick:S}),{default:ne(()=>{var M,R;return[zt(Ge((R=(M=T.nextButtonProps)==null?void 0:M.children)!=null?R:h(o)===h(a)-1?h(s)("el.tour.finish"):h(s)("el.tour.next")),1)]}),_:1},16,["type"])):ge("v-if",!0)],2)],2)],64))}});var Bk=$e(Tce,[["__file","step.vue"]]);const Ace=At(Sce,{TourStep:Bk}),Rce=En(Bk),Pce=ze({container:{type:ce([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:ce(String),default:"default"},direction:{type:ce(String),default:"vertical"}}),Ice={change:t=>yt(t),click:(t,e)=>t instanceof MouseEvent&&(yt(e)||Kn(e))},Uk=Symbol("anchor"),kce=j({name:"ElAnchor"}),Oce=j({...kce,props:Pce,emits:Ice,setup(t,{expose:e,emit:n}){const i=t,s=z(""),r=z(null),o=z(null),a=z(),l={};let c=!1,u=0;const d=Oe("anchor"),f=A(()=>[d.b(),i.type==="underline"?d.m("underline"):"",d.m(i.direction)]),p=T=>{l[T.href]=T.el},g=T=>{delete l[T]},m=T=>{s.value!==T&&(s.value=T,n("change",T))};let y=null;const v=T=>{if(!a.value)return;const E=Kh(T);if(!E)return;y&&y(),c=!0;const M=CM(E,a.value),R=Xy(E,M),O=M.scrollHeight-M.clientHeight,F=Math.min(R-i.offset,O);y=J8(a.value,u,F,i.duration,()=>{setTimeout(()=>{c=!1},20)})},_=T=>{T&&(m(T),v(T))},b=(T,E)=>{n("click",T,E),_(E)},w=C$(()=>{a.value&&(u=EM(a.value));const T=S();c||Kn(T)||m(T)}),S=()=>{if(!a.value)return;const T=EM(a.value),E=[];for(const M of Object.keys(l)){const R=Kh(M);if(!R)continue;const O=CM(R,a.value),F=Xy(R,O);E.push({top:F-i.offset-i.bound,href:M})}E.sort((M,R)=>M.top-R.top);for(let M=0;M<E.length;M++){const R=E[M],O=E[M+1];if(M===0&&T===0)return"";if(R.top<=T&&(!O||O.top>T))return R.href}},x=()=>{const T=Kh(i.container);!T||Qg(T)?a.value=window:a.value=T};pn(a,"scroll",w);const C=A(()=>{if(!r.value||!o.value||!s.value)return{};const T=l[s.value];if(!T)return{};const E=r.value.getBoundingClientRect(),M=o.value.getBoundingClientRect(),R=T.getBoundingClientRect();return i.direction==="horizontal"?{left:`${R.left-E.left}px`,width:`${R.width}px`,opacity:1}:{top:`${R.top-E.top+(R.height-M.height)/2}px`,opacity:1}});return Mt(()=>{x();const T=decodeURIComponent(window.location.hash);Kh(T)?_(T):w()}),ke(()=>i.container,()=>{x()}),Nt(Uk,{ns:d,direction:i.direction,currentAnchor:s,addLink:p,removeLink:g,handleClick:b}),e({scrollTo:_}),(T,E)=>(P(),H("div",{ref_key:"anchorRef",ref:r,class:L(h(f))},[T.marker?(P(),H("div",{key:0,ref_key:"markerRef",ref:o,class:L(h(d).e("marker")),style:nt(h(C))},null,6)):ge("v-if",!0),Y("div",{class:L(h(d).e("list"))},[Me(T.$slots,"default")],2)],2))}});var Lce=$e(Oce,[["__file","anchor.vue"]]);const Nce=ze({title:String,href:String}),Dce=["href"],Fce=j({name:"ElAnchorLink"}),Bce=j({...Fce,props:Nce,setup(t){const e=t,n=z(null),{ns:i,direction:s,currentAnchor:r,addLink:o,removeLink:a,handleClick:l}=et(Uk),c=A(()=>[i.e("link"),i.is("active",r.value===e.href)]),u=d=>{l(d,e.href)};return ke(()=>e.href,(d,f)=>{rt(()=>{f&&a(f),d&&o({href:d,el:n.value})})}),Mt(()=>{const{href:d}=e;d&&o({href:d,el:n.value})}),fn(()=>{const{href:d}=e;d&&a(d)}),(d,f)=>(P(),H("div",{class:L(h(i).e("item"))},[Y("a",{ref_key:"linkRef",ref:n,class:L(h(c)),href:d.href,onClick:u},[Me(d.$slots,"default",{},()=>[zt(Ge(d.title),1)])],10,Dce),d.$slots["sub-link"]&&h(s)==="vertical"?(P(),H("div",{key:0,class:L(h(i).e("list"))},[Me(d.$slots,"sub-link")],2)):ge("v-if",!0)],2))}});var zk=$e(Bce,[["__file","anchor-link.vue"]]);const Uce=At(Lce,{AnchorLink:zk}),zce=En(zk),Vce=ze({options:{type:ce(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:fi,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...Ai(["ariaLabel"])}),$ce={[It]:t=>yt(t)||ft(t),[mn]:t=>yt(t)||ft(t)},Hce=["id","aria-label","aria-labelledby"],Wce=["name","disabled","checked","onChange"],Gce=j({name:"ElSegmented"}),Kce=j({...Gce,props:Vce,emits:$ce,setup(t,{emit:e}){const n=t,i=Oe("segmented"),s=Li(),r=ei(),o=os(),{formItem:a}=Xi(),{inputId:l,isLabeledByFormItem:c}=wr(n,{formItemContext:a}),u=z(null),d=iF(),f=Xt({isInit:!1,width:0,translateX:0,disabled:!1,focusVisible:!1}),p=E=>{const M=g(E);e(It,M),e(mn,M)},g=E=>Pt(E)?E.value:E,m=E=>Pt(E)?E.label:E,y=E=>!!(o.value||Pt(E)&&E.disabled),v=E=>n.modelValue===g(E),_=E=>n.options.find(M=>g(M)===E),b=E=>[i.e("item"),i.is("selected",v(E)),i.is("disabled",y(E))],w=()=>{if(!u.value)return;const E=u.value.querySelector(".is-selected"),M=u.value.querySelector(".is-selected input");if(!E||!M){f.width=0,f.translateX=0,f.disabled=!1,f.focusVisible=!1;return}const R=E.getBoundingClientRect();f.isInit=!0,f.width=R.width,f.translateX=E.offsetLeft,f.disabled=y(_(n.modelValue));try{f.focusVisible=M.matches(":focus-visible")}catch{}},S=A(()=>[i.b(),i.m(r.value),i.is("block",n.block)]),x=A(()=>({width:`${f.width}px`,transform:`translateX(${f.translateX}px)`,display:f.isInit?"block":"none"})),C=A(()=>[i.e("item-selected"),i.is("disabled",f.disabled),i.is("focus-visible",f.focusVisible)]),T=A(()=>n.name||s.value);return Mn(u,w),ke(d,w),ke(()=>n.modelValue,()=>{var E;w(),n.validateEvent&&((E=a==null?void 0:a.validate)==null||E.call(a,"change").catch(M=>void 0))},{flush:"post"}),(E,M)=>(P(),H("div",{id:h(l),ref_key:"segmentedRef",ref:u,class:L(h(S)),role:"radiogroup","aria-label":h(c)?void 0:E.ariaLabel||"segmented","aria-labelledby":h(c)?h(a).labelId:void 0},[Y("div",{class:L(h(i).e("group"))},[Y("div",{style:nt(h(x)),class:L(h(C))},null,6),(P(!0),H(st,null,Dt(E.options,(R,O)=>(P(),H("label",{key:O,class:L(b(R))},[Y("input",{class:L(h(i).e("item-input")),type:"radio",name:h(T),disabled:y(R),checked:v(R),onChange:F=>p(R)},null,42,Wce),Y("div",{class:L(h(i).e("item-label"))},[Me(E.$slots,"default",{item:R},()=>[zt(Ge(m(R)),1)])],2)],2))),128))],2)],10,Hce))}});var Yce=$e(Kce,[["__file","segmented.vue"]]);const Xce=At(Yce);var qce=[q6,oW,kG,aoe,UG,KG,K3,o7,a7,bi,Q3,EK,IK,ZK,JK,uX,jY,gX,tr,gY,TP,AX,KX,YX,BX,Sq,V6,Nq,Dq,Fq,Bq,Uq,rZ,gZ,vZ,OZ,aI,YZ,BJ,UJ,zJ,gI,QW,e9,tt,kQ,vI,Wi,yI,KQ,fee,hee,pee,mee,xee,Ate,Lte,Hte,H3,AI,LP,kY,IY,one,dne,SX,Po,Zl,fg,ete,jne,sie,rie,Nie,zie,YI,Zie,ose,ase,yse,xre,Sre,ooe,xoe,Soe,Nf,Aoe,sK,Loe,Uoe,zoe,Yi,fae,Tae,Vae,Xae,fle,Wle,ece,Ace,Rce,Uce,zce,Xce];const ur="ElInfiniteScroll",jce=50,Zce=200,Jce=0,Qce={delay:{type:Number,default:Zce},distance:{type:Number,default:Jce},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},Zw=(t,e)=>Object.entries(Qce).reduce((n,[i,s])=>{var r,o;const{type:a,default:l}=s,c=t.getAttribute(`infinite-scroll-${i}`);let u=(o=(r=e[c])!=null?r:c)!=null?o:l;return u=u==="false"?!1:u,u=a(u),n[i]=Number.isNaN(u)?l:u,n},{}),Vk=t=>{const{observer:e}=t[ur];e&&(e.disconnect(),delete t[ur].observer)},eue=(t,e)=>{const{container:n,containerEl:i,instance:s,observer:r,lastScrollTop:o}=t[ur],{disabled:a,distance:l}=Zw(t,s),{clientHeight:c,scrollHeight:u,scrollTop:d}=i,f=d-o;if(t[ur].lastScrollTop=d,r||a||f<0)return;let p=!1;if(n===t)p=u-(c+d)<=l;else{const{clientTop:g,scrollHeight:m}=t,y=Xy(t,i);p=d+c>=y+g+m-l}p&&e.call(s)};function F0(t,e){const{containerEl:n,instance:i}=t[ur],{disabled:s}=Zw(t,i);s||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(i):Vk(t))}const tue={async mounted(t,e){const{instance:n,value:i}=e;ht(i)||si(ur,"'v-infinite-scroll' binding value must be a function"),await rt();const{delay:s,immediate:r}=Zw(t,n),o=L_(t,!0),a=o===window?document.documentElement:o,l=Dl(eue.bind(null,t,i),s);if(o){if(t[ur]={instance:n,container:o,containerEl:a,delay:s,cb:i,onScroll:l,lastScrollTop:a.scrollTop},r){const c=new MutationObserver(Dl(F0.bind(null,t,i),jce));t[ur].observer=c,c.observe(t,{childList:!0,subtree:!0}),F0(t,i)}o.addEventListener("scroll",l)}},unmounted(t){const{container:e,onScroll:n}=t[ur];e==null||e.removeEventListener("scroll",n),Vk(t)},async updated(t){if(!t[ur])await rt();else{const{containerEl:e,cb:n,observer:i}=t[ur];e.clientHeight&&i&&F0(t,n)}}},Q1=tue;Q1.install=t=>{t.directive("InfiniteScroll",Q1)};const nue=Q1;function iue(t){let e;const n=z(!1),i=Xt({...t,originalPosition:"",originalOverflow:"",visible:!1});function s(f){i.text=f}function r(){const f=i.parent,p=d.ns;if(!f.vLoadingAddClassList){let g=f.getAttribute("loading-number");g=Number.parseInt(g)-1,g?f.setAttribute("loading-number",g.toString()):(Ki(f,p.bm("parent","relative")),f.removeAttribute("loading-number")),Ki(f,p.bm("parent","hidden"))}o(),u.unmount()}function o(){var f,p;(p=(f=d.$el)==null?void 0:f.parentNode)==null||p.removeChild(d.$el)}function a(){var f;t.beforeClose&&!t.beforeClose()||(n.value=!0,clearTimeout(e),e=window.setTimeout(l,400),i.visible=!1,(f=t.closed)==null||f.call(t))}function l(){if(!n.value)return;const f=i.parent;n.value=!1,f.vLoadingAddClassList=void 0,r()}const u=WA(j({name:"ElLoading",setup(f,{expose:p}){const{ns:g,zIndex:m}=lv("loading");return p({ns:g,zIndex:m}),()=>{const y=i.spinner||i.svg,v=at("svg",{class:"circular",viewBox:i.svgViewBox?i.svgViewBox:"0 0 50 50",...y?{innerHTML:y}:{}},[at("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),_=i.text?at("p",{class:g.b("text")},[i.text]):void 0;return at(ii,{name:g.b("fade"),onAfterLeave:l},{default:ne(()=>[St(X("div",{style:{backgroundColor:i.background||""},class:[g.b("mask"),i.customClass,i.fullscreen?"is-fullscreen":""]},[at("div",{class:g.b("spinner")},[v,_])]),[[Kt,i.visible]])])})}}})),d=u.mount(document.createElement("div"));return{...Ti(i),setText:s,removeElLoadingChild:o,close:a,handleAfterLeave:l,vm:d,get $el(){return d.$el}}}let ap;const eb=function(t={}){if(!Ft)return;const e=sue(t);if(e.fullscreen&&ap)return ap;const n=iue({...e,closed:()=>{var s;(s=e.closed)==null||s.call(e),e.fullscreen&&(ap=void 0)}});rue(e,e.parent,n),vE(e,e.parent,n),e.parent.vLoadingAddClassList=()=>vE(e,e.parent,n);let i=e.parent.getAttribute("loading-number");return i?i=`${Number.parseInt(i)+1}`:i="1",e.parent.setAttribute("loading-number",i),e.parent.appendChild(n.$el),rt(()=>n.visible.value=e.visible),e.fullscreen&&(ap=n),n},sue=t=>{var e,n,i,s;let r;return yt(t.target)?r=(e=document.querySelector(t.target))!=null?e:document.body:r=t.target||document.body,{parent:r===document.body||t.body?document.body:r,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:r===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(i=t.lock)!=null?i:!1,customClass:t.customClass||"",visible:(s=t.visible)!=null?s:!0,target:r}},rue=async(t,e,n)=>{const{nextZIndex:i}=n.vm.zIndex||n.vm._.exposed.zIndex,s={};if(t.fullscreen)n.originalPosition.value=aa(document.body,"position"),n.originalOverflow.value=aa(document.body,"overflow"),s.zIndex=i();else if(t.parent===document.body){n.originalPosition.value=aa(document.body,"position"),await rt();for(const r of["top","left"]){const o=r==="top"?"scrollTop":"scrollLeft";s[r]=`${t.target.getBoundingClientRect()[r]+document.body[o]+document.documentElement[o]-Number.parseInt(aa(document.body,`margin-${r}`),10)}px`}for(const r of["height","width"])s[r]=`${t.target.getBoundingClientRect()[r]}px`}else n.originalPosition.value=aa(e,"position");for(const[r,o]of Object.entries(s))n.$el.style[r]=o},vE=(t,e,n)=>{const i=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?Ki(e,i.bm("parent","relative")):$s(e,i.bm("parent","relative")),t.fullscreen&&t.lock?$s(e,i.bm("parent","hidden")):Ki(e,i.bm("parent","hidden"))},Dm=Symbol("ElLoading"),yE=(t,e)=>{var n,i,s,r;const o=e.instance,a=f=>Pt(e.value)?e.value[f]:void 0,l=f=>{const p=yt(f)&&(o==null?void 0:o[f])||f;return p&&z(p)},c=f=>l(a(f)||t.getAttribute(`element-loading-${Ia(f)}`)),u=(n=a("fullscreen"))!=null?n:e.modifiers.fullscreen,d={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:u,target:(i=a("target"))!=null?i:u?void 0:t,body:(s=a("body"))!=null?s:e.modifiers.body,lock:(r=a("lock"))!=null?r:e.modifiers.lock};t[Dm]={options:d,instance:eb(d)}},oue=(t,e)=>{for(const n of Object.keys(e))yn(e[n])&&(e[n].value=t[n])},bE={mounted(t,e){e.value&&yE(t,e)},updated(t,e){const n=t[Dm];e.oldValue!==e.value&&(e.value&&!e.oldValue?yE(t,e):e.value&&e.oldValue?Pt(e.value)&&oue(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[Dm])==null||e.instance.close(),t[Dm]=null}},$k={install(t){t.directive("loading",bE),t.config.globalProperties.$loading=eb},directive:bE,service:eb},Hk=["success","info","warning","error"],zi=Cn({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Ft?document.body:void 0}),aue=ze({customClass:{type:String,default:zi.customClass},center:{type:Boolean,default:zi.center},dangerouslyUseHTMLString:{type:Boolean,default:zi.dangerouslyUseHTMLString},duration:{type:Number,default:zi.duration},icon:{type:sn,default:zi.icon},id:{type:String,default:zi.id},message:{type:ce([String,Object,Function]),default:zi.message},onClose:{type:ce(Function),default:zi.onClose},showClose:{type:Boolean,default:zi.showClose},type:{type:String,values:Hk,default:zi.type},plain:{type:Boolean,default:zi.plain},offset:{type:Number,default:zi.offset},zIndex:{type:Number,default:zi.zIndex},grouping:{type:Boolean,default:zi.grouping},repeatNum:{type:Number,default:zi.repeatNum}}),lue={destroy:()=>!0},hr=W2([]),cue=t=>{const e=hr.findIndex(s=>s.id===t),n=hr[e];let i;return e>0&&(i=hr[e-1]),{current:n,prev:i}},uue=t=>{const{prev:e}=cue(t);return e?e.vm.exposed.bottom.value:0},due=(t,e)=>hr.findIndex(i=>i.id===t)>0?16:e,fue=["id"],hue=["innerHTML"],pue=j({name:"ElMessage"}),mue=j({...pue,props:aue,emits:lue,setup(t,{expose:e}){const n=t,{Close:i}=z_,{ns:s,zIndex:r}=lv("message"),{currentZIndex:o,nextZIndex:a}=r,l=z(),c=z(!1),u=z(0);let d;const f=A(()=>n.type?n.type==="error"?"danger":n.type:"info"),p=A(()=>{const C=n.type;return{[s.bm("icon",C)]:C&&Ma[C]}}),g=A(()=>n.icon||Ma[n.type]||""),m=A(()=>uue(n.id)),y=A(()=>due(n.id,n.offset)+m.value),v=A(()=>u.value+y.value),_=A(()=>({top:`${y.value}px`,zIndex:o.value}));function b(){n.duration!==0&&({stop:d}=Gl(()=>{S()},n.duration))}function w(){d==null||d()}function S(){c.value=!1}function x({code:C}){C===lt.esc&&S()}return Mt(()=>{b(),a(),c.value=!0}),ke(()=>n.repeatNum,()=>{w(),b()}),pn(document,"keydown",x),Mn(l,()=>{u.value=l.value.getBoundingClientRect().height}),e({visible:c,bottom:v,close:S}),(C,T)=>(P(),_e(ii,{name:h(s).b("fade"),onBeforeLeave:C.onClose,onAfterLeave:T[0]||(T[0]=E=>C.$emit("destroy")),persisted:""},{default:ne(()=>[St(Y("div",{id:C.id,ref_key:"messageRef",ref:l,class:L([h(s).b(),{[h(s).m(C.type)]:C.type},h(s).is("center",C.center),h(s).is("closable",C.showClose),h(s).is("plain",C.plain),C.customClass]),style:nt(h(_)),role:"alert",onMouseenter:w,onMouseleave:b},[C.repeatNum>1?(P(),_e(h(K3),{key:0,value:C.repeatNum,type:h(f),class:L(h(s).e("badge"))},null,8,["value","type","class"])):ge("v-if",!0),h(g)?(P(),_e(h(tt),{key:1,class:L([h(s).e("icon"),h(p)])},{default:ne(()=>[(P(),_e(kt(h(g))))]),_:1},8,["class"])):ge("v-if",!0),Me(C.$slots,"default",{},()=>[C.dangerouslyUseHTMLString?(P(),H(st,{key:1},[ge(" Caution here, message could've been compromised, never use user's input as message "),Y("p",{class:L(h(s).e("content")),innerHTML:C.message},null,10,hue)],2112)):(P(),H("p",{key:0,class:L(h(s).e("content"))},Ge(C.message),3))]),C.showClose?(P(),_e(h(tt),{key:2,class:L(h(s).e("closeBtn")),onClick:gt(S,["stop"])},{default:ne(()=>[X(h(i))]),_:1},8,["class","onClick"])):ge("v-if",!0)],46,fue),[[Kt,c.value]])]),_:3},8,["name","onBeforeLeave"]))}});var gue=$e(mue,[["__file","message.vue"]]);let vue=1;const Wk=t=>{const e=!t||yt(t)||xn(t)||ht(t)?{message:t}:t,n={...zi,...e};if(!n.appendTo)n.appendTo=document.body;else if(yt(n.appendTo)){let i=document.querySelector(n.appendTo);Js(i)||(i=document.body),n.appendTo=i}return n},yue=t=>{const e=hr.indexOf(t);if(e===-1)return;hr.splice(e,1);const{handler:n}=t;n.close()},bue=({appendTo:t,...e},n)=>{const i=`message_${vue++}`,s=e.onClose,r=document.createElement("div"),o={...e,id:i,onClose:()=>{s==null||s(),yue(u)},onDestroy:()=>{ba(null,r)}},a=X(gue,o,ht(o.message)||xn(o.message)?{default:ht(o.message)?o.message:()=>o.message}:null);a.appContext=n||Fu._context,ba(a,r),t.appendChild(r.firstElementChild);const l=a.component,u={id:i,vnode:a,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:a.component.props};return u},Fu=(t={},e)=>{if(!Ft)return{close:()=>{}};if(ft(r1.max)&&hr.length>=r1.max)return{close:()=>{}};const n=Wk(t);if(n.grouping&&hr.length){const s=hr.find(({vnode:r})=>{var o;return((o=r.props)==null?void 0:o.message)===n.message});if(s)return s.props.repeatNum+=1,s.props.type=n.type,s.handler}const i=bue(n,e);return hr.push(i),i.handler};Hk.forEach(t=>{Fu[t]=(e={},n)=>{const i=Wk(e);return Fu({...i,type:t},n)}});function _ue(t){for(const e of hr)(!t||t===e.props.type)&&e.handler.close()}Fu.closeAll=_ue;Fu._context=null;const wue=qR(Fu,"$message"),xue=j({name:"ElMessageBox",directives:{TrapFocus:z7},components:{ElButton:bi,ElFocusTrap:xh,ElInput:Wi,ElOverlay:Sw,ElIcon:tt,...z_},inheritAttrs:!1,props:{buttonSize:{type:String,validator:jR},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:n,zIndex:i,ns:s,size:r}=lv("message-box",A(()=>t.buttonSize)),{t:o}=n,{nextZIndex:a}=i,l=z(!1),c=Xt({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:a()}),u=A(()=>{const D=c.type;return{[s.bm("icon",D)]:D&&Ma[D]}}),d=Li(),f=Li(),p=A(()=>c.icon||Ma[c.type]||""),g=A(()=>!!c.message),m=z(),y=z(),v=z(),_=z(),b=z(),w=A(()=>c.confirmButtonClass);ke(()=>c.inputValue,async D=>{await rt(),t.boxType==="prompt"&&D!==null&&O()},{immediate:!0}),ke(()=>l.value,D=>{var I,N;D&&(t.boxType!=="prompt"&&(c.autofocus?v.value=(N=(I=b.value)==null?void 0:I.$el)!=null?N:m.value:v.value=m.value),c.zIndex=a()),t.boxType==="prompt"&&(D?rt().then(()=>{var k;_.value&&_.value.$el&&(c.autofocus?v.value=(k=F())!=null?k:m.value:v.value=m.value)}):(c.editorErrorMessage="",c.validateError=!1))});const S=A(()=>t.draggable),x=A(()=>t.overflow);ZR(m,y,S,x),Mt(async()=>{await rt(),t.closeOnHashChange&&window.addEventListener("hashchange",C)}),fn(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",C)});function C(){l.value&&(l.value=!1,rt(()=>{c.action&&e("action",c.action)}))}const T=()=>{t.closeOnClickModal&&R(c.distinguishCancelAndClose?"close":"cancel")},E=ew(T),M=D=>{if(c.inputType!=="textarea")return D.preventDefault(),R("confirm")},R=D=>{var I;t.boxType==="prompt"&&D==="confirm"&&!O()||(c.action=D,c.beforeClose?(I=c.beforeClose)==null||I.call(c,D,c,C):C())},O=()=>{if(t.boxType==="prompt"){const D=c.inputPattern;if(D&&!D.test(c.inputValue||""))return c.editorErrorMessage=c.inputErrorMessage||o("el.messagebox.error"),c.validateError=!0,!1;const I=c.inputValidator;if(typeof I=="function"){const N=I(c.inputValue);if(N===!1)return c.editorErrorMessage=c.inputErrorMessage||o("el.messagebox.error"),c.validateError=!0,!1;if(typeof N=="string")return c.editorErrorMessage=N,c.validateError=!0,!1}}return c.editorErrorMessage="",c.validateError=!1,!0},F=()=>{const D=_.value.$refs;return D.input||D.textarea},V=()=>{R("close")},U=()=>{t.closeOnPressEscape&&V()};return t.lockScroll&&G_(l),{...Ti(c),ns:s,overlayEvent:E,visible:l,hasMessage:g,typeClass:u,contentId:d,inputId:f,btnSize:r,iconComponent:p,confirmButtonClasses:w,rootRef:m,focusStartRef:v,headerRef:y,inputRef:_,confirmRef:b,doClose:C,handleClose:V,onCloseRequested:U,handleWrapperClick:T,handleInputEnter:M,handleAction:R,t:o}}}),Sue=["aria-label","aria-describedby"],Mue=["aria-label"],Cue=["id"];function Eue(t,e,n,i,s,r){const o=bt("el-icon"),a=bt("close"),l=bt("el-input"),c=bt("el-button"),u=bt("el-focus-trap"),d=bt("el-overlay");return P(),_e(ii,{name:"fade-in-linear",onAfterLeave:e[11]||(e[11]=f=>t.$emit("vanish")),persisted:""},{default:ne(()=>[St(X(d,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:ne(()=>[Y("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:L(`${t.ns.namespace.value}-overlay-message-box`),onClick:e[8]||(e[8]=(...f)=>t.overlayEvent.onClick&&t.overlayEvent.onClick(...f)),onMousedown:e[9]||(e[9]=(...f)=>t.overlayEvent.onMousedown&&t.overlayEvent.onMousedown(...f)),onMouseup:e[10]||(e[10]=(...f)=>t.overlayEvent.onMouseup&&t.overlayEvent.onMouseup(...f))},[X(u,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:ne(()=>[Y("div",{ref:"rootRef",class:L([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:nt(t.customStyle),tabindex:"-1",onClick:e[7]||(e[7]=gt(()=>{},["stop"]))},[t.title!==null&&t.title!==void 0?(P(),H("div",{key:0,ref:"headerRef",class:L([t.ns.e("header"),{"show-close":t.showClose}])},[Y("div",{class:L(t.ns.e("title"))},[t.iconComponent&&t.center?(P(),_e(o,{key:0,class:L([t.ns.e("status"),t.typeClass])},{default:ne(()=>[(P(),_e(kt(t.iconComponent)))]),_:1},8,["class"])):ge("v-if",!0),Y("span",null,Ge(t.title),1)],2),t.showClose?(P(),H("button",{key:0,type:"button",class:L(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:e[0]||(e[0]=f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=Gt(gt(f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[X(o,{class:L(t.ns.e("close"))},{default:ne(()=>[X(a)]),_:1},8,["class"])],42,Mue)):ge("v-if",!0)],2)):ge("v-if",!0),Y("div",{id:t.contentId,class:L(t.ns.e("content"))},[Y("div",{class:L(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(P(),_e(o,{key:0,class:L([t.ns.e("status"),t.typeClass])},{default:ne(()=>[(P(),_e(kt(t.iconComponent)))]),_:1},8,["class"])):ge("v-if",!0),t.hasMessage?(P(),H("div",{key:1,class:L(t.ns.e("message"))},[Me(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(P(),_e(kt(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(P(),_e(kt(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:ne(()=>[zt(Ge(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):ge("v-if",!0)],2),St(Y("div",{class:L(t.ns.e("input"))},[X(l,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":e[2]||(e[2]=f=>t.inputValue=f),type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:L({invalid:t.validateError}),onKeydown:Gt(t.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Y("div",{class:L(t.ns.e("errormsg")),style:nt({visibility:t.editorErrorMessage?"visible":"hidden"})},Ge(t.editorErrorMessage),7)],2),[[Kt,t.showInput]])],10,Cue),Y("div",{class:L(t.ns.e("btns"))},[t.showCancelButton?(P(),_e(c,{key:0,loading:t.cancelButtonLoading,class:L([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:e[3]||(e[3]=f=>t.handleAction("cancel")),onKeydown:e[4]||(e[4]=Gt(gt(f=>t.handleAction("cancel"),["prevent"]),["enter"]))},{default:ne(()=>[zt(Ge(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):ge("v-if",!0),St(X(c,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,class:L([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:e[5]||(e[5]=f=>t.handleAction("confirm")),onKeydown:e[6]||(e[6]=Gt(gt(f=>t.handleAction("confirm"),["prevent"]),["enter"]))},{default:ne(()=>[zt(Ge(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[Kt,t.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,Sue)]),_:3},8,["z-index","overlay-class","mask"]),[[Kt,t.visible]])]),_:3})}var Tue=$e(xue,[["render",Eue],["__file","index.vue"]]);const Wf=new Map,Aue=t=>{let e=document.body;return t.appendTo&&(yt(t.appendTo)&&(e=document.querySelector(t.appendTo)),Js(t.appendTo)&&(e=t.appendTo),Js(e)||(e=document.body)),e},Rue=(t,e,n=null)=>{const i=X(Tue,t,ht(t.message)||xn(t.message)?{default:ht(t.message)?t.message:()=>t.message}:null);return i.appContext=n,ba(i,e),Aue(t).appendChild(e.firstElementChild),i.component},Pue=()=>document.createElement("div"),Iue=(t,e)=>{const n=Pue();t.onVanish=()=>{ba(null,n),Wf.delete(s)},t.onAction=r=>{const o=Wf.get(s);let a;t.showInput?a={value:s.inputValue,action:r}:a=r,t.callback?t.callback(a,i.proxy):r==="cancel"||r==="close"?t.distinguishCancelAndClose&&r!=="cancel"?o.reject("close"):o.reject("cancel"):o.resolve(a)};const i=Rue(t,n,e),s=i.proxy;for(const r in t)Ut(t,r)&&!Ut(s.$props,r)&&(s[r]=t[r]);return s.visible=!0,s};function id(t,e=null){if(!Ft)return Promise.reject();let n;return yt(t)||xn(t)?t={message:t}:n=t.callback,new Promise((i,s)=>{const r=Iue(t,e??id._context);Wf.set(r,{options:t,callback:n,resolve:i,reject:s})})}const kue=["alert","confirm","prompt"],Oue={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};kue.forEach(t=>{id[t]=Lue(t)});function Lue(t){return(e,n,i,s)=>{let r="";return Pt(n)?(i=n,r=""):Kn(n)?r="":r=n,id(Object.assign({title:r,message:e,type:"",...Oue[t]},i,{boxType:t}),s)}}id.close=()=>{Wf.forEach((t,e)=>{e.doClose()}),Wf.clear()};id._context=null;const Jo=id;Jo.install=t=>{Jo._context=t._context,t.config.globalProperties.$msgbox=Jo,t.config.globalProperties.$messageBox=Jo,t.config.globalProperties.$alert=Jo.alert,t.config.globalProperties.$confirm=Jo.confirm,t.config.globalProperties.$prompt=Jo.prompt};const Nue=Jo,Gk=["success","info","warning","error"],Due=ze({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:sn},id:{type:String,default:""},message:{type:ce([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:ce(Function),default:()=>{}},onClose:{type:ce(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...Gk,""],default:""},zIndex:Number}),Fue={destroy:()=>!0},Bue=["id"],Uue=["textContent"],zue={key:0},Vue=["innerHTML"],$ue=j({name:"ElNotification"}),Hue=j({...$ue,props:Due,emits:Fue,setup(t,{expose:e}){const n=t,{ns:i,zIndex:s}=lv("notification"),{nextZIndex:r,currentZIndex:o}=s,{Close:a}=U_,l=z(!1);let c;const u=A(()=>{const b=n.type;return b&&Ma[n.type]?i.m(b):""}),d=A(()=>n.type&&Ma[n.type]||n.icon),f=A(()=>n.position.endsWith("right")?"right":"left"),p=A(()=>n.position.startsWith("top")?"top":"bottom"),g=A(()=>{var b;return{[p.value]:`${n.offset}px`,zIndex:(b=n.zIndex)!=null?b:o.value}});function m(){n.duration>0&&({stop:c}=Gl(()=>{l.value&&v()},n.duration))}function y(){c==null||c()}function v(){l.value=!1}function _({code:b}){b===lt.delete||b===lt.backspace?y():b===lt.esc?l.value&&v():m()}return Mt(()=>{m(),r(),l.value=!0}),pn(document,"keydown",_),e({visible:l,close:v}),(b,w)=>(P(),_e(ii,{name:h(i).b("fade"),onBeforeLeave:b.onClose,onAfterLeave:w[1]||(w[1]=S=>b.$emit("destroy")),persisted:""},{default:ne(()=>[St(Y("div",{id:b.id,class:L([h(i).b(),b.customClass,h(f)]),style:nt(h(g)),role:"alert",onMouseenter:y,onMouseleave:m,onClick:w[0]||(w[0]=(...S)=>b.onClick&&b.onClick(...S))},[h(d)?(P(),_e(h(tt),{key:0,class:L([h(i).e("icon"),h(u)])},{default:ne(()=>[(P(),_e(kt(h(d))))]),_:1},8,["class"])):ge("v-if",!0),Y("div",{class:L(h(i).e("group"))},[Y("h2",{class:L(h(i).e("title")),textContent:Ge(b.title)},null,10,Uue),St(Y("div",{class:L(h(i).e("content")),style:nt(b.title?void 0:{margin:0})},[Me(b.$slots,"default",{},()=>[b.dangerouslyUseHTMLString?(P(),H(st,{key:1},[ge(" Caution here, message could've been compromised, never use user's input as message "),Y("p",{innerHTML:b.message},null,8,Vue)],2112)):(P(),H("p",zue,Ge(b.message),1))])],6),[[Kt,b.message]]),b.showClose?(P(),_e(h(tt),{key:0,class:L(h(i).e("closeBtn")),onClick:gt(v,["stop"])},{default:ne(()=>[X(h(a))]),_:1},8,["class","onClick"])):ge("v-if",!0)],2)],46,Bue),[[Kt,l.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Wue=$e(Hue,[["__file","notification.vue"]]);const wg={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},tb=16;let Gue=1;const Bu=function(t={},e=null){if(!Ft)return{close:()=>{}};(typeof t=="string"||xn(t))&&(t={message:t});const n=t.position||"top-right";let i=t.offset||0;wg[n].forEach(({vm:u})=>{var d;i+=(((d=u.el)==null?void 0:d.offsetHeight)||0)+tb}),i+=tb;const s=`notification_${Gue++}`,r=t.onClose,o={...t,offset:i,id:s,onClose:()=>{Kue(s,n,r)}};let a=document.body;Js(t.appendTo)?a=t.appendTo:yt(t.appendTo)&&(a=document.querySelector(t.appendTo)),Js(a)||(a=document.body);const l=document.createElement("div"),c=X(Wue,o,xn(o.message)?{default:()=>o.message}:null);return c.appContext=e??Bu._context,c.props.onDestroy=()=>{ba(null,l)},ba(c,l),wg[n].push({vm:c}),a.appendChild(l.firstElementChild),{close:()=>{c.component.exposed.visible.value=!1}}};Gk.forEach(t=>{Bu[t]=(e={})=>((typeof e=="string"||xn(e))&&(e={message:e}),Bu({...e,type:t}))});function Kue(t,e,n){const i=wg[e],s=i.findIndex(({vm:c})=>{var u;return((u=c.component)==null?void 0:u.props.id)===t});if(s===-1)return;const{vm:r}=i[s];if(!r)return;n==null||n(r);const o=r.el.offsetHeight,a=e.split("-")[0];i.splice(s,1);const l=i.length;if(!(l<1))for(let c=s;c<l;c++){const{el:u,component:d}=i[c].vm,f=Number.parseInt(u.style[a],10)-o-tb;d.props.offset=f}}function Yue(){for(const t of Object.values(wg))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}Bu.closeAll=Yue;Bu._context=null;const Xue=qR(Bu,"$notify");var que=[nue,$k,wue,Nue,Xue,TI],jue=H6([...qce,...que]);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const bv="164",Zue={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Jue={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Kk=0,nb=1,Yk=2,Que=3,ede=0,Jw=1,Xk=2,Pr=3,Wr=0,is=1,ds=2,qs=0,zl=1,xg=2,ib=3,sb=4,qk=5,la=100,jk=101,Zk=102,Jk=103,Qk=104,eO=200,tO=201,nO=202,iO=203,Sg=204,Mg=205,sO=206,rO=207,oO=208,aO=209,lO=210,cO=211,uO=212,dO=213,fO=214,hO=0,pO=1,mO=2,Gf=3,gO=4,vO=5,yO=6,bO=7,Eh=0,_O=1,wO=2,mo=0,xO=1,SO=2,MO=3,CO=4,EO=5,TO=6,AO=7,rb="attached",RO="detached",_v=300,wo=301,Ta=302,Kf=303,Yf=304,sd=306,Aa=1e3,Es=1001,Uu=1002,vi=1003,wv=1004,tde=1004,Al=1005,nde=1005,$n=1006,mu=1007,ide=1007,Ws=1008,sde=1008,xo=1009,PO=1010,IO=1011,Qw=1012,ex=1013,Ql=1014,Gs=1015,zs=1016,tx=1017,nx=1018,rd=1020,kO=35902,OO=1021,LO=1022,hs=1023,NO=1024,DO=1025,Vl=1026,zu=1027,ix=1028,sx=1029,FO=1030,rx=1031,ox=1033,Fm=33776,Bm=33777,Um=33778,zm=33779,ob=35840,ab=35841,lb=35842,cb=35843,ub=36196,db=37492,fb=37496,hb=37808,pb=37809,mb=37810,gb=37811,vb=37812,yb=37813,bb=37814,_b=37815,wb=37816,xb=37817,Sb=37818,Mb=37819,Cb=37820,Eb=37821,Vm=36492,Tb=36494,Ab=36495,BO=36283,Rb=36284,Pb=36285,Ib=36286,UO=2200,zO=2201,VO=2202,Vu=2300,ec=2301,$m=2302,Rl=2400,Pl=2401,Xf=2402,xv=2500,ax=2501,$O=0,lx=1,Cg=2,HO=3200,Sv=3201,Ua=0,WO=1,oo="",pi="srgb",xi="srgb-linear",Mv="display-p3",Th="display-p3-linear",qf="linear",In="srgb",jf="rec709",Zf="p3",rde=0,hl=7680,ode=7681,ade=7682,lde=7683,cde=34055,ude=34056,dde=5386,fde=512,hde=513,pde=514,mde=515,gde=516,vde=517,yde=518,kb=519,GO=512,KO=513,YO=514,cx=515,XO=516,qO=517,jO=518,ZO=519,Jf=35044,bde=35048,_de=35040,wde=35045,xde=35049,Sde=35041,Mde=35046,Cde=35050,Ede=35042,Tde="100",Ob="300 es",Dr=2e3,Qf=2001;let Yr=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const s=this._listeners[e];if(s!==void 0){const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const s=i.slice(0);for(let r=0,o=s.length;r<o;r++)s[r].call(this,e);e.target=null}}};const Fi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _E=1234567;const $l=Math.PI/180,$u=180/Math.PI;function Ps(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Fi[t&255]+Fi[t>>8&255]+Fi[t>>16&255]+Fi[t>>24&255]+"-"+Fi[e&255]+Fi[e>>8&255]+"-"+Fi[e>>16&15|64]+Fi[e>>24&255]+"-"+Fi[n&63|128]+Fi[n>>8&255]+"-"+Fi[n>>16&255]+Fi[n>>24&255]+Fi[i&255]+Fi[i>>8&255]+Fi[i>>16&255]+Fi[i>>24&255]).toLowerCase()}function Zn(t,e,n){return Math.max(e,Math.min(n,t))}function ux(t,e){return(t%e+e)%e}function Ade(t,e,n,i,s){return i+(t-e)*(s-i)/(n-e)}function Rde(t,e,n){return t!==e?(n-t)/(e-t):0}function ff(t,e,n){return(1-n)*t+n*e}function Pde(t,e,n,i){return ff(t,e,1-Math.exp(-n*i))}function Ide(t,e=1){return e-Math.abs(ux(t,e*2)-e)}function kde(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Ode(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Lde(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Nde(t,e){return t+Math.random()*(e-t)}function Dde(t){return t*(.5-Math.random())}function Fde(t){t!==void 0&&(_E=t);let e=_E+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Bde(t){return t*$l}function Ude(t){return t*$u}function zde(t){return(t&t-1)===0&&t!==0}function Vde(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function $de(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Hde(t,e,n,i,s){const r=Math.cos,o=Math.sin,a=r(n/2),l=o(n/2),c=r((e+i)/2),u=o((e+i)/2),d=r((e-i)/2),f=o((e-i)/2),p=r((i-e)/2),g=o((i-e)/2);switch(s){case"XYX":t.set(a*u,l*d,l*f,a*c);break;case"YZY":t.set(l*f,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*f,a*u,a*c);break;case"XZX":t.set(a*u,l*g,l*p,a*c);break;case"YXY":t.set(l*p,a*u,l*g,a*c);break;case"ZYZ":t.set(l*g,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function es(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Zt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const JO={DEG2RAD:$l,RAD2DEG:$u,generateUUID:Ps,clamp:Zn,euclideanModulo:ux,mapLinear:Ade,inverseLerp:Rde,lerp:ff,damp:Pde,pingpong:Ide,smoothstep:kde,smootherstep:Ode,randInt:Lde,randFloat:Nde,randFloatSpread:Dde,seededRandom:Fde,degToRad:Bde,radToDeg:Ude,isPowerOfTwo:zde,ceilPowerOfTwo:Vde,floorPowerOfTwo:$de,setQuaternionFromProperEuler:Hde,normalize:Zt,denormalize:es};class qe{constructor(e=0,n=0){qe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6],this.y=s[1]*n+s[4]*i+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Zn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),s=Math.sin(n),r=this.x-e.x,o=this.y-e.y;return this.x=r*i-o*s+e.x,this.y=r*s+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class jt{constructor(e,n,i,s,r,o,a,l,c){jt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,s,r,o,a,l,c)}set(e,n,i,s,r,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=s,u[2]=a,u[3]=n,u[4]=r,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,s=n.elements,r=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],f=i[2],p=i[5],g=i[8],m=s[0],y=s[3],v=s[6],_=s[1],b=s[4],w=s[7],S=s[2],x=s[5],C=s[8];return r[0]=o*m+a*_+l*S,r[3]=o*y+a*b+l*x,r[6]=o*v+a*w+l*C,r[1]=c*m+u*_+d*S,r[4]=c*y+u*b+d*x,r[7]=c*v+u*w+d*C,r[2]=f*m+p*_+g*S,r[5]=f*y+p*b+g*x,r[8]=f*v+p*w+g*C,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-i*r*u+i*a*l+s*r*c-s*o*l}invert(){const e=this.elements,n=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,f=a*l-u*r,p=c*r-o*l,g=n*d+i*f+s*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/g;return e[0]=d*m,e[1]=(s*c-u*i)*m,e[2]=(a*i-s*o)*m,e[3]=f*m,e[4]=(u*n-s*l)*m,e[5]=(s*r-a*n)*m,e[6]=p*m,e[7]=(i*l-c*n)*m,e[8]=(o*n-i*r)*m,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,s,r,o,a){const l=Math.cos(r),c=Math.sin(r);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-s*c,s*l,-s*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(B0.makeScale(e,n)),this}rotate(e){return this.premultiply(B0.makeRotation(-e)),this}translate(e,n){return this.premultiply(B0.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let s=0;s<9;s++)if(n[s]!==i[s])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const B0=new jt;function QO(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Wde={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function nu(t,e){return new Wde[t](e)}function eh(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function eL(){const t=eh("canvas");return t.style.display="block",t}const wE={};function tL(t){t in wE||(wE[t]=!0,console.warn(t))}const xE=new jt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),SE=new jt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),lp={[xi]:{transfer:qf,primaries:jf,toReference:t=>t,fromReference:t=>t},[pi]:{transfer:In,primaries:jf,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Th]:{transfer:qf,primaries:Zf,toReference:t=>t.applyMatrix3(SE),fromReference:t=>t.applyMatrix3(xE)},[Mv]:{transfer:In,primaries:Zf,toReference:t=>t.convertSRGBToLinear().applyMatrix3(SE),fromReference:t=>t.applyMatrix3(xE).convertLinearToSRGB()}},Gde=new Set([xi,Th]),gn={enabled:!0,_workingColorSpace:xi,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!Gde.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=lp[e].toReference,s=lp[n].fromReference;return s(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return lp[t].primaries},getTransfer:function(t){return t===oo?qf:lp[t].transfer}};function gu(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function U0(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let xc;class nL{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{xc===void 0&&(xc=eh("canvas")),xc.width=e.width,xc.height=e.height;const i=xc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=xc}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=eh("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const s=i.getImageData(0,0,e.width,e.height),r=s.data;for(let o=0;o<r.length;o++)r[o]=gu(r[o]/255)*255;return i.putImageData(s,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(gu(n[i]/255)*255):n[i]=gu(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Kde=0;class Il{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Kde++}),this.uuid=Ps(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let r;if(Array.isArray(s)){r=[];for(let o=0,a=s.length;o<a;o++)s[o].isDataTexture?r.push(z0(s[o].image)):r.push(z0(s[o]))}else r=z0(s);i.url=r}return n||(e.images[this.uuid]=i),i}}function z0(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?nL.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Yde=0;class Hn extends Yr{constructor(e=Hn.DEFAULT_IMAGE,n=Hn.DEFAULT_MAPPING,i=Es,s=Es,r=$n,o=Ws,a=hs,l=xo,c=Hn.DEFAULT_ANISOTROPY,u=oo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Yde++}),this.uuid=Ps(),this.name="",this.source=new Il(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=r,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new qe(0,0),this.repeat=new qe(1,1),this.center=new qe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new jt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==_v)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Aa:e.x=e.x-Math.floor(e.x);break;case Es:e.x=e.x<0?0:1;break;case Uu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Aa:e.y=e.y-Math.floor(e.y);break;case Es:e.y=e.y<0?0:1;break;case Uu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Hn.DEFAULT_IMAGE=null;Hn.DEFAULT_MAPPING=_v;Hn.DEFAULT_ANISOTROPY=1;class dn{constructor(e=0,n=0,i=0,s=1){dn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,s){return this.x=e,this.y=n,this.z=i,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,s=this.z,r=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*s+o[12]*r,this.y=o[1]*n+o[5]*i+o[9]*s+o[13]*r,this.z=o[2]*n+o[6]*i+o[10]*s+o[14]*r,this.w=o[3]*n+o[7]*i+o[11]*s+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,s,r;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],p=l[5],g=l[9],m=l[2],y=l[6],v=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(g-y)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(g+y)<.1&&Math.abs(c+p+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,w=(p+1)/2,S=(v+1)/2,x=(u+f)/4,C=(d+m)/4,T=(g+y)/4;return b>w&&b>S?b<.01?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(b),s=x/i,r=C/i):w>S?w<.01?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(w),i=x/s,r=T/s):S<.01?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(S),i=C/r,s=T/r),this.set(i,s,r,n),this}let _=Math.sqrt((y-g)*(y-g)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(_)<.001&&(_=1),this.x=(y-g)/_,this.y=(d-m)/_,this.z=(f-u)/_,this.w=Math.acos((c+p+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class iL extends Yr{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new dn(0,0,e,n),this.scissorTest=!1,this.viewport=new dn(0,0,e,n);const s={width:e,height:n,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:$n,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const r=new Hn(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);r.flipY=!1,r.generateMipmaps=i.generateMipmaps,r.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=r.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let s=0,r=this.textures.length;s<r;s++)this.textures[s].image.width=e,this.textures[s].image.height=n,this.textures[s].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,s=e.textures.length;i<s;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Il(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class jn extends iL{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class Cv extends Hn{constructor(e=null,n=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:s},this.magFilter=vi,this.minFilter=vi,this.wrapR=Es,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Xde extends jn{constructor(e=1,n=1,i=1,s={}){super(e,n,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Cv(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class dx extends Hn{constructor(e=null,n=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:s},this.magFilter=vi,this.minFilter=vi,this.wrapR=Es,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class qde extends jn{constructor(e=1,n=1,i=1,s={}){super(e,n,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new dx(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class an{constructor(e=0,n=0,i=0,s=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=s}static slerpFlat(e,n,i,s,r,o,a){let l=i[s+0],c=i[s+1],u=i[s+2],d=i[s+3];const f=r[o+0],p=r[o+1],g=r[o+2],m=r[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=p,e[n+2]=g,e[n+3]=m;return}if(d!==m||l!==f||c!==p||u!==g){let y=1-a;const v=l*f+c*p+u*g+d*m,_=v>=0?1:-1,b=1-v*v;if(b>Number.EPSILON){const S=Math.sqrt(b),x=Math.atan2(S,v*_);y=Math.sin(y*x)/S,a=Math.sin(a*x)/S}const w=a*_;if(l=l*y+f*w,c=c*y+p*w,u=u*y+g*w,d=d*y+m*w,y===1-a){const S=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=S,c*=S,u*=S,d*=S}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,i,s,r,o){const a=i[s],l=i[s+1],c=i[s+2],u=i[s+3],d=r[o],f=r[o+1],p=r[o+2],g=r[o+3];return e[n]=a*g+u*d+l*p-c*f,e[n+1]=l*g+u*f+c*d-a*p,e[n+2]=c*g+u*p+a*f-l*d,e[n+3]=u*g-a*d-l*f-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,s){return this._x=e,this._y=n,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,s=e._y,r=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(s/2),d=a(r/2),f=l(i/2),p=l(s/2),g=l(r/2);switch(o){case"XYZ":this._x=f*u*d+c*p*g,this._y=c*p*d-f*u*g,this._z=c*u*g+f*p*d,this._w=c*u*d-f*p*g;break;case"YXZ":this._x=f*u*d+c*p*g,this._y=c*p*d-f*u*g,this._z=c*u*g-f*p*d,this._w=c*u*d+f*p*g;break;case"ZXY":this._x=f*u*d-c*p*g,this._y=c*p*d+f*u*g,this._z=c*u*g+f*p*d,this._w=c*u*d-f*p*g;break;case"ZYX":this._x=f*u*d-c*p*g,this._y=c*p*d+f*u*g,this._z=c*u*g-f*p*d,this._w=c*u*d+f*p*g;break;case"YZX":this._x=f*u*d+c*p*g,this._y=c*p*d+f*u*g,this._z=c*u*g-f*p*d,this._w=c*u*d-f*p*g;break;case"XZY":this._x=f*u*d-c*p*g,this._y=c*p*d-f*u*g,this._z=c*u*g+f*p*d,this._w=c*u*d+f*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,s=Math.sin(i);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],s=n[4],r=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=i+a+d;if(f>0){const p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(u-l)*p,this._y=(r-c)*p,this._z=(o-s)*p}else if(i>a&&i>d){const p=2*Math.sqrt(1+i-a-d);this._w=(u-l)/p,this._x=.25*p,this._y=(s+o)/p,this._z=(r+c)/p}else if(a>d){const p=2*Math.sqrt(1+a-i-d);this._w=(r-c)/p,this._x=(s+o)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+d-i-a);this._w=(o-s)/p,this._x=(r+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Zn(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const s=Math.min(1,n/i);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,s=e._y,r=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+o*a+s*c-r*l,this._y=s*u+o*l+r*a-i*c,this._z=r*u+o*c+i*l-s*a,this._w=o*u-i*a-s*l-r*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,s=this._y,r=this._z,o=this._w;let a=o*e._w+i*e._x+s*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=s,this._z=r,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-n;return this._w=p*o+n*this._w,this._x=p*i+n*this._x,this._y=p*s+n*this._y,this._z=p*r+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=o*d+this._w*f,this._x=i*d+this._x*f,this._y=s*d+this._y*f,this._z=r*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(s*Math.sin(e),s*Math.cos(e),r*Math.sin(n),r*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Z{constructor(e=0,n=0,i=0){Z.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(ME.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(ME.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6]*s,this.y=r[1]*n+r[4]*i+r[7]*s,this.z=r[2]*n+r[5]*i+r[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,s=this.z,r=e.elements,o=1/(r[3]*n+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*n+r[4]*i+r[8]*s+r[12])*o,this.y=(r[1]*n+r[5]*i+r[9]*s+r[13])*o,this.z=(r[2]*n+r[6]*i+r[10]*s+r[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,s=this.z,r=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*s-a*i),u=2*(a*n-r*s),d=2*(r*i-o*n);return this.x=n+l*c+o*d-a*u,this.y=i+l*u+a*c-r*d,this.z=s+l*d+r*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*n+r[4]*i+r[8]*s,this.y=r[1]*n+r[5]*i+r[9]*s,this.z=r[2]*n+r[6]*i+r[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,s=e.y,r=e.z,o=n.x,a=n.y,l=n.z;return this.x=s*l-r*a,this.y=r*o-i*l,this.z=i*a-s*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return V0.copy(this).projectOnVector(e),this.sub(V0)}reflect(e){return this.sub(V0.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Zn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,s=this.z-e.z;return n*n+i*i+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const s=Math.sin(n)*e;return this.x=s*Math.sin(i),this.y=Math.cos(n)*e,this.z=s*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=s,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const V0=new Z,ME=new an;class Bn{constructor(e=new Z(1/0,1/0,1/0),n=new Z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(rr.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(rr.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=rr.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const r=i.getAttribute("position");if(n===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=r.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,rr):rr.fromBufferAttribute(r,o),rr.applyMatrix4(e.matrixWorld),this.expandByPoint(rr);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),cp.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),cp.copy(i.boundingBox)),cp.applyMatrix4(e.matrixWorld),this.union(cp)}const s=e.children;for(let r=0,o=s.length;r<o;r++)this.expandByObject(s[r],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,rr),rr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(wd),up.subVectors(this.max,wd),Sc.subVectors(e.a,wd),Mc.subVectors(e.b,wd),Cc.subVectors(e.c,wd),Uo.subVectors(Mc,Sc),zo.subVectors(Cc,Mc),Za.subVectors(Sc,Cc);let n=[0,-Uo.z,Uo.y,0,-zo.z,zo.y,0,-Za.z,Za.y,Uo.z,0,-Uo.x,zo.z,0,-zo.x,Za.z,0,-Za.x,-Uo.y,Uo.x,0,-zo.y,zo.x,0,-Za.y,Za.x,0];return!$0(n,Sc,Mc,Cc,up)||(n=[1,0,0,0,1,0,0,0,1],!$0(n,Sc,Mc,Cc,up))?!1:(dp.crossVectors(Uo,zo),n=[dp.x,dp.y,dp.z],$0(n,Sc,Mc,Cc,up))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,rr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(rr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(jr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),jr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),jr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),jr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),jr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),jr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),jr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),jr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(jr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const jr=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],rr=new Z,cp=new Bn,Sc=new Z,Mc=new Z,Cc=new Z,Uo=new Z,zo=new Z,Za=new Z,wd=new Z,up=new Z,dp=new Z,Ja=new Z;function $0(t,e,n,i,s){for(let r=0,o=t.length-3;r<=o;r+=3){Ja.fromArray(t,r);const a=s.x*Math.abs(Ja.x)+s.y*Math.abs(Ja.y)+s.z*Math.abs(Ja.z),l=e.dot(Ja),c=n.dot(Ja),u=i.dot(Ja);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const jde=new Bn,xd=new Z,H0=new Z;class di{constructor(e=new Z,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):jde.setFromPoints(e).getCenter(i);let s=0;for(let r=0,o=e.length;r<o;r++)s=Math.max(s,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;xd.subVectors(e,this.center);const n=xd.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),s=(i-this.radius)*.5;this.center.addScaledVector(xd,s/i),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(H0.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(xd.copy(e.center).add(H0)),this.expandByPoint(xd.copy(e.center).sub(H0))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Zr=new Z,W0=new Z,fp=new Z,Vo=new Z,G0=new Z,hp=new Z,K0=new Z;class od{constructor(e=new Z,n=new Z(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Zr)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Zr.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Zr.copy(this.origin).addScaledVector(this.direction,n),Zr.distanceToSquared(e))}distanceSqToSegment(e,n,i,s){W0.copy(e).add(n).multiplyScalar(.5),fp.copy(n).sub(e).normalize(),Vo.copy(this.origin).sub(W0);const r=e.distanceTo(n)*.5,o=-this.direction.dot(fp),a=Vo.dot(this.direction),l=-Vo.dot(fp),c=Vo.lengthSq(),u=Math.abs(1-o*o);let d,f,p,g;if(u>0)if(d=o*l-a,f=o*a-l,g=r*u,d>=0)if(f>=-g)if(f<=g){const m=1/u;d*=m,f*=m,p=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=r,d=Math.max(0,-(o*f+a)),p=-d*d+f*(f+2*l)+c;else f=-r,d=Math.max(0,-(o*f+a)),p=-d*d+f*(f+2*l)+c;else f<=-g?(d=Math.max(0,-(-o*r+a)),f=d>0?-r:Math.min(Math.max(-r,-l),r),p=-d*d+f*(f+2*l)+c):f<=g?(d=0,f=Math.min(Math.max(-r,-l),r),p=f*(f+2*l)+c):(d=Math.max(0,-(o*r+a)),f=d>0?r:Math.min(Math.max(-r,-l),r),p=-d*d+f*(f+2*l)+c);else f=o>0?-r:r,d=Math.max(0,-(o*f+a)),p=-d*d+f*(f+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),s&&s.copy(W0).addScaledVector(fp,f),p}intersectSphere(e,n){Zr.subVectors(e.center,this.origin);const i=Zr.dot(this.direction),s=Zr.dot(Zr)-i*i,r=e.radius*e.radius;if(s>r)return null;const o=Math.sqrt(r-s),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,s,r,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(i=(e.min.x-f.x)*c,s=(e.max.x-f.x)*c):(i=(e.max.x-f.x)*c,s=(e.min.x-f.x)*c),u>=0?(r=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(r=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),i>o||r>s||((r>i||isNaN(i))&&(i=r),(o<s||isNaN(s))&&(s=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),i>l||a>s)||((a>i||i!==i)&&(i=a),(l<s||s!==s)&&(s=l),s<0)?null:this.at(i>=0?i:s,n)}intersectsBox(e){return this.intersectBox(e,Zr)!==null}intersectTriangle(e,n,i,s,r){G0.subVectors(n,e),hp.subVectors(i,e),K0.crossVectors(G0,hp);let o=this.direction.dot(K0),a;if(o>0){if(s)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Vo.subVectors(this.origin,e);const l=a*this.direction.dot(hp.crossVectors(Vo,hp));if(l<0)return null;const c=a*this.direction.dot(G0.cross(Vo));if(c<0||l+c>o)return null;const u=-a*Vo.dot(K0);return u<0?null:this.at(u/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ct{constructor(e,n,i,s,r,o,a,l,c,u,d,f,p,g,m,y){Ct.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,s,r,o,a,l,c,u,d,f,p,g,m,y)}set(e,n,i,s,r,o,a,l,c,u,d,f,p,g,m,y){const v=this.elements;return v[0]=e,v[4]=n,v[8]=i,v[12]=s,v[1]=r,v[5]=o,v[9]=a,v[13]=l,v[2]=c,v[6]=u,v[10]=d,v[14]=f,v[3]=p,v[7]=g,v[11]=m,v[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ct().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,s=1/Ec.setFromMatrixColumn(e,0).length(),r=1/Ec.setFromMatrixColumn(e,1).length(),o=1/Ec.setFromMatrixColumn(e,2).length();return n[0]=i[0]*s,n[1]=i[1]*s,n[2]=i[2]*s,n[3]=0,n[4]=i[4]*r,n[5]=i[5]*r,n[6]=i[6]*r,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,s=e.y,r=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(s),c=Math.sin(s),u=Math.cos(r),d=Math.sin(r);if(e.order==="XYZ"){const f=o*u,p=o*d,g=a*u,m=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=p+g*c,n[5]=f-m*c,n[9]=-a*l,n[2]=m-f*c,n[6]=g+p*c,n[10]=o*l}else if(e.order==="YXZ"){const f=l*u,p=l*d,g=c*u,m=c*d;n[0]=f+m*a,n[4]=g*a-p,n[8]=o*c,n[1]=o*d,n[5]=o*u,n[9]=-a,n[2]=p*a-g,n[6]=m+f*a,n[10]=o*l}else if(e.order==="ZXY"){const f=l*u,p=l*d,g=c*u,m=c*d;n[0]=f-m*a,n[4]=-o*d,n[8]=g+p*a,n[1]=p+g*a,n[5]=o*u,n[9]=m-f*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const f=o*u,p=o*d,g=a*u,m=a*d;n[0]=l*u,n[4]=g*c-p,n[8]=f*c+m,n[1]=l*d,n[5]=m*c+f,n[9]=p*c-g,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const f=o*l,p=o*c,g=a*l,m=a*c;n[0]=l*u,n[4]=m-f*d,n[8]=g*d+p,n[1]=d,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=p*d+g,n[10]=f-m*d}else if(e.order==="XZY"){const f=o*l,p=o*c,g=a*l,m=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+m,n[5]=o*u,n[9]=p*d-g,n[2]=g*d-p,n[6]=a*u,n[10]=m*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Zde,e,Jde)}lookAt(e,n,i){const s=this.elements;return bs.subVectors(e,n),bs.lengthSq()===0&&(bs.z=1),bs.normalize(),$o.crossVectors(i,bs),$o.lengthSq()===0&&(Math.abs(i.z)===1?bs.x+=1e-4:bs.z+=1e-4,bs.normalize(),$o.crossVectors(i,bs)),$o.normalize(),pp.crossVectors(bs,$o),s[0]=$o.x,s[4]=pp.x,s[8]=bs.x,s[1]=$o.y,s[5]=pp.y,s[9]=bs.y,s[2]=$o.z,s[6]=pp.z,s[10]=bs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,s=n.elements,r=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],f=i[9],p=i[13],g=i[2],m=i[6],y=i[10],v=i[14],_=i[3],b=i[7],w=i[11],S=i[15],x=s[0],C=s[4],T=s[8],E=s[12],M=s[1],R=s[5],O=s[9],F=s[13],V=s[2],U=s[6],D=s[10],I=s[14],N=s[3],k=s[7],B=s[11],G=s[15];return r[0]=o*x+a*M+l*V+c*N,r[4]=o*C+a*R+l*U+c*k,r[8]=o*T+a*O+l*D+c*B,r[12]=o*E+a*F+l*I+c*G,r[1]=u*x+d*M+f*V+p*N,r[5]=u*C+d*R+f*U+p*k,r[9]=u*T+d*O+f*D+p*B,r[13]=u*E+d*F+f*I+p*G,r[2]=g*x+m*M+y*V+v*N,r[6]=g*C+m*R+y*U+v*k,r[10]=g*T+m*O+y*D+v*B,r[14]=g*E+m*F+y*I+v*G,r[3]=_*x+b*M+w*V+S*N,r[7]=_*C+b*R+w*U+S*k,r[11]=_*T+b*O+w*D+S*B,r[15]=_*E+b*F+w*I+S*G,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],s=e[8],r=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],p=e[14],g=e[3],m=e[7],y=e[11],v=e[15];return g*(+r*l*d-s*c*d-r*a*f+i*c*f+s*a*p-i*l*p)+m*(+n*l*p-n*c*f+r*o*f-s*o*p+s*c*u-r*l*u)+y*(+n*c*d-n*a*p-r*o*d+i*o*p+r*a*u-i*c*u)+v*(-s*a*u-n*l*d+n*a*f+s*o*d-i*o*f+i*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=n,s[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],p=e[11],g=e[12],m=e[13],y=e[14],v=e[15],_=d*y*c-m*f*c+m*l*p-a*y*p-d*l*v+a*f*v,b=g*f*c-u*y*c-g*l*p+o*y*p+u*l*v-o*f*v,w=u*m*c-g*d*c+g*a*p-o*m*p-u*a*v+o*d*v,S=g*d*l-u*m*l-g*a*f+o*m*f+u*a*y-o*d*y,x=n*_+i*b+s*w+r*S;if(x===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/x;return e[0]=_*C,e[1]=(m*f*r-d*y*r-m*s*p+i*y*p+d*s*v-i*f*v)*C,e[2]=(a*y*r-m*l*r+m*s*c-i*y*c-a*s*v+i*l*v)*C,e[3]=(d*l*r-a*f*r-d*s*c+i*f*c+a*s*p-i*l*p)*C,e[4]=b*C,e[5]=(u*y*r-g*f*r+g*s*p-n*y*p-u*s*v+n*f*v)*C,e[6]=(g*l*r-o*y*r-g*s*c+n*y*c+o*s*v-n*l*v)*C,e[7]=(o*f*r-u*l*r+u*s*c-n*f*c-o*s*p+n*l*p)*C,e[8]=w*C,e[9]=(g*d*r-u*m*r-g*i*p+n*m*p+u*i*v-n*d*v)*C,e[10]=(o*m*r-g*a*r+g*i*c-n*m*c-o*i*v+n*a*v)*C,e[11]=(u*a*r-o*d*r-u*i*c+n*d*c+o*i*p-n*a*p)*C,e[12]=S*C,e[13]=(u*m*s-g*d*s+g*i*f-n*m*f-u*i*y+n*d*y)*C,e[14]=(g*a*s-o*m*s-g*i*l+n*m*l+o*i*y-n*a*y)*C,e[15]=(o*d*s-u*a*s+u*i*l-n*d*l-o*i*f+n*a*f)*C,this}scale(e){const n=this.elements,i=e.x,s=e.y,r=e.z;return n[0]*=i,n[4]*=s,n[8]*=r,n[1]*=i,n[5]*=s,n[9]*=r,n[2]*=i,n[6]*=s,n[10]*=r,n[3]*=i,n[7]*=s,n[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,s))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),s=Math.sin(n),r=1-i,o=e.x,a=e.y,l=e.z,c=r*o,u=r*a;return this.set(c*o+i,c*a-s*l,c*l+s*a,0,c*a+s*l,u*a+i,u*l-s*o,0,c*l-s*a,u*l+s*o,r*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,s,r,o){return this.set(1,i,r,0,e,1,o,0,n,s,1,0,0,0,0,1),this}compose(e,n,i){const s=this.elements,r=n._x,o=n._y,a=n._z,l=n._w,c=r+r,u=o+o,d=a+a,f=r*c,p=r*u,g=r*d,m=o*u,y=o*d,v=a*d,_=l*c,b=l*u,w=l*d,S=i.x,x=i.y,C=i.z;return s[0]=(1-(m+v))*S,s[1]=(p+w)*S,s[2]=(g-b)*S,s[3]=0,s[4]=(p-w)*x,s[5]=(1-(f+v))*x,s[6]=(y+_)*x,s[7]=0,s[8]=(g+b)*C,s[9]=(y-_)*C,s[10]=(1-(f+m))*C,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,n,i){const s=this.elements;let r=Ec.set(s[0],s[1],s[2]).length();const o=Ec.set(s[4],s[5],s[6]).length(),a=Ec.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),e.x=s[12],e.y=s[13],e.z=s[14],or.copy(this);const c=1/r,u=1/o,d=1/a;return or.elements[0]*=c,or.elements[1]*=c,or.elements[2]*=c,or.elements[4]*=u,or.elements[5]*=u,or.elements[6]*=u,or.elements[8]*=d,or.elements[9]*=d,or.elements[10]*=d,n.setFromRotationMatrix(or),i.x=r,i.y=o,i.z=a,this}makePerspective(e,n,i,s,r,o,a=Dr){const l=this.elements,c=2*r/(n-e),u=2*r/(i-s),d=(n+e)/(n-e),f=(i+s)/(i-s);let p,g;if(a===Dr)p=-(o+r)/(o-r),g=-2*o*r/(o-r);else if(a===Qf)p=-o/(o-r),g=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,s,r,o,a=Dr){const l=this.elements,c=1/(n-e),u=1/(i-s),d=1/(o-r),f=(n+e)*c,p=(i+s)*u;let g,m;if(a===Dr)g=(o+r)*d,m=-2*d;else if(a===Qf)g=r*d,m=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=m,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let s=0;s<16;s++)if(n[s]!==i[s])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Ec=new Z,or=new Ct,Zde=new Z(0,0,0),Jde=new Z(1,1,1),$o=new Z,pp=new Z,bs=new Z,CE=new Ct,EE=new an;class Jn{constructor(e=0,n=0,i=0,s=Jn.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,s=this._order){return this._x=e,this._y=n,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const s=e.elements,r=s[0],o=s[4],a=s[8],l=s[1],c=s[5],u=s[9],d=s[2],f=s[6],p=s[10];switch(n){case"XYZ":this._y=Math.asin(Zn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Zn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,r),this._z=0);break;case"ZXY":this._x=Math.asin(Zn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-Zn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Zn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,r)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-Zn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return CE.makeRotationFromQuaternion(e),this.setFromRotationMatrix(CE,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return EE.setFromEuler(this),this.setFromQuaternion(EE,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Jn.DEFAULT_ORDER="XYZ";class Ev{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Qde=0;const TE=new Z,Tc=new an,Jr=new Ct,mp=new Z,Sd=new Z,efe=new Z,tfe=new an,AE=new Z(1,0,0),RE=new Z(0,1,0),PE=new Z(0,0,1),IE={type:"added"},nfe={type:"removed"},Ac={type:"childadded",child:null},Y0={type:"childremoved",child:null};class Qt extends Yr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Qde++}),this.uuid=Ps(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Qt.DEFAULT_UP.clone();const e=new Z,n=new Jn,i=new an,s=new Z(1,1,1);function r(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(r),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Ct},normalMatrix:{value:new jt}}),this.matrix=new Ct,this.matrixWorld=new Ct,this.matrixAutoUpdate=Qt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Qt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ev,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Tc.setFromAxisAngle(e,n),this.quaternion.multiply(Tc),this}rotateOnWorldAxis(e,n){return Tc.setFromAxisAngle(e,n),this.quaternion.premultiply(Tc),this}rotateX(e){return this.rotateOnAxis(AE,e)}rotateY(e){return this.rotateOnAxis(RE,e)}rotateZ(e){return this.rotateOnAxis(PE,e)}translateOnAxis(e,n){return TE.copy(e).applyQuaternion(this.quaternion),this.position.add(TE.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(AE,e)}translateY(e){return this.translateOnAxis(RE,e)}translateZ(e){return this.translateOnAxis(PE,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Jr.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?mp.copy(e):mp.set(e,n,i);const s=this.parent;this.updateWorldMatrix(!0,!1),Sd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Jr.lookAt(Sd,mp,this.up):Jr.lookAt(mp,Sd,this.up),this.quaternion.setFromRotationMatrix(Jr),s&&(Jr.extractRotation(s.matrixWorld),Tc.setFromRotationMatrix(Jr),this.quaternion.premultiply(Tc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(IE),Ac.child=e,this.dispatchEvent(Ac),Ac.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(nfe),Y0.child=e,this.dispatchEvent(Y0),Y0.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Jr.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Jr.multiply(e.parent.matrixWorld)),e.applyMatrix4(Jr),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(IE),Ac.child=e,this.dispatchEvent(Ac),Ac.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const s=this.children;for(let r=0,o=s.length;r<o;r++)s[r].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Sd,e,efe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Sd,tfe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,s=n.length;i<s;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,s=n.length;i<s;i++){const r=n[i];(r.matrixWorldAutoUpdate===!0||e===!0)&&r.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const s=this.children;for(let r=0,o=s.length;r<o;r++){const a=s[r];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),s.maxGeometryCount=this._maxGeometryCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()}));function r(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];r(e.shapes,d)}else r(e.shapes,l)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(r(e.materials,this.material[l]));s.material=a}else s.material=r(e.materials,this.material);if(this.children.length>0){s.children=[];for(let a=0;a<this.children.length;a++)s.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];s.animations.push(r(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),f=o(e.skeletons),p=o(e.animations),g=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),f.length>0&&(i.skeletons=f),p.length>0&&(i.animations=p),g.length>0&&(i.nodes=g)}return i.object=s,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const s=e.children[i];this.add(s.clone())}return this}}Qt.DEFAULT_UP=new Z(0,1,0);Qt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Qt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ar=new Z,Qr=new Z,X0=new Z,eo=new Z,Rc=new Z,Pc=new Z,kE=new Z,q0=new Z,j0=new Z,Z0=new Z;class Ms{constructor(e=new Z,n=new Z,i=new Z){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,s){s.subVectors(i,n),ar.subVectors(e,n),s.cross(ar);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(e,n,i,s,r){ar.subVectors(s,n),Qr.subVectors(i,n),X0.subVectors(e,n);const o=ar.dot(ar),a=ar.dot(Qr),l=ar.dot(X0),c=Qr.dot(Qr),u=Qr.dot(X0),d=o*c-a*a;if(d===0)return r.set(0,0,0),null;const f=1/d,p=(c*l-a*u)*f,g=(o*u-a*l)*f;return r.set(1-p-g,g,p)}static containsPoint(e,n,i,s){return this.getBarycoord(e,n,i,s,eo)===null?!1:eo.x>=0&&eo.y>=0&&eo.x+eo.y<=1}static getInterpolation(e,n,i,s,r,o,a,l){return this.getBarycoord(e,n,i,s,eo)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(r,eo.x),l.addScaledVector(o,eo.y),l.addScaledVector(a,eo.z),l)}static isFrontFacing(e,n,i,s){return ar.subVectors(i,n),Qr.subVectors(e,n),ar.cross(Qr).dot(s)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,s){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,n,i,s){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ar.subVectors(this.c,this.b),Qr.subVectors(this.a,this.b),ar.cross(Qr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ms.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ms.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,s,r){return Ms.getInterpolation(e,this.a,this.b,this.c,n,i,s,r)}containsPoint(e){return Ms.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ms.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,s=this.b,r=this.c;let o,a;Rc.subVectors(s,i),Pc.subVectors(r,i),q0.subVectors(e,i);const l=Rc.dot(q0),c=Pc.dot(q0);if(l<=0&&c<=0)return n.copy(i);j0.subVectors(e,s);const u=Rc.dot(j0),d=Pc.dot(j0);if(u>=0&&d<=u)return n.copy(s);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(i).addScaledVector(Rc,o);Z0.subVectors(e,r);const p=Rc.dot(Z0),g=Pc.dot(Z0);if(g>=0&&p<=g)return n.copy(r);const m=p*c-l*g;if(m<=0&&c>=0&&g<=0)return a=c/(c-g),n.copy(i).addScaledVector(Pc,a);const y=u*g-p*d;if(y<=0&&d-u>=0&&p-g>=0)return kE.subVectors(r,s),a=(d-u)/(d-u+(p-g)),n.copy(s).addScaledVector(kE,a);const v=1/(y+m+f);return o=m*v,a=f*v,n.copy(i).addScaledVector(Rc,o).addScaledVector(Pc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const sL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ho={h:0,s:0,l:0},gp={h:0,s:0,l:0};function J0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class ct{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=pi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,gn.toWorkingColorSpace(this,n),this}setRGB(e,n,i,s=gn.workingColorSpace){return this.r=e,this.g=n,this.b=i,gn.toWorkingColorSpace(this,s),this}setHSL(e,n,i,s=gn.workingColorSpace){if(e=ux(e,1),n=Zn(n,0,1),i=Zn(i,0,1),n===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+n):i+n-i*n,o=2*i-r;this.r=J0(o,r,e+1/3),this.g=J0(o,r,e),this.b=J0(o,r,e-1/3)}return gn.toWorkingColorSpace(this,s),this}setStyle(e,n=pi){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=s[1],a=s[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,n);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,n);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=s[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=pi){const i=sL[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=gu(e.r),this.g=gu(e.g),this.b=gu(e.b),this}copyLinearToSRGB(e){return this.r=U0(e.r),this.g=U0(e.g),this.b=U0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=pi){return gn.fromWorkingColorSpace(Bi.copy(this),e),Math.round(Zn(Bi.r*255,0,255))*65536+Math.round(Zn(Bi.g*255,0,255))*256+Math.round(Zn(Bi.b*255,0,255))}getHexString(e=pi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=gn.workingColorSpace){gn.fromWorkingColorSpace(Bi.copy(this),n);const i=Bi.r,s=Bi.g,r=Bi.b,o=Math.max(i,s,r),a=Math.min(i,s,r);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(s-r)/d+(s<r?6:0);break;case s:l=(r-i)/d+2;break;case r:l=(i-s)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=gn.workingColorSpace){return gn.fromWorkingColorSpace(Bi.copy(this),n),e.r=Bi.r,e.g=Bi.g,e.b=Bi.b,e}getStyle(e=pi){gn.fromWorkingColorSpace(Bi.copy(this),e);const n=Bi.r,i=Bi.g,s=Bi.b;return e!==pi?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(e,n,i){return this.getHSL(Ho),this.setHSL(Ho.h+e,Ho.s+n,Ho.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Ho),e.getHSL(gp);const i=ff(Ho.h,gp.h,n),s=ff(Ho.s,gp.s,n),r=ff(Ho.l,gp.l,n);return this.setHSL(i,s,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,s=this.b,r=e.elements;return this.r=r[0]*n+r[3]*i+r[6]*s,this.g=r[1]*n+r[4]*i+r[7]*s,this.b=r[2]*n+r[5]*i+r[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Bi=new ct;ct.NAMES=sL;let ife=0;class _i extends Yr{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:ife++}),this.uuid=Ps(),this.name="",this.type="Material",this.blending=zl,this.side=Wr,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Sg,this.blendDst=Mg,this.blendEquation=la,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ct(0,0,0),this.blendAlpha=0,this.depthFunc=Gf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=kb,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=hl,this.stencilZFail=hl,this.stencilZPass=hl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const s=this[n];if(s===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==zl&&(i.blending=this.blending),this.side!==Wr&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Sg&&(i.blendSrc=this.blendSrc),this.blendDst!==Mg&&(i.blendDst=this.blendDst),this.blendEquation!==la&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Gf&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==kb&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==hl&&(i.stencilFail=this.stencilFail),this.stencilZFail!==hl&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==hl&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(r){const o=[];for(const a in r){const l=r[a];delete l.metadata,o.push(l)}return o}if(n){const r=s(e.textures),o=s(e.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const s=n.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=n[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ui extends _i{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Jn,this.combine=Eh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ao=sfe();function sfe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),s=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,s[l]=24,s[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,s[l]=-c-1,s[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,s[l]=13,s[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,s[l]=24,s[l|256]=24):(i[l]=31744,i[l|256]=64512,s[l]=13,s[l|256]=13)}const r=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,r[l]=c|u}for(let l=1024;l<2048;++l)r[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:s,mantissaTable:r,exponentTable:o,offsetTable:a}}function cs(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Zn(t,-65504,65504),ao.floatView[0]=t;const e=ao.uint32View[0],n=e>>23&511;return ao.baseTable[n]+((e&8388607)>>ao.shiftTable[n])}function Gd(t){const e=t>>10;return ao.uint32View[0]=ao.mantissaTable[ao.offsetTable[e]+(t&1023)]+ao.exponentTable[e],ao.floatView[0]}const rfe={toHalfFloat:cs,fromHalfFloat:Gd},ai=new Z,vp=new qe;class ln{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=Jf,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Gs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return tL("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[e+s]=n.array[i+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)vp.fromBufferAttribute(this,n),vp.applyMatrix3(e),this.setXY(n,vp.x,vp.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)ai.fromBufferAttribute(this,n),ai.applyMatrix3(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)ai.fromBufferAttribute(this,n),ai.applyMatrix4(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)ai.fromBufferAttribute(this,n),ai.applyNormalMatrix(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)ai.fromBufferAttribute(this,n),ai.transformDirection(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=es(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Zt(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=es(n,this.array)),n}setX(e,n){return this.normalized&&(n=Zt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=es(n,this.array)),n}setY(e,n){return this.normalized&&(n=Zt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=es(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Zt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=es(n,this.array)),n}setW(e,n){return this.normalized&&(n=Zt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Zt(n,this.array),i=Zt(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,s){return e*=this.itemSize,this.normalized&&(n=Zt(n,this.array),i=Zt(i,this.array),s=Zt(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=s,this}setXYZW(e,n,i,s,r){return e*=this.itemSize,this.normalized&&(n=Zt(n,this.array),i=Zt(i,this.array),s=Zt(s,this.array),r=Zt(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=s,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Jf&&(e.usage=this.usage),e}}class ofe extends ln{constructor(e,n,i){super(new Int8Array(e),n,i)}}class afe extends ln{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class lfe extends ln{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class cfe extends ln{constructor(e,n,i){super(new Int16Array(e),n,i)}}class fx extends ln{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class ufe extends ln{constructor(e,n,i){super(new Int32Array(e),n,i)}}class hx extends ln{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class dfe extends ln{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=Gd(this.array[e*this.itemSize]);return this.normalized&&(n=es(n,this.array)),n}setX(e,n){return this.normalized&&(n=Zt(n,this.array)),this.array[e*this.itemSize]=cs(n),this}getY(e){let n=Gd(this.array[e*this.itemSize+1]);return this.normalized&&(n=es(n,this.array)),n}setY(e,n){return this.normalized&&(n=Zt(n,this.array)),this.array[e*this.itemSize+1]=cs(n),this}getZ(e){let n=Gd(this.array[e*this.itemSize+2]);return this.normalized&&(n=es(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Zt(n,this.array)),this.array[e*this.itemSize+2]=cs(n),this}getW(e){let n=Gd(this.array[e*this.itemSize+3]);return this.normalized&&(n=es(n,this.array)),n}setW(e,n){return this.normalized&&(n=Zt(n,this.array)),this.array[e*this.itemSize+3]=cs(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Zt(n,this.array),i=Zt(i,this.array)),this.array[e+0]=cs(n),this.array[e+1]=cs(i),this}setXYZ(e,n,i,s){return e*=this.itemSize,this.normalized&&(n=Zt(n,this.array),i=Zt(i,this.array),s=Zt(s,this.array)),this.array[e+0]=cs(n),this.array[e+1]=cs(i),this.array[e+2]=cs(s),this}setXYZW(e,n,i,s,r){return e*=this.itemSize,this.normalized&&(n=Zt(n,this.array),i=Zt(i,this.array),s=Zt(s,this.array),r=Zt(r,this.array)),this.array[e+0]=cs(n),this.array[e+1]=cs(i),this.array[e+2]=cs(s),this.array[e+3]=cs(r),this}}class Et extends ln{constructor(e,n,i){super(new Float32Array(e),n,i)}}let ffe=0;const Ns=new Ct,Q0=new Qt,Ic=new Z,_s=new Bn,Md=new Bn,Ei=new Z;class Yt extends Yr{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ffe++}),this.uuid=Ps(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(QO(e)?hx:fx)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new jt().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ns.makeRotationFromQuaternion(e),this.applyMatrix4(Ns),this}rotateX(e){return Ns.makeRotationX(e),this.applyMatrix4(Ns),this}rotateY(e){return Ns.makeRotationY(e),this.applyMatrix4(Ns),this}rotateZ(e){return Ns.makeRotationZ(e),this.applyMatrix4(Ns),this}translate(e,n,i){return Ns.makeTranslation(e,n,i),this.applyMatrix4(Ns),this}scale(e,n,i){return Ns.makeScale(e,n,i),this.applyMatrix4(Ns),this}lookAt(e){return Q0.lookAt(e),Q0.updateMatrix(),this.applyMatrix4(Q0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ic).negate(),this.translate(Ic.x,Ic.y,Ic.z),this}setFromPoints(e){const n=[];for(let i=0,s=e.length;i<s;i++){const r=e[i];n.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Et(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Bn);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Z(-1/0,-1/0,-1/0),new Z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,s=n.length;i<s;i++){const r=n[i];_s.setFromBufferAttribute(r),this.morphTargetsRelative?(Ei.addVectors(this.boundingBox.min,_s.min),this.boundingBox.expandByPoint(Ei),Ei.addVectors(this.boundingBox.max,_s.max),this.boundingBox.expandByPoint(Ei)):(this.boundingBox.expandByPoint(_s.min),this.boundingBox.expandByPoint(_s.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new di);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Z,1/0);return}if(e){const i=this.boundingSphere.center;if(_s.setFromBufferAttribute(e),n)for(let r=0,o=n.length;r<o;r++){const a=n[r];Md.setFromBufferAttribute(a),this.morphTargetsRelative?(Ei.addVectors(_s.min,Md.min),_s.expandByPoint(Ei),Ei.addVectors(_s.max,Md.max),_s.expandByPoint(Ei)):(_s.expandByPoint(Md.min),_s.expandByPoint(Md.max))}_s.getCenter(i);let s=0;for(let r=0,o=e.count;r<o;r++)Ei.fromBufferAttribute(e,r),s=Math.max(s,i.distanceToSquared(Ei));if(n)for(let r=0,o=n.length;r<o;r++){const a=n[r],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Ei.fromBufferAttribute(a,c),l&&(Ic.fromBufferAttribute(e,c),Ei.add(Ic)),s=Math.max(s,i.distanceToSquared(Ei))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,s=n.normal,r=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ln(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let T=0;T<i.count;T++)a[T]=new Z,l[T]=new Z;const c=new Z,u=new Z,d=new Z,f=new qe,p=new qe,g=new qe,m=new Z,y=new Z;function v(T,E,M){c.fromBufferAttribute(i,T),u.fromBufferAttribute(i,E),d.fromBufferAttribute(i,M),f.fromBufferAttribute(r,T),p.fromBufferAttribute(r,E),g.fromBufferAttribute(r,M),u.sub(c),d.sub(c),p.sub(f),g.sub(f);const R=1/(p.x*g.y-g.x*p.y);isFinite(R)&&(m.copy(u).multiplyScalar(g.y).addScaledVector(d,-p.y).multiplyScalar(R),y.copy(d).multiplyScalar(p.x).addScaledVector(u,-g.x).multiplyScalar(R),a[T].add(m),a[E].add(m),a[M].add(m),l[T].add(y),l[E].add(y),l[M].add(y))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let T=0,E=_.length;T<E;++T){const M=_[T],R=M.start,O=M.count;for(let F=R,V=R+O;F<V;F+=3)v(e.getX(F+0),e.getX(F+1),e.getX(F+2))}const b=new Z,w=new Z,S=new Z,x=new Z;function C(T){S.fromBufferAttribute(s,T),x.copy(S);const E=a[T];b.copy(E),b.sub(S.multiplyScalar(S.dot(E))).normalize(),w.crossVectors(x,E);const R=w.dot(l[T])<0?-1:1;o.setXYZW(T,b.x,b.y,b.z,R)}for(let T=0,E=_.length;T<E;++T){const M=_[T],R=M.start,O=M.count;for(let F=R,V=R+O;F<V;F+=3)C(e.getX(F+0)),C(e.getX(F+1)),C(e.getX(F+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new ln(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let f=0,p=i.count;f<p;f++)i.setXYZ(f,0,0,0);const s=new Z,r=new Z,o=new Z,a=new Z,l=new Z,c=new Z,u=new Z,d=new Z;if(e)for(let f=0,p=e.count;f<p;f+=3){const g=e.getX(f+0),m=e.getX(f+1),y=e.getX(f+2);s.fromBufferAttribute(n,g),r.fromBufferAttribute(n,m),o.fromBufferAttribute(n,y),u.subVectors(o,r),d.subVectors(s,r),u.cross(d),a.fromBufferAttribute(i,g),l.fromBufferAttribute(i,m),c.fromBufferAttribute(i,y),a.add(u),l.add(u),c.add(u),i.setXYZ(g,a.x,a.y,a.z),i.setXYZ(m,l.x,l.y,l.z),i.setXYZ(y,c.x,c.y,c.z)}else for(let f=0,p=n.count;f<p;f+=3)s.fromBufferAttribute(n,f+0),r.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),u.subVectors(o,r),d.subVectors(s,r),u.cross(d),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Ei.fromBufferAttribute(e,n),Ei.normalize(),e.setXYZ(n,Ei.x,Ei.y,Ei.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let p=0,g=0;for(let m=0,y=l.length;m<y;m++){a.isInterleavedBufferAttribute?p=l[m]*a.data.stride+a.offset:p=l[m]*u;for(let v=0;v<u;v++)f[g++]=c[p++]}return new ln(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Yt,i=this.index.array,s=this.attributes;for(const a in s){const l=s[a],c=e(l,i);n.setAttribute(a,c)}const r=this.morphAttributes;for(const a in r){const l=[],c=r[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],p=e(f,i);l.push(p)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const s={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const p=c[d];u.push(p.toJSON(e.data))}u.length>0&&(s[l]=u,r=!0)}r&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const s=e.attributes;for(const c in s){const u=s[c];this.setAttribute(c,u.clone(n))}const r=e.morphAttributes;for(const c in r){const u=[],d=r[c];for(let f=0,p=d.length;f<p;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const OE=new Ct,Qa=new od,yp=new di,LE=new Z,kc=new Z,Oc=new Z,Lc=new Z,ey=new Z,bp=new Z,_p=new qe,wp=new qe,xp=new qe,NE=new Z,DE=new Z,FE=new Z,Sp=new Z,Mp=new Z;class vt extends Qt{constructor(e=new Yt,n=new ui){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}getVertexPosition(e,n){const i=this.geometry,s=i.attributes.position,r=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(s,e);const a=this.morphTargetInfluences;if(r&&a){bp.set(0,0,0);for(let l=0,c=r.length;l<c;l++){const u=a[l],d=r[l];u!==0&&(ey.fromBufferAttribute(d,e),o?bp.addScaledVector(ey,u):bp.addScaledVector(ey.sub(n),u))}n.add(bp)}return n}raycast(e,n){const i=this.geometry,s=this.material,r=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),yp.copy(i.boundingSphere),yp.applyMatrix4(r),Qa.copy(e.ray).recast(e.near),!(yp.containsPoint(Qa.origin)===!1&&(Qa.intersectSphere(yp,LE)===null||Qa.origin.distanceToSquared(LE)>(e.far-e.near)**2))&&(OE.copy(r).invert(),Qa.copy(e.ray).applyMatrix4(OE),!(i.boundingBox!==null&&Qa.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Qa)))}_computeIntersections(e,n,i){let s;const r=this.geometry,o=this.material,a=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv1,d=r.attributes.normal,f=r.groups,p=r.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,m=f.length;g<m;g++){const y=f[g],v=o[y.materialIndex],_=Math.max(y.start,p.start),b=Math.min(a.count,Math.min(y.start+y.count,p.start+p.count));for(let w=_,S=b;w<S;w+=3){const x=a.getX(w),C=a.getX(w+1),T=a.getX(w+2);s=Cp(this,v,e,i,c,u,d,x,C,T),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=y.materialIndex,n.push(s))}}else{const g=Math.max(0,p.start),m=Math.min(a.count,p.start+p.count);for(let y=g,v=m;y<v;y+=3){const _=a.getX(y),b=a.getX(y+1),w=a.getX(y+2);s=Cp(this,o,e,i,c,u,d,_,b,w),s&&(s.faceIndex=Math.floor(y/3),n.push(s))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,m=f.length;g<m;g++){const y=f[g],v=o[y.materialIndex],_=Math.max(y.start,p.start),b=Math.min(l.count,Math.min(y.start+y.count,p.start+p.count));for(let w=_,S=b;w<S;w+=3){const x=w,C=w+1,T=w+2;s=Cp(this,v,e,i,c,u,d,x,C,T),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=y.materialIndex,n.push(s))}}else{const g=Math.max(0,p.start),m=Math.min(l.count,p.start+p.count);for(let y=g,v=m;y<v;y+=3){const _=y,b=y+1,w=y+2;s=Cp(this,o,e,i,c,u,d,_,b,w),s&&(s.faceIndex=Math.floor(y/3),n.push(s))}}}}function hfe(t,e,n,i,s,r,o,a){let l;if(e.side===is?l=i.intersectTriangle(o,r,s,!0,a):l=i.intersectTriangle(s,r,o,e.side===Wr,a),l===null)return null;Mp.copy(a),Mp.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Mp);return c<n.near||c>n.far?null:{distance:c,point:Mp.clone(),object:t}}function Cp(t,e,n,i,s,r,o,a,l,c){t.getVertexPosition(a,kc),t.getVertexPosition(l,Oc),t.getVertexPosition(c,Lc);const u=hfe(t,e,n,i,kc,Oc,Lc,Sp);if(u){s&&(_p.fromBufferAttribute(s,a),wp.fromBufferAttribute(s,l),xp.fromBufferAttribute(s,c),u.uv=Ms.getInterpolation(Sp,kc,Oc,Lc,_p,wp,xp,new qe)),r&&(_p.fromBufferAttribute(r,a),wp.fromBufferAttribute(r,l),xp.fromBufferAttribute(r,c),u.uv1=Ms.getInterpolation(Sp,kc,Oc,Lc,_p,wp,xp,new qe)),o&&(NE.fromBufferAttribute(o,a),DE.fromBufferAttribute(o,l),FE.fromBufferAttribute(o,c),u.normal=Ms.getInterpolation(Sp,kc,Oc,Lc,NE,DE,FE,new Z),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new Z,materialIndex:0};Ms.getNormal(kc,Oc,Lc,d.normal),u.face=d}return u}class Wn extends Yt{constructor(e=1,n=1,i=1,s=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:s,heightSegments:r,depthSegments:o};const a=this;s=Math.floor(s),r=Math.floor(r),o=Math.floor(o);const l=[],c=[],u=[],d=[];let f=0,p=0;g("z","y","x",-1,-1,i,n,e,o,r,0),g("z","y","x",1,-1,i,n,-e,o,r,1),g("x","z","y",1,1,e,i,n,s,o,2),g("x","z","y",1,-1,e,i,-n,s,o,3),g("x","y","z",1,-1,e,n,i,s,r,4),g("x","y","z",-1,-1,e,n,-i,s,r,5),this.setIndex(l),this.setAttribute("position",new Et(c,3)),this.setAttribute("normal",new Et(u,3)),this.setAttribute("uv",new Et(d,2));function g(m,y,v,_,b,w,S,x,C,T,E){const M=w/C,R=S/T,O=w/2,F=S/2,V=x/2,U=C+1,D=T+1;let I=0,N=0;const k=new Z;for(let B=0;B<D;B++){const G=B*R-F;for(let J=0;J<U;J++){const re=J*M-O;k[m]=re*_,k[y]=G*b,k[v]=V,c.push(k.x,k.y,k.z),k[m]=0,k[y]=0,k[v]=x>0?1:-1,u.push(k.x,k.y,k.z),d.push(J/C),d.push(1-B/T),I+=1}}for(let B=0;B<T;B++)for(let G=0;G<C;G++){const J=f+G+U*B,re=f+G+U*(B+1),ee=f+(G+1)+U*(B+1),ye=f+(G+1)+U*B;l.push(J,re,ye),l.push(re,ee,ye),N+=6}a.addGroup(p,N,E),p+=N,f+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wn(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Hu(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const s=t[n][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=s.clone():Array.isArray(s)?e[n][i]=s.slice():e[n][i]=s}}return e}function Qi(t){const e={};for(let n=0;n<t.length;n++){const i=Hu(t[n]);for(const s in i)e[s]=i[s]}return e}function pfe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function rL(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:gn.workingColorSpace}const Wu={clone:Hu,merge:Qi};var mfe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,gfe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Qn extends _i{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=mfe,this.fragmentShader=gfe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Hu(e.uniforms),this.uniformsGroups=pfe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?n.uniforms[s]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[s]={type:"m4",value:o.toArray()}:n.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class Tv extends Qt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ct,this.projectionMatrix=new Ct,this.projectionMatrixInverse=new Ct,this.coordinateSystem=Dr}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Wo=new Z,BE=new qe,UE=new qe;class ci extends Tv{constructor(e=50,n=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=$u*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan($l*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return $u*2*Math.atan(Math.tan($l*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){Wo.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Wo.x,Wo.y).multiplyScalar(-e/Wo.z),Wo.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Wo.x,Wo.y).multiplyScalar(-e/Wo.z)}getViewSize(e,n){return this.getViewBounds(e,BE,UE),n.subVectors(UE,BE)}setViewOffset(e,n,i,s,r,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan($l*.5*this.fov)/this.zoom,i=2*n,s=this.aspect*i,r=-.5*s;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;r+=o.offsetX*s/l,n-=o.offsetY*i/c,s*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Nc=-90,Dc=1;class oL extends Qt{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new ci(Nc,Dc,e,n);s.layers=this.layers,this.add(s);const r=new ci(Nc,Dc,e,n);r.layers=this.layers,this.add(r);const o=new ci(Nc,Dc,e,n);o.layers=this.layers,this.add(o);const a=new ci(Nc,Dc,e,n);a.layers=this.layers,this.add(a);const l=new ci(Nc,Dc,e,n);l.layers=this.layers,this.add(l);const c=new ci(Nc,Dc,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,s,r,o,a,l]=n;for(const c of n)this.remove(c);if(e===Dr)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Qf)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,o,a,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,s),e.render(n,r),e.setRenderTarget(i,1,s),e.render(n,o),e.setRenderTarget(i,2,s),e.render(n,a),e.setRenderTarget(i,3,s),e.render(n,l),e.setRenderTarget(i,4,s),e.render(n,c),i.texture.generateMipmaps=m,e.setRenderTarget(i,5,s),e.render(n,u),e.setRenderTarget(d,f,p),e.xr.enabled=g,i.texture.needsPMREMUpdate=!0}}class Ah extends Hn{constructor(e,n,i,s,r,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:wo,super(e,n,i,s,r,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class aL extends jn{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},s=[i,i,i,i,i,i];this.texture=new Ah(s,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:$n}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new Wn(5,5,5),r=new Qn({name:"CubemapFromEquirect",uniforms:Hu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:is,blending:qs});r.uniforms.tEquirect.value=n;const o=new vt(s,r),a=n.minFilter;return n.minFilter===Ws&&(n.minFilter=$n),new oL(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,i,s){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,s);e.setRenderTarget(r)}}const ty=new Z,vfe=new Z,yfe=new jt;class so{constructor(e=new Z(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,s){return this.normal.set(e,n,i),this.constant=s,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const s=ty.subVectors(i,n).cross(vfe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(ty),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:n.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||yfe.getNormalMatrix(e),s=this.coplanarPoint(ty).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const el=new di,Ep=new Z;class Rh{constructor(e=new so,n=new so,i=new so,s=new so,r=new so,o=new so){this.planes=[e,n,i,s,r,o]}set(e,n,i,s,r,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(s),a[4].copy(r),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=Dr){const i=this.planes,s=e.elements,r=s[0],o=s[1],a=s[2],l=s[3],c=s[4],u=s[5],d=s[6],f=s[7],p=s[8],g=s[9],m=s[10],y=s[11],v=s[12],_=s[13],b=s[14],w=s[15];if(i[0].setComponents(l-r,f-c,y-p,w-v).normalize(),i[1].setComponents(l+r,f+c,y+p,w+v).normalize(),i[2].setComponents(l+o,f+u,y+g,w+_).normalize(),i[3].setComponents(l-o,f-u,y-g,w-_).normalize(),i[4].setComponents(l-a,f-d,y-m,w-b).normalize(),n===Dr)i[5].setComponents(l+a,f+d,y+m,w+b).normalize();else if(n===Qf)i[5].setComponents(a,d,m,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),el.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),el.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(el)}intersectsSprite(e){return el.center.set(0,0,0),el.radius=.7071067811865476,el.applyMatrix4(e.matrixWorld),this.intersectsSphere(el)}intersectsSphere(e){const n=this.planes,i=e.center,s=-e.radius;for(let r=0;r<6;r++)if(n[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const s=n[i];if(Ep.x=s.normal.x>0?e.max.x:e.min.x,Ep.y=s.normal.y>0?e.max.y:e.min.y,Ep.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(Ep)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function lL(){let t=null,e=!1,n=null,i=null;function s(r,o){n(r,o),i=t.requestAnimationFrame(s)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(s),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){n=r},setContext:function(r){t=r}}}function bfe(t){const e=new WeakMap;function n(a,l){const c=a.array,u=a.usage,d=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,u),a.onUploadCallback();let p;if(c instanceof Float32Array)p=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?p=t.HALF_FLOAT:p=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)p=t.SHORT;else if(c instanceof Uint32Array)p=t.UNSIGNED_INT;else if(c instanceof Int32Array)p=t.INT;else if(c instanceof Int8Array)p=t.BYTE;else if(c instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:p,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function i(a,l,c){const u=l.array,d=l._updateRange,f=l.updateRanges;if(t.bindBuffer(c,a),d.count===-1&&f.length===0&&t.bufferSubData(c,0,u),f.length!==0){for(let p=0,g=f.length;p<g;p++){const m=f[p];t.bufferSubData(c,m.start*u.BYTES_PER_ELEMENT,u,m.start,m.count)}l.clearUpdateRanges()}d.count!==-1&&(t.bufferSubData(c,d.offset*u.BYTES_PER_ELEMENT,u,d.offset,d.count),d.count=-1),l.onUploadCallback()}function s(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function r(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}a.isInterleavedBufferAttribute&&(a=a.data);const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,a,l),c.version=a.version}}return{get:s,remove:r,update:o}}class za extends Yt{constructor(e=1,n=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:s};const r=e/2,o=n/2,a=Math.floor(i),l=Math.floor(s),c=a+1,u=l+1,d=e/a,f=n/l,p=[],g=[],m=[],y=[];for(let v=0;v<u;v++){const _=v*f-o;for(let b=0;b<c;b++){const w=b*d-r;g.push(w,-_,0),m.push(0,0,1),y.push(b/a),y.push(1-v/l)}}for(let v=0;v<l;v++)for(let _=0;_<a;_++){const b=_+c*v,w=_+c*(v+1),S=_+1+c*(v+1),x=_+1+c*v;p.push(b,w,x),p.push(w,S,x)}this.setIndex(p),this.setAttribute("position",new Et(g,3)),this.setAttribute("normal",new Et(m,3)),this.setAttribute("uv",new Et(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new za(e.width,e.height,e.widthSegments,e.heightSegments)}}var _fe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,wfe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,xfe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Sfe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Mfe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Cfe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Efe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Tfe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Afe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Rfe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,Pfe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Ife=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,kfe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Ofe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Lfe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Nfe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Dfe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Ffe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Bfe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Ufe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,zfe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Vfe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,$fe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Hfe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Wfe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Gfe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Kfe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Yfe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Xfe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,qfe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,jfe="gl_FragColor = linearToOutputTexel( gl_FragColor );",Zfe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Jfe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Qfe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,ehe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,the=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,nhe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ihe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,she=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,rhe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ohe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ahe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lhe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,che=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,uhe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,dhe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,fhe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,hhe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,phe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,mhe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ghe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,vhe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,yhe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,bhe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,_he=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,whe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,xhe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,She=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Mhe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Che=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Ehe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,The=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Ahe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Rhe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Phe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Ihe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,khe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Ohe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Lhe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Nhe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Dhe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Fhe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Bhe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Uhe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,zhe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Vhe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,$he=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Hhe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Whe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Ghe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Khe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Yhe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Xhe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,qhe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,jhe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Zhe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Jhe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Qhe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,epe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,tpe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,npe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,ipe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,spe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,rpe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ope=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,ape=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,lpe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,cpe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,upe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,dpe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,fpe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,hpe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,ppe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,mpe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,gpe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vpe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,ype=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const bpe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,_pe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wpe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,xpe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Spe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Mpe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Cpe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Epe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Tpe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Ape=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Rpe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Ppe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ipe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,kpe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Ope=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Lpe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Npe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Dpe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fpe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Bpe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Upe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,zpe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Vpe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$pe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hpe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Wpe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gpe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Kpe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ype=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Xpe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qpe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jpe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Zpe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Jpe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Jt={alphahash_fragment:_fe,alphahash_pars_fragment:wfe,alphamap_fragment:xfe,alphamap_pars_fragment:Sfe,alphatest_fragment:Mfe,alphatest_pars_fragment:Cfe,aomap_fragment:Efe,aomap_pars_fragment:Tfe,batching_pars_vertex:Afe,batching_vertex:Rfe,begin_vertex:Pfe,beginnormal_vertex:Ife,bsdfs:kfe,iridescence_fragment:Ofe,bumpmap_pars_fragment:Lfe,clipping_planes_fragment:Nfe,clipping_planes_pars_fragment:Dfe,clipping_planes_pars_vertex:Ffe,clipping_planes_vertex:Bfe,color_fragment:Ufe,color_pars_fragment:zfe,color_pars_vertex:Vfe,color_vertex:$fe,common:Hfe,cube_uv_reflection_fragment:Wfe,defaultnormal_vertex:Gfe,displacementmap_pars_vertex:Kfe,displacementmap_vertex:Yfe,emissivemap_fragment:Xfe,emissivemap_pars_fragment:qfe,colorspace_fragment:jfe,colorspace_pars_fragment:Zfe,envmap_fragment:Jfe,envmap_common_pars_fragment:Qfe,envmap_pars_fragment:ehe,envmap_pars_vertex:the,envmap_physical_pars_fragment:fhe,envmap_vertex:nhe,fog_vertex:ihe,fog_pars_vertex:she,fog_fragment:rhe,fog_pars_fragment:ohe,gradientmap_pars_fragment:ahe,lightmap_pars_fragment:lhe,lights_lambert_fragment:che,lights_lambert_pars_fragment:uhe,lights_pars_begin:dhe,lights_toon_fragment:hhe,lights_toon_pars_fragment:phe,lights_phong_fragment:mhe,lights_phong_pars_fragment:ghe,lights_physical_fragment:vhe,lights_physical_pars_fragment:yhe,lights_fragment_begin:bhe,lights_fragment_maps:_he,lights_fragment_end:whe,logdepthbuf_fragment:xhe,logdepthbuf_pars_fragment:She,logdepthbuf_pars_vertex:Mhe,logdepthbuf_vertex:Che,map_fragment:Ehe,map_pars_fragment:The,map_particle_fragment:Ahe,map_particle_pars_fragment:Rhe,metalnessmap_fragment:Phe,metalnessmap_pars_fragment:Ihe,morphinstance_vertex:khe,morphcolor_vertex:Ohe,morphnormal_vertex:Lhe,morphtarget_pars_vertex:Nhe,morphtarget_vertex:Dhe,normal_fragment_begin:Fhe,normal_fragment_maps:Bhe,normal_pars_fragment:Uhe,normal_pars_vertex:zhe,normal_vertex:Vhe,normalmap_pars_fragment:$he,clearcoat_normal_fragment_begin:Hhe,clearcoat_normal_fragment_maps:Whe,clearcoat_pars_fragment:Ghe,iridescence_pars_fragment:Khe,opaque_fragment:Yhe,packing:Xhe,premultiplied_alpha_fragment:qhe,project_vertex:jhe,dithering_fragment:Zhe,dithering_pars_fragment:Jhe,roughnessmap_fragment:Qhe,roughnessmap_pars_fragment:epe,shadowmap_pars_fragment:tpe,shadowmap_pars_vertex:npe,shadowmap_vertex:ipe,shadowmask_pars_fragment:spe,skinbase_vertex:rpe,skinning_pars_vertex:ope,skinning_vertex:ape,skinnormal_vertex:lpe,specularmap_fragment:cpe,specularmap_pars_fragment:upe,tonemapping_fragment:dpe,tonemapping_pars_fragment:fpe,transmission_fragment:hpe,transmission_pars_fragment:ppe,uv_pars_fragment:mpe,uv_pars_vertex:gpe,uv_vertex:vpe,worldpos_vertex:ype,background_vert:bpe,background_frag:_pe,backgroundCube_vert:wpe,backgroundCube_frag:xpe,cube_vert:Spe,cube_frag:Mpe,depth_vert:Cpe,depth_frag:Epe,distanceRGBA_vert:Tpe,distanceRGBA_frag:Ape,equirect_vert:Rpe,equirect_frag:Ppe,linedashed_vert:Ipe,linedashed_frag:kpe,meshbasic_vert:Ope,meshbasic_frag:Lpe,meshlambert_vert:Npe,meshlambert_frag:Dpe,meshmatcap_vert:Fpe,meshmatcap_frag:Bpe,meshnormal_vert:Upe,meshnormal_frag:zpe,meshphong_vert:Vpe,meshphong_frag:$pe,meshphysical_vert:Hpe,meshphysical_frag:Wpe,meshtoon_vert:Gpe,meshtoon_frag:Kpe,points_vert:Ype,points_frag:Xpe,shadow_vert:qpe,shadow_frag:jpe,sprite_vert:Zpe,sprite_frag:Jpe},xt={common:{diffuse:{value:new ct(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new jt},alphaMap:{value:null},alphaMapTransform:{value:new jt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new jt}},envmap:{envMap:{value:null},envMapRotation:{value:new jt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new jt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new jt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new jt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new jt},normalScale:{value:new qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new jt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new jt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new jt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new jt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ct(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ct(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new jt},alphaTest:{value:0},uvTransform:{value:new jt}},sprite:{diffuse:{value:new ct(16777215)},opacity:{value:1},center:{value:new qe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new jt},alphaMap:{value:null},alphaMapTransform:{value:new jt},alphaTest:{value:0}}},dr={basic:{uniforms:Qi([xt.common,xt.specularmap,xt.envmap,xt.aomap,xt.lightmap,xt.fog]),vertexShader:Jt.meshbasic_vert,fragmentShader:Jt.meshbasic_frag},lambert:{uniforms:Qi([xt.common,xt.specularmap,xt.envmap,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.fog,xt.lights,{emissive:{value:new ct(0)}}]),vertexShader:Jt.meshlambert_vert,fragmentShader:Jt.meshlambert_frag},phong:{uniforms:Qi([xt.common,xt.specularmap,xt.envmap,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.fog,xt.lights,{emissive:{value:new ct(0)},specular:{value:new ct(1118481)},shininess:{value:30}}]),vertexShader:Jt.meshphong_vert,fragmentShader:Jt.meshphong_frag},standard:{uniforms:Qi([xt.common,xt.envmap,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.roughnessmap,xt.metalnessmap,xt.fog,xt.lights,{emissive:{value:new ct(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Jt.meshphysical_vert,fragmentShader:Jt.meshphysical_frag},toon:{uniforms:Qi([xt.common,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.gradientmap,xt.fog,xt.lights,{emissive:{value:new ct(0)}}]),vertexShader:Jt.meshtoon_vert,fragmentShader:Jt.meshtoon_frag},matcap:{uniforms:Qi([xt.common,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.fog,{matcap:{value:null}}]),vertexShader:Jt.meshmatcap_vert,fragmentShader:Jt.meshmatcap_frag},points:{uniforms:Qi([xt.points,xt.fog]),vertexShader:Jt.points_vert,fragmentShader:Jt.points_frag},dashed:{uniforms:Qi([xt.common,xt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Jt.linedashed_vert,fragmentShader:Jt.linedashed_frag},depth:{uniforms:Qi([xt.common,xt.displacementmap]),vertexShader:Jt.depth_vert,fragmentShader:Jt.depth_frag},normal:{uniforms:Qi([xt.common,xt.bumpmap,xt.normalmap,xt.displacementmap,{opacity:{value:1}}]),vertexShader:Jt.meshnormal_vert,fragmentShader:Jt.meshnormal_frag},sprite:{uniforms:Qi([xt.sprite,xt.fog]),vertexShader:Jt.sprite_vert,fragmentShader:Jt.sprite_frag},background:{uniforms:{uvTransform:{value:new jt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Jt.background_vert,fragmentShader:Jt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new jt}},vertexShader:Jt.backgroundCube_vert,fragmentShader:Jt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Jt.cube_vert,fragmentShader:Jt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Jt.equirect_vert,fragmentShader:Jt.equirect_frag},distanceRGBA:{uniforms:Qi([xt.common,xt.displacementmap,{referencePosition:{value:new Z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Jt.distanceRGBA_vert,fragmentShader:Jt.distanceRGBA_frag},shadow:{uniforms:Qi([xt.lights,xt.fog,{color:{value:new ct(0)},opacity:{value:1}}]),vertexShader:Jt.shadow_vert,fragmentShader:Jt.shadow_frag}};dr.physical={uniforms:Qi([dr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new jt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new jt},clearcoatNormalScale:{value:new qe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new jt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new jt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new jt},sheen:{value:0},sheenColor:{value:new ct(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new jt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new jt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new jt},transmissionSamplerSize:{value:new qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new jt},attenuationDistance:{value:0},attenuationColor:{value:new ct(0)},specularColor:{value:new ct(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new jt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new jt},anisotropyVector:{value:new qe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new jt}}]),vertexShader:Jt.meshphysical_vert,fragmentShader:Jt.meshphysical_frag};const Tp={r:0,b:0,g:0},tl=new Jn,Qpe=new Ct;function eme(t,e,n,i,s,r,o){const a=new ct(0);let l=r===!0?0:1,c,u,d=null,f=0,p=null;function g(_){let b=_.isScene===!0?_.background:null;return b&&b.isTexture&&(b=(_.backgroundBlurriness>0?n:e).get(b)),b}function m(_){let b=!1;const w=g(_);w===null?v(a,l):w&&w.isColor&&(v(w,1),b=!0);const S=t.xr.getEnvironmentBlendMode();S==="additive"?i.buffers.color.setClear(0,0,0,1,o):S==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||b)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil)}function y(_,b){const w=g(b);w&&(w.isCubeTexture||w.mapping===sd)?(u===void 0&&(u=new vt(new Wn(1,1,1),new Qn({name:"BackgroundCubeMaterial",uniforms:Hu(dr.backgroundCube.uniforms),vertexShader:dr.backgroundCube.vertexShader,fragmentShader:dr.backgroundCube.fragmentShader,side:is,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(S,x,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(u)),tl.copy(b.backgroundRotation),tl.x*=-1,tl.y*=-1,tl.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(tl.y*=-1,tl.z*=-1),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Qpe.makeRotationFromEuler(tl)),u.material.toneMapped=gn.getTransfer(w.colorSpace)!==In,(d!==w||f!==w.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,d=w,f=w.version,p=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new vt(new za(2,2),new Qn({name:"BackgroundMaterial",uniforms:Hu(dr.background.uniforms),vertexShader:dr.background.vertexShader,fragmentShader:dr.background.fragmentShader,side:Wr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=gn.getTransfer(w.colorSpace)!==In,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(d!==w||f!==w.version||p!==t.toneMapping)&&(c.material.needsUpdate=!0,d=w,f=w.version,p=t.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function v(_,b){_.getRGB(Tp,rL(t)),i.buffers.color.setClear(Tp.r,Tp.g,Tp.b,b,o)}return{getClearColor:function(){return a},setClearColor:function(_,b=1){a.set(_),l=b,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,v(a,l)},render:m,addToRenderList:y}}function tme(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},s=f(null);let r=s,o=!1;function a(M,R,O,F,V){let U=!1;const D=d(F,O,R);r!==D&&(r=D,c(r.object)),U=p(M,F,O,V),U&&g(M,F,O,V),V!==null&&e.update(V,t.ELEMENT_ARRAY_BUFFER),(U||o)&&(o=!1,w(M,R,O,F),V!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(V).buffer))}function l(){return t.createVertexArray()}function c(M){return t.bindVertexArray(M)}function u(M){return t.deleteVertexArray(M)}function d(M,R,O){const F=O.wireframe===!0;let V=i[M.id];V===void 0&&(V={},i[M.id]=V);let U=V[R.id];U===void 0&&(U={},V[R.id]=U);let D=U[F];return D===void 0&&(D=f(l()),U[F]=D),D}function f(M){const R=[],O=[],F=[];for(let V=0;V<n;V++)R[V]=0,O[V]=0,F[V]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:R,enabledAttributes:O,attributeDivisors:F,object:M,attributes:{},index:null}}function p(M,R,O,F){const V=r.attributes,U=R.attributes;let D=0;const I=O.getAttributes();for(const N in I)if(I[N].location>=0){const B=V[N];let G=U[N];if(G===void 0&&(N==="instanceMatrix"&&M.instanceMatrix&&(G=M.instanceMatrix),N==="instanceColor"&&M.instanceColor&&(G=M.instanceColor)),B===void 0||B.attribute!==G||G&&B.data!==G.data)return!0;D++}return r.attributesNum!==D||r.index!==F}function g(M,R,O,F){const V={},U=R.attributes;let D=0;const I=O.getAttributes();for(const N in I)if(I[N].location>=0){let B=U[N];B===void 0&&(N==="instanceMatrix"&&M.instanceMatrix&&(B=M.instanceMatrix),N==="instanceColor"&&M.instanceColor&&(B=M.instanceColor));const G={};G.attribute=B,B&&B.data&&(G.data=B.data),V[N]=G,D++}r.attributes=V,r.attributesNum=D,r.index=F}function m(){const M=r.newAttributes;for(let R=0,O=M.length;R<O;R++)M[R]=0}function y(M){v(M,0)}function v(M,R){const O=r.newAttributes,F=r.enabledAttributes,V=r.attributeDivisors;O[M]=1,F[M]===0&&(t.enableVertexAttribArray(M),F[M]=1),V[M]!==R&&(t.vertexAttribDivisor(M,R),V[M]=R)}function _(){const M=r.newAttributes,R=r.enabledAttributes;for(let O=0,F=R.length;O<F;O++)R[O]!==M[O]&&(t.disableVertexAttribArray(O),R[O]=0)}function b(M,R,O,F,V,U,D){D===!0?t.vertexAttribIPointer(M,R,O,V,U):t.vertexAttribPointer(M,R,O,F,V,U)}function w(M,R,O,F){m();const V=F.attributes,U=O.getAttributes(),D=R.defaultAttributeValues;for(const I in U){const N=U[I];if(N.location>=0){let k=V[I];if(k===void 0&&(I==="instanceMatrix"&&M.instanceMatrix&&(k=M.instanceMatrix),I==="instanceColor"&&M.instanceColor&&(k=M.instanceColor)),k!==void 0){const B=k.normalized,G=k.itemSize,J=e.get(k);if(J===void 0)continue;const re=J.buffer,ee=J.type,ye=J.bytesPerElement,te=ee===t.INT||ee===t.UNSIGNED_INT||k.gpuType===ex;if(k.isInterleavedBufferAttribute){const oe=k.data,de=oe.stride,Ne=k.offset;if(oe.isInstancedInterleavedBuffer){for(let Q=0;Q<N.locationSize;Q++)v(N.location+Q,oe.meshPerAttribute);M.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let Q=0;Q<N.locationSize;Q++)y(N.location+Q);t.bindBuffer(t.ARRAY_BUFFER,re);for(let Q=0;Q<N.locationSize;Q++)b(N.location+Q,G/N.locationSize,ee,B,de*ye,(Ne+G/N.locationSize*Q)*ye,te)}else{if(k.isInstancedBufferAttribute){for(let oe=0;oe<N.locationSize;oe++)v(N.location+oe,k.meshPerAttribute);M.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=k.meshPerAttribute*k.count)}else for(let oe=0;oe<N.locationSize;oe++)y(N.location+oe);t.bindBuffer(t.ARRAY_BUFFER,re);for(let oe=0;oe<N.locationSize;oe++)b(N.location+oe,G/N.locationSize,ee,B,G*ye,G/N.locationSize*oe*ye,te)}}else if(D!==void 0){const B=D[I];if(B!==void 0)switch(B.length){case 2:t.vertexAttrib2fv(N.location,B);break;case 3:t.vertexAttrib3fv(N.location,B);break;case 4:t.vertexAttrib4fv(N.location,B);break;default:t.vertexAttrib1fv(N.location,B)}}}}_()}function S(){T();for(const M in i){const R=i[M];for(const O in R){const F=R[O];for(const V in F)u(F[V].object),delete F[V];delete R[O]}delete i[M]}}function x(M){if(i[M.id]===void 0)return;const R=i[M.id];for(const O in R){const F=R[O];for(const V in F)u(F[V].object),delete F[V];delete R[O]}delete i[M.id]}function C(M){for(const R in i){const O=i[R];if(O[M.id]===void 0)continue;const F=O[M.id];for(const V in F)u(F[V].object),delete F[V];delete O[M.id]}}function T(){E(),o=!0,r!==s&&(r=s,c(r.object))}function E(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:a,reset:T,resetDefaultState:E,dispose:S,releaseStatesOfGeometry:x,releaseStatesOfProgram:C,initAttributes:m,enableAttribute:y,disableUnusedAttributes:_}}function nme(t,e,n){let i;function s(c){i=c}function r(c,u){t.drawArrays(i,c,u),n.update(u,i,1)}function o(c,u,d){d!==0&&(t.drawArraysInstanced(i,c,u,d),n.update(u,i,d))}function a(c,u,d){if(d===0)return;const f=e.get("WEBGL_multi_draw");if(f===null)for(let p=0;p<d;p++)this.render(c[p],u[p]);else{f.multiDrawArraysWEBGL(i,c,0,u,0,d);let p=0;for(let g=0;g<d;g++)p+=u[g];n.update(p,i,1)}}function l(c,u,d,f){if(d===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let g=0;g<c.length;g++)o(c[g],u[g],f[g]);else{p.multiDrawArraysInstancedWEBGL(i,c,0,u,0,f,0,d);let g=0;for(let m=0;m<d;m++)g+=u[m];for(let m=0;m<f.length;m++)n.update(g,i,f[m])}}this.setMode=s,this.render=r,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function ime(t,e,n,i){let s;function r(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const x=e.get("EXT_texture_filter_anisotropic");s=t.getParameter(x.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function o(x){return!(x!==hs&&i.convert(x)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(x){const C=x===zs&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(x!==xo&&i.convert(x)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&x!==Gs&&!C)}function l(x){if(x==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";x="mediump"}return x==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_TEXTURE_SIZE),m=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),y=t.getParameter(t.MAX_VERTEX_ATTRIBS),v=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=p>0,S=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,maxTextures:f,maxVertexTextures:p,maxTextureSize:g,maxCubemapSize:m,maxAttributes:y,maxVertexUniforms:v,maxVaryings:_,maxFragmentUniforms:b,vertexTextures:w,maxSamples:S}}function sme(t){const e=this;let n=null,i=0,s=!1,r=!1;const o=new so,a=new jt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const p=d.length!==0||f||i!==0||s;return s=f,i=d.length,p},this.beginShadows=function(){r=!0,u(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,p){const g=d.clippingPlanes,m=d.clipIntersection,y=d.clipShadows,v=t.get(d);if(!s||g===null||g.length===0||r&&!y)r?u(null):c();else{const _=r?0:i,b=_*4;let w=v.clippingState||null;l.value=w,w=u(g,f,b,p);for(let S=0;S!==b;++S)w[S]=n[S];v.clippingState=w,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,f,p,g){const m=d!==null?d.length:0;let y=null;if(m!==0){if(y=l.value,g!==!0||y===null){const v=p+m*4,_=f.matrixWorldInverse;a.getNormalMatrix(_),(y===null||y.length<v)&&(y=new Float32Array(v));for(let b=0,w=p;b!==m;++b,w+=4)o.copy(d[b]).applyMatrix4(_,a),o.normal.toArray(y,w),y[w+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,y}}function rme(t){let e=new WeakMap;function n(o,a){return a===Kf?o.mapping=wo:a===Yf&&(o.mapping=Ta),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===Kf||a===Yf)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new aL(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",s),n(c.texture,o.mapping)}else return null}}return o}function s(o){const a=o.target;a.removeEventListener("dispose",s);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}class nr extends Tv{constructor(e=-1,n=1,i=1,s=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=s,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,s,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-e,o=i+e,a=s+n,l=s-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,o=r+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const iu=4,zE=[.125,.215,.35,.446,.526,.582],_l=20,ny=new nr,VE=new ct;let iy=null,sy=0,ry=0,oy=!1;const pl=(1+Math.sqrt(5))/2,Fc=1/pl,$E=[new Z(-pl,Fc,0),new Z(pl,Fc,0),new Z(-Fc,0,pl),new Z(Fc,0,pl),new Z(0,pl,-Fc),new Z(0,pl,Fc),new Z(-1,1,-1),new Z(1,1,-1),new Z(-1,1,1),new Z(1,1,1)];class Lb{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,s=100){iy=this._renderer.getRenderTarget(),sy=this._renderer.getActiveCubeFace(),ry=this._renderer.getActiveMipmapLevel(),oy=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,i,s,r),n>0&&this._blur(r,0,0,n),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=GE(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=WE(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(iy,sy,ry),this._renderer.xr.enabled=oy,e.scissorTest=!1,Ap(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===wo||e.mapping===Ta?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),iy=this._renderer.getRenderTarget(),sy=this._renderer.getActiveCubeFace(),ry=this._renderer.getActiveMipmapLevel(),oy=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:$n,minFilter:$n,generateMipmaps:!1,type:zs,format:hs,colorSpace:xi,depthBuffer:!1},s=HE(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=HE(e,n,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ome(r)),this._blurMaterial=ame(r,e,n)}return s}_compileMaterial(e){const n=new vt(this._lodPlanes[0],e);this._renderer.compile(n,ny)}_sceneToCubeUV(e,n,i,s){const a=new ci(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(VE),u.toneMapping=mo,u.autoClear=!1;const p=new ui({name:"PMREM.Background",side:is,depthWrite:!1,depthTest:!1}),g=new vt(new Wn,p);let m=!1;const y=e.background;y?y.isColor&&(p.color.copy(y),e.background=null,m=!0):(p.color.copy(VE),m=!0);for(let v=0;v<6;v++){const _=v%3;_===0?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):_===1?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const b=this._cubeSize;Ap(s,_*b,v>2?b:0,b,b),u.setRenderTarget(s),m&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=y}_textureToCubeUV(e,n){const i=this._renderer,s=e.mapping===wo||e.mapping===Ta;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=GE()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=WE());const r=s?this._cubemapMaterial:this._equirectMaterial,o=new vt(this._lodPlanes[0],r),a=r.uniforms;a.envMap.value=e;const l=this._cubeSize;Ap(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(o,ny)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const s=this._lodPlanes.length;for(let r=1;r<s;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=$E[(s-r-1)%$E.length];this._blur(e,r-1,r,o,a)}n.autoClear=i}_blur(e,n,i,s,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,s,"latitudinal",r),this._halfBlur(o,e,i,i,s,"longitudinal",r)}_halfBlur(e,n,i,s,r,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new vt(this._lodPlanes[s],c),f=c.uniforms,p=this._sizeLods[i]-1,g=isFinite(r)?Math.PI/(2*p):2*Math.PI/(2*_l-1),m=r/g,y=isFinite(r)?1+Math.floor(u*m):_l;y>_l&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${_l}`);const v=[];let _=0;for(let C=0;C<_l;++C){const T=C/m,E=Math.exp(-T*T/2);v.push(E),C===0?_+=E:C<y&&(_+=2*E)}for(let C=0;C<v.length;C++)v[C]=v[C]/_;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=v,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:b}=this;f.dTheta.value=g,f.mipInt.value=b-i;const w=this._sizeLods[s],S=3*w*(s>b-iu?s-b+iu:0),x=4*(this._cubeSize-w);Ap(n,S,x,3*w,2*w),l.setRenderTarget(n),l.render(d,ny)}}function ome(t){const e=[],n=[],i=[];let s=t;const r=t-iu+1+zE.length;for(let o=0;o<r;o++){const a=Math.pow(2,s);n.push(a);let l=1/a;o>t-iu?l=zE[o-t+iu-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],p=6,g=6,m=3,y=2,v=1,_=new Float32Array(m*g*p),b=new Float32Array(y*g*p),w=new Float32Array(v*g*p);for(let x=0;x<p;x++){const C=x%3*2/3-1,T=x>2?0:-1,E=[C,T,0,C+2/3,T,0,C+2/3,T+1,0,C,T,0,C+2/3,T+1,0,C,T+1,0];_.set(E,m*g*x),b.set(f,y*g*x);const M=[x,x,x,x,x,x];w.set(M,v*g*x)}const S=new Yt;S.setAttribute("position",new ln(_,m)),S.setAttribute("uv",new ln(b,y)),S.setAttribute("faceIndex",new ln(w,v)),e.push(S),s>iu&&s--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function HE(t,e,n){const i=new jn(t,e,n);return i.texture.mapping=sd,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Ap(t,e,n,i,s){t.viewport.set(e,n,i,s),t.scissor.set(e,n,i,s)}function ame(t,e,n){const i=new Float32Array(_l),s=new Z(0,1,0);return new Qn({name:"SphericalGaussianBlur",defines:{n:_l,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:px(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:qs,depthTest:!1,depthWrite:!1})}function WE(){return new Qn({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:px(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:qs,depthTest:!1,depthWrite:!1})}function GE(){return new Qn({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:px(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:qs,depthTest:!1,depthWrite:!1})}function px(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function lme(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===Kf||l===Yf,u=l===wo||l===Ta;if(c||u){let d=e.get(a);const f=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return n===null&&(n=new Lb(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const p=a.image;return c&&p&&p.height>0||u&&p&&s(p)?(n===null&&(n=new Lb(t)),d=c?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",r),d.texture):null}}}return a}function s(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function r(a){const l=a.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function cme(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let s;switch(i){case"WEBGL_depth_texture":s=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=t.getExtension(i)}return e[i]=s,s}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const s=n(i);return s===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function ume(t,e,n,i){const s={},r=new WeakMap;function o(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const g in f.attributes)e.remove(f.attributes[g]);for(const g in f.morphAttributes){const m=f.morphAttributes[g];for(let y=0,v=m.length;y<v;y++)e.remove(m[y])}f.removeEventListener("dispose",o),delete s[f.id];const p=r.get(f);p&&(e.remove(p),r.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return s[f.id]===!0||(f.addEventListener("dispose",o),s[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const g in f)e.update(f[g],t.ARRAY_BUFFER);const p=d.morphAttributes;for(const g in p){const m=p[g];for(let y=0,v=m.length;y<v;y++)e.update(m[y],t.ARRAY_BUFFER)}}function c(d){const f=[],p=d.index,g=d.attributes.position;let m=0;if(p!==null){const _=p.array;m=p.version;for(let b=0,w=_.length;b<w;b+=3){const S=_[b+0],x=_[b+1],C=_[b+2];f.push(S,x,x,C,C,S)}}else if(g!==void 0){const _=g.array;m=g.version;for(let b=0,w=_.length/3-1;b<w;b+=3){const S=b+0,x=b+1,C=b+2;f.push(S,x,x,C,C,S)}}else return;const y=new(QO(f)?hx:fx)(f,1);y.version=m;const v=r.get(d);v&&e.remove(v),r.set(d,y)}function u(d){const f=r.get(d);if(f){const p=d.index;p!==null&&f.version<p.version&&c(d)}else c(d);return r.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function dme(t,e,n){let i;function s(f){i=f}let r,o;function a(f){r=f.type,o=f.bytesPerElement}function l(f,p){t.drawElements(i,p,r,f*o),n.update(p,i,1)}function c(f,p,g){g!==0&&(t.drawElementsInstanced(i,p,r,f*o,g),n.update(p,i,g))}function u(f,p,g){if(g===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let y=0;y<g;y++)this.render(f[y]/o,p[y]);else{m.multiDrawElementsWEBGL(i,p,0,r,f,0,g);let y=0;for(let v=0;v<g;v++)y+=p[v];n.update(y,i,1)}}function d(f,p,g,m){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let v=0;v<f.length;v++)c(f[v]/o,p[v],m[v]);else{y.multiDrawElementsInstancedWEBGL(i,p,0,r,f,0,m,0,g);let v=0;for(let _=0;_<g;_++)v+=p[_];for(let _=0;_<m.length;_++)n.update(v,i,m[_])}}this.setMode=s,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function fme(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(r/3);break;case t.LINES:n.lines+=a*(r/2);break;case t.LINE_STRIP:n.lines+=a*(r-1);break;case t.LINE_LOOP:n.lines+=a*r;break;case t.POINTS:n.points+=a*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function s(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:s,update:i}}function hme(t,e,n){const i=new WeakMap,s=new dn;function r(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=u!==void 0?u.length:0;let f=i.get(a);if(f===void 0||f.count!==d){let M=function(){T.dispose(),i.delete(a),a.removeEventListener("dispose",M)};var p=M;f!==void 0&&f.texture.dispose();const g=a.morphAttributes.position!==void 0,m=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,v=a.morphAttributes.position||[],_=a.morphAttributes.normal||[],b=a.morphAttributes.color||[];let w=0;g===!0&&(w=1),m===!0&&(w=2),y===!0&&(w=3);let S=a.attributes.position.count*w,x=1;S>e.maxTextureSize&&(x=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const C=new Float32Array(S*x*4*d),T=new Cv(C,S,x,d);T.type=Gs,T.needsUpdate=!0;const E=w*4;for(let R=0;R<d;R++){const O=v[R],F=_[R],V=b[R],U=S*x*4*R;for(let D=0;D<O.count;D++){const I=D*E;g===!0&&(s.fromBufferAttribute(O,D),C[U+I+0]=s.x,C[U+I+1]=s.y,C[U+I+2]=s.z,C[U+I+3]=0),m===!0&&(s.fromBufferAttribute(F,D),C[U+I+4]=s.x,C[U+I+5]=s.y,C[U+I+6]=s.z,C[U+I+7]=0),y===!0&&(s.fromBufferAttribute(V,D),C[U+I+8]=s.x,C[U+I+9]=s.y,C[U+I+10]=s.z,C[U+I+11]=V.itemSize===4?s.w:1)}}f={count:d,texture:T,size:new qe(S,x)},i.set(a,f),a.addEventListener("dispose",M)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let g=0;for(let y=0;y<c.length;y++)g+=c[y];const m=a.morphTargetsRelative?1:1-g;l.getUniforms().setValue(t,"morphTargetBaseInfluence",m),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:r}}function pme(t,e,n,i){let s=new WeakMap;function r(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);if(s.get(d)!==c&&(e.update(d),s.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),s.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),s.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;s.get(f)!==c&&(f.update(),s.set(f,c))}return d}function o(){s=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:r,dispose:o}}class mx extends Hn{constructor(e,n,i,s,r,o,a,l,c,u){if(u=u!==void 0?u:Vl,u!==Vl&&u!==zu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Vl&&(i=Ql),i===void 0&&u===zu&&(i=rd),super(null,s,r,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:vi,this.minFilter=l!==void 0?l:vi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const cL=new Hn,uL=new mx(1,1);uL.compareFunction=cx;const dL=new Cv,fL=new dx,hL=new Ah,KE=[],YE=[],XE=new Float32Array(16),qE=new Float32Array(9),jE=new Float32Array(4);function ad(t,e,n){const i=t[0];if(i<=0||i>0)return t;const s=e*n;let r=KE[s];if(r===void 0&&(r=new Float32Array(s),KE[s]=r),e!==0){i.toArray(r,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(r,a)}return r}function Si(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Mi(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function Av(t,e){let n=YE[e];n===void 0&&(n=new Int32Array(e),YE[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function mme(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function gme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Si(n,e))return;t.uniform2fv(this.addr,e),Mi(n,e)}}function vme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Si(n,e))return;t.uniform3fv(this.addr,e),Mi(n,e)}}function yme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Si(n,e))return;t.uniform4fv(this.addr,e),Mi(n,e)}}function bme(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Si(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Mi(n,e)}else{if(Si(n,i))return;jE.set(i),t.uniformMatrix2fv(this.addr,!1,jE),Mi(n,i)}}function _me(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Si(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Mi(n,e)}else{if(Si(n,i))return;qE.set(i),t.uniformMatrix3fv(this.addr,!1,qE),Mi(n,i)}}function wme(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Si(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Mi(n,e)}else{if(Si(n,i))return;XE.set(i),t.uniformMatrix4fv(this.addr,!1,XE),Mi(n,i)}}function xme(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Sme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Si(n,e))return;t.uniform2iv(this.addr,e),Mi(n,e)}}function Mme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Si(n,e))return;t.uniform3iv(this.addr,e),Mi(n,e)}}function Cme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Si(n,e))return;t.uniform4iv(this.addr,e),Mi(n,e)}}function Eme(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Tme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Si(n,e))return;t.uniform2uiv(this.addr,e),Mi(n,e)}}function Ame(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Si(n,e))return;t.uniform3uiv(this.addr,e),Mi(n,e)}}function Rme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Si(n,e))return;t.uniform4uiv(this.addr,e),Mi(n,e)}}function Pme(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s);const r=this.type===t.SAMPLER_2D_SHADOW?uL:cL;n.setTexture2D(e||r,s)}function Ime(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTexture3D(e||fL,s)}function kme(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTextureCube(e||hL,s)}function Ome(t,e,n){const i=this.cache,s=n.allocateTextureUnit();i[0]!==s&&(t.uniform1i(this.addr,s),i[0]=s),n.setTexture2DArray(e||dL,s)}function Lme(t){switch(t){case 5126:return mme;case 35664:return gme;case 35665:return vme;case 35666:return yme;case 35674:return bme;case 35675:return _me;case 35676:return wme;case 5124:case 35670:return xme;case 35667:case 35671:return Sme;case 35668:case 35672:return Mme;case 35669:case 35673:return Cme;case 5125:return Eme;case 36294:return Tme;case 36295:return Ame;case 36296:return Rme;case 35678:case 36198:case 36298:case 36306:case 35682:return Pme;case 35679:case 36299:case 36307:return Ime;case 35680:case 36300:case 36308:case 36293:return kme;case 36289:case 36303:case 36311:case 36292:return Ome}}function Nme(t,e){t.uniform1fv(this.addr,e)}function Dme(t,e){const n=ad(e,this.size,2);t.uniform2fv(this.addr,n)}function Fme(t,e){const n=ad(e,this.size,3);t.uniform3fv(this.addr,n)}function Bme(t,e){const n=ad(e,this.size,4);t.uniform4fv(this.addr,n)}function Ume(t,e){const n=ad(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function zme(t,e){const n=ad(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Vme(t,e){const n=ad(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function $me(t,e){t.uniform1iv(this.addr,e)}function Hme(t,e){t.uniform2iv(this.addr,e)}function Wme(t,e){t.uniform3iv(this.addr,e)}function Gme(t,e){t.uniform4iv(this.addr,e)}function Kme(t,e){t.uniform1uiv(this.addr,e)}function Yme(t,e){t.uniform2uiv(this.addr,e)}function Xme(t,e){t.uniform3uiv(this.addr,e)}function qme(t,e){t.uniform4uiv(this.addr,e)}function jme(t,e,n){const i=this.cache,s=e.length,r=Av(n,s);Si(i,r)||(t.uniform1iv(this.addr,r),Mi(i,r));for(let o=0;o!==s;++o)n.setTexture2D(e[o]||cL,r[o])}function Zme(t,e,n){const i=this.cache,s=e.length,r=Av(n,s);Si(i,r)||(t.uniform1iv(this.addr,r),Mi(i,r));for(let o=0;o!==s;++o)n.setTexture3D(e[o]||fL,r[o])}function Jme(t,e,n){const i=this.cache,s=e.length,r=Av(n,s);Si(i,r)||(t.uniform1iv(this.addr,r),Mi(i,r));for(let o=0;o!==s;++o)n.setTextureCube(e[o]||hL,r[o])}function Qme(t,e,n){const i=this.cache,s=e.length,r=Av(n,s);Si(i,r)||(t.uniform1iv(this.addr,r),Mi(i,r));for(let o=0;o!==s;++o)n.setTexture2DArray(e[o]||dL,r[o])}function ege(t){switch(t){case 5126:return Nme;case 35664:return Dme;case 35665:return Fme;case 35666:return Bme;case 35674:return Ume;case 35675:return zme;case 35676:return Vme;case 5124:case 35670:return $me;case 35667:case 35671:return Hme;case 35668:case 35672:return Wme;case 35669:case 35673:return Gme;case 5125:return Kme;case 36294:return Yme;case 36295:return Xme;case 36296:return qme;case 35678:case 36198:case 36298:case 36306:case 35682:return jme;case 35679:case 36299:case 36307:return Zme;case 35680:case 36300:case 36308:case 36293:return Jme;case 36289:case 36303:case 36311:case 36292:return Qme}}class tge{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=Lme(n.type)}}class nge{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=ege(n.type)}}class ige{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const s=this.seq;for(let r=0,o=s.length;r!==o;++r){const a=s[r];a.setValue(e,n[a.id],i)}}}const ay=/(\w+)(\])?(\[|\.)?/g;function ZE(t,e){t.seq.push(e),t.map[e.id]=e}function sge(t,e,n){const i=t.name,s=i.length;for(ay.lastIndex=0;;){const r=ay.exec(i),o=ay.lastIndex;let a=r[1];const l=r[2]==="]",c=r[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===s){ZE(n,c===void 0?new tge(a,t,e):new nge(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new ige(a),ZE(n,d)),n=d}}}class Hm{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const r=e.getActiveUniform(n,s),o=e.getUniformLocation(n,r.name);sge(r,o,this)}}setValue(e,n,i,s){const r=this.map[n];r!==void 0&&r.setValue(e,i,s)}setOptional(e,n,i){const s=n[i];s!==void 0&&this.setValue(e,i,s)}static upload(e,n,i,s){for(let r=0,o=n.length;r!==o;++r){const a=n[r],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,s)}}static seqWithValue(e,n){const i=[];for(let s=0,r=e.length;s!==r;++s){const o=e[s];o.id in n&&i.push(o)}return i}}function JE(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const rge=37297;let oge=0;function age(t,e){const n=t.split(`
`),i=[],s=Math.max(e-6,0),r=Math.min(e+6,n.length);for(let o=s;o<r;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return i.join(`
`)}function lge(t){const e=gn.getPrimaries(gn.workingColorSpace),n=gn.getPrimaries(t);let i;switch(e===n?i="":e===Zf&&n===jf?i="LinearDisplayP3ToLinearSRGB":e===jf&&n===Zf&&(i="LinearSRGBToLinearDisplayP3"),t){case xi:case Th:return[i,"LinearTransferOETF"];case pi:case Mv:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[i,"LinearTransferOETF"]}}function QE(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),s=t.getShaderInfoLog(e).trim();if(i&&s==="")return"";const r=/ERROR: 0:(\d+)/.exec(s);if(r){const o=parseInt(r[1]);return n.toUpperCase()+`

`+s+`

`+age(t.getShaderSource(e),o)}else return s}function cge(t,e){const n=lge(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function uge(t,e){let n;switch(e){case xO:n="Linear";break;case SO:n="Reinhard";break;case MO:n="OptimizedCineon";break;case CO:n="ACESFilmic";break;case TO:n="AgX";break;case AO:n="Neutral";break;case EO:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function dge(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Kd).join(`
`)}function fge(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function hge(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const r=t.getActiveAttrib(e,s),o=r.name;let a=1;r.type===t.FLOAT_MAT2&&(a=2),r.type===t.FLOAT_MAT3&&(a=3),r.type===t.FLOAT_MAT4&&(a=4),n[o]={type:r.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Kd(t){return t!==""}function eT(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function tT(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const pge=/^[ \t]*#include +<([\w\d./]+)>/gm;function Nb(t){return t.replace(pge,gge)}const mge=new Map;function gge(t,e){let n=Jt[e];if(n===void 0){const i=mge.get(e);if(i!==void 0)n=Jt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return Nb(n)}const vge=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function nT(t){return t.replace(vge,yge)}function yge(t,e,n,i){let s="";for(let r=parseInt(e);r<parseInt(n);r++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function iT(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function bge(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Jw?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Xk?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Pr&&(e="SHADOWMAP_TYPE_VSM"),e}function _ge(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case wo:case Ta:e="ENVMAP_TYPE_CUBE";break;case sd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function wge(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ta:e="ENVMAP_MODE_REFRACTION";break}return e}function xge(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Eh:e="ENVMAP_BLENDING_MULTIPLY";break;case _O:e="ENVMAP_BLENDING_MIX";break;case wO:e="ENVMAP_BLENDING_ADD";break}return e}function Sge(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function Mge(t,e,n,i){const s=t.getContext(),r=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=bge(n),c=_ge(n),u=wge(n),d=xge(n),f=Sge(n),p=dge(n),g=fge(r),m=s.createProgram();let y,v,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Kd).join(`
`),y.length>0&&(y+=`
`),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Kd).join(`
`),v.length>0&&(v+=`
`)):(y=[iT(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Kd).join(`
`),v=[iT(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==mo?"#define TONE_MAPPING":"",n.toneMapping!==mo?Jt.tonemapping_pars_fragment:"",n.toneMapping!==mo?uge("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Jt.colorspace_pars_fragment,cge("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Kd).join(`
`)),o=Nb(o),o=eT(o,n),o=tT(o,n),a=Nb(a),a=eT(a,n),a=tT(a,n),o=nT(o),a=nT(a),n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,y=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,v=["#define varying in",n.glslVersion===Ob?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Ob?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const b=_+y+o,w=_+v+a,S=JE(s,s.VERTEX_SHADER,b),x=JE(s,s.FRAGMENT_SHADER,w);s.attachShader(m,S),s.attachShader(m,x),n.index0AttributeName!==void 0?s.bindAttribLocation(m,0,n.index0AttributeName):n.morphTargets===!0&&s.bindAttribLocation(m,0,"position"),s.linkProgram(m);function C(R){if(t.debug.checkShaderErrors){const O=s.getProgramInfoLog(m).trim(),F=s.getShaderInfoLog(S).trim(),V=s.getShaderInfoLog(x).trim();let U=!0,D=!0;if(s.getProgramParameter(m,s.LINK_STATUS)===!1)if(U=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(s,m,S,x);else{const I=QE(s,S,"vertex"),N=QE(s,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(m,s.VALIDATE_STATUS)+`

Material Name: `+R.name+`
Material Type: `+R.type+`

Program Info Log: `+O+`
`+I+`
`+N)}else O!==""?console.warn("THREE.WebGLProgram: Program Info Log:",O):(F===""||V==="")&&(D=!1);D&&(R.diagnostics={runnable:U,programLog:O,vertexShader:{log:F,prefix:y},fragmentShader:{log:V,prefix:v}})}s.deleteShader(S),s.deleteShader(x),T=new Hm(s,m),E=hge(s,m)}let T;this.getUniforms=function(){return T===void 0&&C(this),T};let E;this.getAttributes=function(){return E===void 0&&C(this),E};let M=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return M===!1&&(M=s.getProgramParameter(m,rge)),M},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=oge++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=S,this.fragmentShader=x,this}let Cge=0;class Ege{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,s=this._getShaderStage(n),r=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(s)===!1&&(o.add(s),s.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new Tge(e),n.set(e,i)),i}}class Tge{constructor(e){this.id=Cge++,this.code=e,this.usedTimes=0}}function Age(t,e,n,i,s,r,o){const a=new Ev,l=new Ege,c=new Set,u=[],d=s.logarithmicDepthBuffer,f=s.vertexTextures;let p=s.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(E){return c.add(E),E===0?"uv":`uv${E}`}function y(E,M,R,O,F){const V=O.fog,U=F.geometry,D=E.isMeshStandardMaterial?O.environment:null,I=(E.isMeshStandardMaterial?n:e).get(E.envMap||D),N=I&&I.mapping===sd?I.image.height:null,k=g[E.type];E.precision!==null&&(p=s.getMaxPrecision(E.precision),p!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",p,"instead."));const B=U.morphAttributes.position||U.morphAttributes.normal||U.morphAttributes.color,G=B!==void 0?B.length:0;let J=0;U.morphAttributes.position!==void 0&&(J=1),U.morphAttributes.normal!==void 0&&(J=2),U.morphAttributes.color!==void 0&&(J=3);let re,ee,ye,te;if(k){const un=dr[k];re=un.vertexShader,ee=un.fragmentShader}else re=E.vertexShader,ee=E.fragmentShader,l.update(E),ye=l.getVertexShaderID(E),te=l.getFragmentShaderID(E);const oe=t.getRenderTarget(),de=F.isInstancedMesh===!0,Ne=F.isBatchedMesh===!0,Q=!!E.map,Te=!!E.matcap,me=!!I,K=!!E.aoMap,q=!!E.lightMap,ue=!!E.bumpMap,ve=!!E.normalMap,he=!!E.displacementMap,xe=!!E.emissiveMap,W=!!E.metalnessMap,$=!!E.roughnessMap,ae=E.anisotropy>0,se=E.clearcoat>0,Ee=E.dispersion>0,Re=E.iridescence>0,be=E.sheen>0,Pe=E.transmission>0,Fe=ae&&!!E.anisotropyMap,it=se&&!!E.clearcoatMap,Ye=se&&!!E.clearcoatNormalMap,He=se&&!!E.clearcoatRoughnessMap,Se=Re&&!!E.iridescenceMap,Le=Re&&!!E.iridescenceThicknessMap,we=be&&!!E.sheenColorMap,pe=be&&!!E.sheenRoughnessMap,Ae=!!E.specularMap,je=!!E.specularColorMap,fe=!!E.specularIntensityMap,le=Pe&&!!E.transmissionMap,Be=Pe&&!!E.thicknessMap,We=!!E.gradientMap,ot=!!E.alphaMap,pt=E.alphaTest>0,dt=!!E.alphaHash,Bt=!!E.extensions;let Tn=mo;E.toneMapped&&(oe===null||oe.isXRRenderTarget===!0)&&(Tn=t.toneMapping);const Xn={shaderID:k,shaderType:E.type,shaderName:E.name,vertexShader:re,fragmentShader:ee,defines:E.defines,customVertexShaderID:ye,customFragmentShaderID:te,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:p,batching:Ne,instancing:de,instancingColor:de&&F.instanceColor!==null,instancingMorph:de&&F.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:oe===null?t.outputColorSpace:oe.isXRRenderTarget===!0?oe.texture.colorSpace:xi,alphaToCoverage:!!E.alphaToCoverage,map:Q,matcap:Te,envMap:me,envMapMode:me&&I.mapping,envMapCubeUVHeight:N,aoMap:K,lightMap:q,bumpMap:ue,normalMap:ve,displacementMap:f&&he,emissiveMap:xe,normalMapObjectSpace:ve&&E.normalMapType===WO,normalMapTangentSpace:ve&&E.normalMapType===Ua,metalnessMap:W,roughnessMap:$,anisotropy:ae,anisotropyMap:Fe,clearcoat:se,clearcoatMap:it,clearcoatNormalMap:Ye,clearcoatRoughnessMap:He,dispersion:Ee,iridescence:Re,iridescenceMap:Se,iridescenceThicknessMap:Le,sheen:be,sheenColorMap:we,sheenRoughnessMap:pe,specularMap:Ae,specularColorMap:je,specularIntensityMap:fe,transmission:Pe,transmissionMap:le,thicknessMap:Be,gradientMap:We,opaque:E.transparent===!1&&E.blending===zl&&E.alphaToCoverage===!1,alphaMap:ot,alphaTest:pt,alphaHash:dt,combine:E.combine,mapUv:Q&&m(E.map.channel),aoMapUv:K&&m(E.aoMap.channel),lightMapUv:q&&m(E.lightMap.channel),bumpMapUv:ue&&m(E.bumpMap.channel),normalMapUv:ve&&m(E.normalMap.channel),displacementMapUv:he&&m(E.displacementMap.channel),emissiveMapUv:xe&&m(E.emissiveMap.channel),metalnessMapUv:W&&m(E.metalnessMap.channel),roughnessMapUv:$&&m(E.roughnessMap.channel),anisotropyMapUv:Fe&&m(E.anisotropyMap.channel),clearcoatMapUv:it&&m(E.clearcoatMap.channel),clearcoatNormalMapUv:Ye&&m(E.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:He&&m(E.clearcoatRoughnessMap.channel),iridescenceMapUv:Se&&m(E.iridescenceMap.channel),iridescenceThicknessMapUv:Le&&m(E.iridescenceThicknessMap.channel),sheenColorMapUv:we&&m(E.sheenColorMap.channel),sheenRoughnessMapUv:pe&&m(E.sheenRoughnessMap.channel),specularMapUv:Ae&&m(E.specularMap.channel),specularColorMapUv:je&&m(E.specularColorMap.channel),specularIntensityMapUv:fe&&m(E.specularIntensityMap.channel),transmissionMapUv:le&&m(E.transmissionMap.channel),thicknessMapUv:Be&&m(E.thicknessMap.channel),alphaMapUv:ot&&m(E.alphaMap.channel),vertexTangents:!!U.attributes.tangent&&(ve||ae),vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!U.attributes.color&&U.attributes.color.itemSize===4,pointsUvs:F.isPoints===!0&&!!U.attributes.uv&&(Q||ot),fog:!!V,useFog:E.fog===!0,fogExp2:!!V&&V.isFogExp2,flatShading:E.flatShading===!0,sizeAttenuation:E.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:F.isSkinnedMesh===!0,morphTargets:U.morphAttributes.position!==void 0,morphNormals:U.morphAttributes.normal!==void 0,morphColors:U.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:J,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numSpotLightMaps:M.spotLightMap.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numSpotLightShadowsWithMaps:M.numSpotLightShadowsWithMaps,numLightProbes:M.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:t.shadowMap.enabled&&R.length>0,shadowMapType:t.shadowMap.type,toneMapping:Tn,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Q&&E.map.isVideoTexture===!0&&gn.getTransfer(E.map.colorSpace)===In,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===ds,flipSided:E.side===is,useDepthPacking:E.depthPacking>=0,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionClipCullDistance:Bt&&E.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Bt&&E.extensions.multiDraw===!0&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:E.customProgramCacheKey()};return Xn.vertexUv1s=c.has(1),Xn.vertexUv2s=c.has(2),Xn.vertexUv3s=c.has(3),c.clear(),Xn}function v(E){const M=[];if(E.shaderID?M.push(E.shaderID):(M.push(E.customVertexShaderID),M.push(E.customFragmentShaderID)),E.defines!==void 0)for(const R in E.defines)M.push(R),M.push(E.defines[R]);return E.isRawShaderMaterial===!1&&(_(M,E),b(M,E),M.push(t.outputColorSpace)),M.push(E.customProgramCacheKey),M.join()}function _(E,M){E.push(M.precision),E.push(M.outputColorSpace),E.push(M.envMapMode),E.push(M.envMapCubeUVHeight),E.push(M.mapUv),E.push(M.alphaMapUv),E.push(M.lightMapUv),E.push(M.aoMapUv),E.push(M.bumpMapUv),E.push(M.normalMapUv),E.push(M.displacementMapUv),E.push(M.emissiveMapUv),E.push(M.metalnessMapUv),E.push(M.roughnessMapUv),E.push(M.anisotropyMapUv),E.push(M.clearcoatMapUv),E.push(M.clearcoatNormalMapUv),E.push(M.clearcoatRoughnessMapUv),E.push(M.iridescenceMapUv),E.push(M.iridescenceThicknessMapUv),E.push(M.sheenColorMapUv),E.push(M.sheenRoughnessMapUv),E.push(M.specularMapUv),E.push(M.specularColorMapUv),E.push(M.specularIntensityMapUv),E.push(M.transmissionMapUv),E.push(M.thicknessMapUv),E.push(M.combine),E.push(M.fogExp2),E.push(M.sizeAttenuation),E.push(M.morphTargetsCount),E.push(M.morphAttributeCount),E.push(M.numDirLights),E.push(M.numPointLights),E.push(M.numSpotLights),E.push(M.numSpotLightMaps),E.push(M.numHemiLights),E.push(M.numRectAreaLights),E.push(M.numDirLightShadows),E.push(M.numPointLightShadows),E.push(M.numSpotLightShadows),E.push(M.numSpotLightShadowsWithMaps),E.push(M.numLightProbes),E.push(M.shadowMapType),E.push(M.toneMapping),E.push(M.numClippingPlanes),E.push(M.numClipIntersection),E.push(M.depthPacking)}function b(E,M){a.disableAll(),M.supportsVertexTextures&&a.enable(0),M.instancing&&a.enable(1),M.instancingColor&&a.enable(2),M.instancingMorph&&a.enable(3),M.matcap&&a.enable(4),M.envMap&&a.enable(5),M.normalMapObjectSpace&&a.enable(6),M.normalMapTangentSpace&&a.enable(7),M.clearcoat&&a.enable(8),M.iridescence&&a.enable(9),M.alphaTest&&a.enable(10),M.vertexColors&&a.enable(11),M.vertexAlphas&&a.enable(12),M.vertexUv1s&&a.enable(13),M.vertexUv2s&&a.enable(14),M.vertexUv3s&&a.enable(15),M.vertexTangents&&a.enable(16),M.anisotropy&&a.enable(17),M.alphaHash&&a.enable(18),M.batching&&a.enable(19),M.dispersion&&a.enable(20),E.push(a.mask),a.disableAll(),M.fog&&a.enable(0),M.useFog&&a.enable(1),M.flatShading&&a.enable(2),M.logarithmicDepthBuffer&&a.enable(3),M.skinning&&a.enable(4),M.morphTargets&&a.enable(5),M.morphNormals&&a.enable(6),M.morphColors&&a.enable(7),M.premultipliedAlpha&&a.enable(8),M.shadowMapEnabled&&a.enable(9),M.useLegacyLights&&a.enable(10),M.doubleSided&&a.enable(11),M.flipSided&&a.enable(12),M.useDepthPacking&&a.enable(13),M.dithering&&a.enable(14),M.transmission&&a.enable(15),M.sheen&&a.enable(16),M.opaque&&a.enable(17),M.pointsUvs&&a.enable(18),M.decodeVideoTexture&&a.enable(19),M.alphaToCoverage&&a.enable(20),E.push(a.mask)}function w(E){const M=g[E.type];let R;if(M){const O=dr[M];R=Wu.clone(O.uniforms)}else R=E.uniforms;return R}function S(E,M){let R;for(let O=0,F=u.length;O<F;O++){const V=u[O];if(V.cacheKey===M){R=V,++R.usedTimes;break}}return R===void 0&&(R=new Mge(t,M,E,r),u.push(R)),R}function x(E){if(--E.usedTimes===0){const M=u.indexOf(E);u[M]=u[u.length-1],u.pop(),E.destroy()}}function C(E){l.remove(E)}function T(){l.dispose()}return{getParameters:y,getProgramCacheKey:v,getUniforms:w,acquireProgram:S,releaseProgram:x,releaseShaderCache:C,programs:u,dispose:T}}function Rge(){let t=new WeakMap;function e(r){let o=t.get(r);return o===void 0&&(o={},t.set(r,o)),o}function n(r){t.delete(r)}function i(r,o,a){t.get(r)[o]=a}function s(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:s}}function Pge(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function sT(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function rT(){const t=[];let e=0;const n=[],i=[],s=[];function r(){e=0,n.length=0,i.length=0,s.length=0}function o(d,f,p,g,m,y){let v=t[e];return v===void 0?(v={id:d.id,object:d,geometry:f,material:p,groupOrder:g,renderOrder:d.renderOrder,z:m,group:y},t[e]=v):(v.id=d.id,v.object=d,v.geometry=f,v.material=p,v.groupOrder=g,v.renderOrder=d.renderOrder,v.z=m,v.group=y),e++,v}function a(d,f,p,g,m,y){const v=o(d,f,p,g,m,y);p.transmission>0?i.push(v):p.transparent===!0?s.push(v):n.push(v)}function l(d,f,p,g,m,y){const v=o(d,f,p,g,m,y);p.transmission>0?i.unshift(v):p.transparent===!0?s.unshift(v):n.unshift(v)}function c(d,f){n.length>1&&n.sort(d||Pge),i.length>1&&i.sort(f||sT),s.length>1&&s.sort(f||sT)}function u(){for(let d=e,f=t.length;d<f;d++){const p=t[d];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:i,transparent:s,init:r,push:a,unshift:l,finish:u,sort:c}}function Ige(){let t=new WeakMap;function e(i,s){const r=t.get(i);let o;return r===void 0?(o=new rT,t.set(i,[o])):s>=r.length?(o=new rT,r.push(o)):o=r[s],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function kge(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Z,color:new ct};break;case"SpotLight":n={position:new Z,direction:new Z,color:new ct,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Z,color:new ct,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Z,skyColor:new ct,groundColor:new ct};break;case"RectAreaLight":n={color:new ct,position:new Z,halfWidth:new Z,halfHeight:new Z};break}return t[e.id]=n,n}}}function Oge(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Lge=0;function Nge(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Dge(t){const e=new kge,n=Oge(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new Z);const s=new Z,r=new Ct,o=new Ct;function a(c,u){let d=0,f=0,p=0;for(let R=0;R<9;R++)i.probe[R].set(0,0,0);let g=0,m=0,y=0,v=0,_=0,b=0,w=0,S=0,x=0,C=0,T=0;c.sort(Nge);const E=u===!0?Math.PI:1;for(let R=0,O=c.length;R<O;R++){const F=c[R],V=F.color,U=F.intensity,D=F.distance,I=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)d+=V.r*U*E,f+=V.g*U*E,p+=V.b*U*E;else if(F.isLightProbe){for(let N=0;N<9;N++)i.probe[N].addScaledVector(F.sh.coefficients[N],U);T++}else if(F.isDirectionalLight){const N=e.get(F);if(N.color.copy(F.color).multiplyScalar(F.intensity*E),F.castShadow){const k=F.shadow,B=n.get(F);B.shadowBias=k.bias,B.shadowNormalBias=k.normalBias,B.shadowRadius=k.radius,B.shadowMapSize=k.mapSize,i.directionalShadow[g]=B,i.directionalShadowMap[g]=I,i.directionalShadowMatrix[g]=F.shadow.matrix,b++}i.directional[g]=N,g++}else if(F.isSpotLight){const N=e.get(F);N.position.setFromMatrixPosition(F.matrixWorld),N.color.copy(V).multiplyScalar(U*E),N.distance=D,N.coneCos=Math.cos(F.angle),N.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),N.decay=F.decay,i.spot[y]=N;const k=F.shadow;if(F.map&&(i.spotLightMap[x]=F.map,x++,k.updateMatrices(F),F.castShadow&&C++),i.spotLightMatrix[y]=k.matrix,F.castShadow){const B=n.get(F);B.shadowBias=k.bias,B.shadowNormalBias=k.normalBias,B.shadowRadius=k.radius,B.shadowMapSize=k.mapSize,i.spotShadow[y]=B,i.spotShadowMap[y]=I,S++}y++}else if(F.isRectAreaLight){const N=e.get(F);N.color.copy(V).multiplyScalar(U),N.halfWidth.set(F.width*.5,0,0),N.halfHeight.set(0,F.height*.5,0),i.rectArea[v]=N,v++}else if(F.isPointLight){const N=e.get(F);if(N.color.copy(F.color).multiplyScalar(F.intensity*E),N.distance=F.distance,N.decay=F.decay,F.castShadow){const k=F.shadow,B=n.get(F);B.shadowBias=k.bias,B.shadowNormalBias=k.normalBias,B.shadowRadius=k.radius,B.shadowMapSize=k.mapSize,B.shadowCameraNear=k.camera.near,B.shadowCameraFar=k.camera.far,i.pointShadow[m]=B,i.pointShadowMap[m]=I,i.pointShadowMatrix[m]=F.shadow.matrix,w++}i.point[m]=N,m++}else if(F.isHemisphereLight){const N=e.get(F);N.skyColor.copy(F.color).multiplyScalar(U*E),N.groundColor.copy(F.groundColor).multiplyScalar(U*E),i.hemi[_]=N,_++}}v>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=xt.LTC_FLOAT_1,i.rectAreaLTC2=xt.LTC_FLOAT_2):(i.rectAreaLTC1=xt.LTC_HALF_1,i.rectAreaLTC2=xt.LTC_HALF_2)),i.ambient[0]=d,i.ambient[1]=f,i.ambient[2]=p;const M=i.hash;(M.directionalLength!==g||M.pointLength!==m||M.spotLength!==y||M.rectAreaLength!==v||M.hemiLength!==_||M.numDirectionalShadows!==b||M.numPointShadows!==w||M.numSpotShadows!==S||M.numSpotMaps!==x||M.numLightProbes!==T)&&(i.directional.length=g,i.spot.length=y,i.rectArea.length=v,i.point.length=m,i.hemi.length=_,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=S,i.spotShadowMap.length=S,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=w,i.spotLightMatrix.length=S+x-C,i.spotLightMap.length=x,i.numSpotLightShadowsWithMaps=C,i.numLightProbes=T,M.directionalLength=g,M.pointLength=m,M.spotLength=y,M.rectAreaLength=v,M.hemiLength=_,M.numDirectionalShadows=b,M.numPointShadows=w,M.numSpotShadows=S,M.numSpotMaps=x,M.numLightProbes=T,i.version=Lge++)}function l(c,u){let d=0,f=0,p=0,g=0,m=0;const y=u.matrixWorldInverse;for(let v=0,_=c.length;v<_;v++){const b=c[v];if(b.isDirectionalLight){const w=i.directional[d];w.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(y),d++}else if(b.isSpotLight){const w=i.spot[p];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(y),w.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(y),p++}else if(b.isRectAreaLight){const w=i.rectArea[g];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(y),o.identity(),r.copy(b.matrixWorld),r.premultiply(y),o.extractRotation(r),w.halfWidth.set(b.width*.5,0,0),w.halfHeight.set(0,b.height*.5,0),w.halfWidth.applyMatrix4(o),w.halfHeight.applyMatrix4(o),g++}else if(b.isPointLight){const w=i.point[f];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(y),f++}else if(b.isHemisphereLight){const w=i.hemi[m];w.direction.setFromMatrixPosition(b.matrixWorld),w.direction.transformDirection(y),m++}}}return{setup:a,setupView:l,state:i}}function oT(t){const e=new Dge(t),n=[],i=[];function s(u){c.camera=u,n.length=0,i.length=0}function r(u){n.push(u)}function o(u){i.push(u)}function a(u){e.setup(n,u)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:c,setupLights:a,setupLightsView:l,pushLight:r,pushShadow:o}}function Fge(t){let e=new WeakMap;function n(s,r=0){const o=e.get(s);let a;return o===void 0?(a=new oT(t),e.set(s,[a])):r>=o.length?(a=new oT(t),o.push(a)):a=o[r],a}function i(){e=new WeakMap}return{get:n,dispose:i}}class Ph extends _i{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=HO,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class gx extends _i{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Bge=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Uge=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function zge(t,e,n){let i=new Rh;const s=new qe,r=new qe,o=new dn,a=new Ph({depthPacking:Sv}),l=new gx,c={},u=n.maxTextureSize,d={[Wr]:is,[is]:Wr,[ds]:ds},f=new Qn({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new qe},radius:{value:4}},vertexShader:Bge,fragmentShader:Uge}),p=f.clone();p.defines.HORIZONTAL_PASS=1;const g=new Yt;g.setAttribute("position",new ln(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new vt(g,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Jw;let v=this.type;this.render=function(x,C,T){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||x.length===0)return;const E=t.getRenderTarget(),M=t.getActiveCubeFace(),R=t.getActiveMipmapLevel(),O=t.state;O.setBlending(qs),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);const F=v!==Pr&&this.type===Pr,V=v===Pr&&this.type!==Pr;for(let U=0,D=x.length;U<D;U++){const I=x[U],N=I.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",I,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;s.copy(N.mapSize);const k=N.getFrameExtents();if(s.multiply(k),r.copy(N.mapSize),(s.x>u||s.y>u)&&(s.x>u&&(r.x=Math.floor(u/k.x),s.x=r.x*k.x,N.mapSize.x=r.x),s.y>u&&(r.y=Math.floor(u/k.y),s.y=r.y*k.y,N.mapSize.y=r.y)),N.map===null||F===!0||V===!0){const G=this.type!==Pr?{minFilter:vi,magFilter:vi}:{};N.map!==null&&N.map.dispose(),N.map=new jn(s.x,s.y,G),N.map.texture.name=I.name+".shadowMap",N.camera.updateProjectionMatrix()}t.setRenderTarget(N.map),t.clear();const B=N.getViewportCount();for(let G=0;G<B;G++){const J=N.getViewport(G);o.set(r.x*J.x,r.y*J.y,r.x*J.z,r.y*J.w),O.viewport(o),N.updateMatrices(I,G),i=N.getFrustum(),w(C,T,N.camera,I,this.type)}N.isPointLightShadow!==!0&&this.type===Pr&&_(N,T),N.needsUpdate=!1}v=this.type,y.needsUpdate=!1,t.setRenderTarget(E,M,R)};function _(x,C){const T=e.update(m);f.defines.VSM_SAMPLES!==x.blurSamples&&(f.defines.VSM_SAMPLES=x.blurSamples,p.defines.VSM_SAMPLES=x.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),x.mapPass===null&&(x.mapPass=new jn(s.x,s.y)),f.uniforms.shadow_pass.value=x.map.texture,f.uniforms.resolution.value=x.mapSize,f.uniforms.radius.value=x.radius,t.setRenderTarget(x.mapPass),t.clear(),t.renderBufferDirect(C,null,T,f,m,null),p.uniforms.shadow_pass.value=x.mapPass.texture,p.uniforms.resolution.value=x.mapSize,p.uniforms.radius.value=x.radius,t.setRenderTarget(x.map),t.clear(),t.renderBufferDirect(C,null,T,p,m,null)}function b(x,C,T,E){let M=null;const R=T.isPointLight===!0?x.customDistanceMaterial:x.customDepthMaterial;if(R!==void 0)M=R;else if(M=T.isPointLight===!0?l:a,t.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const O=M.uuid,F=C.uuid;let V=c[O];V===void 0&&(V={},c[O]=V);let U=V[F];U===void 0&&(U=M.clone(),V[F]=U,C.addEventListener("dispose",S)),M=U}if(M.visible=C.visible,M.wireframe=C.wireframe,E===Pr?M.side=C.shadowSide!==null?C.shadowSide:C.side:M.side=C.shadowSide!==null?C.shadowSide:d[C.side],M.alphaMap=C.alphaMap,M.alphaTest=C.alphaTest,M.map=C.map,M.clipShadows=C.clipShadows,M.clippingPlanes=C.clippingPlanes,M.clipIntersection=C.clipIntersection,M.displacementMap=C.displacementMap,M.displacementScale=C.displacementScale,M.displacementBias=C.displacementBias,M.wireframeLinewidth=C.wireframeLinewidth,M.linewidth=C.linewidth,T.isPointLight===!0&&M.isMeshDistanceMaterial===!0){const O=t.properties.get(M);O.light=T}return M}function w(x,C,T,E,M){if(x.visible===!1)return;if(x.layers.test(C.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&M===Pr)&&(!x.frustumCulled||i.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,x.matrixWorld);const F=e.update(x),V=x.material;if(Array.isArray(V)){const U=F.groups;for(let D=0,I=U.length;D<I;D++){const N=U[D],k=V[N.materialIndex];if(k&&k.visible){const B=b(x,k,E,M);x.onBeforeShadow(t,x,C,T,F,B,N),t.renderBufferDirect(T,null,F,B,x,N),x.onAfterShadow(t,x,C,T,F,B,N)}}}else if(V.visible){const U=b(x,V,E,M);x.onBeforeShadow(t,x,C,T,F,U,null),t.renderBufferDirect(T,null,F,U,x,null),x.onAfterShadow(t,x,C,T,F,U,null)}}const O=x.children;for(let F=0,V=O.length;F<V;F++)w(O[F],C,T,E,M)}function S(x){x.target.removeEventListener("dispose",S);for(const T in c){const E=c[T],M=x.target.uuid;M in E&&(E[M].dispose(),delete E[M])}}}function Vge(t){function e(){let le=!1;const Be=new dn;let We=null;const ot=new dn(0,0,0,0);return{setMask:function(pt){We!==pt&&!le&&(t.colorMask(pt,pt,pt,pt),We=pt)},setLocked:function(pt){le=pt},setClear:function(pt,dt,Bt,Tn,Xn){Xn===!0&&(pt*=Tn,dt*=Tn,Bt*=Tn),Be.set(pt,dt,Bt,Tn),ot.equals(Be)===!1&&(t.clearColor(pt,dt,Bt,Tn),ot.copy(Be))},reset:function(){le=!1,We=null,ot.set(-1,0,0,0)}}}function n(){let le=!1,Be=null,We=null,ot=null;return{setTest:function(pt){pt?te(t.DEPTH_TEST):oe(t.DEPTH_TEST)},setMask:function(pt){Be!==pt&&!le&&(t.depthMask(pt),Be=pt)},setFunc:function(pt){if(We!==pt){switch(pt){case hO:t.depthFunc(t.NEVER);break;case pO:t.depthFunc(t.ALWAYS);break;case mO:t.depthFunc(t.LESS);break;case Gf:t.depthFunc(t.LEQUAL);break;case gO:t.depthFunc(t.EQUAL);break;case vO:t.depthFunc(t.GEQUAL);break;case yO:t.depthFunc(t.GREATER);break;case bO:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}We=pt}},setLocked:function(pt){le=pt},setClear:function(pt){ot!==pt&&(t.clearDepth(pt),ot=pt)},reset:function(){le=!1,Be=null,We=null,ot=null}}}function i(){let le=!1,Be=null,We=null,ot=null,pt=null,dt=null,Bt=null,Tn=null,Xn=null;return{setTest:function(un){le||(un?te(t.STENCIL_TEST):oe(t.STENCIL_TEST))},setMask:function(un){Be!==un&&!le&&(t.stencilMask(un),Be=un)},setFunc:function(un,ri,oi){(We!==un||ot!==ri||pt!==oi)&&(t.stencilFunc(un,ri,oi),We=un,ot=ri,pt=oi)},setOp:function(un,ri,oi){(dt!==un||Bt!==ri||Tn!==oi)&&(t.stencilOp(un,ri,oi),dt=un,Bt=ri,Tn=oi)},setLocked:function(un){le=un},setClear:function(un){Xn!==un&&(t.clearStencil(un),Xn=un)},reset:function(){le=!1,Be=null,We=null,ot=null,pt=null,dt=null,Bt=null,Tn=null,Xn=null}}}const s=new e,r=new n,o=new i,a=new WeakMap,l=new WeakMap;let c={},u={},d=new WeakMap,f=[],p=null,g=!1,m=null,y=null,v=null,_=null,b=null,w=null,S=null,x=new ct(0,0,0),C=0,T=!1,E=null,M=null,R=null,O=null,F=null;const V=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let U=!1,D=0;const I=t.getParameter(t.VERSION);I.indexOf("WebGL")!==-1?(D=parseFloat(/^WebGL (\d)/.exec(I)[1]),U=D>=1):I.indexOf("OpenGL ES")!==-1&&(D=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),U=D>=2);let N=null,k={};const B=t.getParameter(t.SCISSOR_BOX),G=t.getParameter(t.VIEWPORT),J=new dn().fromArray(B),re=new dn().fromArray(G);function ee(le,Be,We,ot){const pt=new Uint8Array(4),dt=t.createTexture();t.bindTexture(le,dt),t.texParameteri(le,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(le,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Bt=0;Bt<We;Bt++)le===t.TEXTURE_3D||le===t.TEXTURE_2D_ARRAY?t.texImage3D(Be,0,t.RGBA,1,1,ot,0,t.RGBA,t.UNSIGNED_BYTE,pt):t.texImage2D(Be+Bt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,pt);return dt}const ye={};ye[t.TEXTURE_2D]=ee(t.TEXTURE_2D,t.TEXTURE_2D,1),ye[t.TEXTURE_CUBE_MAP]=ee(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ye[t.TEXTURE_2D_ARRAY]=ee(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ye[t.TEXTURE_3D]=ee(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),r.setClear(1),o.setClear(0),te(t.DEPTH_TEST),r.setFunc(Gf),ue(!1),ve(nb),te(t.CULL_FACE),K(qs);function te(le){c[le]!==!0&&(t.enable(le),c[le]=!0)}function oe(le){c[le]!==!1&&(t.disable(le),c[le]=!1)}function de(le,Be){return u[le]!==Be?(t.bindFramebuffer(le,Be),u[le]=Be,le===t.DRAW_FRAMEBUFFER&&(u[t.FRAMEBUFFER]=Be),le===t.FRAMEBUFFER&&(u[t.DRAW_FRAMEBUFFER]=Be),!0):!1}function Ne(le,Be){let We=f,ot=!1;if(le){We=d.get(Be),We===void 0&&(We=[],d.set(Be,We));const pt=le.textures;if(We.length!==pt.length||We[0]!==t.COLOR_ATTACHMENT0){for(let dt=0,Bt=pt.length;dt<Bt;dt++)We[dt]=t.COLOR_ATTACHMENT0+dt;We.length=pt.length,ot=!0}}else We[0]!==t.BACK&&(We[0]=t.BACK,ot=!0);ot&&t.drawBuffers(We)}function Q(le){return p!==le?(t.useProgram(le),p=le,!0):!1}const Te={[la]:t.FUNC_ADD,[jk]:t.FUNC_SUBTRACT,[Zk]:t.FUNC_REVERSE_SUBTRACT};Te[Jk]=t.MIN,Te[Qk]=t.MAX;const me={[eO]:t.ZERO,[tO]:t.ONE,[nO]:t.SRC_COLOR,[Sg]:t.SRC_ALPHA,[lO]:t.SRC_ALPHA_SATURATE,[oO]:t.DST_COLOR,[sO]:t.DST_ALPHA,[iO]:t.ONE_MINUS_SRC_COLOR,[Mg]:t.ONE_MINUS_SRC_ALPHA,[aO]:t.ONE_MINUS_DST_COLOR,[rO]:t.ONE_MINUS_DST_ALPHA,[cO]:t.CONSTANT_COLOR,[uO]:t.ONE_MINUS_CONSTANT_COLOR,[dO]:t.CONSTANT_ALPHA,[fO]:t.ONE_MINUS_CONSTANT_ALPHA};function K(le,Be,We,ot,pt,dt,Bt,Tn,Xn,un){if(le===qs){g===!0&&(oe(t.BLEND),g=!1);return}if(g===!1&&(te(t.BLEND),g=!0),le!==qk){if(le!==m||un!==T){if((y!==la||b!==la)&&(t.blendEquation(t.FUNC_ADD),y=la,b=la),un)switch(le){case zl:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case xg:t.blendFunc(t.ONE,t.ONE);break;case ib:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case sb:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case zl:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case xg:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case ib:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case sb:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}v=null,_=null,w=null,S=null,x.set(0,0,0),C=0,m=le,T=un}return}pt=pt||Be,dt=dt||We,Bt=Bt||ot,(Be!==y||pt!==b)&&(t.blendEquationSeparate(Te[Be],Te[pt]),y=Be,b=pt),(We!==v||ot!==_||dt!==w||Bt!==S)&&(t.blendFuncSeparate(me[We],me[ot],me[dt],me[Bt]),v=We,_=ot,w=dt,S=Bt),(Tn.equals(x)===!1||Xn!==C)&&(t.blendColor(Tn.r,Tn.g,Tn.b,Xn),x.copy(Tn),C=Xn),m=le,T=!1}function q(le,Be){le.side===ds?oe(t.CULL_FACE):te(t.CULL_FACE);let We=le.side===is;Be&&(We=!We),ue(We),le.blending===zl&&le.transparent===!1?K(qs):K(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.blendColor,le.blendAlpha,le.premultipliedAlpha),r.setFunc(le.depthFunc),r.setTest(le.depthTest),r.setMask(le.depthWrite),s.setMask(le.colorWrite);const ot=le.stencilWrite;o.setTest(ot),ot&&(o.setMask(le.stencilWriteMask),o.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),o.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),xe(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?te(t.SAMPLE_ALPHA_TO_COVERAGE):oe(t.SAMPLE_ALPHA_TO_COVERAGE)}function ue(le){E!==le&&(le?t.frontFace(t.CW):t.frontFace(t.CCW),E=le)}function ve(le){le!==Kk?(te(t.CULL_FACE),le!==M&&(le===nb?t.cullFace(t.BACK):le===Yk?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):oe(t.CULL_FACE),M=le}function he(le){le!==R&&(U&&t.lineWidth(le),R=le)}function xe(le,Be,We){le?(te(t.POLYGON_OFFSET_FILL),(O!==Be||F!==We)&&(t.polygonOffset(Be,We),O=Be,F=We)):oe(t.POLYGON_OFFSET_FILL)}function W(le){le?te(t.SCISSOR_TEST):oe(t.SCISSOR_TEST)}function $(le){le===void 0&&(le=t.TEXTURE0+V-1),N!==le&&(t.activeTexture(le),N=le)}function ae(le,Be,We){We===void 0&&(N===null?We=t.TEXTURE0+V-1:We=N);let ot=k[We];ot===void 0&&(ot={type:void 0,texture:void 0},k[We]=ot),(ot.type!==le||ot.texture!==Be)&&(N!==We&&(t.activeTexture(We),N=We),t.bindTexture(le,Be||ye[le]),ot.type=le,ot.texture=Be)}function se(){const le=k[N];le!==void 0&&le.type!==void 0&&(t.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function Ee(){try{t.compressedTexImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Re(){try{t.compressedTexImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function be(){try{t.texSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Pe(){try{t.texSubImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Fe(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function it(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ye(){try{t.texStorage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function He(){try{t.texStorage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Se(){try{t.texImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Le(){try{t.texImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function we(le){J.equals(le)===!1&&(t.scissor(le.x,le.y,le.z,le.w),J.copy(le))}function pe(le){re.equals(le)===!1&&(t.viewport(le.x,le.y,le.z,le.w),re.copy(le))}function Ae(le,Be){let We=l.get(Be);We===void 0&&(We=new WeakMap,l.set(Be,We));let ot=We.get(le);ot===void 0&&(ot=t.getUniformBlockIndex(Be,le.name),We.set(le,ot))}function je(le,Be){const ot=l.get(Be).get(le);a.get(Be)!==ot&&(t.uniformBlockBinding(Be,ot,le.__bindingPointIndex),a.set(Be,ot))}function fe(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},N=null,k={},u={},d=new WeakMap,f=[],p=null,g=!1,m=null,y=null,v=null,_=null,b=null,w=null,S=null,x=new ct(0,0,0),C=0,T=!1,E=null,M=null,R=null,O=null,F=null,J.set(0,0,t.canvas.width,t.canvas.height),re.set(0,0,t.canvas.width,t.canvas.height),s.reset(),r.reset(),o.reset()}return{buffers:{color:s,depth:r,stencil:o},enable:te,disable:oe,bindFramebuffer:de,drawBuffers:Ne,useProgram:Q,setBlending:K,setMaterial:q,setFlipSided:ue,setCullFace:ve,setLineWidth:he,setPolygonOffset:xe,setScissorTest:W,activeTexture:$,bindTexture:ae,unbindTexture:se,compressedTexImage2D:Ee,compressedTexImage3D:Re,texImage2D:Se,texImage3D:Le,updateUBOMapping:Ae,uniformBlockBinding:je,texStorage2D:Ye,texStorage3D:He,texSubImage2D:be,texSubImage3D:Pe,compressedTexSubImage2D:Fe,compressedTexSubImage3D:it,scissor:we,viewport:pe,reset:fe}}function $ge(t,e,n,i,s,r,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new qe,u=new WeakMap;let d;const f=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(W,$){return p?new OffscreenCanvas(W,$):eh("canvas")}function m(W,$,ae){let se=1;const Ee=xe(W);if((Ee.width>ae||Ee.height>ae)&&(se=ae/Math.max(Ee.width,Ee.height)),se<1)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap||typeof VideoFrame<"u"&&W instanceof VideoFrame){const Re=Math.floor(se*Ee.width),be=Math.floor(se*Ee.height);d===void 0&&(d=g(Re,be));const Pe=$?g(Re,be):d;return Pe.width=Re,Pe.height=be,Pe.getContext("2d").drawImage(W,0,0,Re,be),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ee.width+"x"+Ee.height+") to ("+Re+"x"+be+")."),Pe}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ee.width+"x"+Ee.height+")."),W;return W}function y(W){return W.generateMipmaps&&W.minFilter!==vi&&W.minFilter!==$n}function v(W){t.generateMipmap(W)}function _(W,$,ae,se,Ee=!1){if(W!==null){if(t[W]!==void 0)return t[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let Re=$;if($===t.RED&&(ae===t.FLOAT&&(Re=t.R32F),ae===t.HALF_FLOAT&&(Re=t.R16F),ae===t.UNSIGNED_BYTE&&(Re=t.R8)),$===t.RED_INTEGER&&(ae===t.UNSIGNED_BYTE&&(Re=t.R8UI),ae===t.UNSIGNED_SHORT&&(Re=t.R16UI),ae===t.UNSIGNED_INT&&(Re=t.R32UI),ae===t.BYTE&&(Re=t.R8I),ae===t.SHORT&&(Re=t.R16I),ae===t.INT&&(Re=t.R32I)),$===t.RG&&(ae===t.FLOAT&&(Re=t.RG32F),ae===t.HALF_FLOAT&&(Re=t.RG16F),ae===t.UNSIGNED_BYTE&&(Re=t.RG8)),$===t.RG_INTEGER&&(ae===t.UNSIGNED_BYTE&&(Re=t.RG8UI),ae===t.UNSIGNED_SHORT&&(Re=t.RG16UI),ae===t.UNSIGNED_INT&&(Re=t.RG32UI),ae===t.BYTE&&(Re=t.RG8I),ae===t.SHORT&&(Re=t.RG16I),ae===t.INT&&(Re=t.RG32I)),$===t.RGB&&ae===t.UNSIGNED_INT_5_9_9_9_REV&&(Re=t.RGB9_E5),$===t.RGBA){const be=Ee?qf:gn.getTransfer(se);ae===t.FLOAT&&(Re=t.RGBA32F),ae===t.HALF_FLOAT&&(Re=t.RGBA16F),ae===t.UNSIGNED_BYTE&&(Re=be===In?t.SRGB8_ALPHA8:t.RGBA8),ae===t.UNSIGNED_SHORT_4_4_4_4&&(Re=t.RGBA4),ae===t.UNSIGNED_SHORT_5_5_5_1&&(Re=t.RGB5_A1)}return(Re===t.R16F||Re===t.R32F||Re===t.RG16F||Re===t.RG32F||Re===t.RGBA16F||Re===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Re}function b(W,$){return y(W)===!0||W.isFramebufferTexture&&W.minFilter!==vi&&W.minFilter!==$n?Math.log2(Math.max($.width,$.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?$.mipmaps.length:1}function w(W){const $=W.target;$.removeEventListener("dispose",w),x($),$.isVideoTexture&&u.delete($)}function S(W){const $=W.target;$.removeEventListener("dispose",S),T($)}function x(W){const $=i.get(W);if($.__webglInit===void 0)return;const ae=W.source,se=f.get(ae);if(se){const Ee=se[$.__cacheKey];Ee.usedTimes--,Ee.usedTimes===0&&C(W),Object.keys(se).length===0&&f.delete(ae)}i.remove(W)}function C(W){const $=i.get(W);t.deleteTexture($.__webglTexture);const ae=W.source,se=f.get(ae);delete se[$.__cacheKey],o.memory.textures--}function T(W){const $=i.get(W);if(W.depthTexture&&W.depthTexture.dispose(),W.isWebGLCubeRenderTarget)for(let se=0;se<6;se++){if(Array.isArray($.__webglFramebuffer[se]))for(let Ee=0;Ee<$.__webglFramebuffer[se].length;Ee++)t.deleteFramebuffer($.__webglFramebuffer[se][Ee]);else t.deleteFramebuffer($.__webglFramebuffer[se]);$.__webglDepthbuffer&&t.deleteRenderbuffer($.__webglDepthbuffer[se])}else{if(Array.isArray($.__webglFramebuffer))for(let se=0;se<$.__webglFramebuffer.length;se++)t.deleteFramebuffer($.__webglFramebuffer[se]);else t.deleteFramebuffer($.__webglFramebuffer);if($.__webglDepthbuffer&&t.deleteRenderbuffer($.__webglDepthbuffer),$.__webglMultisampledFramebuffer&&t.deleteFramebuffer($.__webglMultisampledFramebuffer),$.__webglColorRenderbuffer)for(let se=0;se<$.__webglColorRenderbuffer.length;se++)$.__webglColorRenderbuffer[se]&&t.deleteRenderbuffer($.__webglColorRenderbuffer[se]);$.__webglDepthRenderbuffer&&t.deleteRenderbuffer($.__webglDepthRenderbuffer)}const ae=W.textures;for(let se=0,Ee=ae.length;se<Ee;se++){const Re=i.get(ae[se]);Re.__webglTexture&&(t.deleteTexture(Re.__webglTexture),o.memory.textures--),i.remove(ae[se])}i.remove(W)}let E=0;function M(){E=0}function R(){const W=E;return W>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+s.maxTextures),E+=1,W}function O(W){const $=[];return $.push(W.wrapS),$.push(W.wrapT),$.push(W.wrapR||0),$.push(W.magFilter),$.push(W.minFilter),$.push(W.anisotropy),$.push(W.internalFormat),$.push(W.format),$.push(W.type),$.push(W.generateMipmaps),$.push(W.premultiplyAlpha),$.push(W.flipY),$.push(W.unpackAlignment),$.push(W.colorSpace),$.join()}function F(W,$){const ae=i.get(W);if(W.isVideoTexture&&ve(W),W.isRenderTargetTexture===!1&&W.version>0&&ae.__version!==W.version){const se=W.image;if(se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{J(ae,W,$);return}}n.bindTexture(t.TEXTURE_2D,ae.__webglTexture,t.TEXTURE0+$)}function V(W,$){const ae=i.get(W);if(W.version>0&&ae.__version!==W.version){J(ae,W,$);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ae.__webglTexture,t.TEXTURE0+$)}function U(W,$){const ae=i.get(W);if(W.version>0&&ae.__version!==W.version){J(ae,W,$);return}n.bindTexture(t.TEXTURE_3D,ae.__webglTexture,t.TEXTURE0+$)}function D(W,$){const ae=i.get(W);if(W.version>0&&ae.__version!==W.version){re(ae,W,$);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ae.__webglTexture,t.TEXTURE0+$)}const I={[Aa]:t.REPEAT,[Es]:t.CLAMP_TO_EDGE,[Uu]:t.MIRRORED_REPEAT},N={[vi]:t.NEAREST,[wv]:t.NEAREST_MIPMAP_NEAREST,[Al]:t.NEAREST_MIPMAP_LINEAR,[$n]:t.LINEAR,[mu]:t.LINEAR_MIPMAP_NEAREST,[Ws]:t.LINEAR_MIPMAP_LINEAR},k={[GO]:t.NEVER,[ZO]:t.ALWAYS,[KO]:t.LESS,[cx]:t.LEQUAL,[YO]:t.EQUAL,[jO]:t.GEQUAL,[XO]:t.GREATER,[qO]:t.NOTEQUAL};function B(W,$){if($.type===Gs&&e.has("OES_texture_float_linear")===!1&&($.magFilter===$n||$.magFilter===mu||$.magFilter===Al||$.magFilter===Ws||$.minFilter===$n||$.minFilter===mu||$.minFilter===Al||$.minFilter===Ws)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(W,t.TEXTURE_WRAP_S,I[$.wrapS]),t.texParameteri(W,t.TEXTURE_WRAP_T,I[$.wrapT]),(W===t.TEXTURE_3D||W===t.TEXTURE_2D_ARRAY)&&t.texParameteri(W,t.TEXTURE_WRAP_R,I[$.wrapR]),t.texParameteri(W,t.TEXTURE_MAG_FILTER,N[$.magFilter]),t.texParameteri(W,t.TEXTURE_MIN_FILTER,N[$.minFilter]),$.compareFunction&&(t.texParameteri(W,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(W,t.TEXTURE_COMPARE_FUNC,k[$.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if($.magFilter===vi||$.minFilter!==Al&&$.minFilter!==Ws||$.type===Gs&&e.has("OES_texture_float_linear")===!1)return;if($.anisotropy>1||i.get($).__currentAnisotropy){const ae=e.get("EXT_texture_filter_anisotropic");t.texParameterf(W,ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($.anisotropy,s.getMaxAnisotropy())),i.get($).__currentAnisotropy=$.anisotropy}}}function G(W,$){let ae=!1;W.__webglInit===void 0&&(W.__webglInit=!0,$.addEventListener("dispose",w));const se=$.source;let Ee=f.get(se);Ee===void 0&&(Ee={},f.set(se,Ee));const Re=O($);if(Re!==W.__cacheKey){Ee[Re]===void 0&&(Ee[Re]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ae=!0),Ee[Re].usedTimes++;const be=Ee[W.__cacheKey];be!==void 0&&(Ee[W.__cacheKey].usedTimes--,be.usedTimes===0&&C($)),W.__cacheKey=Re,W.__webglTexture=Ee[Re].texture}return ae}function J(W,$,ae){let se=t.TEXTURE_2D;($.isDataArrayTexture||$.isCompressedArrayTexture)&&(se=t.TEXTURE_2D_ARRAY),$.isData3DTexture&&(se=t.TEXTURE_3D);const Ee=G(W,$),Re=$.source;n.bindTexture(se,W.__webglTexture,t.TEXTURE0+ae);const be=i.get(Re);if(Re.version!==be.__version||Ee===!0){n.activeTexture(t.TEXTURE0+ae);const Pe=gn.getPrimaries(gn.workingColorSpace),Fe=$.colorSpace===oo?null:gn.getPrimaries($.colorSpace),it=$.colorSpace===oo||Pe===Fe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,it);let Ye=m($.image,!1,s.maxTextureSize);Ye=he($,Ye);const He=r.convert($.format,$.colorSpace),Se=r.convert($.type);let Le=_($.internalFormat,He,Se,$.colorSpace,$.isVideoTexture);B(se,$);let we;const pe=$.mipmaps,Ae=$.isVideoTexture!==!0,je=be.__version===void 0||Ee===!0,fe=Re.dataReady,le=b($,Ye);if($.isDepthTexture)Le=t.DEPTH_COMPONENT16,$.type===Gs?Le=t.DEPTH_COMPONENT32F:$.type===Ql?Le=t.DEPTH_COMPONENT24:$.type===rd&&(Le=t.DEPTH24_STENCIL8),je&&(Ae?n.texStorage2D(t.TEXTURE_2D,1,Le,Ye.width,Ye.height):n.texImage2D(t.TEXTURE_2D,0,Le,Ye.width,Ye.height,0,He,Se,null));else if($.isDataTexture)if(pe.length>0){Ae&&je&&n.texStorage2D(t.TEXTURE_2D,le,Le,pe[0].width,pe[0].height);for(let Be=0,We=pe.length;Be<We;Be++)we=pe[Be],Ae?fe&&n.texSubImage2D(t.TEXTURE_2D,Be,0,0,we.width,we.height,He,Se,we.data):n.texImage2D(t.TEXTURE_2D,Be,Le,we.width,we.height,0,He,Se,we.data);$.generateMipmaps=!1}else Ae?(je&&n.texStorage2D(t.TEXTURE_2D,le,Le,Ye.width,Ye.height),fe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ye.width,Ye.height,He,Se,Ye.data)):n.texImage2D(t.TEXTURE_2D,0,Le,Ye.width,Ye.height,0,He,Se,Ye.data);else if($.isCompressedTexture)if($.isCompressedArrayTexture){Ae&&je&&n.texStorage3D(t.TEXTURE_2D_ARRAY,le,Le,pe[0].width,pe[0].height,Ye.depth);for(let Be=0,We=pe.length;Be<We;Be++)we=pe[Be],$.format!==hs?He!==null?Ae?fe&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Be,0,0,0,we.width,we.height,Ye.depth,He,we.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Be,Le,we.width,we.height,Ye.depth,0,we.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ae?fe&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Be,0,0,0,we.width,we.height,Ye.depth,He,Se,we.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Be,Le,we.width,we.height,Ye.depth,0,He,Se,we.data)}else{Ae&&je&&n.texStorage2D(t.TEXTURE_2D,le,Le,pe[0].width,pe[0].height);for(let Be=0,We=pe.length;Be<We;Be++)we=pe[Be],$.format!==hs?He!==null?Ae?fe&&n.compressedTexSubImage2D(t.TEXTURE_2D,Be,0,0,we.width,we.height,He,we.data):n.compressedTexImage2D(t.TEXTURE_2D,Be,Le,we.width,we.height,0,we.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ae?fe&&n.texSubImage2D(t.TEXTURE_2D,Be,0,0,we.width,we.height,He,Se,we.data):n.texImage2D(t.TEXTURE_2D,Be,Le,we.width,we.height,0,He,Se,we.data)}else if($.isDataArrayTexture)Ae?(je&&n.texStorage3D(t.TEXTURE_2D_ARRAY,le,Le,Ye.width,Ye.height,Ye.depth),fe&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ye.width,Ye.height,Ye.depth,He,Se,Ye.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Le,Ye.width,Ye.height,Ye.depth,0,He,Se,Ye.data);else if($.isData3DTexture)Ae?(je&&n.texStorage3D(t.TEXTURE_3D,le,Le,Ye.width,Ye.height,Ye.depth),fe&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ye.width,Ye.height,Ye.depth,He,Se,Ye.data)):n.texImage3D(t.TEXTURE_3D,0,Le,Ye.width,Ye.height,Ye.depth,0,He,Se,Ye.data);else if($.isFramebufferTexture){if(je)if(Ae)n.texStorage2D(t.TEXTURE_2D,le,Le,Ye.width,Ye.height);else{let Be=Ye.width,We=Ye.height;for(let ot=0;ot<le;ot++)n.texImage2D(t.TEXTURE_2D,ot,Le,Be,We,0,He,Se,null),Be>>=1,We>>=1}}else if(pe.length>0){if(Ae&&je){const Be=xe(pe[0]);n.texStorage2D(t.TEXTURE_2D,le,Le,Be.width,Be.height)}for(let Be=0,We=pe.length;Be<We;Be++)we=pe[Be],Ae?fe&&n.texSubImage2D(t.TEXTURE_2D,Be,0,0,He,Se,we):n.texImage2D(t.TEXTURE_2D,Be,Le,He,Se,we);$.generateMipmaps=!1}else if(Ae){if(je){const Be=xe(Ye);n.texStorage2D(t.TEXTURE_2D,le,Le,Be.width,Be.height)}fe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,He,Se,Ye)}else n.texImage2D(t.TEXTURE_2D,0,Le,He,Se,Ye);y($)&&v(se),be.__version=Re.version,$.onUpdate&&$.onUpdate($)}W.__version=$.version}function re(W,$,ae){if($.image.length!==6)return;const se=G(W,$),Ee=$.source;n.bindTexture(t.TEXTURE_CUBE_MAP,W.__webglTexture,t.TEXTURE0+ae);const Re=i.get(Ee);if(Ee.version!==Re.__version||se===!0){n.activeTexture(t.TEXTURE0+ae);const be=gn.getPrimaries(gn.workingColorSpace),Pe=$.colorSpace===oo?null:gn.getPrimaries($.colorSpace),Fe=$.colorSpace===oo||be===Pe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Fe);const it=$.isCompressedTexture||$.image[0].isCompressedTexture,Ye=$.image[0]&&$.image[0].isDataTexture,He=[];for(let We=0;We<6;We++)!it&&!Ye?He[We]=m($.image[We],!0,s.maxCubemapSize):He[We]=Ye?$.image[We].image:$.image[We],He[We]=he($,He[We]);const Se=He[0],Le=r.convert($.format,$.colorSpace),we=r.convert($.type),pe=_($.internalFormat,Le,we,$.colorSpace),Ae=$.isVideoTexture!==!0,je=Re.__version===void 0||se===!0,fe=Ee.dataReady;let le=b($,Se);B(t.TEXTURE_CUBE_MAP,$);let Be;if(it){Ae&&je&&n.texStorage2D(t.TEXTURE_CUBE_MAP,le,pe,Se.width,Se.height);for(let We=0;We<6;We++){Be=He[We].mipmaps;for(let ot=0;ot<Be.length;ot++){const pt=Be[ot];$.format!==hs?Le!==null?Ae?fe&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+We,ot,0,0,pt.width,pt.height,Le,pt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+We,ot,pe,pt.width,pt.height,0,pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ae?fe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+We,ot,0,0,pt.width,pt.height,Le,we,pt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+We,ot,pe,pt.width,pt.height,0,Le,we,pt.data)}}}else{if(Be=$.mipmaps,Ae&&je){Be.length>0&&le++;const We=xe(He[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,le,pe,We.width,We.height)}for(let We=0;We<6;We++)if(Ye){Ae?fe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,0,0,He[We].width,He[We].height,Le,we,He[We].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,pe,He[We].width,He[We].height,0,Le,we,He[We].data);for(let ot=0;ot<Be.length;ot++){const dt=Be[ot].image[We].image;Ae?fe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+We,ot+1,0,0,dt.width,dt.height,Le,we,dt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+We,ot+1,pe,dt.width,dt.height,0,Le,we,dt.data)}}else{Ae?fe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,0,0,Le,we,He[We]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,pe,Le,we,He[We]);for(let ot=0;ot<Be.length;ot++){const pt=Be[ot];Ae?fe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+We,ot+1,0,0,Le,we,pt.image[We]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+We,ot+1,pe,Le,we,pt.image[We])}}}y($)&&v(t.TEXTURE_CUBE_MAP),Re.__version=Ee.version,$.onUpdate&&$.onUpdate($)}W.__version=$.version}function ee(W,$,ae,se,Ee,Re){const be=r.convert(ae.format,ae.colorSpace),Pe=r.convert(ae.type),Fe=_(ae.internalFormat,be,Pe,ae.colorSpace);if(!i.get($).__hasExternalTextures){const Ye=Math.max(1,$.width>>Re),He=Math.max(1,$.height>>Re);Ee===t.TEXTURE_3D||Ee===t.TEXTURE_2D_ARRAY?n.texImage3D(Ee,Re,Fe,Ye,He,$.depth,0,be,Pe,null):n.texImage2D(Ee,Re,Fe,Ye,He,0,be,Pe,null)}n.bindFramebuffer(t.FRAMEBUFFER,W),ue($)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,se,Ee,i.get(ae).__webglTexture,0,q($)):(Ee===t.TEXTURE_2D||Ee>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ee<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,se,Ee,i.get(ae).__webglTexture,Re),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ye(W,$,ae){if(t.bindRenderbuffer(t.RENDERBUFFER,W),$.depthBuffer&&!$.stencilBuffer){let se=t.DEPTH_COMPONENT24;if(ae||ue($)){const Ee=$.depthTexture;Ee&&Ee.isDepthTexture&&(Ee.type===Gs?se=t.DEPTH_COMPONENT32F:Ee.type===Ql&&(se=t.DEPTH_COMPONENT24));const Re=q($);ue($)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Re,se,$.width,$.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Re,se,$.width,$.height)}else t.renderbufferStorage(t.RENDERBUFFER,se,$.width,$.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,W)}else if($.depthBuffer&&$.stencilBuffer){const se=q($);ae&&ue($)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,se,t.DEPTH24_STENCIL8,$.width,$.height):ue($)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,se,t.DEPTH24_STENCIL8,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,$.width,$.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,W)}else{const se=$.textures;for(let Ee=0;Ee<se.length;Ee++){const Re=se[Ee],be=r.convert(Re.format,Re.colorSpace),Pe=r.convert(Re.type),Fe=_(Re.internalFormat,be,Pe,Re.colorSpace),it=q($);ae&&ue($)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,it,Fe,$.width,$.height):ue($)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,it,Fe,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,Fe,$.width,$.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function te(W,$){if($&&$.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,W),!($.depthTexture&&$.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get($.depthTexture).__webglTexture||$.depthTexture.image.width!==$.width||$.depthTexture.image.height!==$.height)&&($.depthTexture.image.width=$.width,$.depthTexture.image.height=$.height,$.depthTexture.needsUpdate=!0),F($.depthTexture,0);const se=i.get($.depthTexture).__webglTexture,Ee=q($);if($.depthTexture.format===Vl)ue($)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,se,0,Ee):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,se,0);else if($.depthTexture.format===zu)ue($)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,se,0,Ee):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,se,0);else throw new Error("Unknown depthTexture format")}function oe(W){const $=i.get(W),ae=W.isWebGLCubeRenderTarget===!0;if(W.depthTexture&&!$.__autoAllocateDepthBuffer){if(ae)throw new Error("target.depthTexture not supported in Cube render targets");te($.__webglFramebuffer,W)}else if(ae){$.__webglDepthbuffer=[];for(let se=0;se<6;se++)n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer[se]),$.__webglDepthbuffer[se]=t.createRenderbuffer(),ye($.__webglDepthbuffer[se],W,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer),$.__webglDepthbuffer=t.createRenderbuffer(),ye($.__webglDepthbuffer,W,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function de(W,$,ae){const se=i.get(W);$!==void 0&&ee(se.__webglFramebuffer,W,W.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ae!==void 0&&oe(W)}function Ne(W){const $=W.texture,ae=i.get(W),se=i.get($);W.addEventListener("dispose",S);const Ee=W.textures,Re=W.isWebGLCubeRenderTarget===!0,be=Ee.length>1;if(be||(se.__webglTexture===void 0&&(se.__webglTexture=t.createTexture()),se.__version=$.version,o.memory.textures++),Re){ae.__webglFramebuffer=[];for(let Pe=0;Pe<6;Pe++)if($.mipmaps&&$.mipmaps.length>0){ae.__webglFramebuffer[Pe]=[];for(let Fe=0;Fe<$.mipmaps.length;Fe++)ae.__webglFramebuffer[Pe][Fe]=t.createFramebuffer()}else ae.__webglFramebuffer[Pe]=t.createFramebuffer()}else{if($.mipmaps&&$.mipmaps.length>0){ae.__webglFramebuffer=[];for(let Pe=0;Pe<$.mipmaps.length;Pe++)ae.__webglFramebuffer[Pe]=t.createFramebuffer()}else ae.__webglFramebuffer=t.createFramebuffer();if(be)for(let Pe=0,Fe=Ee.length;Pe<Fe;Pe++){const it=i.get(Ee[Pe]);it.__webglTexture===void 0&&(it.__webglTexture=t.createTexture(),o.memory.textures++)}if(W.samples>0&&ue(W)===!1){ae.__webglMultisampledFramebuffer=t.createFramebuffer(),ae.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ae.__webglMultisampledFramebuffer);for(let Pe=0;Pe<Ee.length;Pe++){const Fe=Ee[Pe];ae.__webglColorRenderbuffer[Pe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ae.__webglColorRenderbuffer[Pe]);const it=r.convert(Fe.format,Fe.colorSpace),Ye=r.convert(Fe.type),He=_(Fe.internalFormat,it,Ye,Fe.colorSpace,W.isXRRenderTarget===!0),Se=q(W);t.renderbufferStorageMultisample(t.RENDERBUFFER,Se,He,W.width,W.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Pe,t.RENDERBUFFER,ae.__webglColorRenderbuffer[Pe])}t.bindRenderbuffer(t.RENDERBUFFER,null),W.depthBuffer&&(ae.__webglDepthRenderbuffer=t.createRenderbuffer(),ye(ae.__webglDepthRenderbuffer,W,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Re){n.bindTexture(t.TEXTURE_CUBE_MAP,se.__webglTexture),B(t.TEXTURE_CUBE_MAP,$);for(let Pe=0;Pe<6;Pe++)if($.mipmaps&&$.mipmaps.length>0)for(let Fe=0;Fe<$.mipmaps.length;Fe++)ee(ae.__webglFramebuffer[Pe][Fe],W,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Fe);else ee(ae.__webglFramebuffer[Pe],W,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0);y($)&&v(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(be){for(let Pe=0,Fe=Ee.length;Pe<Fe;Pe++){const it=Ee[Pe],Ye=i.get(it);n.bindTexture(t.TEXTURE_2D,Ye.__webglTexture),B(t.TEXTURE_2D,it),ee(ae.__webglFramebuffer,W,it,t.COLOR_ATTACHMENT0+Pe,t.TEXTURE_2D,0),y(it)&&v(t.TEXTURE_2D)}n.unbindTexture()}else{let Pe=t.TEXTURE_2D;if((W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(Pe=W.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Pe,se.__webglTexture),B(Pe,$),$.mipmaps&&$.mipmaps.length>0)for(let Fe=0;Fe<$.mipmaps.length;Fe++)ee(ae.__webglFramebuffer[Fe],W,$,t.COLOR_ATTACHMENT0,Pe,Fe);else ee(ae.__webglFramebuffer,W,$,t.COLOR_ATTACHMENT0,Pe,0);y($)&&v(Pe),n.unbindTexture()}W.depthBuffer&&oe(W)}function Q(W){const $=W.textures;for(let ae=0,se=$.length;ae<se;ae++){const Ee=$[ae];if(y(Ee)){const Re=W.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,be=i.get(Ee).__webglTexture;n.bindTexture(Re,be),v(Re),n.unbindTexture()}}}const Te=[],me=[];function K(W){if(W.samples>0){if(ue(W)===!1){const $=W.textures,ae=W.width,se=W.height;let Ee=t.COLOR_BUFFER_BIT;const Re=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,be=i.get(W),Pe=$.length>1;if(Pe)for(let Fe=0;Fe<$.length;Fe++)n.bindFramebuffer(t.FRAMEBUFFER,be.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Fe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,be.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Fe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,be.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,be.__webglFramebuffer);for(let Fe=0;Fe<$.length;Fe++){if(W.resolveDepthBuffer&&(W.depthBuffer&&(Ee|=t.DEPTH_BUFFER_BIT),W.stencilBuffer&&W.resolveStencilBuffer&&(Ee|=t.STENCIL_BUFFER_BIT)),Pe){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,be.__webglColorRenderbuffer[Fe]);const it=i.get($[Fe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,it,0)}t.blitFramebuffer(0,0,ae,se,0,0,ae,se,Ee,t.NEAREST),l===!0&&(Te.length=0,me.length=0,Te.push(t.COLOR_ATTACHMENT0+Fe),W.depthBuffer&&W.resolveDepthBuffer===!1&&(Te.push(Re),me.push(Re),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,me)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Te))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Pe)for(let Fe=0;Fe<$.length;Fe++){n.bindFramebuffer(t.FRAMEBUFFER,be.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Fe,t.RENDERBUFFER,be.__webglColorRenderbuffer[Fe]);const it=i.get($[Fe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,be.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Fe,t.TEXTURE_2D,it,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,be.__webglMultisampledFramebuffer)}else if(W.depthBuffer&&W.resolveDepthBuffer===!1&&l){const $=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[$])}}}function q(W){return Math.min(s.maxSamples,W.samples)}function ue(W){const $=i.get(W);return W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&$.__useRenderToTexture!==!1}function ve(W){const $=o.render.frame;u.get(W)!==$&&(u.set(W,$),W.update())}function he(W,$){const ae=W.colorSpace,se=W.format,Ee=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||ae!==xi&&ae!==oo&&(gn.getTransfer(ae)===In?(se!==hs||Ee!==xo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ae)),$}function xe(W){return typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement?(c.width=W.naturalWidth||W.width,c.height=W.naturalHeight||W.height):typeof VideoFrame<"u"&&W instanceof VideoFrame?(c.width=W.displayWidth,c.height=W.displayHeight):(c.width=W.width,c.height=W.height),c}this.allocateTextureUnit=R,this.resetTextureUnits=M,this.setTexture2D=F,this.setTexture2DArray=V,this.setTexture3D=U,this.setTextureCube=D,this.rebindTextures=de,this.setupRenderTarget=Ne,this.updateRenderTargetMipmap=Q,this.updateMultisampleRenderTarget=K,this.setupDepthRenderbuffer=oe,this.setupFrameBufferTexture=ee,this.useMultisampledRTT=ue}function pL(t,e){function n(i,s=oo){let r;const o=gn.getTransfer(s);if(i===xo)return t.UNSIGNED_BYTE;if(i===tx)return t.UNSIGNED_SHORT_4_4_4_4;if(i===nx)return t.UNSIGNED_SHORT_5_5_5_1;if(i===kO)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===PO)return t.BYTE;if(i===IO)return t.SHORT;if(i===Qw)return t.UNSIGNED_SHORT;if(i===ex)return t.INT;if(i===Ql)return t.UNSIGNED_INT;if(i===Gs)return t.FLOAT;if(i===zs)return t.HALF_FLOAT;if(i===OO)return t.ALPHA;if(i===LO)return t.RGB;if(i===hs)return t.RGBA;if(i===NO)return t.LUMINANCE;if(i===DO)return t.LUMINANCE_ALPHA;if(i===Vl)return t.DEPTH_COMPONENT;if(i===zu)return t.DEPTH_STENCIL;if(i===ix)return t.RED;if(i===sx)return t.RED_INTEGER;if(i===FO)return t.RG;if(i===rx)return t.RG_INTEGER;if(i===ox)return t.RGBA_INTEGER;if(i===Fm||i===Bm||i===Um||i===zm)if(o===In)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===Fm)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Bm)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Um)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===zm)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===Fm)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Bm)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Um)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===zm)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===ob||i===ab||i===lb||i===cb)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===ob)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===ab)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===lb)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===cb)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===ub||i===db||i===fb)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(i===ub||i===db)return o===In?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===fb)return o===In?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===hb||i===pb||i===mb||i===gb||i===vb||i===yb||i===bb||i===_b||i===wb||i===xb||i===Sb||i===Mb||i===Cb||i===Eb)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(i===hb)return o===In?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===pb)return o===In?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===mb)return o===In?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===gb)return o===In?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===vb)return o===In?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===yb)return o===In?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===bb)return o===In?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===_b)return o===In?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===wb)return o===In?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===xb)return o===In?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Sb)return o===In?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Mb)return o===In?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Cb)return o===In?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Eb)return o===In?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Vm||i===Tb||i===Ab)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(i===Vm)return o===In?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===Tb)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Ab)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===BO||i===Rb||i===Pb||i===Ib)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(i===Vm)return r.COMPRESSED_RED_RGTC1_EXT;if(i===Rb)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Pb)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Ib)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===rd?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}class mL extends ci{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class uo extends Qt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Hge={type:"move"};class ly{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new uo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new uo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new uo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let s=null,r=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const m of e.hand.values()){const y=n.getJointPose(m,i),v=this._getHandJoint(c,m);y!==null&&(v.matrix.fromArray(y.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=y.radius),v.visible=y!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),p=.02,g=.005;c.inputState.pinching&&f>p+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=p-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(r=n.getPose(e.gripSpace,i),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(s=n.getPose(e.targetRaySpace,i),s===null&&r!==null&&(s=r),s!==null&&(a.matrix.fromArray(s.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,s.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(s.linearVelocity)):a.hasLinearVelocity=!1,s.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(s.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Hge)))}return a!==null&&(a.visible=s!==null),l!==null&&(l.visible=r!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new uo;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}const Wge=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Gge=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Kge{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const s=new Hn,r=e.properties.get(s);r.__webglTexture=n.texture,(n.depthNear!=i.depthNear||n.depthFar!=i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=s}}render(e,n){if(this.texture!==null){if(this.mesh===null){const i=n.cameras[0].viewport,s=new Qn({vertexShader:Wge,fragmentShader:Gge,uniforms:{depthColor:{value:this.texture},depthWidth:{value:i.z},depthHeight:{value:i.w}}});this.mesh=new vt(new za(20,20),s)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class Yge extends Yr{constructor(e,n){super();const i=this;let s=null,r=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,p=null,g=null;const m=new Kge,y=n.getContextAttributes();let v=null,_=null;const b=[],w=[],S=new qe;let x=null;const C=new ci;C.layers.enable(1),C.viewport=new dn;const T=new ci;T.layers.enable(2),T.viewport=new dn;const E=[C,T],M=new mL;M.layers.enable(1),M.layers.enable(2);let R=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ee){let ye=b[ee];return ye===void 0&&(ye=new ly,b[ee]=ye),ye.getTargetRaySpace()},this.getControllerGrip=function(ee){let ye=b[ee];return ye===void 0&&(ye=new ly,b[ee]=ye),ye.getGripSpace()},this.getHand=function(ee){let ye=b[ee];return ye===void 0&&(ye=new ly,b[ee]=ye),ye.getHandSpace()};function F(ee){const ye=w.indexOf(ee.inputSource);if(ye===-1)return;const te=b[ye];te!==void 0&&(te.update(ee.inputSource,ee.frame,c||o),te.dispatchEvent({type:ee.type,data:ee.inputSource}))}function V(){s.removeEventListener("select",F),s.removeEventListener("selectstart",F),s.removeEventListener("selectend",F),s.removeEventListener("squeeze",F),s.removeEventListener("squeezestart",F),s.removeEventListener("squeezeend",F),s.removeEventListener("end",V),s.removeEventListener("inputsourceschange",U);for(let ee=0;ee<b.length;ee++){const ye=w[ee];ye!==null&&(w[ee]=null,b[ee].disconnect(ye))}R=null,O=null,m.reset(),e.setRenderTarget(v),p=null,f=null,d=null,s=null,_=null,re.stop(),i.isPresenting=!1,e.setPixelRatio(x),e.setSize(S.width,S.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ee){r=ee,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ee){a=ee,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(ee){c=ee},this.getBaseLayer=function(){return f!==null?f:p},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return s},this.setSession=async function(ee){if(s=ee,s!==null){if(v=e.getRenderTarget(),s.addEventListener("select",F),s.addEventListener("selectstart",F),s.addEventListener("selectend",F),s.addEventListener("squeeze",F),s.addEventListener("squeezestart",F),s.addEventListener("squeezeend",F),s.addEventListener("end",V),s.addEventListener("inputsourceschange",U),y.xrCompatible!==!0&&await n.makeXRCompatible(),x=e.getPixelRatio(),e.getSize(S),s.renderState.layers===void 0){const ye={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:r};p=new XRWebGLLayer(s,n,ye),s.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),_=new jn(p.framebufferWidth,p.framebufferHeight,{format:hs,type:xo,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ye=null,te=null,oe=null;y.depth&&(oe=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ye=y.stencil?zu:Vl,te=y.stencil?rd:Ql);const de={colorFormat:n.RGBA8,depthFormat:oe,scaleFactor:r};d=new XRWebGLBinding(s,n),f=d.createProjectionLayer(de),s.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),_=new jn(f.textureWidth,f.textureHeight,{format:hs,type:xo,depthTexture:new mx(f.textureWidth,f.textureHeight,te,void 0,void 0,void 0,void 0,void 0,void 0,ye),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}_.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await s.requestReferenceSpace(a),re.setContext(s),re.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode};function U(ee){for(let ye=0;ye<ee.removed.length;ye++){const te=ee.removed[ye],oe=w.indexOf(te);oe>=0&&(w[oe]=null,b[oe].disconnect(te))}for(let ye=0;ye<ee.added.length;ye++){const te=ee.added[ye];let oe=w.indexOf(te);if(oe===-1){for(let Ne=0;Ne<b.length;Ne++)if(Ne>=w.length){w.push(te),oe=Ne;break}else if(w[Ne]===null){w[Ne]=te,oe=Ne;break}if(oe===-1)break}const de=b[oe];de&&de.connect(te)}}const D=new Z,I=new Z;function N(ee,ye,te){D.setFromMatrixPosition(ye.matrixWorld),I.setFromMatrixPosition(te.matrixWorld);const oe=D.distanceTo(I),de=ye.projectionMatrix.elements,Ne=te.projectionMatrix.elements,Q=de[14]/(de[10]-1),Te=de[14]/(de[10]+1),me=(de[9]+1)/de[5],K=(de[9]-1)/de[5],q=(de[8]-1)/de[0],ue=(Ne[8]+1)/Ne[0],ve=Q*q,he=Q*ue,xe=oe/(-q+ue),W=xe*-q;ye.matrixWorld.decompose(ee.position,ee.quaternion,ee.scale),ee.translateX(W),ee.translateZ(xe),ee.matrixWorld.compose(ee.position,ee.quaternion,ee.scale),ee.matrixWorldInverse.copy(ee.matrixWorld).invert();const $=Q+xe,ae=Te+xe,se=ve-W,Ee=he+(oe-W),Re=me*Te/ae*$,be=K*Te/ae*$;ee.projectionMatrix.makePerspective(se,Ee,Re,be,$,ae),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert()}function k(ee,ye){ye===null?ee.matrixWorld.copy(ee.matrix):ee.matrixWorld.multiplyMatrices(ye.matrixWorld,ee.matrix),ee.matrixWorldInverse.copy(ee.matrixWorld).invert()}this.updateCamera=function(ee){if(s===null)return;m.texture!==null&&(ee.near=m.depthNear,ee.far=m.depthFar),M.near=T.near=C.near=ee.near,M.far=T.far=C.far=ee.far,(R!==M.near||O!==M.far)&&(s.updateRenderState({depthNear:M.near,depthFar:M.far}),R=M.near,O=M.far,C.near=R,C.far=O,T.near=R,T.far=O,C.updateProjectionMatrix(),T.updateProjectionMatrix(),ee.updateProjectionMatrix());const ye=ee.parent,te=M.cameras;k(M,ye);for(let oe=0;oe<te.length;oe++)k(te[oe],ye);te.length===2?N(M,C,T):M.projectionMatrix.copy(C.projectionMatrix),B(ee,M,ye)};function B(ee,ye,te){te===null?ee.matrix.copy(ye.matrixWorld):(ee.matrix.copy(te.matrixWorld),ee.matrix.invert(),ee.matrix.multiply(ye.matrixWorld)),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.updateMatrixWorld(!0),ee.projectionMatrix.copy(ye.projectionMatrix),ee.projectionMatrixInverse.copy(ye.projectionMatrixInverse),ee.isPerspectiveCamera&&(ee.fov=$u*2*Math.atan(1/ee.projectionMatrix.elements[5]),ee.zoom=1)}this.getCamera=function(){return M},this.getFoveation=function(){if(!(f===null&&p===null))return l},this.setFoveation=function(ee){l=ee,f!==null&&(f.fixedFoveation=ee),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=ee)},this.hasDepthSensing=function(){return m.texture!==null};let G=null;function J(ee,ye){if(u=ye.getViewerPose(c||o),g=ye,u!==null){const te=u.views;p!==null&&(e.setRenderTargetFramebuffer(_,p.framebuffer),e.setRenderTarget(_));let oe=!1;te.length!==M.cameras.length&&(M.cameras.length=0,oe=!0);for(let Ne=0;Ne<te.length;Ne++){const Q=te[Ne];let Te=null;if(p!==null)Te=p.getViewport(Q);else{const K=d.getViewSubImage(f,Q);Te=K.viewport,Ne===0&&(e.setRenderTargetTextures(_,K.colorTexture,f.ignoreDepthValues?void 0:K.depthStencilTexture),e.setRenderTarget(_))}let me=E[Ne];me===void 0&&(me=new ci,me.layers.enable(Ne),me.viewport=new dn,E[Ne]=me),me.matrix.fromArray(Q.transform.matrix),me.matrix.decompose(me.position,me.quaternion,me.scale),me.projectionMatrix.fromArray(Q.projectionMatrix),me.projectionMatrixInverse.copy(me.projectionMatrix).invert(),me.viewport.set(Te.x,Te.y,Te.width,Te.height),Ne===0&&(M.matrix.copy(me.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),oe===!0&&M.cameras.push(me)}const de=s.enabledFeatures;if(de&&de.includes("depth-sensing")){const Ne=d.getDepthInformation(te[0]);Ne&&Ne.isValid&&Ne.texture&&m.init(e,Ne,s.renderState)}}for(let te=0;te<b.length;te++){const oe=w[te],de=b[te];oe!==null&&de!==void 0&&de.update(oe,ye,c||o)}m.render(e,M),G&&G(ee,ye),ye.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ye}),g=null}const re=new lL;re.setAnimationLoop(J),this.setAnimationLoop=function(ee){G=ee},this.dispose=function(){}}}const nl=new Jn,Xge=new Ct;function qge(t,e){function n(y,v){y.matrixAutoUpdate===!0&&y.updateMatrix(),v.value.copy(y.matrix)}function i(y,v){v.color.getRGB(y.fogColor.value,rL(t)),v.isFog?(y.fogNear.value=v.near,y.fogFar.value=v.far):v.isFogExp2&&(y.fogDensity.value=v.density)}function s(y,v,_,b,w){v.isMeshBasicMaterial||v.isMeshLambertMaterial?r(y,v):v.isMeshToonMaterial?(r(y,v),d(y,v)):v.isMeshPhongMaterial?(r(y,v),u(y,v)):v.isMeshStandardMaterial?(r(y,v),f(y,v),v.isMeshPhysicalMaterial&&p(y,v,w)):v.isMeshMatcapMaterial?(r(y,v),g(y,v)):v.isMeshDepthMaterial?r(y,v):v.isMeshDistanceMaterial?(r(y,v),m(y,v)):v.isMeshNormalMaterial?r(y,v):v.isLineBasicMaterial?(o(y,v),v.isLineDashedMaterial&&a(y,v)):v.isPointsMaterial?l(y,v,_,b):v.isSpriteMaterial?c(y,v):v.isShadowMaterial?(y.color.value.copy(v.color),y.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function r(y,v){y.opacity.value=v.opacity,v.color&&y.diffuse.value.copy(v.color),v.emissive&&y.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.bumpMap&&(y.bumpMap.value=v.bumpMap,n(v.bumpMap,y.bumpMapTransform),y.bumpScale.value=v.bumpScale,v.side===is&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,n(v.normalMap,y.normalMapTransform),y.normalScale.value.copy(v.normalScale),v.side===is&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,n(v.displacementMap,y.displacementMapTransform),y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,y.emissiveMapTransform)),v.specularMap&&(y.specularMap.value=v.specularMap,n(v.specularMap,y.specularMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);const _=e.get(v),b=_.envMap,w=_.envMapRotation;if(b&&(y.envMap.value=b,nl.copy(w),nl.x*=-1,nl.y*=-1,nl.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(nl.y*=-1,nl.z*=-1),y.envMapRotation.value.setFromMatrix4(Xge.makeRotationFromEuler(nl)),y.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=v.reflectivity,y.ior.value=v.ior,y.refractionRatio.value=v.refractionRatio),v.lightMap){y.lightMap.value=v.lightMap;const S=t._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=v.lightMapIntensity*S,n(v.lightMap,y.lightMapTransform)}v.aoMap&&(y.aoMap.value=v.aoMap,y.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,y.aoMapTransform))}function o(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform))}function a(y,v){y.dashSize.value=v.dashSize,y.totalSize.value=v.dashSize+v.gapSize,y.scale.value=v.scale}function l(y,v,_,b){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.size.value=v.size*_,y.scale.value=b*.5,v.map&&(y.map.value=v.map,n(v.map,y.uvTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function c(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.rotation.value=v.rotation,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function u(y,v){y.specular.value.copy(v.specular),y.shininess.value=Math.max(v.shininess,1e-4)}function d(y,v){v.gradientMap&&(y.gradientMap.value=v.gradientMap)}function f(y,v){y.metalness.value=v.metalness,v.metalnessMap&&(y.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,y.metalnessMapTransform)),y.roughness.value=v.roughness,v.roughnessMap&&(y.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,y.roughnessMapTransform)),v.envMap&&(y.envMapIntensity.value=v.envMapIntensity)}function p(y,v,_){y.ior.value=v.ior,v.sheen>0&&(y.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),y.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(y.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,y.sheenColorMapTransform)),v.sheenRoughnessMap&&(y.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,y.sheenRoughnessMapTransform))),v.clearcoat>0&&(y.clearcoat.value=v.clearcoat,y.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(y.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,y.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(y.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===is&&y.clearcoatNormalScale.value.negate())),v.dispersion>0&&(y.dispersion.value=v.dispersion),v.iridescence>0&&(y.iridescence.value=v.iridescence,y.iridescenceIOR.value=v.iridescenceIOR,y.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(y.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,y.iridescenceMapTransform)),v.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),v.transmission>0&&(y.transmission.value=v.transmission,y.transmissionSamplerMap.value=_.texture,y.transmissionSamplerSize.value.set(_.width,_.height),v.transmissionMap&&(y.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,y.transmissionMapTransform)),y.thickness.value=v.thickness,v.thicknessMap&&(y.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=v.attenuationDistance,y.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(y.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(y.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=v.specularIntensity,y.specularColor.value.copy(v.specularColor),v.specularColorMap&&(y.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,y.specularColorMapTransform)),v.specularIntensityMap&&(y.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,y.specularIntensityMapTransform))}function g(y,v){v.matcap&&(y.matcap.value=v.matcap)}function m(y,v){const _=e.get(v).light;y.referencePosition.value.setFromMatrixPosition(_.matrixWorld),y.nearDistance.value=_.shadow.camera.near,y.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function jge(t,e,n,i){let s={},r={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(_,b){const w=b.program;i.uniformBlockBinding(_,w)}function c(_,b){let w=s[_.id];w===void 0&&(g(_),w=u(_),s[_.id]=w,_.addEventListener("dispose",y));const S=b.program;i.updateUBOMapping(_,S);const x=e.render.frame;r[_.id]!==x&&(f(_),r[_.id]=x)}function u(_){const b=d();_.__bindingPointIndex=b;const w=t.createBuffer(),S=_.__size,x=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,w),t.bufferData(t.UNIFORM_BUFFER,S,x),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,w),w}function d(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(_){const b=s[_.id],w=_.uniforms,S=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let x=0,C=w.length;x<C;x++){const T=Array.isArray(w[x])?w[x]:[w[x]];for(let E=0,M=T.length;E<M;E++){const R=T[E];if(p(R,x,E,S)===!0){const O=R.__offset,F=Array.isArray(R.value)?R.value:[R.value];let V=0;for(let U=0;U<F.length;U++){const D=F[U],I=m(D);typeof D=="number"||typeof D=="boolean"?(R.__data[0]=D,t.bufferSubData(t.UNIFORM_BUFFER,O+V,R.__data)):D.isMatrix3?(R.__data[0]=D.elements[0],R.__data[1]=D.elements[1],R.__data[2]=D.elements[2],R.__data[3]=0,R.__data[4]=D.elements[3],R.__data[5]=D.elements[4],R.__data[6]=D.elements[5],R.__data[7]=0,R.__data[8]=D.elements[6],R.__data[9]=D.elements[7],R.__data[10]=D.elements[8],R.__data[11]=0):(D.toArray(R.__data,V),V+=I.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,O,R.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(_,b,w,S){const x=_.value,C=b+"_"+w;if(S[C]===void 0)return typeof x=="number"||typeof x=="boolean"?S[C]=x:S[C]=x.clone(),!0;{const T=S[C];if(typeof x=="number"||typeof x=="boolean"){if(T!==x)return S[C]=x,!0}else if(T.equals(x)===!1)return T.copy(x),!0}return!1}function g(_){const b=_.uniforms;let w=0;const S=16;for(let C=0,T=b.length;C<T;C++){const E=Array.isArray(b[C])?b[C]:[b[C]];for(let M=0,R=E.length;M<R;M++){const O=E[M],F=Array.isArray(O.value)?O.value:[O.value];for(let V=0,U=F.length;V<U;V++){const D=F[V],I=m(D),N=w%S;N!==0&&S-N<I.boundary&&(w+=S-N),O.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),O.__offset=w,w+=I.storage}}}const x=w%S;return x>0&&(w+=S-x),_.__size=w,_.__cache={},this}function m(_){const b={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(b.boundary=4,b.storage=4):_.isVector2?(b.boundary=8,b.storage=8):_.isVector3||_.isColor?(b.boundary=16,b.storage=12):_.isVector4?(b.boundary=16,b.storage=16):_.isMatrix3?(b.boundary=48,b.storage=48):_.isMatrix4?(b.boundary=64,b.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),b}function y(_){const b=_.target;b.removeEventListener("dispose",y);const w=o.indexOf(b.__bindingPointIndex);o.splice(w,1),t.deleteBuffer(s[b.id]),delete s[b.id],delete r[b.id]}function v(){for(const _ in s)t.deleteBuffer(s[_]);o=[],s={},r={}}return{bind:l,update:c,dispose:v}}class vx{constructor(e={}){const{canvas:n=eL(),context:i=null,depth:s=!0,stencil:r=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let f;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=i.getContextAttributes().alpha}else f=o;const p=new Uint32Array(4),g=new Int32Array(4);let m=null,y=null;const v=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=pi,this._useLegacyLights=!1,this.toneMapping=mo,this.toneMappingExposure=1;const b=this;let w=!1,S=0,x=0,C=null,T=-1,E=null;const M=new dn,R=new dn;let O=null;const F=new ct(0);let V=0,U=n.width,D=n.height,I=1,N=null,k=null;const B=new dn(0,0,U,D),G=new dn(0,0,U,D);let J=!1;const re=new Rh;let ee=!1,ye=!1;const te=new Ct,oe=new Z,de={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ne(){return C===null?I:1}let Q=i;function Te(ie,De){return n.getContext(ie,De)}try{const ie={alpha:!0,depth:s,stencil:r,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${bv}`),n.addEventListener("webglcontextlost",le,!1),n.addEventListener("webglcontextrestored",Be,!1),n.addEventListener("webglcontextcreationerror",We,!1),Q===null){const De="webgl2";if(Q=Te(De,ie),Q===null)throw Te(De)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ie){throw console.error("THREE.WebGLRenderer: "+ie.message),ie}let me,K,q,ue,ve,he,xe,W,$,ae,se,Ee,Re,be,Pe,Fe,it,Ye,He,Se,Le,we,pe,Ae;function je(){me=new cme(Q),me.init(),we=new pL(Q,me),K=new ime(Q,me,e,we),q=new Vge(Q),ue=new fme(Q),ve=new Rge,he=new $ge(Q,me,q,ve,K,we,ue),xe=new rme(b),W=new lme(b),$=new bfe(Q),pe=new tme(Q,$),ae=new ume(Q,$,ue,pe),se=new pme(Q,ae,$,ue),He=new hme(Q,K,he),Fe=new sme(ve),Ee=new Age(b,xe,W,me,K,pe,Fe),Re=new qge(b,ve),be=new Ige,Pe=new Fge(me),Ye=new eme(b,xe,W,q,se,f,l),it=new zge(b,se,K),Ae=new jge(Q,ue,K,q),Se=new nme(Q,me,ue),Le=new dme(Q,me,ue),ue.programs=Ee.programs,b.capabilities=K,b.extensions=me,b.properties=ve,b.renderLists=be,b.shadowMap=it,b.state=q,b.info=ue}je();const fe=new Yge(b,Q);this.xr=fe,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const ie=me.get("WEBGL_lose_context");ie&&ie.loseContext()},this.forceContextRestore=function(){const ie=me.get("WEBGL_lose_context");ie&&ie.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(ie){ie!==void 0&&(I=ie,this.setSize(U,D,!1))},this.getSize=function(ie){return ie.set(U,D)},this.setSize=function(ie,De,Ke=!0){if(fe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=ie,D=De,n.width=Math.floor(ie*I),n.height=Math.floor(De*I),Ke===!0&&(n.style.width=ie+"px",n.style.height=De+"px"),this.setViewport(0,0,ie,De)},this.getDrawingBufferSize=function(ie){return ie.set(U*I,D*I).floor()},this.setDrawingBufferSize=function(ie,De,Ke){U=ie,D=De,I=Ke,n.width=Math.floor(ie*Ke),n.height=Math.floor(De*Ke),this.setViewport(0,0,ie,De)},this.getCurrentViewport=function(ie){return ie.copy(M)},this.getViewport=function(ie){return ie.copy(B)},this.setViewport=function(ie,De,Ke,Ve){ie.isVector4?B.set(ie.x,ie.y,ie.z,ie.w):B.set(ie,De,Ke,Ve),q.viewport(M.copy(B).multiplyScalar(I).round())},this.getScissor=function(ie){return ie.copy(G)},this.setScissor=function(ie,De,Ke,Ve){ie.isVector4?G.set(ie.x,ie.y,ie.z,ie.w):G.set(ie,De,Ke,Ve),q.scissor(R.copy(G).multiplyScalar(I).round())},this.getScissorTest=function(){return J},this.setScissorTest=function(ie){q.setScissorTest(J=ie)},this.setOpaqueSort=function(ie){N=ie},this.setTransparentSort=function(ie){k=ie},this.getClearColor=function(ie){return ie.copy(Ye.getClearColor())},this.setClearColor=function(){Ye.setClearColor.apply(Ye,arguments)},this.getClearAlpha=function(){return Ye.getClearAlpha()},this.setClearAlpha=function(){Ye.setClearAlpha.apply(Ye,arguments)},this.clear=function(ie=!0,De=!0,Ke=!0){let Ve=0;if(ie){let Ue=!1;if(C!==null){const _t=C.texture.format;Ue=_t===ox||_t===rx||_t===sx}if(Ue){const _t=C.texture.type,Ot=_t===xo||_t===Ql||_t===Qw||_t===rd||_t===tx||_t===nx,Ie=Ye.getClearColor(),Qe=Ye.getClearAlpha(),ut=Ie.r,wt=Ie.g,Vt=Ie.b;Ot?(p[0]=ut,p[1]=wt,p[2]=Vt,p[3]=Qe,Q.clearBufferuiv(Q.COLOR,0,p)):(g[0]=ut,g[1]=wt,g[2]=Vt,g[3]=Qe,Q.clearBufferiv(Q.COLOR,0,g))}else Ve|=Q.COLOR_BUFFER_BIT}De&&(Ve|=Q.DEPTH_BUFFER_BIT),Ke&&(Ve|=Q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Q.clear(Ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",le,!1),n.removeEventListener("webglcontextrestored",Be,!1),n.removeEventListener("webglcontextcreationerror",We,!1),be.dispose(),Pe.dispose(),ve.dispose(),xe.dispose(),W.dispose(),se.dispose(),pe.dispose(),Ae.dispose(),Ee.dispose(),fe.dispose(),fe.removeEventListener("sessionstart",un),fe.removeEventListener("sessionend",ri),oi.stop()};function le(ie){ie.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function Be(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const ie=ue.autoReset,De=it.enabled,Ke=it.autoUpdate,Ve=it.needsUpdate,Ue=it.type;je(),ue.autoReset=ie,it.enabled=De,it.autoUpdate=Ke,it.needsUpdate=Ve,it.type=Ue}function We(ie){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ie.statusMessage)}function ot(ie){const De=ie.target;De.removeEventListener("dispose",ot),pt(De)}function pt(ie){dt(ie),ve.remove(ie)}function dt(ie){const De=ve.get(ie).programs;De!==void 0&&(De.forEach(function(Ke){Ee.releaseProgram(Ke)}),ie.isShaderMaterial&&Ee.releaseShaderCache(ie))}this.renderBufferDirect=function(ie,De,Ke,Ve,Ue,_t){De===null&&(De=de);const Ot=Ue.isMesh&&Ue.matrixWorld.determinant()<0,Ie=mt(ie,De,Ke,Ve,Ue);q.setMaterial(Ve,Ot);let Qe=Ke.index,ut=1;if(Ve.wireframe===!0){if(Qe=ae.getWireframeAttribute(Ke),Qe===void 0)return;ut=2}const wt=Ke.drawRange,Vt=Ke.attributes.position;let bn=wt.start*ut,Ni=(wt.start+wt.count)*ut;_t!==null&&(bn=Math.max(bn,_t.start*ut),Ni=Math.min(Ni,(_t.start+_t.count)*ut)),Qe!==null?(bn=Math.max(bn,0),Ni=Math.min(Ni,Qe.count)):Vt!=null&&(bn=Math.max(bn,0),Ni=Math.min(Ni,Vt.count));const ys=Ni-bn;if(ys<0||ys===1/0)return;pe.setup(Ue,Ve,Ie,Ke,Qe);let Xr,_n=Se;if(Qe!==null&&(Xr=$.get(Qe),_n=Le,_n.setIndex(Xr)),Ue.isMesh)Ve.wireframe===!0?(q.setLineWidth(Ve.wireframeLinewidth*Ne()),_n.setMode(Q.LINES)):_n.setMode(Q.TRIANGLES);else if(Ue.isLine){let qt=Ve.linewidth;qt===void 0&&(qt=1),q.setLineWidth(qt*Ne()),Ue.isLineSegments?_n.setMode(Q.LINES):Ue.isLineLoop?_n.setMode(Q.LINE_LOOP):_n.setMode(Q.LINE_STRIP)}else Ue.isPoints?_n.setMode(Q.POINTS):Ue.isSprite&&_n.setMode(Q.TRIANGLES);if(Ue.isBatchedMesh)Ue._multiDrawInstances!==null?_n.renderMultiDrawInstances(Ue._multiDrawStarts,Ue._multiDrawCounts,Ue._multiDrawCount,Ue._multiDrawInstances):_n.renderMultiDraw(Ue._multiDrawStarts,Ue._multiDrawCounts,Ue._multiDrawCount);else if(Ue.isInstancedMesh)_n.renderInstances(bn,ys,Ue.count);else if(Ke.isInstancedBufferGeometry){const qt=Ke._maxInstanceCount!==void 0?Ke._maxInstanceCount:1/0,dd=Math.min(Ke.instanceCount,qt);_n.renderInstances(bn,ys,dd)}else _n.render(bn,ys)};function Bt(ie,De,Ke){ie.transparent===!0&&ie.side===ds&&ie.forceSinglePass===!1?(ie.side=is,ie.needsUpdate=!0,Lo(ie,De,Ke),ie.side=Wr,ie.needsUpdate=!0,Lo(ie,De,Ke),ie.side=ds):Lo(ie,De,Ke)}this.compile=function(ie,De,Ke=null){Ke===null&&(Ke=ie),y=Pe.get(Ke),y.init(De),_.push(y),Ke.traverseVisible(function(Ue){Ue.isLight&&Ue.layers.test(De.layers)&&(y.pushLight(Ue),Ue.castShadow&&y.pushShadow(Ue))}),ie!==Ke&&ie.traverseVisible(function(Ue){Ue.isLight&&Ue.layers.test(De.layers)&&(y.pushLight(Ue),Ue.castShadow&&y.pushShadow(Ue))}),y.setupLights(b._useLegacyLights);const Ve=new Set;return ie.traverse(function(Ue){const _t=Ue.material;if(_t)if(Array.isArray(_t))for(let Ot=0;Ot<_t.length;Ot++){const Ie=_t[Ot];Bt(Ie,Ke,Ue),Ve.add(Ie)}else Bt(_t,Ke,Ue),Ve.add(_t)}),_.pop(),y=null,Ve},this.compileAsync=function(ie,De,Ke=null){const Ve=this.compile(ie,De,Ke);return new Promise(Ue=>{function _t(){if(Ve.forEach(function(Ot){ve.get(Ot).currentProgram.isReady()&&Ve.delete(Ot)}),Ve.size===0){Ue(ie);return}setTimeout(_t,10)}me.get("KHR_parallel_shader_compile")!==null?_t():setTimeout(_t,10)})};let Tn=null;function Xn(ie){Tn&&Tn(ie)}function un(){oi.stop()}function ri(){oi.start()}const oi=new lL;oi.setAnimationLoop(Xn),typeof self<"u"&&oi.setContext(self),this.setAnimationLoop=function(ie){Tn=ie,fe.setAnimationLoop(ie),ie===null?oi.stop():oi.start()},fe.addEventListener("sessionstart",un),fe.addEventListener("sessionend",ri),this.render=function(ie,De){if(De!==void 0&&De.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),De.parent===null&&De.matrixWorldAutoUpdate===!0&&De.updateMatrixWorld(),fe.enabled===!0&&fe.isPresenting===!0&&(fe.cameraAutoUpdate===!0&&fe.updateCamera(De),De=fe.getCamera()),ie.isScene===!0&&ie.onBeforeRender(b,ie,De,C),y=Pe.get(ie,_.length),y.init(De),_.push(y),te.multiplyMatrices(De.projectionMatrix,De.matrixWorldInverse),re.setFromProjectionMatrix(te),ye=this.localClippingEnabled,ee=Fe.init(this.clippingPlanes,ye),m=be.get(ie,v.length),m.init(),v.push(m),Wa(ie,De,0,b.sortObjects),m.finish(),b.sortObjects===!0&&m.sort(N,k);const Ke=fe.enabled===!1||fe.isPresenting===!1||fe.hasDepthSensing()===!1;Ke&&Ye.addToRenderList(m,ie),this.info.render.frame++,ee===!0&&Fe.beginShadows();const Ve=y.state.shadowsArray;it.render(Ve,ie,De),ee===!0&&Fe.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ue=m.opaque,_t=m.transmissive;if(y.setupLights(b._useLegacyLights),De.isArrayCamera){const Ot=De.cameras;if(_t.length>0)for(let Ie=0,Qe=Ot.length;Ie<Qe;Ie++){const ut=Ot[Ie];Cr(Ue,_t,ie,ut)}Ke&&Ye.render(ie);for(let Ie=0,Qe=Ot.length;Ie<Qe;Ie++){const ut=Ot[Ie];pc(m,ie,ut,ut.viewport)}}else _t.length>0&&Cr(Ue,_t,ie,De),Ke&&Ye.render(ie),pc(m,ie,De);C!==null&&(he.updateMultisampleRenderTarget(C),he.updateRenderTargetMipmap(C)),ie.isScene===!0&&ie.onAfterRender(b,ie,De),pe.resetDefaultState(),T=-1,E=null,_.pop(),_.length>0?(y=_[_.length-1],ee===!0&&Fe.setGlobalState(b.clippingPlanes,y.state.camera)):y=null,v.pop(),v.length>0?m=v[v.length-1]:m=null};function Wa(ie,De,Ke,Ve){if(ie.visible===!1)return;if(ie.layers.test(De.layers)){if(ie.isGroup)Ke=ie.renderOrder;else if(ie.isLOD)ie.autoUpdate===!0&&ie.update(De);else if(ie.isLight)y.pushLight(ie),ie.castShadow&&y.pushShadow(ie);else if(ie.isSprite){if(!ie.frustumCulled||re.intersectsSprite(ie)){Ve&&oe.setFromMatrixPosition(ie.matrixWorld).applyMatrix4(te);const Ot=se.update(ie),Ie=ie.material;Ie.visible&&m.push(ie,Ot,Ie,Ke,oe.z,null)}}else if((ie.isMesh||ie.isLine||ie.isPoints)&&(!ie.frustumCulled||re.intersectsObject(ie))){const Ot=se.update(ie),Ie=ie.material;if(Ve&&(ie.boundingSphere!==void 0?(ie.boundingSphere===null&&ie.computeBoundingSphere(),oe.copy(ie.boundingSphere.center)):(Ot.boundingSphere===null&&Ot.computeBoundingSphere(),oe.copy(Ot.boundingSphere.center)),oe.applyMatrix4(ie.matrixWorld).applyMatrix4(te)),Array.isArray(Ie)){const Qe=Ot.groups;for(let ut=0,wt=Qe.length;ut<wt;ut++){const Vt=Qe[ut],bn=Ie[Vt.materialIndex];bn&&bn.visible&&m.push(ie,Ot,bn,Ke,oe.z,Vt)}}else Ie.visible&&m.push(ie,Ot,Ie,Ke,oe.z,null)}}const _t=ie.children;for(let Ot=0,Ie=_t.length;Ot<Ie;Ot++)Wa(_t[Ot],De,Ke,Ve)}function pc(ie,De,Ke,Ve){const Ue=ie.opaque,_t=ie.transmissive,Ot=ie.transparent;y.setupLightsView(Ke),ee===!0&&Fe.setGlobalState(b.clippingPlanes,Ke),Ve&&q.viewport(M.copy(Ve)),Ue.length>0&&Oo(Ue,De,Ke),_t.length>0&&Oo(_t,De,Ke),Ot.length>0&&Oo(Ot,De,Ke),q.buffers.depth.setTest(!0),q.buffers.depth.setMask(!0),q.buffers.color.setMask(!0),q.setPolygonOffset(!1)}function Cr(ie,De,Ke,Ve){if((Ke.isScene===!0?Ke.overrideMaterial:null)!==null)return;y.state.transmissionRenderTarget[Ve.id]===void 0&&(y.state.transmissionRenderTarget[Ve.id]=new jn(1,1,{generateMipmaps:!0,type:me.has("EXT_color_buffer_half_float")||me.has("EXT_color_buffer_float")?zs:xo,minFilter:Ws,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1}));const _t=y.state.transmissionRenderTarget[Ve.id],Ot=Ve.viewport||M;_t.setSize(Ot.z,Ot.w);const Ie=b.getRenderTarget();b.setRenderTarget(_t),b.getClearColor(F),V=b.getClearAlpha(),V<1&&b.setClearColor(16777215,.5),b.clear();const Qe=b.toneMapping;b.toneMapping=mo;const ut=Ve.viewport;if(Ve.viewport!==void 0&&(Ve.viewport=void 0),y.setupLightsView(Ve),ee===!0&&Fe.setGlobalState(b.clippingPlanes,Ve),Oo(ie,Ke,Ve),he.updateMultisampleRenderTarget(_t),he.updateRenderTargetMipmap(_t),me.has("WEBGL_multisampled_render_to_texture")===!1){let wt=!1;for(let Vt=0,bn=De.length;Vt<bn;Vt++){const Ni=De[Vt],ys=Ni.object,Xr=Ni.geometry,_n=Ni.material,qt=Ni.group;if(_n.side===ds&&ys.layers.test(Ve.layers)){const dd=_n.side;_n.side=is,_n.needsUpdate=!0,mc(ys,Ke,Ve,Xr,_n,qt),_n.side=dd,_n.needsUpdate=!0,wt=!0}}wt===!0&&(he.updateMultisampleRenderTarget(_t),he.updateRenderTargetMipmap(_t))}b.setRenderTarget(Ie),b.setClearColor(F,V),ut!==void 0&&(Ve.viewport=ut),b.toneMapping=Qe}function Oo(ie,De,Ke){const Ve=De.isScene===!0?De.overrideMaterial:null;for(let Ue=0,_t=ie.length;Ue<_t;Ue++){const Ot=ie[Ue],Ie=Ot.object,Qe=Ot.geometry,ut=Ve===null?Ot.material:Ve,wt=Ot.group;Ie.layers.test(Ke.layers)&&mc(Ie,De,Ke,Qe,ut,wt)}}function mc(ie,De,Ke,Ve,Ue,_t){ie.onBeforeRender(b,De,Ke,Ve,Ue,_t),ie.modelViewMatrix.multiplyMatrices(Ke.matrixWorldInverse,ie.matrixWorld),ie.normalMatrix.getNormalMatrix(ie.modelViewMatrix),Ue.onBeforeRender(b,De,Ke,Ve,ie,_t),Ue.transparent===!0&&Ue.side===ds&&Ue.forceSinglePass===!1?(Ue.side=is,Ue.needsUpdate=!0,b.renderBufferDirect(Ke,De,Ve,Ue,ie,_t),Ue.side=Wr,Ue.needsUpdate=!0,b.renderBufferDirect(Ke,De,Ve,Ue,ie,_t),Ue.side=ds):b.renderBufferDirect(Ke,De,Ve,Ue,ie,_t),ie.onAfterRender(b,De,Ke,Ve,Ue,_t)}function Lo(ie,De,Ke){De.isScene!==!0&&(De=de);const Ve=ve.get(ie),Ue=y.state.lights,_t=y.state.shadowsArray,Ot=Ue.state.version,Ie=Ee.getParameters(ie,Ue.state,_t,De,Ke),Qe=Ee.getProgramCacheKey(Ie);let ut=Ve.programs;Ve.environment=ie.isMeshStandardMaterial?De.environment:null,Ve.fog=De.fog,Ve.envMap=(ie.isMeshStandardMaterial?W:xe).get(ie.envMap||Ve.environment),Ve.envMapRotation=Ve.environment!==null&&ie.envMap===null?De.environmentRotation:ie.envMapRotation,ut===void 0&&(ie.addEventListener("dispose",ot),ut=new Map,Ve.programs=ut);let wt=ut.get(Qe);if(wt!==void 0){if(Ve.currentProgram===wt&&Ve.lightsStateVersion===Ot)return Xe(ie,Ie),wt}else Ie.uniforms=Ee.getUniforms(ie),ie.onBuild(Ke,Ie,b),ie.onBeforeCompile(Ie,b),wt=Ee.acquireProgram(Ie,Qe),ut.set(Qe,wt),Ve.uniforms=Ie.uniforms;const Vt=Ve.uniforms;return(!ie.isShaderMaterial&&!ie.isRawShaderMaterial||ie.clipping===!0)&&(Vt.clippingPlanes=Fe.uniform),Xe(ie,Ie),Ve.needsLights=Ln(ie),Ve.lightsStateVersion=Ot,Ve.needsLights&&(Vt.ambientLightColor.value=Ue.state.ambient,Vt.lightProbe.value=Ue.state.probe,Vt.directionalLights.value=Ue.state.directional,Vt.directionalLightShadows.value=Ue.state.directionalShadow,Vt.spotLights.value=Ue.state.spot,Vt.spotLightShadows.value=Ue.state.spotShadow,Vt.rectAreaLights.value=Ue.state.rectArea,Vt.ltc_1.value=Ue.state.rectAreaLTC1,Vt.ltc_2.value=Ue.state.rectAreaLTC2,Vt.pointLights.value=Ue.state.point,Vt.pointLightShadows.value=Ue.state.pointShadow,Vt.hemisphereLights.value=Ue.state.hemi,Vt.directionalShadowMap.value=Ue.state.directionalShadowMap,Vt.directionalShadowMatrix.value=Ue.state.directionalShadowMatrix,Vt.spotShadowMap.value=Ue.state.spotShadowMap,Vt.spotLightMatrix.value=Ue.state.spotLightMatrix,Vt.spotLightMap.value=Ue.state.spotLightMap,Vt.pointShadowMap.value=Ue.state.pointShadowMap,Vt.pointShadowMatrix.value=Ue.state.pointShadowMatrix),Ve.currentProgram=wt,Ve.uniformsList=null,wt}function gc(ie){if(ie.uniformsList===null){const De=ie.currentProgram.getUniforms();ie.uniformsList=Hm.seqWithValue(De.seq,ie.uniforms)}return ie.uniformsList}function Xe(ie,De){const Ke=ve.get(ie);Ke.outputColorSpace=De.outputColorSpace,Ke.batching=De.batching,Ke.instancing=De.instancing,Ke.instancingColor=De.instancingColor,Ke.instancingMorph=De.instancingMorph,Ke.skinning=De.skinning,Ke.morphTargets=De.morphTargets,Ke.morphNormals=De.morphNormals,Ke.morphColors=De.morphColors,Ke.morphTargetsCount=De.morphTargetsCount,Ke.numClippingPlanes=De.numClippingPlanes,Ke.numIntersection=De.numClipIntersection,Ke.vertexAlphas=De.vertexAlphas,Ke.vertexTangents=De.vertexTangents,Ke.toneMapping=De.toneMapping}function mt(ie,De,Ke,Ve,Ue){De.isScene!==!0&&(De=de),he.resetTextureUnits();const _t=De.fog,Ot=Ve.isMeshStandardMaterial?De.environment:null,Ie=C===null?b.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:xi,Qe=(Ve.isMeshStandardMaterial?W:xe).get(Ve.envMap||Ot),ut=Ve.vertexColors===!0&&!!Ke.attributes.color&&Ke.attributes.color.itemSize===4,wt=!!Ke.attributes.tangent&&(!!Ve.normalMap||Ve.anisotropy>0),Vt=!!Ke.morphAttributes.position,bn=!!Ke.morphAttributes.normal,Ni=!!Ke.morphAttributes.color;let ys=mo;Ve.toneMapped&&(C===null||C.isXRRenderTarget===!0)&&(ys=b.toneMapping);const Xr=Ke.morphAttributes.position||Ke.morphAttributes.normal||Ke.morphAttributes.color,_n=Xr!==void 0?Xr.length:0,qt=ve.get(Ve),dd=y.state.lights;if(ee===!0&&(ye===!0||ie!==E)){const Os=ie===E&&Ve.id===T;Fe.setState(Ve,ie,Os)}let Un=!1;Ve.version===qt.__version?(qt.needsLights&&qt.lightsStateVersion!==dd.state.version||qt.outputColorSpace!==Ie||Ue.isBatchedMesh&&qt.batching===!1||!Ue.isBatchedMesh&&qt.batching===!0||Ue.isInstancedMesh&&qt.instancing===!1||!Ue.isInstancedMesh&&qt.instancing===!0||Ue.isSkinnedMesh&&qt.skinning===!1||!Ue.isSkinnedMesh&&qt.skinning===!0||Ue.isInstancedMesh&&qt.instancingColor===!0&&Ue.instanceColor===null||Ue.isInstancedMesh&&qt.instancingColor===!1&&Ue.instanceColor!==null||Ue.isInstancedMesh&&qt.instancingMorph===!0&&Ue.morphTexture===null||Ue.isInstancedMesh&&qt.instancingMorph===!1&&Ue.morphTexture!==null||qt.envMap!==Qe||Ve.fog===!0&&qt.fog!==_t||qt.numClippingPlanes!==void 0&&(qt.numClippingPlanes!==Fe.numPlanes||qt.numIntersection!==Fe.numIntersection)||qt.vertexAlphas!==ut||qt.vertexTangents!==wt||qt.morphTargets!==Vt||qt.morphNormals!==bn||qt.morphColors!==Ni||qt.toneMapping!==ys||qt.morphTargetsCount!==_n)&&(Un=!0):(Un=!0,qt.__version=Ve.version);let Ga=qt.currentProgram;Un===!0&&(Ga=Lo(Ve,De,Ue));let $x=!1,fd=!1,Zv=!1;const Di=Ga.getUniforms(),No=qt.uniforms;if(q.useProgram(Ga.program)&&($x=!0,fd=!0,Zv=!0),Ve.id!==T&&(T=Ve.id,fd=!0),$x||E!==ie){Di.setValue(Q,"projectionMatrix",ie.projectionMatrix),Di.setValue(Q,"viewMatrix",ie.matrixWorldInverse);const Os=Di.map.cameraPosition;Os!==void 0&&Os.setValue(Q,oe.setFromMatrixPosition(ie.matrixWorld)),K.logarithmicDepthBuffer&&Di.setValue(Q,"logDepthBufFC",2/(Math.log(ie.far+1)/Math.LN2)),(Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshLambertMaterial||Ve.isMeshBasicMaterial||Ve.isMeshStandardMaterial||Ve.isShaderMaterial)&&Di.setValue(Q,"isOrthographic",ie.isOrthographicCamera===!0),E!==ie&&(E=ie,fd=!0,Zv=!0)}if(Ue.isSkinnedMesh){Di.setOptional(Q,Ue,"bindMatrix"),Di.setOptional(Q,Ue,"bindMatrixInverse");const Os=Ue.skeleton;Os&&(Os.boneTexture===null&&Os.computeBoneTexture(),Di.setValue(Q,"boneTexture",Os.boneTexture,he))}Ue.isBatchedMesh&&(Di.setOptional(Q,Ue,"batchingTexture"),Di.setValue(Q,"batchingTexture",Ue._matricesTexture,he));const Jv=Ke.morphAttributes;if((Jv.position!==void 0||Jv.normal!==void 0||Jv.color!==void 0)&&He.update(Ue,Ke,Ga),(fd||qt.receiveShadow!==Ue.receiveShadow)&&(qt.receiveShadow=Ue.receiveShadow,Di.setValue(Q,"receiveShadow",Ue.receiveShadow)),Ve.isMeshGouraudMaterial&&Ve.envMap!==null&&(No.envMap.value=Qe,No.flipEnvMap.value=Qe.isCubeTexture&&Qe.isRenderTargetTexture===!1?-1:1),Ve.isMeshStandardMaterial&&Ve.envMap===null&&De.environment!==null&&(No.envMapIntensity.value=De.environmentIntensity),fd&&(Di.setValue(Q,"toneMappingExposure",b.toneMappingExposure),qt.needsLights&&hn(No,Zv),_t&&Ve.fog===!0&&Re.refreshFogUniforms(No,_t),Re.refreshMaterialUniforms(No,Ve,I,D,y.state.transmissionRenderTarget[ie.id]),Hm.upload(Q,gc(qt),No,he)),Ve.isShaderMaterial&&Ve.uniformsNeedUpdate===!0&&(Hm.upload(Q,gc(qt),No,he),Ve.uniformsNeedUpdate=!1),Ve.isSpriteMaterial&&Di.setValue(Q,"center",Ue.center),Di.setValue(Q,"modelViewMatrix",Ue.modelViewMatrix),Di.setValue(Q,"normalMatrix",Ue.normalMatrix),Di.setValue(Q,"modelMatrix",Ue.matrixWorld),Ve.isShaderMaterial||Ve.isRawShaderMaterial){const Os=Ve.uniformsGroups;for(let Qv=0,cN=Os.length;Qv<cN;Qv++){const Hx=Os[Qv];Ae.update(Hx,Ga),Ae.bind(Hx,Ga)}}return Ga}function hn(ie,De){ie.ambientLightColor.needsUpdate=De,ie.lightProbe.needsUpdate=De,ie.directionalLights.needsUpdate=De,ie.directionalLightShadows.needsUpdate=De,ie.pointLights.needsUpdate=De,ie.pointLightShadows.needsUpdate=De,ie.spotLights.needsUpdate=De,ie.spotLightShadows.needsUpdate=De,ie.rectAreaLights.needsUpdate=De,ie.hemisphereLights.needsUpdate=De}function Ln(ie){return ie.isMeshLambertMaterial||ie.isMeshToonMaterial||ie.isMeshPhongMaterial||ie.isMeshStandardMaterial||ie.isShadowMaterial||ie.isShaderMaterial&&ie.lights===!0}this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(ie,De,Ke){ve.get(ie.texture).__webglTexture=De,ve.get(ie.depthTexture).__webglTexture=Ke;const Ve=ve.get(ie);Ve.__hasExternalTextures=!0,Ve.__autoAllocateDepthBuffer=Ke===void 0,Ve.__autoAllocateDepthBuffer||me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ve.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(ie,De){const Ke=ve.get(ie);Ke.__webglFramebuffer=De,Ke.__useDefaultFramebuffer=De===void 0},this.setRenderTarget=function(ie,De=0,Ke=0){C=ie,S=De,x=Ke;let Ve=!0,Ue=null,_t=!1,Ot=!1;if(ie){const Qe=ve.get(ie);Qe.__useDefaultFramebuffer!==void 0?(q.bindFramebuffer(Q.FRAMEBUFFER,null),Ve=!1):Qe.__webglFramebuffer===void 0?he.setupRenderTarget(ie):Qe.__hasExternalTextures&&he.rebindTextures(ie,ve.get(ie.texture).__webglTexture,ve.get(ie.depthTexture).__webglTexture);const ut=ie.texture;(ut.isData3DTexture||ut.isDataArrayTexture||ut.isCompressedArrayTexture)&&(Ot=!0);const wt=ve.get(ie).__webglFramebuffer;ie.isWebGLCubeRenderTarget?(Array.isArray(wt[De])?Ue=wt[De][Ke]:Ue=wt[De],_t=!0):ie.samples>0&&he.useMultisampledRTT(ie)===!1?Ue=ve.get(ie).__webglMultisampledFramebuffer:Array.isArray(wt)?Ue=wt[Ke]:Ue=wt,M.copy(ie.viewport),R.copy(ie.scissor),O=ie.scissorTest}else M.copy(B).multiplyScalar(I).floor(),R.copy(G).multiplyScalar(I).floor(),O=J;if(q.bindFramebuffer(Q.FRAMEBUFFER,Ue)&&Ve&&q.drawBuffers(ie,Ue),q.viewport(M),q.scissor(R),q.setScissorTest(O),_t){const Qe=ve.get(ie.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_CUBE_MAP_POSITIVE_X+De,Qe.__webglTexture,Ke)}else if(Ot){const Qe=ve.get(ie.texture),ut=De||0;Q.framebufferTextureLayer(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Qe.__webglTexture,Ke||0,ut)}T=-1},this.readRenderTargetPixels=function(ie,De,Ke,Ve,Ue,_t,Ot){if(!(ie&&ie.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ie=ve.get(ie).__webglFramebuffer;if(ie.isWebGLCubeRenderTarget&&Ot!==void 0&&(Ie=Ie[Ot]),Ie){q.bindFramebuffer(Q.FRAMEBUFFER,Ie);try{const Qe=ie.texture,ut=Qe.format,wt=Qe.type;if(!K.textureFormatReadable(ut)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!K.textureTypeReadable(wt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}De>=0&&De<=ie.width-Ve&&Ke>=0&&Ke<=ie.height-Ue&&Q.readPixels(De,Ke,Ve,Ue,we.convert(ut),we.convert(wt),_t)}finally{const Qe=C!==null?ve.get(C).__webglFramebuffer:null;q.bindFramebuffer(Q.FRAMEBUFFER,Qe)}}},this.copyFramebufferToTexture=function(ie,De,Ke=0){const Ve=Math.pow(2,-Ke),Ue=Math.floor(De.image.width*Ve),_t=Math.floor(De.image.height*Ve);he.setTexture2D(De,0),Q.copyTexSubImage2D(Q.TEXTURE_2D,Ke,0,0,ie.x,ie.y,Ue,_t),q.unbindTexture()},this.copyTextureToTexture=function(ie,De,Ke,Ve=0){const Ue=De.image.width,_t=De.image.height,Ot=we.convert(Ke.format),Ie=we.convert(Ke.type);he.setTexture2D(Ke,0),Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,Ke.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ke.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,Ke.unpackAlignment),De.isDataTexture?Q.texSubImage2D(Q.TEXTURE_2D,Ve,ie.x,ie.y,Ue,_t,Ot,Ie,De.image.data):De.isCompressedTexture?Q.compressedTexSubImage2D(Q.TEXTURE_2D,Ve,ie.x,ie.y,De.mipmaps[0].width,De.mipmaps[0].height,Ot,De.mipmaps[0].data):Q.texSubImage2D(Q.TEXTURE_2D,Ve,ie.x,ie.y,Ot,Ie,De.image),Ve===0&&Ke.generateMipmaps&&Q.generateMipmap(Q.TEXTURE_2D),q.unbindTexture()},this.copyTextureToTexture3D=function(ie,De,Ke,Ve,Ue=0){const _t=ie.max.x-ie.min.x,Ot=ie.max.y-ie.min.y,Ie=ie.max.z-ie.min.z,Qe=we.convert(Ve.format),ut=we.convert(Ve.type);let wt;if(Ve.isData3DTexture)he.setTexture3D(Ve,0),wt=Q.TEXTURE_3D;else if(Ve.isDataArrayTexture||Ve.isCompressedArrayTexture)he.setTexture2DArray(Ve,0),wt=Q.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,Ve.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ve.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,Ve.unpackAlignment);const Vt=Q.getParameter(Q.UNPACK_ROW_LENGTH),bn=Q.getParameter(Q.UNPACK_IMAGE_HEIGHT),Ni=Q.getParameter(Q.UNPACK_SKIP_PIXELS),ys=Q.getParameter(Q.UNPACK_SKIP_ROWS),Xr=Q.getParameter(Q.UNPACK_SKIP_IMAGES),_n=Ke.isCompressedTexture?Ke.mipmaps[Ue]:Ke.image;Q.pixelStorei(Q.UNPACK_ROW_LENGTH,_n.width),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,_n.height),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,ie.min.x),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,ie.min.y),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,ie.min.z),Ke.isDataTexture||Ke.isData3DTexture?Q.texSubImage3D(wt,Ue,De.x,De.y,De.z,_t,Ot,Ie,Qe,ut,_n.data):Ve.isCompressedArrayTexture?Q.compressedTexSubImage3D(wt,Ue,De.x,De.y,De.z,_t,Ot,Ie,Qe,_n.data):Q.texSubImage3D(wt,Ue,De.x,De.y,De.z,_t,Ot,Ie,Qe,ut,_n),Q.pixelStorei(Q.UNPACK_ROW_LENGTH,Vt),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,bn),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,Ni),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,ys),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,Xr),Ue===0&&Ve.generateMipmaps&&Q.generateMipmap(wt),q.unbindTexture()},this.initTexture=function(ie){ie.isCubeTexture?he.setTextureCube(ie,0):ie.isData3DTexture?he.setTexture3D(ie,0):ie.isDataArrayTexture||ie.isCompressedArrayTexture?he.setTexture2DArray(ie,0):he.setTexture2D(ie,0),q.unbindTexture()},this.resetState=function(){S=0,x=0,C=null,q.reset(),pe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Dr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===Mv?"display-p3":"srgb",n.unpackColorSpace=gn.workingColorSpace===Th?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class Rv{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new ct(e),this.density=n}clone(){return new Rv(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Pv{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new ct(e),this.near=n,this.far=i}clone(){return new Pv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Ih extends Qt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Jn,this.environmentIntensity=1,this.environmentRotation=new Jn,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class kh{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Jf,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Ps()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return tL("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let s=0,r=this.stride;s<r;s++)this.array[e+s]=n.array[i+s];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ps()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ps()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Zi=new Z;class Ra{constructor(e,n,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)Zi.fromBufferAttribute(this,n),Zi.applyMatrix4(e),this.setXYZ(n,Zi.x,Zi.y,Zi.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Zi.fromBufferAttribute(this,n),Zi.applyNormalMatrix(e),this.setXYZ(n,Zi.x,Zi.y,Zi.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Zi.fromBufferAttribute(this,n),Zi.transformDirection(e),this.setXYZ(n,Zi.x,Zi.y,Zi.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=es(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Zt(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=Zt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Zt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Zt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Zt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=es(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=es(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=es(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=es(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Zt(n,this.array),i=Zt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Zt(n,this.array),i=Zt(i,this.array),s=Zt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=s,this}setXYZW(e,n,i,s,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Zt(n,this.array),i=Zt(i,this.array),s=Zt(s,this.array),r=Zt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=s,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[s+r])}return new ln(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ra(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)n.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Iv extends _i{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ct(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Bc;const Cd=new Z,Uc=new Z,zc=new Z,Vc=new qe,Ed=new qe,gL=new Ct,Rp=new Z,Td=new Z,Pp=new Z,aT=new qe,cy=new qe,lT=new qe;class sa extends Qt{constructor(e=new Iv){if(super(),this.isSprite=!0,this.type="Sprite",Bc===void 0){Bc=new Yt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new kh(n,5);Bc.setIndex([0,1,2,0,2,3]),Bc.setAttribute("position",new Ra(i,3,0,!1)),Bc.setAttribute("uv",new Ra(i,2,3,!1))}this.geometry=Bc,this.material=e,this.center=new qe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Uc.setFromMatrixScale(this.matrixWorld),gL.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),zc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Uc.multiplyScalar(-zc.z);const i=this.material.rotation;let s,r;i!==0&&(r=Math.cos(i),s=Math.sin(i));const o=this.center;Ip(Rp.set(-.5,-.5,0),zc,o,Uc,s,r),Ip(Td.set(.5,-.5,0),zc,o,Uc,s,r),Ip(Pp.set(.5,.5,0),zc,o,Uc,s,r),aT.set(0,0),cy.set(1,0),lT.set(1,1);let a=e.ray.intersectTriangle(Rp,Td,Pp,!1,Cd);if(a===null&&(Ip(Td.set(-.5,.5,0),zc,o,Uc,s,r),cy.set(0,1),a=e.ray.intersectTriangle(Rp,Pp,Td,!1,Cd),a===null))return;const l=e.ray.origin.distanceTo(Cd);l<e.near||l>e.far||n.push({distance:l,point:Cd.clone(),uv:Ms.getInterpolation(Cd,Rp,Td,Pp,aT,cy,lT,new qe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ip(t,e,n,i,s,r){Vc.subVectors(t,n).addScalar(.5).multiply(i),s!==void 0?(Ed.x=r*Vc.x-s*Vc.y,Ed.y=s*Vc.x+r*Vc.y):Ed.copy(Vc),t.copy(e),t.x+=Ed.x,t.y+=Ed.y,t.applyMatrix4(gL)}const kp=new Z,cT=new Z;class vL extends Qt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,s=n.length;i<s;i++){const r=n[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const s=this.levels;let r;for(r=0;r<s.length&&!(n<s[r].distance);r++);return s.splice(r,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,s;for(i=1,s=n.length;i<s;i++){let r=n[i].distance;if(n[i].object.visible&&(r-=r*n[i].hysteresis),e<r)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){kp.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(kp);this.getObjectForDistance(s).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){kp.setFromMatrixPosition(e.matrixWorld),cT.setFromMatrixPosition(this.matrixWorld);const i=kp.distanceTo(cT)/e.zoom;n[0].object.visible=!0;let s,r;for(s=1,r=n.length;s<r;s++){let o=n[s].distance;if(n[s].object.visible&&(o-=o*n[s].hysteresis),i>=o)n[s-1].object.visible=!1,n[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<r;s++)n[s].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let s=0,r=i.length;s<r;s++){const o=i[s];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const uT=new Z,dT=new dn,fT=new dn,Zge=new Z,hT=new Ct,Op=new Z,uy=new di,pT=new Ct,dy=new od;class yx extends vt{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=rb,this.bindMatrix=new Ct,this.bindMatrixInverse=new Ct,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Bn),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,Op),this.boundingBox.expandByPoint(Op)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new di),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,Op),this.boundingSphere.expandByPoint(Op)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),uy.copy(this.boundingSphere),uy.applyMatrix4(s),e.ray.intersectsSphere(uy)!==!1&&(pT.copy(s).invert(),dy.copy(e.ray).applyMatrix4(pT),!(this.boundingBox!==null&&dy.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,dy)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new dn,n=this.geometry.attributes.skinWeight;for(let i=0,s=n.count;i<s;i++){e.fromBufferAttribute(n,i);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===rb?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===RO?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,s=this.geometry;dT.fromBufferAttribute(s.attributes.skinIndex,e),fT.fromBufferAttribute(s.attributes.skinWeight,e),uT.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let r=0;r<4;r++){const o=fT.getComponent(r);if(o!==0){const a=dT.getComponent(r);hT.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),n.addScaledVector(Zge.copy(uT).applyMatrix4(hT),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class kv extends Qt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ga extends Hn{constructor(e=null,n=1,i=1,s,r,o,a,l,c=vi,u=vi,d,f){super(null,o,a,l,c,u,s,r,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const mT=new Ct,Jge=new Ct;class Oh{constructor(e=[],n=[]){this.uuid=Ps(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new Ct)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new Ct;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const a=e[r]?e[r].matrixWorld:Jge;mT.multiplyMatrices(a,n[r]),mT.toArray(i,r*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new Oh(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new ga(n,e,e,hs,Gs);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const s=this.bones[n];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,s=e.bones.length;i<s;i++){const r=e.bones[i];let o=n[r];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new kv),this.bones.push(o),this.boneInverses.push(new Ct().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let s=0,r=n.length;s<r;s++){const o=n[s];e.bones.push(o.uuid);const a=i[s];e.boneInverses.push(a.toArray())}return e}}class pr extends ln{constructor(e,n,i,s=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const $c=new Ct,gT=new Ct,Lp=[],vT=new Bn,Qge=new Ct,Ad=new vt,Rd=new di;class kl extends vt{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new pr(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,Qge)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Bn),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,$c),vT.copy(e.boundingBox).applyMatrix4($c),this.boundingBox.union(vT)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new di),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,$c),Rd.copy(e.boundingSphere).applyMatrix4($c),this.boundingSphere.union(Rd)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,s=this.morphTexture.source.data.data,r=i.length+1,o=e*r+1;for(let a=0;a<i.length;a++)i[a]=s[o+a]}raycast(e,n){const i=this.matrixWorld,s=this.count;if(Ad.geometry=this.geometry,Ad.material=this.material,Ad.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Rd.copy(this.boundingSphere),Rd.applyMatrix4(i),e.ray.intersectsSphere(Rd)!==!1))for(let r=0;r<s;r++){this.getMatrixAt(r,$c),gT.multiplyMatrices(i,$c),Ad.matrixWorld=gT,Ad.raycast(e,Lp);for(let o=0,a=Lp.length;o<a;o++){const l=Lp[o];l.instanceId=r,l.object=this,n.push(l)}Lp.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new pr(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new ga(new Float32Array(s*this.count),s,this.count,ix,Gs));const r=this.morphTexture.source.data.data;let o=0;for(let c=0;c<i.length;c++)o+=i[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=s*e;r[l]=a,r.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function eve(t,e){return t.z-e.z}function tve(t,e){return e.z-t.z}class nve{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const i=this.pool,s=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1});const r=i[this.index];s.push(r),this.index++,r.start=e.start,r.count=e.count,r.z=n}reset(){this.list.length=0,this.index=0}}const Hc="batchId",Go=new Ct,yT=new Ct,ive=new Ct,bT=new Ct,fy=new Rh,Np=new Bn,il=new di,Pd=new Z,hy=new nve,Ui=new vt,Dp=[];function sve(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const s=t.count;for(let r=0;r<s;r++)for(let o=0;o<i;o++)e.setComponent(r+n,o,t.getComponent(r,o))}else e.array.set(t.array,n*i);e.needsUpdate=!0}class yL extends vt{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,i=n*2,s){super(new Yt,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new ga(n,e,e,hs,Gs);this._matricesTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,s=this._maxGeometryCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:u,normalized:d}=l,f=new c.constructor(i*u),p=new ln(f,u,d);n.setAttribute(a,p)}if(e.getIndex()!==null){const a=i>65536?new Uint32Array(r):new Uint16Array(r);n.setIndex(new ln(a,1))}const o=s>65536?new Uint32Array(i):new Uint16Array(i);n.setAttribute(Hc,new ln(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Hc))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Hc}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(i===Hc)continue;if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=e.getAttribute(i),r=n.getAttribute(i);if(s.itemSize!==r.itemSize||s.normalized!==r.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Bn);const e=this._geometryCount,n=this.boundingBox,i=this._active;n.makeEmpty();for(let s=0;s<e;s++)i[s]!==!1&&(this.getMatrixAt(s,Go),this.getBoundingBoxAt(s,Np).applyMatrix4(Go),n.union(Np))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new di);const e=this._geometryCount,n=this.boundingSphere,i=this._active;n.makeEmpty();for(let s=0;s<e;s++)i[s]!==!1&&(this.getMatrixAt(s,Go),this.getBoundingSphereAt(s,il).applyMatrix4(Go),n.union(il))}addGeometry(e,n=-1,i=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const s={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let r=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(r=o[o.length-1]),n===-1?s.vertexCount=e.getAttribute("position").count:s.vertexCount=n,r===null?s.vertexStart=0:s.vertexStart=r.vertexStart+r.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(i===-1?s.indexCount=c.count:s.indexCount=i,r===null?s.indexStart=0:s.indexStart=r.indexStart+r.indexCount),s.indexStart!==-1&&s.indexStart+s.indexCount>this._maxIndexCount||s.vertexStart+s.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._visibility,f=this._active,p=this._matricesTexture,g=this._matricesTexture.image.data;d.push(!0),f.push(!0);const m=this._geometryCount;this._geometryCount++,ive.toArray(g,m*16),p.needsUpdate=!0,o.push(s),a.push({start:u?s.indexStart:s.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Bn,sphereInitialized:!1,sphere:new di});const y=this.geometry.getAttribute(Hc);for(let v=0;v<s.vertexCount;v++)y.setX(s.vertexStart+v,m);return y.needsUpdate=!0,this.setGeometryAt(m,e),m}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,s=i.getIndex()!==null,r=i.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(s&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const p in i.attributes){if(p===Hc)continue;const g=n.getAttribute(p),m=i.getAttribute(p);sve(g,m,l);const y=g.itemSize;for(let v=g.count,_=c;v<_;v++){const b=l+v;for(let w=0;w<y;w++)m.setComponent(b,w,0)}m.needsUpdate=!0,m.addUpdateRange(l*y,c*y)}if(s){const p=a.indexStart;for(let g=0;g<o.count;g++)r.setX(p+g,l+o.getX(g));for(let g=o.count,m=a.indexCount;g<m;g++)r.setX(p+g,l);r.needsUpdate=!0,r.addUpdateRange(p,a.indexCount)}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const d=this._drawRanges[e],f=n.getAttribute("position");return d.count=s?o.count:f.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(e){return this._multiDrawInstances===null?null:this._multiDrawInstances[e]}setInstanceCountAt(e,n){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=n,e}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const s=this._bounds[e],r=s.box,o=this.geometry;if(s.boxInitialized===!1){r.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let u=c.start,d=c.start+c.count;u<d;u++){let f=u;a&&(f=a.getX(f)),r.expandByPoint(Pd.fromBufferAttribute(l,f))}s.boxInitialized=!0}return n.copy(r),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const s=this._bounds[e],r=s.sphere,o=this.geometry;if(s.sphereInitialized===!1){r.makeEmpty(),this.getBoundingBoxAt(e,Np),Np.getCenter(r.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let u=0;for(let d=c.start,f=c.start+c.count;d<f;d++){let p=d;a&&(p=a.getX(p)),Pd.fromBufferAttribute(l,p),u=Math.max(u,r.center.distanceToSquared(Pd))}r.radius=Math.sqrt(u),s.sphereInitialized=!0}return n.copy(r),n}setMatrixAt(e,n){const i=this._active,s=this._matricesTexture,r=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||i[e]===!1?this:(n.toArray(r,e*16),s.needsUpdate=!0,this)}getMatrixAt(e,n){const i=this._active,s=this._matricesTexture.image.data,r=this._geometryCount;return e>=r||i[e]===!1?null:n.fromArray(s,e*16)}setVisibleAt(e,n){const i=this._visibility,s=this._active,r=this._geometryCount;return e>=r||s[e]===!1||i[e]===n?this:(i[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1?!1:n[e]}raycast(e,n){const i=this._visibility,s=this._active,r=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Ui.material=this.material,Ui.geometry.index=l.index,Ui.geometry.attributes=l.attributes,Ui.geometry.boundingBox===null&&(Ui.geometry.boundingBox=new Bn),Ui.geometry.boundingSphere===null&&(Ui.geometry.boundingSphere=new di);for(let c=0;c<o;c++){if(!i[c]||!s[c])continue;const u=r[c];Ui.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,Ui.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Ui.geometry.boundingBox),this.getBoundingSphereAt(c,Ui.geometry.boundingSphere),Ui.raycast(e,Dp);for(let d=0,f=Dp.length;d<f;d++){const p=Dp[d];p.object=this,p.batchId=c,n.push(p)}Dp.length=0}Ui.material=null,Ui.geometry.index=null,Ui.geometry.attributes={},Ui.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,i,s,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=s.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,c=this._visibility,u=this._multiDrawStarts,d=this._multiDrawCounts,f=this._drawRanges,p=this.perObjectFrustumCulled;p&&(bT.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),fy.setFromProjectionMatrix(bT,e.coordinateSystem));let g=0;if(this.sortObjects){yT.copy(this.matrixWorld).invert(),Pd.setFromMatrixPosition(i.matrixWorld).applyMatrix4(yT);for(let v=0,_=c.length;v<_;v++)if(c[v]&&l[v]){this.getMatrixAt(v,Go),this.getBoundingSphereAt(v,il).applyMatrix4(Go);let b=!1;if(p&&(b=!fy.intersectsSphere(il)),!b){const w=Pd.distanceTo(il.center);hy.push(f[v],w)}}const m=hy.list,y=this.customSort;y===null?m.sort(r.transparent?tve:eve):y.call(this,m,i);for(let v=0,_=m.length;v<_;v++){const b=m[v];u[g]=b.start*a,d[g]=b.count,g++}hy.reset()}else for(let m=0,y=c.length;m<y;m++)if(c[m]&&l[m]){let v=!1;if(p&&(this.getMatrixAt(m,Go),this.getBoundingSphereAt(m,il).applyMatrix4(Go),v=!fy.intersectsSphere(il)),!v){const _=f[m];u[g]=_.start*a,d[g]=_.count,g++}}this._multiDrawCount=g,this._visibilityChanged=!1}onBeforeShadow(e,n,i,s,r,o){this.onBeforeRender(e,null,s,r,o)}}class Ri extends _i{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ct(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Eg=new Z,Tg=new Z,_T=new Ct,Id=new od,Fp=new di,py=new Z,wT=new Z;class So extends Qt{constructor(e=new Yt,n=new Ri){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let s=1,r=n.count;s<r;s++)Eg.fromBufferAttribute(n,s-1),Tg.fromBufferAttribute(n,s),i[s]=i[s-1],i[s]+=Eg.distanceTo(Tg);e.setAttribute("lineDistance",new Et(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,s=this.matrixWorld,r=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Fp.copy(i.boundingSphere),Fp.applyMatrix4(s),Fp.radius+=r,e.ray.intersectsSphere(Fp)===!1)return;_T.copy(s).invert(),Id.copy(e.ray).applyMatrix4(_T);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,u=i.index,f=i.attributes.position;if(u!==null){const p=Math.max(0,o.start),g=Math.min(u.count,o.start+o.count);for(let m=p,y=g-1;m<y;m+=c){const v=u.getX(m),_=u.getX(m+1),b=Bp(this,e,Id,l,v,_);b&&n.push(b)}if(this.isLineLoop){const m=u.getX(g-1),y=u.getX(p),v=Bp(this,e,Id,l,m,y);v&&n.push(v)}}else{const p=Math.max(0,o.start),g=Math.min(f.count,o.start+o.count);for(let m=p,y=g-1;m<y;m+=c){const v=Bp(this,e,Id,l,m,m+1);v&&n.push(v)}if(this.isLineLoop){const m=Bp(this,e,Id,l,g-1,p);m&&n.push(m)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function Bp(t,e,n,i,s,r){const o=t.geometry.attributes.position;if(Eg.fromBufferAttribute(o,s),Tg.fromBufferAttribute(o,r),n.distanceSqToSegment(Eg,Tg,py,wT)>i)return;py.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(py);if(!(l<e.near||l>e.far))return{distance:l,point:wT.clone().applyMatrix4(t.matrixWorld),index:s,face:null,faceIndex:null,object:t}}const xT=new Z,ST=new Z;class xr extends So{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let s=0,r=n.count;s<r;s+=2)xT.fromBufferAttribute(n,s),ST.fromBufferAttribute(n,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+xT.distanceTo(ST);e.setAttribute("lineDistance",new Et(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class bx extends So{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Ov extends _i{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ct(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const MT=new Ct,Db=new od,Up=new di,zp=new Z;class _x extends Qt{constructor(e=new Yt,n=new Ov){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,s=this.matrixWorld,r=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Up.copy(i.boundingSphere),Up.applyMatrix4(s),Up.radius+=r,e.ray.intersectsSphere(Up)===!1)return;MT.copy(s).invert(),Db.copy(e.ray).applyMatrix4(MT);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(c!==null){const f=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let g=f,m=p;g<m;g++){const y=c.getX(g);zp.fromBufferAttribute(d,y),CT(zp,y,l,s,e,n,this)}}else{const f=Math.max(0,o.start),p=Math.min(d.count,o.start+o.count);for(let g=f,m=p;g<m;g++)zp.fromBufferAttribute(d,g),CT(zp,g,l,s,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const s=n[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function CT(t,e,n,i,s,r,o){const a=Db.distanceSqToPoint(t);if(a<n){const l=new Z;Db.closestPointToPoint(t,l),l.applyMatrix4(i);const c=s.ray.origin.distanceTo(l);if(c<s.near||c>s.far)return;r.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class rve extends Hn{constructor(e,n,i,s,r,o,a,l,c){super(e,n,i,s,r,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:$n,this.magFilter=r!==void 0?r:$n,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class ove extends Hn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=vi,this.minFilter=vi,this.generateMipmaps=!1,this.needsUpdate=!0}}class Lv extends Hn{constructor(e,n,i,s,r,o,a,l,c,u,d,f){super(null,o,a,l,c,u,s,r,d,f),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class ave extends Lv{constructor(e,n,i,s,r,o){super(e,n,i,r,o),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Es}}class lve extends Lv{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,wo),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class wx extends Hn{constructor(e,n,i,s,r,o,a,l,c){super(e,n,i,s,r,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Sr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,s=this.getPoint(0),r=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),r+=i.distanceTo(s),n.push(r),s=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let s=0;const r=i.length;let o;n?o=n:o=e*i[r-1];let a=0,l=r-1,c;for(;a<=l;)if(s=Math.floor(a+(l-a)/2),c=i[s]-o,c<0)a=s+1;else if(c>0)l=s-1;else{l=s;break}if(s=l,i[s]===o)return s/(r-1);const u=i[s],f=i[s+1]-u,p=(o-u)/f;return(s+p)/(r-1)}getTangent(e,n){let s=e-1e-4,r=e+1e-4;s<0&&(s=0),r>1&&(r=1);const o=this.getPoint(s),a=this.getPoint(r),l=n||(o.isVector2?new qe:new Z);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new Z,s=[],r=[],o=[],a=new Z,l=new Ct;for(let p=0;p<=e;p++){const g=p/e;s[p]=this.getTangentAt(g,new Z)}r[0]=new Z,o[0]=new Z;let c=Number.MAX_VALUE;const u=Math.abs(s[0].x),d=Math.abs(s[0].y),f=Math.abs(s[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),f<=c&&i.set(0,0,1),a.crossVectors(s[0],i).normalize(),r[0].crossVectors(s[0],a),o[0].crossVectors(s[0],r[0]);for(let p=1;p<=e;p++){if(r[p]=r[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(s[p-1],s[p]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(Zn(s[p-1].dot(s[p]),-1,1));r[p].applyMatrix4(l.makeRotationAxis(a,g))}o[p].crossVectors(s[p],r[p])}if(n===!0){let p=Math.acos(Zn(r[0].dot(r[e]),-1,1));p/=e,s[0].dot(a.crossVectors(r[0],r[e]))>0&&(p=-p);for(let g=1;g<=e;g++)r[g].applyMatrix4(l.makeRotationAxis(s[g],p*g)),o[g].crossVectors(s[g],r[g])}return{tangents:s,normals:r,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Nv extends Sr{constructor(e=0,n=0,i=1,s=1,r=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new qe){const i=n,s=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(o?r=0:r=s),this.aClockwise===!0&&!o&&(r===s?r=-s:r=r-s);const a=this.aStartAngle+e*r;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,p=c-this.aY;l=f*u-p*d+this.aX,c=f*d+p*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class bL extends Nv{constructor(e,n,i,s,r,o){super(e,n,i,i,s,r,o),this.isArcCurve=!0,this.type="ArcCurve"}}function xx(){let t=0,e=0,n=0,i=0;function s(r,o,a,l){t=r,e=a,n=-3*r+3*o-2*a-l,i=2*r-2*o+a+l}return{initCatmullRom:function(r,o,a,l,c){s(o,a,c*(a-r),c*(l-o))},initNonuniformCatmullRom:function(r,o,a,l,c,u,d){let f=(o-r)/c-(a-r)/(c+u)+(a-o)/u,p=(a-o)/u-(l-o)/(u+d)+(l-a)/d;f*=u,p*=u,s(o,a,f,p)},calc:function(r){const o=r*r,a=o*r;return t+e*r+n*o+i*a}}}const Vp=new Z,my=new xx,gy=new xx,vy=new xx;class _L extends Sr{constructor(e=[],n=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=s}getPoint(e,n=new Z){const i=n,s=this.points,r=s.length,o=(r-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/r)+1)*r:l===0&&a===r-1&&(a=r-2,l=1);let c,u;this.closed||a>0?c=s[(a-1)%r]:(Vp.subVectors(s[0],s[1]).add(s[0]),c=Vp);const d=s[a%r],f=s[(a+1)%r];if(this.closed||a+2<r?u=s[(a+2)%r]:(Vp.subVectors(s[r-1],s[r-2]).add(s[r-1]),u=Vp),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(d),p),m=Math.pow(d.distanceToSquared(f),p),y=Math.pow(f.distanceToSquared(u),p);m<1e-4&&(m=1),g<1e-4&&(g=m),y<1e-4&&(y=m),my.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,g,m,y),gy.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,g,m,y),vy.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,g,m,y)}else this.curveType==="catmullrom"&&(my.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),gy.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),vy.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return i.set(my.calc(l),gy.calc(l),vy.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const s=this.points[n];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(new Z().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function ET(t,e,n,i,s){const r=(i-e)*.5,o=(s-n)*.5,a=t*t,l=t*a;return(2*n-2*i+r+o)*l+(-3*n+3*i-2*r-o)*a+r*t+n}function cve(t,e){const n=1-t;return n*n*e}function uve(t,e){return 2*(1-t)*t*e}function dve(t,e){return t*t*e}function hf(t,e,n,i){return cve(t,e)+uve(t,n)+dve(t,i)}function fve(t,e){const n=1-t;return n*n*n*e}function hve(t,e){const n=1-t;return 3*n*n*t*e}function pve(t,e){return 3*(1-t)*t*t*e}function mve(t,e){return t*t*t*e}function pf(t,e,n,i,s){return fve(t,e)+hve(t,n)+pve(t,i)+mve(t,s)}class Sx extends Sr{constructor(e=new qe,n=new qe,i=new qe,s=new qe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=s}getPoint(e,n=new qe){const i=n,s=this.v0,r=this.v1,o=this.v2,a=this.v3;return i.set(pf(e,s.x,r.x,o.x,a.x),pf(e,s.y,r.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class wL extends Sr{constructor(e=new Z,n=new Z,i=new Z,s=new Z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=s}getPoint(e,n=new Z){const i=n,s=this.v0,r=this.v1,o=this.v2,a=this.v3;return i.set(pf(e,s.x,r.x,o.x,a.x),pf(e,s.y,r.y,o.y,a.y),pf(e,s.z,r.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Mx extends Sr{constructor(e=new qe,n=new qe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new qe){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new qe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xL extends Sr{constructor(e=new Z,n=new Z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Z){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Z){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Cx extends Sr{constructor(e=new qe,n=new qe,i=new qe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new qe){const i=n,s=this.v0,r=this.v1,o=this.v2;return i.set(hf(e,s.x,r.x,o.x),hf(e,s.y,r.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Ex extends Sr{constructor(e=new Z,n=new Z,i=new Z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Z){const i=n,s=this.v0,r=this.v1,o=this.v2;return i.set(hf(e,s.x,r.x,o.x),hf(e,s.y,r.y,o.y),hf(e,s.z,r.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Tx extends Sr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new qe){const i=n,s=this.points,r=(s.length-1)*e,o=Math.floor(r),a=r-o,l=s[o===0?o:o-1],c=s[o],u=s[o>s.length-2?s.length-1:o+1],d=s[o>s.length-3?s.length-1:o+2];return i.set(ET(a,l.x,c.x,u.x,d.x),ET(a,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const s=this.points[n];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const s=e.points[n];this.points.push(new qe().fromArray(s))}return this}}var Ag=Object.freeze({__proto__:null,ArcCurve:bL,CatmullRomCurve3:_L,CubicBezierCurve:Sx,CubicBezierCurve3:wL,EllipseCurve:Nv,LineCurve:Mx,LineCurve3:xL,QuadraticBezierCurve:Cx,QuadraticBezierCurve3:Ex,SplineCurve:Tx});class SL extends Sr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Ag[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=i){const o=s[r]-i,a=this.curves[r],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,s=this.curves.length;i<s;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let s=0,r=this.curves;s<r.length;s++){const o=r[s],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(n.push(u),i=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const s=e.curves[n];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const s=this.curves[n];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const s=e.curves[n];this.curves.push(new Ag[s.type]().fromJSON(s))}return this}}class th extends SL{constructor(e){super(),this.type="Path",this.currentPoint=new qe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new Mx(this.currentPoint.clone(),new qe(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,s){const r=new Cx(this.currentPoint.clone(),new qe(e,n),new qe(i,s));return this.curves.push(r),this.currentPoint.set(i,s),this}bezierCurveTo(e,n,i,s,r,o){const a=new Sx(this.currentPoint.clone(),new qe(e,n),new qe(i,s),new qe(r,o));return this.curves.push(a),this.currentPoint.set(r,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new Tx(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,s,r,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,i,s,r,o),this}absarc(e,n,i,s,r,o){return this.absellipse(e,n,i,i,s,r,o),this}ellipse(e,n,i,s,r,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,i,s,r,o,a,l),this}absellipse(e,n,i,s,r,o,a,l){const c=new Nv(e,n,i,s,r,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Lh extends Yt{constructor(e=[new qe(0,-.5),new qe(.5,0),new qe(0,.5)],n=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:s},n=Math.floor(n),s=Zn(s,0,Math.PI*2);const r=[],o=[],a=[],l=[],c=[],u=1/n,d=new Z,f=new qe,p=new Z,g=new Z,m=new Z;let y=0,v=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:y=e[_+1].x-e[_].x,v=e[_+1].y-e[_].y,p.x=v*1,p.y=-y,p.z=v*0,m.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(m.x,m.y,m.z);break;default:y=e[_+1].x-e[_].x,v=e[_+1].y-e[_].y,p.x=v*1,p.y=-y,p.z=v*0,g.copy(p),p.x+=m.x,p.y+=m.y,p.z+=m.z,p.normalize(),l.push(p.x,p.y,p.z),m.copy(g)}for(let _=0;_<=n;_++){const b=i+_*u*s,w=Math.sin(b),S=Math.cos(b);for(let x=0;x<=e.length-1;x++){d.x=e[x].x*w,d.y=e[x].y,d.z=e[x].x*S,o.push(d.x,d.y,d.z),f.x=_/n,f.y=x/(e.length-1),a.push(f.x,f.y);const C=l[3*x+0]*w,T=l[3*x+1],E=l[3*x+0]*S;c.push(C,T,E)}}for(let _=0;_<n;_++)for(let b=0;b<e.length-1;b++){const w=b+_*e.length,S=w,x=w+e.length,C=w+e.length+1,T=w+1;r.push(S,x,T),r.push(C,T,x)}this.setIndex(r),this.setAttribute("position",new Et(o,3)),this.setAttribute("uv",new Et(a,2)),this.setAttribute("normal",new Et(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lh(e.points,e.segments,e.phiStart,e.phiLength)}}class Dv extends Lh{constructor(e=1,n=1,i=4,s=8){const r=new th;r.absarc(0,-n/2,e,Math.PI*1.5,0),r.absarc(0,n/2,e,0,Math.PI*.5),super(r.getPoints(i),s),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:i,radialSegments:s}}static fromJSON(e){return new Dv(e.radius,e.length,e.capSegments,e.radialSegments)}}class Fv extends Yt{constructor(e=1,n=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:s},n=Math.max(3,n);const r=[],o=[],a=[],l=[],c=new Z,u=new qe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const p=i+d/n*s;c.x=e*Math.cos(p),c.y=e*Math.sin(p),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[f]/e+1)/2,u.y=(o[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)r.push(d,d+1,0);this.setIndex(r),this.setAttribute("position",new Et(o,3)),this.setAttribute("normal",new Et(a,3)),this.setAttribute("uv",new Et(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fv(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class li extends Yt{constructor(e=1,n=1,i=1,s=32,r=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:s,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:l};const c=this;s=Math.floor(s),r=Math.floor(r);const u=[],d=[],f=[],p=[];let g=0;const m=[],y=i/2;let v=0;_(),o===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new Et(d,3)),this.setAttribute("normal",new Et(f,3)),this.setAttribute("uv",new Et(p,2));function _(){const w=new Z,S=new Z;let x=0;const C=(n-e)/i;for(let T=0;T<=r;T++){const E=[],M=T/r,R=M*(n-e)+e;for(let O=0;O<=s;O++){const F=O/s,V=F*l+a,U=Math.sin(V),D=Math.cos(V);S.x=R*U,S.y=-M*i+y,S.z=R*D,d.push(S.x,S.y,S.z),w.set(U,C,D).normalize(),f.push(w.x,w.y,w.z),p.push(F,1-M),E.push(g++)}m.push(E)}for(let T=0;T<s;T++)for(let E=0;E<r;E++){const M=m[E][T],R=m[E+1][T],O=m[E+1][T+1],F=m[E][T+1];u.push(M,R,F),u.push(R,O,F),x+=6}c.addGroup(v,x,0),v+=x}function b(w){const S=g,x=new qe,C=new Z;let T=0;const E=w===!0?e:n,M=w===!0?1:-1;for(let O=1;O<=s;O++)d.push(0,y*M,0),f.push(0,M,0),p.push(.5,.5),g++;const R=g;for(let O=0;O<=s;O++){const V=O/s*l+a,U=Math.cos(V),D=Math.sin(V);C.x=E*D,C.y=y*M,C.z=E*U,d.push(C.x,C.y,C.z),f.push(0,M,0),x.x=U*.5+.5,x.y=D*.5*M+.5,p.push(x.x,x.y),g++}for(let O=0;O<s;O++){const F=S+O,V=R+O;w===!0?u.push(V,V+1,F):u.push(V+1,V,F),T+=3}c.addGroup(v,T,w===!0?1:2),v+=T}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new li(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Bv extends li{constructor(e=1,n=1,i=32,s=1,r=!1,o=0,a=Math.PI*2){super(0,e,n,i,s,r,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:s,openEnded:r,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Bv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Va extends Yt{constructor(e=[],n=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:s};const r=[],o=[];a(s),c(i),u(),this.setAttribute("position",new Et(r,3)),this.setAttribute("normal",new Et(r.slice(),3)),this.setAttribute("uv",new Et(o,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const b=new Z,w=new Z,S=new Z;for(let x=0;x<n.length;x+=3)p(n[x+0],b),p(n[x+1],w),p(n[x+2],S),l(b,w,S,_)}function l(_,b,w,S){const x=S+1,C=[];for(let T=0;T<=x;T++){C[T]=[];const E=_.clone().lerp(w,T/x),M=b.clone().lerp(w,T/x),R=x-T;for(let O=0;O<=R;O++)O===0&&T===x?C[T][O]=E:C[T][O]=E.clone().lerp(M,O/R)}for(let T=0;T<x;T++)for(let E=0;E<2*(x-T)-1;E++){const M=Math.floor(E/2);E%2===0?(f(C[T][M+1]),f(C[T+1][M]),f(C[T][M])):(f(C[T][M+1]),f(C[T+1][M+1]),f(C[T+1][M]))}}function c(_){const b=new Z;for(let w=0;w<r.length;w+=3)b.x=r[w+0],b.y=r[w+1],b.z=r[w+2],b.normalize().multiplyScalar(_),r[w+0]=b.x,r[w+1]=b.y,r[w+2]=b.z}function u(){const _=new Z;for(let b=0;b<r.length;b+=3){_.x=r[b+0],_.y=r[b+1],_.z=r[b+2];const w=y(_)/2/Math.PI+.5,S=v(_)/Math.PI+.5;o.push(w,1-S)}g(),d()}function d(){for(let _=0;_<o.length;_+=6){const b=o[_+0],w=o[_+2],S=o[_+4],x=Math.max(b,w,S),C=Math.min(b,w,S);x>.9&&C<.1&&(b<.2&&(o[_+0]+=1),w<.2&&(o[_+2]+=1),S<.2&&(o[_+4]+=1))}}function f(_){r.push(_.x,_.y,_.z)}function p(_,b){const w=_*3;b.x=e[w+0],b.y=e[w+1],b.z=e[w+2]}function g(){const _=new Z,b=new Z,w=new Z,S=new Z,x=new qe,C=new qe,T=new qe;for(let E=0,M=0;E<r.length;E+=9,M+=6){_.set(r[E+0],r[E+1],r[E+2]),b.set(r[E+3],r[E+4],r[E+5]),w.set(r[E+6],r[E+7],r[E+8]),x.set(o[M+0],o[M+1]),C.set(o[M+2],o[M+3]),T.set(o[M+4],o[M+5]),S.copy(_).add(b).add(w).divideScalar(3);const R=y(S);m(x,M+0,_,R),m(C,M+2,b,R),m(T,M+4,w,R)}}function m(_,b,w,S){S<0&&_.x===1&&(o[b]=_.x-1),w.x===0&&w.z===0&&(o[b]=S/2/Math.PI+.5)}function y(_){return Math.atan2(_.z,-_.x)}function v(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Va(e.vertices,e.indices,e.radius,e.details)}}class Uv extends Va{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,s=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Uv(e.radius,e.detail)}}const $p=new Z,Hp=new Z,yy=new Z,Wp=new Ms;class ML extends Yt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const s=Math.pow(10,4),r=Math.cos($l*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},p=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:m,b:y,c:v}=Wp;if(m.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),v.fromBufferAttribute(a,c[2]),Wp.getNormal(yy),d[0]=`${Math.round(m.x*s)},${Math.round(m.y*s)},${Math.round(m.z*s)}`,d[1]=`${Math.round(y.x*s)},${Math.round(y.y*s)},${Math.round(y.z*s)}`,d[2]=`${Math.round(v.x*s)},${Math.round(v.y*s)},${Math.round(v.z*s)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let _=0;_<3;_++){const b=(_+1)%3,w=d[_],S=d[b],x=Wp[u[_]],C=Wp[u[b]],T=`${w}_${S}`,E=`${S}_${w}`;E in f&&f[E]?(yy.dot(f[E].normal)<=r&&(p.push(x.x,x.y,x.z),p.push(C.x,C.y,C.z)),f[E]=null):T in f||(f[T]={index0:c[_],index1:c[b],normal:yy.clone()})}}for(const g in f)if(f[g]){const{index0:m,index1:y}=f[g];$p.fromBufferAttribute(a,m),Hp.fromBufferAttribute(a,y),p.push($p.x,$p.y,$p.z),p.push(Hp.x,Hp.y,Hp.z)}this.setAttribute("position",new Et(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Hl extends th{constructor(e){super(e),this.uuid=Ps(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,s=this.holes.length;i<s;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const s=e.holes[n];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const s=this.holes[n];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const s=e.holes[n];this.holes.push(new th().fromJSON(s))}return this}}const gve={triangulate:function(t,e,n=2){const i=e&&e.length,s=i?e[0]*n:t.length;let r=CL(t,0,s,n,!0);const o=[];if(!r||r.next===r.prev)return o;let a,l,c,u,d,f,p;if(i&&(r=wve(t,e,r,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let g=n;g<s;g+=n)d=t[g],f=t[g+1],d<a&&(a=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);p=Math.max(c-a,u-l),p=p!==0?32767/p:0}return nh(r,o,n,a,l,p,0),o}};function CL(t,e,n,i,s){let r,o;if(s===kve(t,e,n,i)>0)for(r=e;r<n;r+=i)o=TT(r,t[r],t[r+1],o);else for(r=n-i;r>=e;r-=i)o=TT(r,t[r],t[r+1],o);return o&&zv(o,o.next)&&(sh(o),o=o.next),o}function tc(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(zv(n,n.next)||Gn(n.prev,n,n.next)===0)){if(sh(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function nh(t,e,n,i,s,r,o){if(!t)return;!o&&r&&Eve(t,i,s,r);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,r?yve(t,i,s,r):vve(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),sh(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=bve(tc(t),e,n),nh(t,e,n,i,s,r,2)):o===2&&_ve(t,e,n,i,s,r):nh(tc(t),e,n,i,s,r,1);break}}}function vve(t){const e=t.prev,n=t,i=t.next;if(Gn(e,n,i)>=0)return!1;const s=e.x,r=n.x,o=i.x,a=e.y,l=n.y,c=i.y,u=s<r?s<o?s:o:r<o?r:o,d=a<l?a<c?a:c:l<c?l:c,f=s>r?s>o?s:o:r>o?r:o,p=a>l?a>c?a:c:l>c?l:c;let g=i.next;for(;g!==e;){if(g.x>=u&&g.x<=f&&g.y>=d&&g.y<=p&&su(s,a,r,l,o,c,g.x,g.y)&&Gn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function yve(t,e,n,i){const s=t.prev,r=t,o=t.next;if(Gn(s,r,o)>=0)return!1;const a=s.x,l=r.x,c=o.x,u=s.y,d=r.y,f=o.y,p=a<l?a<c?a:c:l<c?l:c,g=u<d?u<f?u:f:d<f?d:f,m=a>l?a>c?a:c:l>c?l:c,y=u>d?u>f?u:f:d>f?d:f,v=Fb(p,g,e,n,i),_=Fb(m,y,e,n,i);let b=t.prevZ,w=t.nextZ;for(;b&&b.z>=v&&w&&w.z<=_;){if(b.x>=p&&b.x<=m&&b.y>=g&&b.y<=y&&b!==s&&b!==o&&su(a,u,l,d,c,f,b.x,b.y)&&Gn(b.prev,b,b.next)>=0||(b=b.prevZ,w.x>=p&&w.x<=m&&w.y>=g&&w.y<=y&&w!==s&&w!==o&&su(a,u,l,d,c,f,w.x,w.y)&&Gn(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;b&&b.z>=v;){if(b.x>=p&&b.x<=m&&b.y>=g&&b.y<=y&&b!==s&&b!==o&&su(a,u,l,d,c,f,b.x,b.y)&&Gn(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=_;){if(w.x>=p&&w.x<=m&&w.y>=g&&w.y<=y&&w!==s&&w!==o&&su(a,u,l,d,c,f,w.x,w.y)&&Gn(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function bve(t,e,n){let i=t;do{const s=i.prev,r=i.next.next;!zv(s,r)&&EL(s,i,i.next,r)&&ih(s,r)&&ih(r,s)&&(e.push(s.i/n|0),e.push(i.i/n|0),e.push(r.i/n|0),sh(i),sh(i.next),i=t=r),i=i.next}while(i!==t);return tc(i)}function _ve(t,e,n,i,s,r){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Rve(o,a)){let l=TL(o,a);o=tc(o,o.next),l=tc(l,l.next),nh(o,e,n,i,s,r,0),nh(l,e,n,i,s,r,0);return}a=a.next}o=o.next}while(o!==t)}function wve(t,e,n,i){const s=[];let r,o,a,l,c;for(r=0,o=e.length;r<o;r++)a=e[r]*i,l=r<o-1?e[r+1]*i:t.length,c=CL(t,a,l,i,!1),c===c.next&&(c.steiner=!0),s.push(Ave(c));for(s.sort(xve),r=0;r<s.length;r++)n=Sve(s[r],n);return n}function xve(t,e){return t.x-e.x}function Sve(t,e){const n=Mve(t,e);if(!n)return e;const i=TL(n,t);return tc(i,i.next),tc(n,n.next)}function Mve(t,e){let n=e,i=-1/0,s;const r=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const f=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>i&&(i=f,s=n.x<n.next.x?n:n.next,f===r))return s}n=n.next}while(n!==e);if(!s)return null;const a=s,l=s.x,c=s.y;let u=1/0,d;n=s;do r>=n.x&&n.x>=l&&r!==n.x&&su(o<c?r:i,o,l,c,o<c?i:r,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(r-n.x),ih(n,t)&&(d<u||d===u&&(n.x>s.x||n.x===s.x&&Cve(s,n)))&&(s=n,u=d)),n=n.next;while(n!==a);return s}function Cve(t,e){return Gn(t.prev,t,e.prev)<0&&Gn(e.next,t,t.next)<0}function Eve(t,e,n,i){let s=t;do s.z===0&&(s.z=Fb(s.x,s.y,e,n,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,Tve(s)}function Tve(t){let e,n,i,s,r,o,a,l,c=1;do{for(n=t,t=null,r=null,o=0;n;){for(o++,i=n,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(s=n,n=n.nextZ,a--):(s=i,i=i.nextZ,l--),r?r.nextZ=s:t=s,s.prevZ=r,r=s;n=i}r.nextZ=null,c*=2}while(o>1);return t}function Fb(t,e,n,i,s){return t=(t-n)*s|0,e=(e-i)*s|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Ave(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function su(t,e,n,i,s,r,o,a){return(s-o)*(e-a)>=(t-o)*(r-a)&&(t-o)*(i-a)>=(n-o)*(e-a)&&(n-o)*(r-a)>=(s-o)*(i-a)}function Rve(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Pve(t,e)&&(ih(t,e)&&ih(e,t)&&Ive(t,e)&&(Gn(t.prev,t,e.prev)||Gn(t,e.prev,e))||zv(t,e)&&Gn(t.prev,t,t.next)>0&&Gn(e.prev,e,e.next)>0)}function Gn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function zv(t,e){return t.x===e.x&&t.y===e.y}function EL(t,e,n,i){const s=Kp(Gn(t,e,n)),r=Kp(Gn(t,e,i)),o=Kp(Gn(n,i,t)),a=Kp(Gn(n,i,e));return!!(s!==r&&o!==a||s===0&&Gp(t,n,e)||r===0&&Gp(t,i,e)||o===0&&Gp(n,t,i)||a===0&&Gp(n,e,i))}function Gp(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Kp(t){return t>0?1:t<0?-1:0}function Pve(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&EL(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function ih(t,e){return Gn(t.prev,t,t.next)<0?Gn(t,e,t.next)>=0&&Gn(t,t.prev,e)>=0:Gn(t,e,t.prev)<0||Gn(t,t.next,e)<0}function Ive(t,e){let n=t,i=!1;const s=(t.x+e.x)/2,r=(t.y+e.y)/2;do n.y>r!=n.next.y>r&&n.next.y!==n.y&&s<(n.next.x-n.x)*(r-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function TL(t,e){const n=new Bb(t.i,t.x,t.y),i=new Bb(e.i,e.x,e.y),s=t.next,r=e.prev;return t.next=e,e.prev=t,n.next=s,s.prev=n,i.next=n,n.prev=i,r.next=i,i.prev=r,i}function TT(t,e,n,i){const s=new Bb(t,e,n);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function sh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Bb(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function kve(t,e,n,i){let s=0;for(let r=e,o=n-i;r<n;r+=i)s+=(t[o]-t[r])*(t[r+1]+t[o+1]),o=r;return s}class Br{static area(e){const n=e.length;let i=0;for(let s=n-1,r=0;r<n;s=r++)i+=e[s].x*e[r].y-e[r].x*e[s].y;return i*.5}static isClockWise(e){return Br.area(e)<0}static triangulateShape(e,n){const i=[],s=[],r=[];AT(e),RT(i,e);let o=e.length;n.forEach(AT);for(let l=0;l<n.length;l++)s.push(o),o+=n[l].length,RT(i,n[l]);const a=gve.triangulate(i,s);for(let l=0;l<a.length;l+=3)r.push(a.slice(l,l+3));return r}}function AT(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function RT(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Vv extends Yt{constructor(e=new Hl([new qe(.5,.5),new qe(-.5,.5),new qe(-.5,-.5),new qe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,s=[],r=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Et(s,3)),this.setAttribute("uv",new Et(r,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,p=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:p-.1,m=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:Ove;let b,w=!1,S,x,C,T;v&&(b=v.getSpacedPoints(u),w=!0,f=!1,S=v.computeFrenetFrames(u,!1),x=new Z,C=new Z,T=new Z),f||(y=0,p=0,g=0,m=0);const E=a.extractPoints(c);let M=E.shape;const R=E.holes;if(!Br.isClockWise(M)){M=M.reverse();for(let me=0,K=R.length;me<K;me++){const q=R[me];Br.isClockWise(q)&&(R[me]=q.reverse())}}const F=Br.triangulateShape(M,R),V=M;for(let me=0,K=R.length;me<K;me++){const q=R[me];M=M.concat(q)}function U(me,K,q){return K||console.error("THREE.ExtrudeGeometry: vec does not exist"),me.clone().addScaledVector(K,q)}const D=M.length,I=F.length;function N(me,K,q){let ue,ve,he;const xe=me.x-K.x,W=me.y-K.y,$=q.x-me.x,ae=q.y-me.y,se=xe*xe+W*W,Ee=xe*ae-W*$;if(Math.abs(Ee)>Number.EPSILON){const Re=Math.sqrt(se),be=Math.sqrt($*$+ae*ae),Pe=K.x-W/Re,Fe=K.y+xe/Re,it=q.x-ae/be,Ye=q.y+$/be,He=((it-Pe)*ae-(Ye-Fe)*$)/(xe*ae-W*$);ue=Pe+xe*He-me.x,ve=Fe+W*He-me.y;const Se=ue*ue+ve*ve;if(Se<=2)return new qe(ue,ve);he=Math.sqrt(Se/2)}else{let Re=!1;xe>Number.EPSILON?$>Number.EPSILON&&(Re=!0):xe<-Number.EPSILON?$<-Number.EPSILON&&(Re=!0):Math.sign(W)===Math.sign(ae)&&(Re=!0),Re?(ue=-W,ve=xe,he=Math.sqrt(se)):(ue=xe,ve=W,he=Math.sqrt(se/2))}return new qe(ue/he,ve/he)}const k=[];for(let me=0,K=V.length,q=K-1,ue=me+1;me<K;me++,q++,ue++)q===K&&(q=0),ue===K&&(ue=0),k[me]=N(V[me],V[q],V[ue]);const B=[];let G,J=k.concat();for(let me=0,K=R.length;me<K;me++){const q=R[me];G=[];for(let ue=0,ve=q.length,he=ve-1,xe=ue+1;ue<ve;ue++,he++,xe++)he===ve&&(he=0),xe===ve&&(xe=0),G[ue]=N(q[ue],q[he],q[xe]);B.push(G),J=J.concat(G)}for(let me=0;me<y;me++){const K=me/y,q=p*Math.cos(K*Math.PI/2),ue=g*Math.sin(K*Math.PI/2)+m;for(let ve=0,he=V.length;ve<he;ve++){const xe=U(V[ve],k[ve],ue);oe(xe.x,xe.y,-q)}for(let ve=0,he=R.length;ve<he;ve++){const xe=R[ve];G=B[ve];for(let W=0,$=xe.length;W<$;W++){const ae=U(xe[W],G[W],ue);oe(ae.x,ae.y,-q)}}}const re=g+m;for(let me=0;me<D;me++){const K=f?U(M[me],J[me],re):M[me];w?(C.copy(S.normals[0]).multiplyScalar(K.x),x.copy(S.binormals[0]).multiplyScalar(K.y),T.copy(b[0]).add(C).add(x),oe(T.x,T.y,T.z)):oe(K.x,K.y,0)}for(let me=1;me<=u;me++)for(let K=0;K<D;K++){const q=f?U(M[K],J[K],re):M[K];w?(C.copy(S.normals[me]).multiplyScalar(q.x),x.copy(S.binormals[me]).multiplyScalar(q.y),T.copy(b[me]).add(C).add(x),oe(T.x,T.y,T.z)):oe(q.x,q.y,d/u*me)}for(let me=y-1;me>=0;me--){const K=me/y,q=p*Math.cos(K*Math.PI/2),ue=g*Math.sin(K*Math.PI/2)+m;for(let ve=0,he=V.length;ve<he;ve++){const xe=U(V[ve],k[ve],ue);oe(xe.x,xe.y,d+q)}for(let ve=0,he=R.length;ve<he;ve++){const xe=R[ve];G=B[ve];for(let W=0,$=xe.length;W<$;W++){const ae=U(xe[W],G[W],ue);w?oe(ae.x,ae.y+b[u-1].y,b[u-1].x+q):oe(ae.x,ae.y,d+q)}}}ee(),ye();function ee(){const me=s.length/3;if(f){let K=0,q=D*K;for(let ue=0;ue<I;ue++){const ve=F[ue];de(ve[2]+q,ve[1]+q,ve[0]+q)}K=u+y*2,q=D*K;for(let ue=0;ue<I;ue++){const ve=F[ue];de(ve[0]+q,ve[1]+q,ve[2]+q)}}else{for(let K=0;K<I;K++){const q=F[K];de(q[2],q[1],q[0])}for(let K=0;K<I;K++){const q=F[K];de(q[0]+D*u,q[1]+D*u,q[2]+D*u)}}i.addGroup(me,s.length/3-me,0)}function ye(){const me=s.length/3;let K=0;te(V,K),K+=V.length;for(let q=0,ue=R.length;q<ue;q++){const ve=R[q];te(ve,K),K+=ve.length}i.addGroup(me,s.length/3-me,1)}function te(me,K){let q=me.length;for(;--q>=0;){const ue=q;let ve=q-1;ve<0&&(ve=me.length-1);for(let he=0,xe=u+y*2;he<xe;he++){const W=D*he,$=D*(he+1),ae=K+ue+W,se=K+ve+W,Ee=K+ve+$,Re=K+ue+$;Ne(ae,se,Ee,Re)}}}function oe(me,K,q){l.push(me),l.push(K),l.push(q)}function de(me,K,q){Q(me),Q(K),Q(q);const ue=s.length/3,ve=_.generateTopUV(i,s,ue-3,ue-2,ue-1);Te(ve[0]),Te(ve[1]),Te(ve[2])}function Ne(me,K,q,ue){Q(me),Q(K),Q(ue),Q(K),Q(q),Q(ue);const ve=s.length/3,he=_.generateSideWallUV(i,s,ve-6,ve-3,ve-2,ve-1);Te(he[0]),Te(he[1]),Te(he[3]),Te(he[1]),Te(he[2]),Te(he[3])}function Q(me){s.push(l[me*3+0]),s.push(l[me*3+1]),s.push(l[me*3+2])}function Te(me){r.push(me.x),r.push(me.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return Lve(n,i,e)}static fromJSON(e,n){const i=[];for(let r=0,o=e.shapes.length;r<o;r++){const a=n[e.shapes[r]];i.push(a)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new Ag[s.type]().fromJSON(s)),new Vv(i,e.options)}}const Ove={generateTopUV:function(t,e,n,i,s){const r=e[n*3],o=e[n*3+1],a=e[i*3],l=e[i*3+1],c=e[s*3],u=e[s*3+1];return[new qe(r,o),new qe(a,l),new qe(c,u)]},generateSideWallUV:function(t,e,n,i,s,r){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],f=e[s*3],p=e[s*3+1],g=e[s*3+2],m=e[r*3],y=e[r*3+1],v=e[r*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new qe(o,1-l),new qe(c,1-d),new qe(f,1-g),new qe(m,1-v)]:[new qe(a,1-l),new qe(u,1-d),new qe(p,1-g),new qe(y,1-v)]}};function Lve(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,s=t.length;i<s;i++){const r=t[i];n.shapes.push(r.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class $v extends Va{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,r,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new $v(e.radius,e.detail)}}class nc extends Va{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new nc(e.radius,e.detail)}}class Hv extends Yt{constructor(e=.5,n=1,i=32,s=1,r=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:s,thetaStart:r,thetaLength:o},i=Math.max(3,i),s=Math.max(1,s);const a=[],l=[],c=[],u=[];let d=e;const f=(n-e)/s,p=new Z,g=new qe;for(let m=0;m<=s;m++){for(let y=0;y<=i;y++){const v=r+y/i*o;p.x=d*Math.cos(v),p.y=d*Math.sin(v),l.push(p.x,p.y,p.z),c.push(0,0,1),g.x=(p.x/n+1)/2,g.y=(p.y/n+1)/2,u.push(g.x,g.y)}d+=f}for(let m=0;m<s;m++){const y=m*(i+1);for(let v=0;v<i;v++){const _=v+y,b=_,w=_+i+1,S=_+i+2,x=_+1;a.push(b,w,x),a.push(w,S,x)}}this.setIndex(a),this.setAttribute("position",new Et(l,3)),this.setAttribute("normal",new Et(c,3)),this.setAttribute("uv",new Et(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hv(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Wv extends Yt{constructor(e=new Hl([new qe(0,.5),new qe(-.5,-.5),new qe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],s=[],r=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Et(s,3)),this.setAttribute("normal",new Et(r,3)),this.setAttribute("uv",new Et(o,2));function c(u){const d=s.length/3,f=u.extractPoints(n);let p=f.shape;const g=f.holes;Br.isClockWise(p)===!1&&(p=p.reverse());for(let y=0,v=g.length;y<v;y++){const _=g[y];Br.isClockWise(_)===!0&&(g[y]=_.reverse())}const m=Br.triangulateShape(p,g);for(let y=0,v=g.length;y<v;y++){const _=g[y];p=p.concat(_)}for(let y=0,v=p.length;y<v;y++){const _=p[y];s.push(_.x,_.y,0),r.push(0,0,1),o.push(_.x,_.y)}for(let y=0,v=m.length;y<v;y++){const _=m[y],b=_[0]+d,w=_[1]+d,S=_[2]+d;i.push(b,w,S),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Nve(n,e)}static fromJSON(e,n){const i=[];for(let s=0,r=e.shapes.length;s<r;s++){const o=n[e.shapes[s]];i.push(o)}return new Wv(i,e.curveSegments)}}function Nve(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const s=t[n];e.shapes.push(s.uuid)}else e.shapes.push(t.uuid);return e}class $a extends Yt{constructor(e=1,n=32,i=16,s=0,r=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:s,phiLength:r,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new Z,f=new Z,p=[],g=[],m=[],y=[];for(let v=0;v<=i;v++){const _=[],b=v/i;let w=0;v===0&&o===0?w=.5/n:v===i&&l===Math.PI&&(w=-.5/n);for(let S=0;S<=n;S++){const x=S/n;d.x=-e*Math.cos(s+x*r)*Math.sin(o+b*a),d.y=e*Math.cos(o+b*a),d.z=e*Math.sin(s+x*r)*Math.sin(o+b*a),g.push(d.x,d.y,d.z),f.copy(d).normalize(),m.push(f.x,f.y,f.z),y.push(x+w,1-b),_.push(c++)}u.push(_)}for(let v=0;v<i;v++)for(let _=0;_<n;_++){const b=u[v][_+1],w=u[v][_],S=u[v+1][_],x=u[v+1][_+1];(v!==0||o>0)&&p.push(b,w,x),(v!==i-1||l<Math.PI)&&p.push(w,S,x)}this.setIndex(p),this.setAttribute("position",new Et(g,3)),this.setAttribute("normal",new Et(m,3)),this.setAttribute("uv",new Et(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $a(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Gv extends Va{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Gv(e.radius,e.detail)}}class lo extends Yt{constructor(e=1,n=.4,i=12,s=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:s,arc:r},i=Math.floor(i),s=Math.floor(s);const o=[],a=[],l=[],c=[],u=new Z,d=new Z,f=new Z;for(let p=0;p<=i;p++)for(let g=0;g<=s;g++){const m=g/s*r,y=p/i*Math.PI*2;d.x=(e+n*Math.cos(y))*Math.cos(m),d.y=(e+n*Math.cos(y))*Math.sin(m),d.z=n*Math.sin(y),a.push(d.x,d.y,d.z),u.x=e*Math.cos(m),u.y=e*Math.sin(m),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(g/s),c.push(p/i)}for(let p=1;p<=i;p++)for(let g=1;g<=s;g++){const m=(s+1)*p+g-1,y=(s+1)*(p-1)+g-1,v=(s+1)*(p-1)+g,_=(s+1)*p+g;o.push(m,y,_),o.push(y,v,_)}this.setIndex(o),this.setAttribute("position",new Et(a,3)),this.setAttribute("normal",new Et(l,3)),this.setAttribute("uv",new Et(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lo(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Kv extends Yt{constructor(e=1,n=.4,i=64,s=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:s,p:r,q:o},i=Math.floor(i),s=Math.floor(s);const a=[],l=[],c=[],u=[],d=new Z,f=new Z,p=new Z,g=new Z,m=new Z,y=new Z,v=new Z;for(let b=0;b<=i;++b){const w=b/i*r*Math.PI*2;_(w,r,o,e,p),_(w+.01,r,o,e,g),y.subVectors(g,p),v.addVectors(g,p),m.crossVectors(y,v),v.crossVectors(m,y),m.normalize(),v.normalize();for(let S=0;S<=s;++S){const x=S/s*Math.PI*2,C=-n*Math.cos(x),T=n*Math.sin(x);d.x=p.x+(C*v.x+T*m.x),d.y=p.y+(C*v.y+T*m.y),d.z=p.z+(C*v.z+T*m.z),l.push(d.x,d.y,d.z),f.subVectors(d,p).normalize(),c.push(f.x,f.y,f.z),u.push(b/i),u.push(S/s)}}for(let b=1;b<=i;b++)for(let w=1;w<=s;w++){const S=(s+1)*(b-1)+(w-1),x=(s+1)*b+(w-1),C=(s+1)*b+w,T=(s+1)*(b-1)+w;a.push(S,x,T),a.push(x,C,T)}this.setIndex(a),this.setAttribute("position",new Et(l,3)),this.setAttribute("normal",new Et(c,3)),this.setAttribute("uv",new Et(u,2));function _(b,w,S,x,C){const T=Math.cos(b),E=Math.sin(b),M=S/w*b,R=Math.cos(M);C.x=x*(2+R)*.5*T,C.y=x*(2+R)*E*.5,C.z=x*Math.sin(M)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kv(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Yv extends Yt{constructor(e=new Ex(new Z(-1,-1,0),new Z(-1,1,0),new Z(1,1,0)),n=64,i=1,s=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:s,closed:r};const o=e.computeFrenetFrames(n,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Z,l=new Z,c=new qe;let u=new Z;const d=[],f=[],p=[],g=[];m(),this.setIndex(g),this.setAttribute("position",new Et(d,3)),this.setAttribute("normal",new Et(f,3)),this.setAttribute("uv",new Et(p,2));function m(){for(let b=0;b<n;b++)y(b);y(r===!1?n:0),_(),v()}function y(b){u=e.getPointAt(b/n,u);const w=o.normals[b],S=o.binormals[b];for(let x=0;x<=s;x++){const C=x/s*Math.PI*2,T=Math.sin(C),E=-Math.cos(C);l.x=E*w.x+T*S.x,l.y=E*w.y+T*S.y,l.z=E*w.z+T*S.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=u.x+i*l.x,a.y=u.y+i*l.y,a.z=u.z+i*l.z,d.push(a.x,a.y,a.z)}}function v(){for(let b=1;b<=n;b++)for(let w=1;w<=s;w++){const S=(s+1)*(b-1)+(w-1),x=(s+1)*b+(w-1),C=(s+1)*b+w,T=(s+1)*(b-1)+w;g.push(S,x,T),g.push(x,C,T)}}function _(){for(let b=0;b<=n;b++)for(let w=0;w<=s;w++)c.x=b/n,c.y=w/s,p.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Yv(new Ag[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class AL extends Yt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,s=new Z,r=new Z;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,p=d.count;for(let g=f,m=f+p;g<m;g+=3)for(let y=0;y<3;y++){const v=a.getX(g+y),_=a.getX(g+(y+1)%3);s.fromBufferAttribute(o,v),r.fromBufferAttribute(o,_),PT(s,r,i)===!0&&(n.push(s.x,s.y,s.z),n.push(r.x,r.y,r.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;s.fromBufferAttribute(o,u),r.fromBufferAttribute(o,d),PT(s,r,i)===!0&&(n.push(s.x,s.y,s.z),n.push(r.x,r.y,r.z))}}this.setAttribute("position",new Et(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function PT(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(s)===!0?!1:(n.add(i),n.add(s),!0)}var IT=Object.freeze({__proto__:null,BoxGeometry:Wn,CapsuleGeometry:Dv,CircleGeometry:Fv,ConeGeometry:Bv,CylinderGeometry:li,DodecahedronGeometry:Uv,EdgesGeometry:ML,ExtrudeGeometry:Vv,IcosahedronGeometry:$v,LatheGeometry:Lh,OctahedronGeometry:nc,PlaneGeometry:za,PolyhedronGeometry:Va,RingGeometry:Hv,ShapeGeometry:Wv,SphereGeometry:$a,TetrahedronGeometry:Gv,TorusGeometry:lo,TorusKnotGeometry:Kv,TubeGeometry:Yv,WireframeGeometry:AL});class RL extends _i{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ct(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class PL extends Qn{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class dc extends _i{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ct(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ua,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Jn,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ir extends dc{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new qe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Zn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ct(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ct(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ct(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class IL extends _i{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ct(16777215),this.specular=new ct(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ua,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Jn,this.combine=Eh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kL extends _i{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ct(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ua,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class OL extends _i{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ua,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Ax extends _i{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ua,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Jn,this.combine=Eh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LL extends _i{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ct(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ua,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class NL extends Ri{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ol(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function DL(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function FL(t){function e(s,r){return t[s]-t[r]}const n=t.length,i=new Array(n);for(let s=0;s!==n;++s)i[s]=s;return i.sort(e),i}function Ub(t,e,n){const i=t.length,s=new t.constructor(i);for(let r=0,o=0;o!==i;++r){const a=n[r]*e;for(let l=0;l!==e;++l)s[o++]=t[a+l]}return s}function Rx(t,e,n,i){let s=1,r=t[0];for(;r!==void 0&&r[i]===void 0;)r=t[s++];if(r===void 0)return;let o=r[i];if(o!==void 0)if(Array.isArray(o))do o=r[i],o!==void 0&&(e.push(r.time),n.push.apply(n,o)),r=t[s++];while(r!==void 0);else if(o.toArray!==void 0)do o=r[i],o!==void 0&&(e.push(r.time),o.toArray(n,n.length)),r=t[s++];while(r!==void 0);else do o=r[i],o!==void 0&&(e.push(r.time),n.push(o)),r=t[s++];while(r!==void 0)}function Dve(t,e,n,i,s=30){const r=t.clone();r.name=e;const o=[];for(let l=0;l<r.tracks.length;++l){const c=r.tracks[l],u=c.getValueSize(),d=[],f=[];for(let p=0;p<c.times.length;++p){const g=c.times[p]*s;if(!(g<n||g>=i)){d.push(c.times[p]);for(let m=0;m<u;++m)f.push(c.values[p*u+m])}}d.length!==0&&(c.times=Ol(d,c.times.constructor),c.values=Ol(f,c.values.constructor),o.push(c))}r.tracks=o;let a=1/0;for(let l=0;l<r.tracks.length;++l)a>r.tracks[l].times[0]&&(a=r.tracks[l].times[0]);for(let l=0;l<r.tracks.length;++l)r.tracks[l].shift(-1*a);return r.resetDuration(),r}function Fve(t,e=0,n=t,i=30){i<=0&&(i=30);const s=n.tracks.length,r=e/i;for(let o=0;o<s;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=p/3);const g=a.times.length-1;let m;if(r<=a.times[0]){const v=u,_=d-u;m=a.values.slice(v,_)}else if(r>=a.times[g]){const v=g*d+u,_=v+d-u;m=a.values.slice(v,_)}else{const v=a.createInterpolant(),_=u,b=d-u;v.evaluate(r),m=v.resultBuffer.slice(_,b)}l==="quaternion"&&new an().fromArray(m).normalize().conjugate().toArray(m);const y=c.times.length;for(let v=0;v<y;++v){const _=v*p+f;if(l==="quaternion")an.multiplyQuaternionsFlat(c.values,_,m,0,c.values,_);else{const b=p-f*2;for(let w=0;w<b;++w)c.values[_+w]-=m[w]}}}return t.blendMode=ax,t}const Bve={convertArray:Ol,isTypedArray:DL,getKeyframeOrder:FL,sortedArray:Ub,flattenJSON:Rx,subclip:Dve,makeClipAdditive:Fve};class ld{constructor(e,n,i,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,s=n[i],r=n[i-1];e:{t:{let o;n:{i:if(!(e<s)){for(let a=i+2;;){if(s===void 0){if(e<r)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(r=s,s=n[++i],e<s)break t}o=n.length;break n}if(!(e>=r)){const a=n[1];e<a&&(i=2,r=a);for(let l=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(s=r,r=n[--i-1],e>=r)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<n[a]?o=a:i=a+1}if(s=n[i],r=n[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s;for(let o=0;o!==s;++o)n[o]=i[r+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class BL extends ld{constructor(e,n,i,s){super(e,n,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Rl,endingEnd:Rl}}intervalChanged_(e,n,i){const s=this.parameterPositions;let r=e-2,o=e+1,a=s[r],l=s[o];if(a===void 0)switch(this.getSettings_().endingStart){case Pl:r=e,a=2*n-i;break;case Xf:r=s.length-2,a=n+s[r]-s[r+1];break;default:r=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Pl:o=e,l=2*i-n;break;case Xf:o=1,l=i+s[1]-s[0];break;default:o=e-1,l=n}const c=(i-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-i),this._offsetPrev=r*u,this._offsetNext=o*u}interpolate_(e,n,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,p=this._weightNext,g=(i-n)/(s-n),m=g*g,y=m*g,v=-f*y+2*f*m-f*g,_=(1+f)*y+(-1.5-2*f)*m+(-.5+f)*g+1,b=(-1-p)*y+(1.5+p)*m+.5*g,w=p*y-p*m;for(let S=0;S!==a;++S)r[S]=v*o[u+S]+_*o[c+S]+b*o[l+S]+w*o[d+S];return r}}class Px extends ld{constructor(e,n,i,s){super(e,n,i,s)}interpolate_(e,n,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-n)/(s-n),d=1-u;for(let f=0;f!==a;++f)r[f]=o[c+f]*d+o[l+f]*u;return r}}class UL extends ld{constructor(e,n,i,s){super(e,n,i,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class Mr{constructor(e,n,i,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ol(n,this.TimeBufferType),this.values=Ol(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Ol(e.times,Array),values:Ol(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(i.interpolation=s)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new UL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Px(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new BL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Vu:n=this.InterpolantFactoryMethodDiscrete;break;case ec:n=this.InterpolantFactoryMethodLinear;break;case $m:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Vu;case this.InterpolantFactoryMethodLinear:return ec;case this.InterpolantFactoryMethodSmooth:return $m}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,s=n.length;i!==s;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,s=n.length;i!==s;++i)n[i]*=e}return this}trim(e,n){const i=this.times,s=i.length;let r=0,o=s-1;for(;r!==s&&i[r]<e;)++r;for(;o!==-1&&i[o]>n;)--o;if(++o,r!==0||o!==s){r>=o&&(o=Math.max(o,1),r=o-1);const a=this.getValueSize();this.times=i.slice(r,o),this.values=this.values.slice(r*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,s=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==r;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(s!==void 0&&DL(s))for(let a=0,l=s.length;a!==l;++a){const c=s[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===$m,r=e.length-1;let o=1;for(let a=1;a<r;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(s)l=!0;else{const d=a*i,f=d-i,p=d+i;for(let g=0;g!==i;++g){const m=n[d+g];if(m!==n[f+g]||m!==n[p+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,f=o*i;for(let p=0;p!==i;++p)n[f+p]=n[d+p]}++o}}if(r>0){e[o]=e[r];for(let a=r*i,l=o*i,c=0;c!==i;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,s=new i(this.name,e,n);return s.createInterpolant=this.createInterpolant,s}}Mr.prototype.TimeBufferType=Float32Array;Mr.prototype.ValueBufferType=Float32Array;Mr.prototype.DefaultInterpolation=ec;class fc extends Mr{}fc.prototype.ValueTypeName="bool";fc.prototype.ValueBufferType=Array;fc.prototype.DefaultInterpolation=Vu;fc.prototype.InterpolantFactoryMethodLinear=void 0;fc.prototype.InterpolantFactoryMethodSmooth=void 0;class Ix extends Mr{}Ix.prototype.ValueTypeName="color";class ic extends Mr{}ic.prototype.ValueTypeName="number";class zL extends ld{constructor(e,n,i,s){super(e,n,i,s)}interpolate_(e,n,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-n)/(s-n);let c=e*a;for(let u=c+a;c!==u;c+=4)an.slerpFlat(r,0,o,c-a,o,c,l);return r}}class Pa extends Mr{InterpolantFactoryMethodLinear(e){return new zL(this.times,this.values,this.getValueSize(),e)}}Pa.prototype.ValueTypeName="quaternion";Pa.prototype.DefaultInterpolation=ec;Pa.prototype.InterpolantFactoryMethodSmooth=void 0;class hc extends Mr{}hc.prototype.ValueTypeName="string";hc.prototype.ValueBufferType=Array;hc.prototype.DefaultInterpolation=Vu;hc.prototype.InterpolantFactoryMethodLinear=void 0;hc.prototype.InterpolantFactoryMethodSmooth=void 0;class sc extends Mr{}sc.prototype.ValueTypeName="vector";class Gu{constructor(e="",n=-1,i=[],s=xv){this.name=e,this.tracks=i,this.duration=n,this.blendMode=s,this.uuid=Ps(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,s=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)n.push(zve(i[o]).scale(s));const r=new this(e.name,e.duration,n,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const n=[],i=e.tracks,s={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=i.length;r!==o;++r)n.push(Mr.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(e,n,i,s){const r=n.length,o=[];for(let a=0;a<r;a++){let l=[],c=[];l.push((a+r-1)%r,a,(a+1)%r),c.push(0,1,0);const u=FL(l);l=Ub(l,1,u),c=Ub(c,1,u),!s&&l[0]===0&&(l.push(r),c.push(c[0])),o.push(new ic(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const s=e;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===n)return i[s];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(r);if(u&&u.length>1){const d=u[1];let f=s[d];f||(s[d]=f=[]),f.push(c)}}const o=[];for(const a in s)o.push(this.CreateFromMorphTargetSequence(a,s[a],n,i));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,f,p,g,m){if(p.length!==0){const y=[],v=[];Rx(p,y,v,g),y.length!==0&&m.push(new d(f,y,v))}},s=[],r=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const p={};let g;for(g=0;g<f.length;g++)if(f[g].morphTargets)for(let m=0;m<f[g].morphTargets.length;m++)p[f[g].morphTargets[m]]=-1;for(const m in p){const y=[],v=[];for(let _=0;_!==f[g].morphTargets.length;++_){const b=f[g];y.push(b.time),v.push(b.morphTarget===m?1:0)}s.push(new ic(".morphTargetInfluence["+m+"]",y,v))}l=p.length*o}else{const p=".bones["+n[d].name+"]";i(sc,p+".position",f,"pos",s),i(Pa,p+".quaternion",f,"rot",s),i(sc,p+".scale",f,"scl",s)}}return s.length===0?null:new this(r,l,s,a)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,s=e.length;i!==s;++i){const r=this.tracks[i];n=Math.max(n,r.times[r.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Uve(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ic;case"vector":case"vector2":case"vector3":case"vector4":return sc;case"color":return Ix;case"quaternion":return Pa;case"bool":case"boolean":return fc;case"string":return hc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function zve(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Uve(t.type);if(t.times===void 0){const n=[],i=[];Rx(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const fo={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class kx{constructor(e,n,i){const s=this;let r=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(u){a++,r===!1&&s.onStart!==void 0&&s.onStart(u,o,a),r=!0},this.itemEnd=function(u){o++,s.onProgress!==void 0&&s.onProgress(u,o,a),o===a&&(r=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(u){s.onError!==void 0&&s.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const p=c[d],g=c[d+1];if(p.global&&(p.lastIndex=0),p.test(u))return g}return null}}}const VL=new kx;class qi{constructor(e){this.manager=e!==void 0?e:VL,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(s,r){i.load(e,s,n,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}qi.DEFAULT_MATERIAL_NAME="__DEFAULT";const to={};class Vve extends Error{constructor(e,n){super(e),this.response=n}}class ks extends qi{constructor(e){super(e)}load(e,n,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=fo.get(e);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(r),this.manager.itemEnd(e)},0),r;if(to[e]!==void 0){to[e].push({onLoad:n,onProgress:i,onError:s});return}to[e]=[],to[e].push({onLoad:n,onProgress:i,onError:s});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=to[e],d=c.body.getReader(),f=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),p=f?parseInt(f):0,g=p!==0;let m=0;const y=new ReadableStream({start(v){_();function _(){d.read().then(({done:b,value:w})=>{if(b)v.close();else{m+=w.byteLength;const S=new ProgressEvent("progress",{lengthComputable:g,loaded:m,total:p});for(let x=0,C=u.length;x<C;x++){const T=u[x];T.onProgress&&T.onProgress(S)}v.enqueue(w),_()}})}}});return new Response(y)}else throw new Vve(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,p=new TextDecoder(f);return c.arrayBuffer().then(g=>p.decode(g))}}}).then(c=>{fo.add(e,c);const u=to[e];delete to[e];for(let d=0,f=u.length;d<f;d++){const p=u[d];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=to[e];if(u===void 0)throw this.manager.itemError(e),c;delete to[e];for(let d=0,f=u.length;d<f;d++){const p=u[d];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class $ve extends qi{constructor(e){super(e)}load(e,n,i,s){const r=this,o=new ks(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(r.parse(JSON.parse(a)))}catch(l){s?s(l):console.error(l),r.manager.itemError(e)}},i,s)}parse(e){const n=[];for(let i=0;i<e.length;i++){const s=Gu.parse(e[i]);n.push(s)}return n}}class Hve extends qi{constructor(e){super(e)}load(e,n,i,s){const r=this,o=[],a=new Lv,l=new ks(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(r.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const p=r.parse(f,!0);o[d]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(a.minFilter=$n),a.image=o,a.format=p.format,a.needsUpdate=!0,n&&n(a))},i,s)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=r.parse(d,!0);if(f.isCubemap){const p=f.mipmaps.length/f.mipmapCount;for(let g=0;g<p;g++){o[g]={mipmaps:[]};for(let m=0;m<f.mipmapCount;m++)o[g].mipmaps.push(f.mipmaps[g*f.mipmapCount+m]),o[g].format=f.format,o[g].width=f.width,o[g].height=f.height}a.image=o}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=$n),a.format=f.format,a.needsUpdate=!0,n&&n(a)},i,s);return a}}class rh extends qi{constructor(e){super(e)}load(e,n,i,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=fo.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){n&&n(o),r.manager.itemEnd(e)},0),o;const a=eh("img");function l(){u(),fo.add(e,this),n&&n(this),r.manager.itemEnd(e)}function c(d){u(),s&&s(d),r.manager.itemError(e),r.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a}}class Wve extends qi{constructor(e){super(e)}load(e,n,i,s){const r=new Ah;r.colorSpace=pi;const o=new rh(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){r.images[c]=u,a++,a===6&&(r.needsUpdate=!0,n&&n(r))},void 0,s)}for(let c=0;c<e.length;++c)l(c);return r}}class Gve extends qi{constructor(e){super(e)}load(e,n,i,s){const r=this,o=new ga,a=new ks(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(r.withCredentials),a.load(e,function(l){let c;try{c=r.parse(l)}catch(u){if(s!==void 0)s(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Es,o.wrapT=c.wrapT!==void 0?c.wrapT:Es,o.magFilter=c.magFilter!==void 0?c.magFilter:$n,o.minFilter=c.minFilter!==void 0?c.minFilter:$n,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ws),c.mipmapCount===1&&(o.minFilter=$n),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},i,s),o}}class $L extends qi{constructor(e){super(e)}load(e,n,i,s){const r=new Hn,o=new rh(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){r.image=a,r.needsUpdate=!0,n!==void 0&&n(r)},i,s),r}}class Ha extends Qt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new ct(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class HL extends Ha{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Qt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ct(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const by=new Ct,kT=new Z,OT=new Z;class Ox{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new qe(512,512),this.map=null,this.mapPass=null,this.matrix=new Ct,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Rh,this._frameExtents=new qe(1,1),this._viewportCount=1,this._viewports=[new dn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;kT.setFromMatrixPosition(e.matrixWorld),n.position.copy(kT),OT.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(OT),n.updateMatrixWorld(),by.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(by),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(by)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Kve extends Ox{constructor(){super(new ci(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=$u*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height,r=e.distance||n.far;(i!==n.fov||s!==n.aspect||r!==n.far)&&(n.fov=i,n.aspect=s,n.far=r,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Lx extends Ha{constructor(e,n,i=0,s=Math.PI/3,r=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Qt.DEFAULT_UP),this.updateMatrix(),this.target=new Qt,this.distance=i,this.angle=s,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new Kve}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const LT=new Ct,kd=new Z,_y=new Z;class Yve extends Ox{constructor(){super(new ci(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new qe(4,2),this._viewportCount=6,this._viewports=[new dn(2,1,1,1),new dn(0,1,1,1),new dn(3,1,1,1),new dn(1,1,1,1),new dn(3,0,1,1),new dn(1,0,1,1)],this._cubeDirections=[new Z(1,0,0),new Z(-1,0,0),new Z(0,0,1),new Z(0,0,-1),new Z(0,1,0),new Z(0,-1,0)],this._cubeUps=[new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,0,1),new Z(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,s=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),kd.setFromMatrixPosition(e.matrixWorld),i.position.copy(kd),_y.copy(i.position),_y.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(_y),i.updateMatrixWorld(),s.makeTranslation(-kd.x,-kd.y,-kd.z),LT.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(LT)}}class Nx extends Ha{constructor(e,n,i=0,s=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new Yve}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Xve extends Ox{constructor(){super(new nr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Xv extends Ha{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Qt.DEFAULT_UP),this.updateMatrix(),this.target=new Qt,this.shadow=new Xve}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Dx extends Ha{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class WL extends Ha{constructor(e,n,i=10,s=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class GL{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Z)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,s=e.y,r=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*s),n.addScaledVector(o[2],.488603*r),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*s)),n.addScaledVector(o[5],1.092548*(s*r)),n.addScaledVector(o[6],.315392*(3*r*r-1)),n.addScaledVector(o[7],1.092548*(i*r)),n.addScaledVector(o[8],.546274*(i*i-s*s)),n}getIrradianceAt(e,n){const i=e.x,s=e.y,r=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*s),n.addScaledVector(o[2],2*.511664*r),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*s),n.addScaledVector(o[5],2*.429043*s*r),n.addScaledVector(o[6],.743125*r*r-.247708),n.addScaledVector(o[7],2*.429043*i*r),n.addScaledVector(o[8],.429043*(i*i-s*s)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(e,n+s*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(e,n+s*3);return e}static getBasisAt(e,n){const i=e.x,s=e.y,r=e.z;n[0]=.282095,n[1]=.488603*s,n[2]=.488603*r,n[3]=.488603*i,n[4]=1.092548*i*s,n[5]=1.092548*s*r,n[6]=.315392*(3*r*r-1),n[7]=1.092548*i*r,n[8]=.546274*(i*i-s*s)}}class KL extends Ha{constructor(e=new GL,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class qv extends qi{constructor(e){super(e),this.textures={}}load(e,n,i,s){const r=this,o=new ks(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(a){try{n(r.parse(JSON.parse(a)))}catch(l){s?s(l):console.error(l),r.manager.itemError(e)}},i,s)}parse(e){const n=this.textures;function i(r){return n[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),n[r]}const s=qv.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new ct().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const o=e.uniforms[r];switch(s.uniforms[r]={},o.type){case"t":s.uniforms[r].value=i(o.value);break;case"c":s.uniforms[r].value=new ct().setHex(o.value);break;case"v2":s.uniforms[r].value=new qe().fromArray(o.value);break;case"v3":s.uniforms[r].value=new Z().fromArray(o.value);break;case"v4":s.uniforms[r].value=new dn().fromArray(o.value);break;case"m3":s.uniforms[r].value=new jt().fromArray(o.value);break;case"m4":s.uniforms[r].value=new Ct().fromArray(o.value);break;default:s.uniforms[r].value=o.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)s.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=i(e.map)),e.matcap!==void 0&&(s.matcap=i(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),s.normalScale=new qe().fromArray(r)}return e.displacementMap!==void 0&&(s.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=i(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new qe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:RL,SpriteMaterial:Iv,RawShaderMaterial:PL,ShaderMaterial:Qn,PointsMaterial:Ov,MeshPhysicalMaterial:ir,MeshStandardMaterial:dc,MeshPhongMaterial:IL,MeshToonMaterial:kL,MeshNormalMaterial:OL,MeshLambertMaterial:Ax,MeshDepthMaterial:Ph,MeshDistanceMaterial:gx,MeshBasicMaterial:ui,MeshMatcapMaterial:LL,LineDashedMaterial:NL,LineBasicMaterial:Ri,Material:_i};return new n[e]}}class va{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,s=e.length;i<s;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class YL extends Yt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class XL extends qi{constructor(e){super(e)}load(e,n,i,s){const r=this,o=new ks(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(a){try{n(r.parse(JSON.parse(a)))}catch(l){s?s(l):console.error(l),r.manager.itemError(e)}},i,s)}parse(e){const n={},i={};function s(p,g){if(n[g]!==void 0)return n[g];const y=p.interleavedBuffers[g],v=r(p,y.buffer),_=nu(y.type,v),b=new kh(_,y.stride);return b.uuid=y.uuid,n[g]=b,b}function r(p,g){if(i[g]!==void 0)return i[g];const y=p.arrayBuffers[g],v=new Uint32Array(y).buffer;return i[g]=v,v}const o=e.isInstancedBufferGeometry?new YL:new Yt,a=e.data.index;if(a!==void 0){const p=nu(a.type,a.array);o.setIndex(new ln(p,1))}const l=e.data.attributes;for(const p in l){const g=l[p];let m;if(g.isInterleavedBufferAttribute){const y=s(e.data,g.data);m=new Ra(y,g.itemSize,g.offset,g.normalized)}else{const y=nu(g.type,g.array),v=g.isInstancedBufferAttribute?pr:ln;m=new v(y,g.itemSize,g.normalized)}g.name!==void 0&&(m.name=g.name),g.usage!==void 0&&m.setUsage(g.usage),o.setAttribute(p,m)}const c=e.data.morphAttributes;if(c)for(const p in c){const g=c[p],m=[];for(let y=0,v=g.length;y<v;y++){const _=g[y];let b;if(_.isInterleavedBufferAttribute){const w=s(e.data,_.data);b=new Ra(w,_.itemSize,_.offset,_.normalized)}else{const w=nu(_.type,_.array);b=new ln(w,_.itemSize,_.normalized)}_.name!==void 0&&(b.name=_.name),m.push(b)}o.morphAttributes[p]=m}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let p=0,g=d.length;p!==g;++p){const m=d[p];o.addGroup(m.start,m.count,m.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const p=new Z;f.center!==void 0&&p.fromArray(f.center),o.boundingSphere=new di(p,f.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class qve extends qi{constructor(e){super(e)}load(e,n,i,s){const r=this,o=this.path===""?va.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new ks(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){s!==void 0&&s(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(c,n)},i,s)}async loadAsync(e,n){const i=this,s=this.path===""?va.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const r=new ks(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const o=await r.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,n){const i=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,s),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,r,l,a,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let d=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),r=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,r),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,s,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,s=e.length;i<s;i++){const r=new Hl().fromJSON(e[i]);n[r.uuid]=r}return n}parseSkeletons(e,n){const i={},s={};if(n.traverse(function(r){r.isBone&&(s[r.uuid]=r)}),e!==void 0)for(let r=0,o=e.length;r<o;r++){const a=new Oh().fromJSON(e[r],s);i[a.uuid]=a}return i}parseGeometries(e,n){const i={};if(e!==void 0){const s=new XL;for(let r=0,o=e.length;r<o;r++){let a;const l=e[r];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=s.parse(l);break;default:l.type in IT?a=IT[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,n){const i={},s={};if(e!==void 0){const r=new qv;r.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=r.parse(l)),s[l.uuid]=i[l.uuid]}}return s}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const s=e[i],r=Gu.parse(s);n[r.uuid]=r}return n}parseImages(e,n){const i=this,s={};let r;function o(l){return i.manager.itemStart(l),r.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(u)}else return l.data?{data:nu(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new kx(n);r=new rh(l),r.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const p=[];for(let g=0,m=f.length;g<m;g++){const y=f[g],v=a(y);v!==null&&(v instanceof HTMLImageElement?p.push(v):p.push(new ga(v.data,v.width,v.height)))}s[d.uuid]=new Il(p)}else{const p=a(d.url);s[d.uuid]=new Il(p)}}}return s}async parseImagesAsync(e){const n=this,i={};let s;async function r(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await s.loadAsync(l)}else return o.data?{data:nu(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){s=new rh(this.manager),s.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const p=c[d],g=await r(p);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new ga(g.data,g.width,g.height)))}i[l.uuid]=new Il(u)}else{const u=await r(l.url);i[l.uuid]=new Il(u)}}}return i}parseTextures(e,n){function i(r,o){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),o[r])}const s={};if(e!==void 0)for(let r=0,o=e.length;r<o;r++){const a=e[r];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new Ah,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new ga:u=new Hn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=i(a.mapping,jve)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=i(a.wrap[0],NT),u.wrapT=i(a.wrap[1],NT)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.minFilter!==void 0&&(u.minFilter=i(a.minFilter,DT)),a.magFilter!==void 0&&(u.magFilter=i(a.magFilter,DT)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),s[a.uuid]=u}return s}parseObject(e,n,i,s,r){let o;function a(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const p=[];for(let g=0,m=f.length;g<m;g++){const y=f[g];i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),p.push(i[y])}return p}return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),i[f]}}function c(f){return s[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),s[f]}let u,d;switch(e.type){case"Scene":o=new Ih,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ct(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Pv(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Rv(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new ci(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new nr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Dx(e.color,e.intensity);break;case"DirectionalLight":o=new Xv(e.color,e.intensity);break;case"PointLight":o=new Nx(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new WL(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Lx(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new HL(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new KL().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new yx(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new vt(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const f=e.count,p=e.instanceMatrix,g=e.instanceColor;o=new kl(u,d,f),o.instanceMatrix=new pr(new Float32Array(p.array),16),g!==void 0&&(o.instanceColor=new pr(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":u=a(e.geometry),d=l(e.material),o=new yL(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(m=>{const y=new Bn;y.min.fromArray(m.boxMin),y.max.fromArray(m.boxMax);const v=new di;return v.radius=m.sphereRadius,v.center.fromArray(m.sphereCenter),{boxInitialized:m.boxInitialized,box:y,sphereInitialized:m.sphereInitialized,sphere:v}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new vL;break;case"Line":o=new So(a(e.geometry),l(e.material));break;case"LineLoop":o=new bx(a(e.geometry),l(e.material));break;case"LineSegments":o=new xr(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new _x(a(e.geometry),l(e.material));break;case"Sprite":o=new sa(l(e.material));break;case"Group":o=new uo;break;case"Bone":o=new kv;break;default:o=new Qt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let p=0;p<f.length;p++)o.add(this.parseObject(f[p],n,i,s,r))}if(e.animations!==void 0){const f=e.animations;for(let p=0;p<f.length;p++){const g=f[p];o.animations.push(r[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const f=e.levels;for(let p=0;p<f.length;p++){const g=f[p],m=o.getObjectByProperty("uuid",g.object);m!==void 0&&o.addLevel(m,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=n[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}}const jve={UVMapping:_v,CubeReflectionMapping:wo,CubeRefractionMapping:Ta,EquirectangularReflectionMapping:Kf,EquirectangularRefractionMapping:Yf,CubeUVReflectionMapping:sd},NT={RepeatWrapping:Aa,ClampToEdgeWrapping:Es,MirroredRepeatWrapping:Uu},DT={NearestFilter:vi,NearestMipmapNearestFilter:wv,NearestMipmapLinearFilter:Al,LinearFilter:$n,LinearMipmapNearestFilter:mu,LinearMipmapLinearFilter:Ws};class qL extends qi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=fo.get(e);if(o!==void 0){if(r.manager.itemStart(e),o.then){o.then(c=>{n&&n(c),r.manager.itemEnd(e)}).catch(c=>{s&&s(c)});return}return setTimeout(function(){n&&n(o),r.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(c){return fo.add(e,c),n&&n(c),r.manager.itemEnd(e),c}).catch(function(c){s&&s(c),fo.remove(e),r.manager.itemError(e),r.manager.itemEnd(e)});fo.add(e,l),r.manager.itemStart(e)}}let Yp;class Fx{static getContext(){return Yp===void 0&&(Yp=new(window.AudioContext||window.webkitAudioContext)),Yp}static setContext(e){Yp=e}}class Zve extends qi{constructor(e){super(e)}load(e,n,i,s){const r=this,o=new ks(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);Fx.getContext().decodeAudioData(c,function(d){n(d)}).catch(a)}catch(c){a(c)}},i,s);function a(l){s?s(l):console.error(l),r.manager.itemError(e)}}}const FT=new Ct,BT=new Ct,sl=new Ct;class Jve{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ci,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ci,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,sl.copy(e.projectionMatrix);const s=n.eyeSep/2,r=s*n.near/n.focus,o=n.near*Math.tan($l*n.fov*.5)/n.zoom;let a,l;BT.elements[12]=-s,FT.elements[12]=s,a=-o*n.aspect+r,l=o*n.aspect+r,sl.elements[0]=2*n.near/(l-a),sl.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(sl),a=-o*n.aspect-r,l=o*n.aspect-r,sl.elements[0]=2*n.near/(l-a),sl.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(sl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(BT),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(FT)}}class jv{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=UT(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=UT();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function UT(){return(typeof performance>"u"?Date:performance).now()}const rl=new Z,zT=new an,Qve=new Z,ol=new Z;class e0e extends Qt{constructor(){super(),this.type="AudioListener",this.context=Fx.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new jv}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(rl,zT,Qve),ol.set(0,0,-1).applyQuaternion(zT),n.positionX){const s=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(rl.x,s),n.positionY.linearRampToValueAtTime(rl.y,s),n.positionZ.linearRampToValueAtTime(rl.z,s),n.forwardX.linearRampToValueAtTime(ol.x,s),n.forwardY.linearRampToValueAtTime(ol.y,s),n.forwardZ.linearRampToValueAtTime(ol.z,s),n.upX.linearRampToValueAtTime(i.x,s),n.upY.linearRampToValueAtTime(i.y,s),n.upZ.linearRampToValueAtTime(i.z,s)}else n.setPosition(rl.x,rl.y,rl.z),n.setOrientation(ol.x,ol.y,ol.z,i.x,i.y,i.z)}}class jL extends Qt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const al=new Z,VT=new an,t0e=new Z,ll=new Z;class n0e extends jL{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(al,VT,t0e),ll.set(0,0,1).applyQuaternion(VT);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(al.x,i),n.positionY.linearRampToValueAtTime(al.y,i),n.positionZ.linearRampToValueAtTime(al.z,i),n.orientationX.linearRampToValueAtTime(ll.x,i),n.orientationY.linearRampToValueAtTime(ll.y,i),n.orientationZ.linearRampToValueAtTime(ll.z,i)}else n.setPosition(al.x,al.y,al.z),n.setOrientation(ll.x,ll.y,ll.z)}}class i0e{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class ZL{constructor(e,n,i){this.binding=e,this.valueSize=i;let s,r,o;switch(n){case"quaternion":s=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,s=this.valueSize,r=e*s+s;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==s;++a)i[r+a]=i[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(i,r,0,a,s)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,s,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,s=e*n+n,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const l=n*this._origIndex;this._mixBufferRegion(i,s,l,1-r,n)}o>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){a.setValue(i,s);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,s=i*this._origIndex;e.getValue(n,s);for(let r=i,o=s;r!==o;++r)n[r]=n[s+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,s,r){if(s>=.5)for(let o=0;o!==r;++o)e[n+o]=e[i+o]}_slerp(e,n,i,s){an.slerpFlat(e,n,e,n,e,i,s)}_slerpAdditive(e,n,i,s,r){const o=this._workIndex*r;an.multiplyQuaternionsFlat(e,o,e,n,e,i),an.slerpFlat(e,n,e,n,e,o,s)}_lerp(e,n,i,s,r){const o=1-s;for(let a=0;a!==r;++a){const l=n+a;e[l]=e[l]*o+e[i+a]*s}}_lerpAdditive(e,n,i,s,r){for(let o=0;o!==r;++o){const a=n+o;e[a]=e[a]+e[i+o]*s}}}const Bx="\\[\\]\\.:\\/",s0e=new RegExp("["+Bx+"]","g"),Ux="[^"+Bx+"]",r0e="[^"+Bx.replace("\\.","")+"]",o0e=/((?:WC+[\/:])*)/.source.replace("WC",Ux),a0e=/(WCOD+)?/.source.replace("WCOD",r0e),l0e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Ux),c0e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Ux),u0e=new RegExp("^"+o0e+a0e+l0e+c0e+"$"),d0e=["material","materials","bones","map"];class f0e{constructor(e,n,i){const s=i||cn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,s)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class cn{constructor(e,n,i){this.path=n,this.parsedPath=i||cn.parseTrackName(n),this.node=cn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new cn.Composite(e,n,i):new cn(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(s0e,"")}static parseTrackName(e){const n=u0e.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const r=i.nodeName.substring(s+1);d0e.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(r){for(let o=0;o<r.length;o++){const a=r[o];if(a.name===n||a.uuid===n)return a;const l=i(a.children);if(l)return l}return null},s=i(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)e[n++]=i[s]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,s=n.propertyName;let r=n.propertyIndex;if(e||(e=cn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[s];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+s+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(r!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}cn.Composite=f0e;cn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};cn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};cn.prototype.GetterByBindingType=[cn.prototype._getValue_direct,cn.prototype._getValue_array,cn.prototype._getValue_arrayElement,cn.prototype._getValue_toArray];cn.prototype.SetterByBindingTypeAndVersioning=[[cn.prototype._setValue_direct,cn.prototype._setValue_direct_setNeedsUpdate,cn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[cn.prototype._setValue_array,cn.prototype._setValue_array_setNeedsUpdate,cn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[cn.prototype._setValue_arrayElement,cn.prototype._setValue_arrayElement_setNeedsUpdate,cn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[cn.prototype._setValue_fromArray,cn.prototype._setValue_fromArray_setNeedsUpdate,cn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class h0e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ps(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,s=arguments.length;i!==s;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,s=this._parsedPaths,r=this._bindings,o=r.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],p=f.uuid;let g=n[p];if(g===void 0){g=l++,n[p]=g,e.push(f);for(let m=0,y=o;m!==y;++m)r[m].push(new cn(f,i[m],s[m]))}else if(g<c){a=e[g];const m=--c,y=e[m];n[y.uuid]=g,e[g]=y,n[p]=m,e[m]=f;for(let v=0,_=o;v!==_;++v){const b=r[v],w=b[m];let S=b[g];b[g]=w,S===void 0&&(S=new cn(f,i[v],s[v])),b[m]=S}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=r){const d=r++,f=e[d];n[f.uuid]=u,e[u]=f,n[c]=d,e[d]=l;for(let p=0,g=s;p!==g;++p){const m=i[p],y=m[d],v=m[u];m[u]=y,m[d]=v}}}this.nCachedObjects_=r}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<r){const f=--r,p=e[f],g=--o,m=e[g];n[p.uuid]=d,e[d]=p,n[m.uuid]=f,e[f]=m,e.pop();for(let y=0,v=s;y!==v;++y){const _=i[y],b=_[f],w=_[g];_[d]=b,_[f]=w,_.pop()}}else{const f=--o,p=e[f];f>0&&(n[p.uuid]=d),e[d]=p,e.pop();for(let g=0,m=s;g!==m;++g){const y=i[g];y[d]=y[f],y.pop()}}}this.nCachedObjects_=r}subscribe_(e,n){const i=this._bindingsIndicesByPath;let s=i[e];const r=this._bindings;if(s!==void 0)return r[s];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);s=r.length,i[e]=s,o.push(e),a.push(n),r.push(d);for(let f=u,p=l.length;f!==p;++f){const g=l[f];d[f]=new cn(g,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const s=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=i,o[i]=l,o.pop(),r[i]=r[a],r.pop(),s[i]=s[a],s.pop()}}}class JL{constructor(e,n,i=null,s=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=s;const r=n.tracks,o=r.length,a=new Array(o),l={endingStart:Rl,endingEnd:Rl};for(let c=0;c!==o;++c){const u=r[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=zO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const s=this._clip.duration,r=e._clip.duration,o=r/s,a=s/r;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const s=this._mixer,r=s.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=s._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=r,l[1]=r+i,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,s){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const l=(e-r)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case ax:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case xv:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(s,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(e)[0];n*=s,e>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(e)[0];n*=s,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let s=this.time+e,r=this._loopCount;const o=i===VO;if(e===0)return r===-1?s:o&&(r&1)===1?n-s:s;if(i===UO){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=n)s=n;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),s>=n||s<0){const a=Math.floor(s/n);s-=n*a,r+=Math.abs(a);const l=this.repetitions-r;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?n:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=s;if(o&&(r&1)===1)return n-s}return s}_setEndings(e,n,i){const s=this._interpolantSettings;i?(s.endingStart=Pl,s.endingEnd=Pl):(e?s.endingStart=this.zeroSlopeAtStart?Pl:Rl:s.endingStart=Xf,n?s.endingEnd=this.zeroSlopeAtEnd?Pl:Rl:s.endingEnd=Xf)}_scheduleFading(e,n,i){const s=this._mixer,r=s.time;let o=this._weightInterpolant;o===null&&(o=s._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=r,l[0]=n,a[1]=r+e,l[1]=i,this}}const p0e=new Float32Array(1);class m0e extends Yr{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,s=e._clip.tracks,r=s.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==r;++d){const f=s[d],p=f.name;let g=u[p];if(g!==void 0)++g.referenceCount,o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,p));continue}const m=n&&n._propertyBindings[d].binding.parsedPath;g=new ZL(cn.create(i,p,m),f.ValueTypeName,f.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,p),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,s=e._clip.uuid,r=this._actionsByClip[s];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,s,i)}const n=e._propertyBindings;for(let i=0,s=n.length;i!==s;++i){const r=n[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,s=n.length;i!==s;++i){const r=n[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const s=this._actions,r=this._actionsByClip;let o=r[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=s.length,s.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],s=e._cacheIndex;i._cacheIndex=s,n[s]=i,n.pop(),e._cacheIndex=null;const r=e._clip.uuid,o=this._actionsByClip,a=o[r],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete o[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,s=n.length;i!==s;++i){const r=n[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,s=this._nActiveActions++,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,s=--this._nActiveActions,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_addInactiveBinding(e,n,i){const s=this._bindingsByRootAndName,r=this._bindings;let o=s[n];o===void 0&&(o={},s[n]=o),o[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,s=i.rootNode.uuid,r=i.path,o=this._bindingsByRootAndName,a=o[s],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[r],Object.keys(a).length===0&&delete o[s]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,s=this._nActiveBindings++,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,s=--this._nActiveBindings,r=n[s];e._cacheIndex=s,n[s]=e,r._cacheIndex=i,n[i]=r}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new Px(new Float32Array(2),new Float32Array(2),1,p0e),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,s=--this._nActiveControlInterpolants,r=n[s];e.__cacheIndex=s,n[s]=e,r.__cacheIndex=i,n[i]=r}clipAction(e,n,i){const s=n||this._root,r=s.uuid;let o=typeof e=="string"?Gu.findByName(s,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=xv),l!==void 0){const d=l.actionByRoot[r];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new JL(this,o,n,i);return this._bindAction(u,c),this._addInactiveAction(u,a,r),u}existingAction(e,n){const i=n||this._root,s=i.uuid,r=typeof e=="string"?Gu.findByName(i,e):e,o=r?r.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[s]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,s=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(s,e,r,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,s=this._actionsByClip,r=s[i];if(r!==void 0){const o=r.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete s[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const s=this._bindingsByRootAndName,r=s[n];if(r!==void 0)for(const o in r){const a=r[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class zx{constructor(e){this.value=e}clone(){return new zx(this.value.clone===void 0?this.value:this.value.clone())}}let g0e=0;class v0e extends Yr{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:g0e++}),this.name="",this.usage=Jf,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,s=n.length;i<s;i++){const r=Array.isArray(n[i])?n[i]:[n[i]];for(let o=0;o<r.length;o++)this.uniforms.push(r[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class y0e extends kh{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class b0e{constructor(e,n,i,s,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=s,this.count=r,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const $T=new Ct;class cd{constructor(e,n,i=0,s=1/0){this.ray=new od(e,n),this.near=i,this.far=s,this.camera=null,this.layers=new Ev,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return $T.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4($T),this}intersectObject(e,n=!0,i=[]){return zb(e,this,i,n),i.sort(HT),i}intersectObjects(e,n=!0,i=[]){for(let s=0,r=e.length;s<r;s++)zb(e[s],this,i,n);return i.sort(HT),i}}function HT(t,e){return t.distance-e.distance}function zb(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),i===!0){const s=t.children;for(let r=0,o=s.length;r<o;r++)zb(s[r],e,n,!0)}}class Wm{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Zn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class _0e{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}const WT=new qe;class w0e{constructor(e=new qe(1/0,1/0),n=new qe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=WT.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,WT).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const GT=new Z,Xp=new Z;class x0e{constructor(e=new Z,n=new Z){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){GT.subVectors(e,this.start),Xp.subVectors(this.end,this.start);const i=Xp.dot(Xp);let r=Xp.dot(GT)/i;return n&&(r=Zn(r,0,1)),r}closestPointToPoint(e,n,i){const s=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const KT=new Z;class S0e extends Qt{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new Yt,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;s.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new Et(s,3));const r=new Ri({fog:!1,toneMapped:!1});this.cone=new xr(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),KT.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(KT),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ko=new Z,qp=new Ct,wy=new Ct;class M0e extends xr{constructor(e){const n=QL(e),i=new Yt,s=[],r=[],o=new ct(0,0,1),a=new ct(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(o.r,o.g,o.b),r.push(a.r,a.g,a.b))}i.setAttribute("position",new Et(s,3)),i.setAttribute("color",new Et(r,3));const l=new Ri({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,s=i.getAttribute("position");wy.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<n.length;r++){const a=n[r];a.parent&&a.parent.isBone&&(qp.multiplyMatrices(wy,a.matrixWorld),Ko.setFromMatrixPosition(qp),s.setXYZ(o,Ko.x,Ko.y,Ko.z),qp.multiplyMatrices(wy,a.parent.matrixWorld),Ko.setFromMatrixPosition(qp),s.setXYZ(o+1,Ko.x,Ko.y,Ko.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function QL(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,QL(t.children[n]));return e}class C0e extends vt{constructor(e,n,i){const s=new $a(n,4,2),r=new ui({wireframe:!0,fog:!1,toneMapped:!1});super(s,r),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const E0e=new Z,YT=new ct,XT=new ct;class T0e extends Qt{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new nc(n);s.rotateY(Math.PI*.5),this.material=new ui({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=s.getAttribute("position"),o=new Float32Array(r.count*3);s.setAttribute("color",new ln(o,3)),this.add(new vt(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");YT.copy(this.light.color),XT.copy(this.light.groundColor);for(let i=0,s=n.count;i<s;i++){const r=i<s/2?YT:XT;n.setXYZ(i,r.r,r.g,r.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(E0e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class eN extends xr{constructor(e=10,n=10,i=4473924,s=8947848){i=new ct(i),s=new ct(s);const r=n/2,o=e/n,a=e/2,l=[],c=[];for(let f=0,p=0,g=-a;f<=n;f++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const m=f===r?i:s;m.toArray(c,p),p+=3,m.toArray(c,p),p+=3,m.toArray(c,p),p+=3,m.toArray(c,p),p+=3}const u=new Yt;u.setAttribute("position",new Et(l,3)),u.setAttribute("color",new Et(c,3));const d=new Ri({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class A0e extends xr{constructor(e=10,n=16,i=8,s=64,r=4473924,o=8947848){r=new ct(r),o=new ct(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const f=d/n*(Math.PI*2),p=Math.sin(f)*e,g=Math.cos(f)*e;a.push(0,0,0),a.push(p,0,g);const m=d&1?r:o;l.push(m.r,m.g,m.b),l.push(m.r,m.g,m.b)}for(let d=0;d<i;d++){const f=d&1?r:o,p=e-e/i*d;for(let g=0;g<s;g++){let m=g/s*(Math.PI*2),y=Math.sin(m)*p,v=Math.cos(m)*p;a.push(y,0,v),l.push(f.r,f.g,f.b),m=(g+1)/s*(Math.PI*2),y=Math.sin(m)*p,v=Math.cos(m)*p,a.push(y,0,v),l.push(f.r,f.g,f.b)}}const c=new Yt;c.setAttribute("position",new Et(a,3)),c.setAttribute("color",new Et(l,3));const u=new Ri({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const qT=new Z,jp=new Z,jT=new Z;class R0e extends Qt{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let s=new Yt;s.setAttribute("position",new Et([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const r=new Ri({fog:!1,toneMapped:!1});this.lightPlane=new So(s,r),this.add(this.lightPlane),s=new Yt,s.setAttribute("position",new Et([0,0,0,0,0,1],3)),this.targetLine=new So(s,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),qT.setFromMatrixPosition(this.light.matrixWorld),jp.setFromMatrixPosition(this.light.target.matrixWorld),jT.subVectors(jp,qT),this.lightPlane.lookAt(jp),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(jp),this.targetLine.scale.z=jT.length()}}const Zp=new Z,qn=new Tv;class P0e extends xr{constructor(e){const n=new Yt,i=new Ri({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],r=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,m){l(g),l(m)}function l(g){s.push(0,0,0),r.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(s.length/3-1)}n.setAttribute("position",new Et(s,3)),n.setAttribute("color",new Et(r,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ct(16755200),u=new ct(16711680),d=new ct(43775),f=new ct(16777215),p=new ct(3355443);this.setColors(c,u,d,f,p)}setColors(e,n,i,s,r){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,s.r,s.g,s.b),a.setXYZ(39,s.r,s.g,s.b),a.setXYZ(40,r.r,r.g,r.b),a.setXYZ(41,r.r,r.g,r.b),a.setXYZ(42,r.r,r.g,r.b),a.setXYZ(43,r.r,r.g,r.b),a.setXYZ(44,r.r,r.g,r.b),a.setXYZ(45,r.r,r.g,r.b),a.setXYZ(46,r.r,r.g,r.b),a.setXYZ(47,r.r,r.g,r.b),a.setXYZ(48,r.r,r.g,r.b),a.setXYZ(49,r.r,r.g,r.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,s=1;qn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ti("c",n,e,qn,0,0,-1),ti("t",n,e,qn,0,0,1),ti("n1",n,e,qn,-i,-s,-1),ti("n2",n,e,qn,i,-s,-1),ti("n3",n,e,qn,-i,s,-1),ti("n4",n,e,qn,i,s,-1),ti("f1",n,e,qn,-i,-s,1),ti("f2",n,e,qn,i,-s,1),ti("f3",n,e,qn,-i,s,1),ti("f4",n,e,qn,i,s,1),ti("u1",n,e,qn,i*.7,s*1.1,-1),ti("u2",n,e,qn,-i*.7,s*1.1,-1),ti("u3",n,e,qn,0,s*2,-1),ti("cf1",n,e,qn,-i,0,1),ti("cf2",n,e,qn,i,0,1),ti("cf3",n,e,qn,0,-s,1),ti("cf4",n,e,qn,0,s,1),ti("cn1",n,e,qn,-i,0,-1),ti("cn2",n,e,qn,i,0,-1),ti("cn3",n,e,qn,0,-s,-1),ti("cn4",n,e,qn,0,s,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ti(t,e,n,i,s,r,o){Zp.set(s,r,o).unproject(i);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Zp.x,Zp.y,Zp.z)}}const Jp=new Bn;class I0e extends xr{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),r=new Yt;r.setIndex(new ln(i,1)),r.setAttribute("position",new ln(s,3)),super(r,new Ri({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Jp.setFromObject(this.object),Jp.isEmpty())return;const n=Jp.min,i=Jp.max,s=this.geometry.attributes.position,r=s.array;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=n.x,r[4]=i.y,r[5]=i.z,r[6]=n.x,r[7]=n.y,r[8]=i.z,r[9]=i.x,r[10]=n.y,r[11]=i.z,r[12]=i.x,r[13]=i.y,r[14]=n.z,r[15]=n.x,r[16]=i.y,r[17]=n.z,r[18]=n.x,r[19]=n.y,r[20]=n.z,r[21]=i.x,r[22]=n.y,r[23]=n.z,s.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Vx extends xr{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new Yt;r.setIndex(new ln(i,1)),r.setAttribute("position",new Et(s,3)),super(r,new Ri({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class k0e extends So{constructor(e,n=1,i=16776960){const s=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Yt;o.setAttribute("position",new Et(r,3)),o.computeBoundingSphere(),super(o,new Ri({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Yt;l.setAttribute("position",new Et(a,3)),l.computeBoundingSphere(),this.add(new vt(l,new ui({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const ZT=new Z;let Qp,xy;class O0e extends Qt{constructor(e=new Z(0,0,1),n=new Z(0,0,0),i=1,s=16776960,r=i*.2,o=r*.2){super(),this.type="ArrowHelper",Qp===void 0&&(Qp=new Yt,Qp.setAttribute("position",new Et([0,0,0,0,1,0],3)),xy=new li(0,.5,1,5,1),xy.translate(0,-.5,0)),this.position.copy(n),this.line=new So(Qp,new Ri({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new vt(xy,new ui({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{ZT.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(ZT,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class L0e extends xr{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new Yt;s.setAttribute("position",new Et(n,3)),s.setAttribute("color",new Et(i,3));const r=new Ri({vertexColors:!0,toneMapped:!1});super(s,r),this.type="AxesHelper"}setColors(e,n,i){const s=new ct,r=this.geometry.attributes.color.array;return s.set(e),s.toArray(r,0),s.toArray(r,3),s.set(n),s.toArray(r,6),s.toArray(r,9),s.set(i),s.toArray(r,12),s.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class N0e{constructor(){this.type="ShapePath",this.color=new ct,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new th,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,s){return this.currentPath.quadraticCurveTo(e,n,i,s),this}bezierCurveTo(e,n,i,s,r,o){return this.currentPath.bezierCurveTo(e,n,i,s,r,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const _=[];for(let b=0,w=v.length;b<w;b++){const S=v[b],x=new Hl;x.curves=S.curves,_.push(x)}return _}function i(v,_){const b=_.length;let w=!1;for(let S=b-1,x=0;x<b;S=x++){let C=_[S],T=_[x],E=T.x-C.x,M=T.y-C.y;if(Math.abs(M)>Number.EPSILON){if(M<0&&(C=_[x],E=-E,T=_[S],M=-M),v.y<C.y||v.y>T.y)continue;if(v.y===C.y){if(v.x===C.x)return!0}else{const R=M*(v.x-C.x)-E*(v.y-C.y);if(R===0)return!0;if(R<0)continue;w=!w}}else{if(v.y!==C.y)continue;if(T.x<=v.x&&v.x<=C.x||C.x<=v.x&&v.x<=T.x)return!0}}return w}const s=Br.isClockWise,r=this.subPaths;if(r.length===0)return[];let o,a,l;const c=[];if(r.length===1)return a=r[0],l=new Hl,l.curves=a.curves,c.push(l),c;let u=!s(r[0].getPoints());u=e?!u:u;const d=[],f=[];let p=[],g=0,m;f[g]=void 0,p[g]=[];for(let v=0,_=r.length;v<_;v++)a=r[v],m=a.getPoints(),o=s(m),o=e?!o:o,o?(!u&&f[g]&&g++,f[g]={s:new Hl,p:m},f[g].s.curves=a.curves,u&&g++,p[g]=[]):p[g].push({h:a,p:m[0]});if(!f[0])return n(r);if(f.length>1){let v=!1,_=0;for(let b=0,w=f.length;b<w;b++)d[b]=[];for(let b=0,w=f.length;b<w;b++){const S=p[b];for(let x=0;x<S.length;x++){const C=S[x];let T=!0;for(let E=0;E<f.length;E++)i(C.p,f[E].p)&&(b!==E&&_++,T?(T=!1,d[E].push(C)):v=!0);T&&d[b].push(C)}}_>0&&v===!1&&(p=d)}let y;for(let v=0,_=f.length;v<_;v++){l=f[v].s,c.push(l),y=p[v];for(let b=0,w=y.length;b<w;b++)l.holes.push(y[b].h)}return c}}class D0e extends jn{constructor(e=1,n=1,i=1,s={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...s,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:bv}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=bv);const F0e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:CO,AddEquation:la,AddOperation:wO,AdditiveAnimationBlendMode:ax,AdditiveBlending:xg,AgXToneMapping:TO,AlphaFormat:OO,AlwaysCompare:ZO,AlwaysDepth:pO,AlwaysStencilFunc:kb,AmbientLight:Dx,AnimationAction:JL,AnimationClip:Gu,AnimationLoader:$ve,AnimationMixer:m0e,AnimationObjectGroup:h0e,AnimationUtils:Bve,ArcCurve:bL,ArrayCamera:mL,ArrowHelper:O0e,AttachedBindMode:rb,Audio:jL,AudioAnalyser:i0e,AudioContext:Fx,AudioListener:e0e,AudioLoader:Zve,AxesHelper:L0e,BackSide:is,BasicDepthPacking:HO,BasicShadowMap:ede,BatchedMesh:yL,Bone:kv,BooleanKeyframeTrack:fc,Box2:w0e,Box3:Bn,Box3Helper:Vx,BoxGeometry:Wn,BoxHelper:I0e,BufferAttribute:ln,BufferGeometry:Yt,BufferGeometryLoader:XL,ByteType:PO,Cache:fo,Camera:Tv,CameraHelper:P0e,CanvasTexture:wx,CapsuleGeometry:Dv,CatmullRomCurve3:_L,CineonToneMapping:MO,CircleGeometry:Fv,ClampToEdgeWrapping:Es,Clock:jv,Color:ct,ColorKeyframeTrack:Ix,ColorManagement:gn,CompressedArrayTexture:ave,CompressedCubeTexture:lve,CompressedTexture:Lv,CompressedTextureLoader:Hve,ConeGeometry:Bv,ConstantAlphaFactor:dO,ConstantColorFactor:cO,CubeCamera:oL,CubeReflectionMapping:wo,CubeRefractionMapping:Ta,CubeTexture:Ah,CubeTextureLoader:Wve,CubeUVReflectionMapping:sd,CubicBezierCurve:Sx,CubicBezierCurve3:wL,CubicInterpolant:BL,CullFaceBack:nb,CullFaceFront:Yk,CullFaceFrontBack:Que,CullFaceNone:Kk,Curve:Sr,CurvePath:SL,CustomBlending:qk,CustomToneMapping:EO,CylinderGeometry:li,Cylindrical:_0e,Data3DTexture:dx,DataArrayTexture:Cv,DataTexture:ga,DataTextureLoader:Gve,DataUtils:rfe,DecrementStencilOp:lde,DecrementWrapStencilOp:ude,DefaultLoadingManager:VL,DepthFormat:Vl,DepthStencilFormat:zu,DepthTexture:mx,DetachedBindMode:RO,DirectionalLight:Xv,DirectionalLightHelper:R0e,DiscreteInterpolant:UL,DisplayP3ColorSpace:Mv,DodecahedronGeometry:Uv,DoubleSide:ds,DstAlphaFactor:sO,DstColorFactor:oO,DynamicCopyUsage:Cde,DynamicDrawUsage:bde,DynamicReadUsage:xde,EdgesGeometry:ML,EllipseCurve:Nv,EqualCompare:YO,EqualDepth:gO,EqualStencilFunc:pde,EquirectangularReflectionMapping:Kf,EquirectangularRefractionMapping:Yf,Euler:Jn,EventDispatcher:Yr,ExtrudeGeometry:Vv,FileLoader:ks,Float16BufferAttribute:dfe,Float32BufferAttribute:Et,FloatType:Gs,Fog:Pv,FogExp2:Rv,FramebufferTexture:ove,FrontSide:Wr,Frustum:Rh,GLBufferAttribute:b0e,GLSL1:Tde,GLSL3:Ob,GreaterCompare:XO,GreaterDepth:yO,GreaterEqualCompare:jO,GreaterEqualDepth:vO,GreaterEqualStencilFunc:yde,GreaterStencilFunc:gde,GridHelper:eN,Group:uo,HalfFloatType:zs,HemisphereLight:HL,HemisphereLightHelper:T0e,IcosahedronGeometry:$v,ImageBitmapLoader:qL,ImageLoader:rh,ImageUtils:nL,IncrementStencilOp:ade,IncrementWrapStencilOp:cde,InstancedBufferAttribute:pr,InstancedBufferGeometry:YL,InstancedInterleavedBuffer:y0e,InstancedMesh:kl,Int16BufferAttribute:cfe,Int32BufferAttribute:ufe,Int8BufferAttribute:ofe,IntType:ex,InterleavedBuffer:kh,InterleavedBufferAttribute:Ra,Interpolant:ld,InterpolateDiscrete:Vu,InterpolateLinear:ec,InterpolateSmooth:$m,InvertStencilOp:dde,KeepStencilOp:hl,KeyframeTrack:Mr,LOD:vL,LatheGeometry:Lh,Layers:Ev,LessCompare:KO,LessDepth:mO,LessEqualCompare:cx,LessEqualDepth:Gf,LessEqualStencilFunc:mde,LessStencilFunc:hde,Light:Ha,LightProbe:KL,Line:So,Line3:x0e,LineBasicMaterial:Ri,LineCurve:Mx,LineCurve3:xL,LineDashedMaterial:NL,LineLoop:bx,LineSegments:xr,LinearDisplayP3ColorSpace:Th,LinearFilter:$n,LinearInterpolant:Px,LinearMipMapLinearFilter:sde,LinearMipMapNearestFilter:ide,LinearMipmapLinearFilter:Ws,LinearMipmapNearestFilter:mu,LinearSRGBColorSpace:xi,LinearToneMapping:xO,LinearTransfer:qf,Loader:qi,LoaderUtils:va,LoadingManager:kx,LoopOnce:UO,LoopPingPong:VO,LoopRepeat:zO,LuminanceAlphaFormat:DO,LuminanceFormat:NO,MOUSE:Zue,Material:_i,MaterialLoader:qv,MathUtils:JO,Matrix3:jt,Matrix4:Ct,MaxEquation:Qk,Mesh:vt,MeshBasicMaterial:ui,MeshDepthMaterial:Ph,MeshDistanceMaterial:gx,MeshLambertMaterial:Ax,MeshMatcapMaterial:LL,MeshNormalMaterial:OL,MeshPhongMaterial:IL,MeshPhysicalMaterial:ir,MeshStandardMaterial:dc,MeshToonMaterial:kL,MinEquation:Jk,MirroredRepeatWrapping:Uu,MixOperation:_O,MultiplyBlending:sb,MultiplyOperation:Eh,NearestFilter:vi,NearestMipMapLinearFilter:nde,NearestMipMapNearestFilter:tde,NearestMipmapLinearFilter:Al,NearestMipmapNearestFilter:wv,NeutralToneMapping:AO,NeverCompare:GO,NeverDepth:hO,NeverStencilFunc:fde,NoBlending:qs,NoColorSpace:oo,NoToneMapping:mo,NormalAnimationBlendMode:xv,NormalBlending:zl,NotEqualCompare:qO,NotEqualDepth:bO,NotEqualStencilFunc:vde,NumberKeyframeTrack:ic,Object3D:Qt,ObjectLoader:qve,ObjectSpaceNormalMap:WO,OctahedronGeometry:nc,OneFactor:tO,OneMinusConstantAlphaFactor:fO,OneMinusConstantColorFactor:uO,OneMinusDstAlphaFactor:rO,OneMinusDstColorFactor:aO,OneMinusSrcAlphaFactor:Mg,OneMinusSrcColorFactor:iO,OrthographicCamera:nr,P3Primaries:Zf,PCFShadowMap:Jw,PCFSoftShadowMap:Xk,PMREMGenerator:Lb,Path:th,PerspectiveCamera:ci,Plane:so,PlaneGeometry:za,PlaneHelper:k0e,PointLight:Nx,PointLightHelper:C0e,Points:_x,PointsMaterial:Ov,PolarGridHelper:A0e,PolyhedronGeometry:Va,PositionalAudio:n0e,PropertyBinding:cn,PropertyMixer:ZL,QuadraticBezierCurve:Cx,QuadraticBezierCurve3:Ex,Quaternion:an,QuaternionKeyframeTrack:Pa,QuaternionLinearInterpolant:zL,RED_GREEN_RGTC2_Format:Pb,RED_RGTC1_Format:BO,REVISION:bv,RGBADepthPacking:Sv,RGBAFormat:hs,RGBAIntegerFormat:ox,RGBA_ASTC_10x10_Format:Mb,RGBA_ASTC_10x5_Format:wb,RGBA_ASTC_10x6_Format:xb,RGBA_ASTC_10x8_Format:Sb,RGBA_ASTC_12x10_Format:Cb,RGBA_ASTC_12x12_Format:Eb,RGBA_ASTC_4x4_Format:hb,RGBA_ASTC_5x4_Format:pb,RGBA_ASTC_5x5_Format:mb,RGBA_ASTC_6x5_Format:gb,RGBA_ASTC_6x6_Format:vb,RGBA_ASTC_8x5_Format:yb,RGBA_ASTC_8x6_Format:bb,RGBA_ASTC_8x8_Format:_b,RGBA_BPTC_Format:Vm,RGBA_ETC2_EAC_Format:fb,RGBA_PVRTC_2BPPV1_Format:cb,RGBA_PVRTC_4BPPV1_Format:lb,RGBA_S3TC_DXT1_Format:Bm,RGBA_S3TC_DXT3_Format:Um,RGBA_S3TC_DXT5_Format:zm,RGBFormat:LO,RGB_BPTC_SIGNED_Format:Tb,RGB_BPTC_UNSIGNED_Format:Ab,RGB_ETC1_Format:ub,RGB_ETC2_Format:db,RGB_PVRTC_2BPPV1_Format:ab,RGB_PVRTC_4BPPV1_Format:ob,RGB_S3TC_DXT1_Format:Fm,RGFormat:FO,RGIntegerFormat:rx,RawShaderMaterial:PL,Ray:od,Raycaster:cd,Rec709Primaries:jf,RectAreaLight:WL,RedFormat:ix,RedIntegerFormat:sx,ReinhardToneMapping:SO,RenderTarget:iL,RepeatWrapping:Aa,ReplaceStencilOp:ode,ReverseSubtractEquation:Zk,RingGeometry:Hv,SIGNED_RED_GREEN_RGTC2_Format:Ib,SIGNED_RED_RGTC1_Format:Rb,SRGBColorSpace:pi,SRGBTransfer:In,Scene:Ih,ShaderChunk:Jt,ShaderLib:dr,ShaderMaterial:Qn,ShadowMaterial:RL,Shape:Hl,ShapeGeometry:Wv,ShapePath:N0e,ShapeUtils:Br,ShortType:IO,Skeleton:Oh,SkeletonHelper:M0e,SkinnedMesh:yx,Source:Il,Sphere:di,SphereGeometry:$a,Spherical:Wm,SphericalHarmonics3:GL,SplineCurve:Tx,SpotLight:Lx,SpotLightHelper:S0e,Sprite:sa,SpriteMaterial:Iv,SrcAlphaFactor:Sg,SrcAlphaSaturateFactor:lO,SrcColorFactor:nO,StaticCopyUsage:Mde,StaticDrawUsage:Jf,StaticReadUsage:wde,StereoCamera:Jve,StreamCopyUsage:Ede,StreamDrawUsage:_de,StreamReadUsage:Sde,StringKeyframeTrack:hc,SubtractEquation:jk,SubtractiveBlending:ib,TOUCH:Jue,TangentSpaceNormalMap:Ua,TetrahedronGeometry:Gv,Texture:Hn,TextureLoader:$L,TorusGeometry:lo,TorusKnotGeometry:Kv,Triangle:Ms,TriangleFanDrawMode:Cg,TriangleStripDrawMode:lx,TrianglesDrawMode:$O,TubeGeometry:Yv,UVMapping:_v,Uint16BufferAttribute:fx,Uint32BufferAttribute:hx,Uint8BufferAttribute:afe,Uint8ClampedBufferAttribute:lfe,Uniform:zx,UniformsGroup:v0e,UniformsLib:xt,UniformsUtils:Wu,UnsignedByteType:xo,UnsignedInt248Type:rd,UnsignedInt5999Type:kO,UnsignedIntType:Ql,UnsignedShort4444Type:tx,UnsignedShort5551Type:nx,UnsignedShortType:Qw,VSMShadowMap:Pr,Vector2:qe,Vector3:Z,Vector4:dn,VectorKeyframeTrack:sc,VideoTexture:rve,WebGL3DRenderTarget:qde,WebGLArrayRenderTarget:Xde,WebGLCoordinateSystem:Dr,WebGLCubeRenderTarget:aL,WebGLMultipleRenderTargets:D0e,WebGLRenderTarget:jn,WebGLRenderer:vx,WebGLUtils:pL,WebGPUCoordinateSystem:Qf,WireframeGeometry:AL,WrapAroundEnding:Xf,ZeroCurvatureEnding:Rl,ZeroFactor:eO,ZeroSlopeEnding:Pl,ZeroStencilOp:rde,createCanvasElement:eL},Symbol.toStringTag,{value:"Module"})),Ig=class Ig{constructor(){Ce(this,"id");Ce(this,"rootObject");Ce(this,"allElementData",new Map);Ce(this,"allUUIDData",new Map);Ce(this,"_boundingBox");Ce(this,"name");Ce(this,"url");this.id=Ig.id++}clear(){this.rootObject.parent.remove(this.rootObject),this.rootObject.clear(),this.allElementData.clear()}set boundingBox(e){this._boundingBox=e}get boundingBox(){return this._boundingBox==null&&this.computeBoundingbox(),this._boundingBox}computeBoundingbox(){this._boundingBox==null&&(this._boundingBox=new Bn),this._boundingBox.makeEmpty();for(const e of this.allElementData.values())this._boundingBox.union(e.boundingBox)}getElementByID(e){return e==null?null:this.allElementData.has(e)?this.allElementData.get(e):null}};Ce(Ig,"id",1);let Vb=Ig;function B0e(t){let e,n,i,s=-1,r=0;for(let c=0;c<t.length;++c){const u=t[c];if(e===void 0&&(e=u.array.constructor),e!==u.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(n===void 0&&(n=u.itemSize),n!==u.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(i===void 0&&(i=u.normalized),i!==u.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(s===-1&&(s=u.gpuType),s!==u.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;r+=u.count*n}const o=new e(r),a=new ln(o,n,i);let l=0;for(let c=0;c<t.length;++c){const u=t[c];if(u.isInterleavedBufferAttribute){const d=l/n;for(let f=0,p=u.count;f<p;f++)for(let g=0;g<n;g++){const m=u.getComponent(f,g);a.setComponent(f+d,g,m)}}else o.set(u.array,l);l+=u.count*n}return s!==void 0&&(a.gpuType=s),a}function JT(t,e){if(e===$O)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===Cg||e===lx){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,s=[];if(e===Cg)for(let o=1;o<=i;o++)s.push(n.getX(0)),s.push(n.getX(o)),s.push(n.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(s.push(n.getX(o)),s.push(n.getX(o+1)),s.push(n.getX(o+2))):(s.push(n.getX(o+2)),s.push(n.getX(o+1)),s.push(n.getX(o)));s.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=t.clone();return r.setIndex(s),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const Sy=new WeakMap;class U0e extends qi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,i,s){const r=new ks(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,o=>{this.parse(o,n,s)},i,s)}parse(e,n,i=()=>{}){this.decodeDracoFile(e,n,null,null,pi).catch(i)}decodeDracoFile(e,n,i,s,r=xi,o=()=>{}){const a={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!i,vertexColorSpace:r};return this.decodeGeometry(e,a).then(n).catch(o)}decodeGeometry(e,n){const i=JSON.stringify(n);if(Sy.has(e)){const l=Sy.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const r=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(r,o).then(l=>(s=l,new Promise((c,u)=>{s._callbacks[r]={resolve:c,reject:u},s.postMessage({type:"decode",id:r,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{s&&r&&this._releaseTask(s,r)}),Sy.set(e,{key:i,promise:a}),a}_createGeometry(e){const n=new Yt;e.index&&n.setIndex(new ln(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const s=e.attributes[i],r=s.name,o=s.array,a=s.itemSize,l=new ln(o,a);r==="color"&&(this._assignVertexColorSpace(l,s.vertexColorSpace),l.normalized=!(o instanceof Float32Array)),n.setAttribute(r,l)}return n}_assignVertexColorSpace(e,n){if(n!==pi)return;const i=new ct;for(let s=0,r=e.count;s<r;s++)i.fromBufferAttribute(e,s).convertSRGBToLinear(),e.setXYZ(s,i.r,i.g,i.b)}_loadLibrary(e,n){const i=new ks(this.manager);return i.setPath(this.decoderPath),i.setResponseType(n),i.setWithCredentials(this.withCredentials),new Promise((s,r)=>{i.load(e,s,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(i=>{const s=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const r=z0e.toString(),o=["/* draco decoder */",s,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(r){const o=r.data;switch(o.type){case"decode":s._callbacks[o.id].resolve(o);break;case"error":s._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,r){return s._taskLoad>r._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=n,i._taskLoad+=n,i})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function z0e(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const d=u.draco,f=new d.Decoder;try{const p=n(d,f,new Int8Array(l),c),g=p.attributes.map(m=>m.array.buffer);p.index&&g.push(p.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:p},g)}catch(p){console.error(p),self.postMessage({type:"error",id:a.id,error:p.message})}finally{d.destroy(f)}});break}};function n(o,a,l,c){const u=c.attributeIDs,d=c.attributeTypes;let f,p;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)f=new o.Mesh,p=a.DecodeArrayToMesh(l,l.byteLength,f);else if(g===o.POINT_CLOUD)f=new o.PointCloud,p=a.DecodeArrayToPointCloud(l,l.byteLength,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());const m={index:null,attributes:[]};for(const y in u){const v=self[d[y]];let _,b;if(c.useUniqueIDs)b=u[y],_=a.GetAttributeByUniqueId(f,b);else{if(b=a.GetAttributeId(f,o[u[y]]),b===-1)continue;_=a.GetAttribute(f,b)}const w=s(o,a,f,y,v,_);y==="color"&&(w.vertexColorSpace=c.vertexColorSpace),m.attributes.push(w)}return g===o.TRIANGULAR_MESH&&(m.index=i(o,a,f)),o.destroy(f),m}function i(o,a,l){const u=l.num_faces()*3,d=u*4,f=o._malloc(d);a.GetTrianglesUInt32Array(l,d,f);const p=new Uint32Array(o.HEAPF32.buffer,f,u).slice();return o._free(f),{array:p,itemSize:1}}function s(o,a,l,c,u,d){const f=d.num_components(),g=l.num_points()*f,m=g*u.BYTES_PER_ELEMENT,y=r(o,u),v=o._malloc(m);a.GetAttributeDataArrayForAllPoints(l,d,y,m,v);const _=new u(o.HEAPF32.buffer,v,g).slice();return o._free(v),{name:c,array:_,itemSize:f}}function r(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}class V0e extends qi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new K0e(n)}),this.register(function(n){return new Y0e(n)}),this.register(function(n){return new nye(n)}),this.register(function(n){return new iye(n)}),this.register(function(n){return new sye(n)}),this.register(function(n){return new q0e(n)}),this.register(function(n){return new j0e(n)}),this.register(function(n){return new Z0e(n)}),this.register(function(n){return new J0e(n)}),this.register(function(n){return new G0e(n)}),this.register(function(n){return new Q0e(n)}),this.register(function(n){return new X0e(n)}),this.register(function(n){return new tye(n)}),this.register(function(n){return new eye(n)}),this.register(function(n){return new H0e(n)}),this.register(function(n){return new rye(n)}),this.register(function(n){return new oye(n)})}load(e,n,i,s){const r=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=va.extractUrlBase(e);o=va.resolveURL(c,this.path)}else o=va.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){s?s(c):console.error(c),r.manager.itemError(e),r.manager.itemEnd(e)},l=new ks(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{r.parse(c,o,function(u){n(u),r.manager.itemEnd(e)},a)}catch(u){a(u)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,s){let r;const o={},a={},l=new TextDecoder;if(typeof e=="string")r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===tN){try{o[nn.KHR_BINARY_GLTF]=new aye(e)}catch(d){s&&s(d);return}r=JSON.parse(o[nn.KHR_BINARY_GLTF].content)}else r=JSON.parse(l.decode(e));else r=e;if(r.asset===void 0||r.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new _ye(r,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[d.name]=d,o[d.name]=!0}if(r.extensionsUsed)for(let u=0;u<r.extensionsUsed.length;++u){const d=r.extensionsUsed[u],f=r.extensionsRequired||[];switch(d){case nn.KHR_MATERIALS_UNLIT:o[d]=new W0e;break;case nn.KHR_DRACO_MESH_COMPRESSION:o[d]=new lye(r,this.dracoLoader);break;case nn.KHR_TEXTURE_TRANSFORM:o[d]=new cye;break;case nn.KHR_MESH_QUANTIZATION:o[d]=new uye;break;default:f.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(i,s)}parseAsync(e,n){const i=this;return new Promise(function(s,r){i.parse(e,n,s,r)})}}function $0e(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const nn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class H0e{constructor(e){this.parser=e,this.name=nn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,s=n.length;i<s;i++){const r=n[i];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let s=n.cache.get(i);if(s)return s;const r=n.json,l=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let c;const u=new ct(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],xi);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new Xv(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Nx(u),c.distance=d;break;case"spot":c=new Lx(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,ra(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),s=Promise.resolve(c),n.cache.add(i,s),s}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,i=this.parser,r=i.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(n.cache,a,l)})}}class W0e{constructor(){this.name=nn.KHR_MATERIALS_UNLIT}getMaterialType(){return ui}extendParams(e,n,i){const s=[];e.color=new ct(1,1,1),e.opacity=1;const r=n.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const o=r.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],xi),e.opacity=o[3]}r.baseColorTexture!==void 0&&s.push(i.assignTexture(e,"map",r.baseColorTexture,pi))}return Promise.all(s)}}class G0e{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name].emissiveStrength;return r!==void 0&&(n.emissiveIntensity=r),Promise.resolve()}}class K0e{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ir}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&r.push(i.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&r.push(i.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(r.push(i.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new qe(a,a)}return Promise.all(r)}}class Y0e{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ir}extendMaterialParams(e,n){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return n.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}}class X0e{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ir}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&r.push(i.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&r.push(i.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(r)}}class q0e{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ir}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[];n.sheenColor=new ct(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=s.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;n.sheenColor.setRGB(a[0],a[1],a[2],xi)}return o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&r.push(i.assignTexture(n,"sheenColorMap",o.sheenColorTexture,pi)),o.sheenRoughnessTexture!==void 0&&r.push(i.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(r)}}class j0e{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ir}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&r.push(i.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class Z0e{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ir}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&r.push(i.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new ct().setRGB(a[0],a[1],a[2],xi),Promise.all(r)}}class J0e{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ir}extendMaterialParams(e,n){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return n.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class Q0e{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ir}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&r.push(i.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new ct().setRGB(a[0],a[1],a[2],xi),o.specularColorTexture!==void 0&&r.push(i.assignTexture(n,"specularColorMap",o.specularColorTexture,pi)),Promise.all(r)}}class eye{constructor(e){this.parser=e,this.name=nn.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ir}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return n.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&r.push(i.assignTexture(n,"bumpMap",o.bumpTexture)),Promise.all(r)}}class tye{constructor(e){this.parser=e,this.name=nn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ir}extendMaterialParams(e,n){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&r.push(i.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(r)}}class nye{constructor(e){this.parser=e,this.name=nn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,s=i.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const r=s.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,r.source,o)}}class iye{constructor(e){this.parser=e,this.name=nn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[n])return null;const o=r.extensions[n],a=s.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(s.extensionsRequired&&s.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class sye{constructor(e){this.parser=e,this.name=nn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[n])return null;const o=r.extensions[n],a=s.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(s.extensionsRequired&&s.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class rye{constructor(e){this.name=nn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const s=i.extensions[this.name],r=this.parser.getDependency("buffer",s.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(a){const l=s.byteOffset||0,c=s.byteLength||0,u=s.count,d=s.byteStride,f=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,f,s.mode,s.filter).then(function(p){return p.buffer}):o.ready.then(function(){const p=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(p),u,d,f,s.mode,s.filter),p})})}else return null}}class oye{constructor(e){this.name=nn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,i=n.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const s=n.meshes[i.mesh];for(const c of s.primitives)if(c.mode!==Bs.TRIANGLES&&c.mode!==Bs.TRIANGLE_STRIP&&c.mode!==Bs.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],f=c[0].count,p=[];for(const g of d){const m=new Ct,y=new Z,v=new an,_=new Z(1,1,1),b=new kl(g.geometry,g.material,f);for(let w=0;w<f;w++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,w),l.ROTATION&&v.fromBufferAttribute(l.ROTATION,w),l.SCALE&&_.fromBufferAttribute(l.SCALE,w),b.setMatrixAt(w,m.compose(y,v,_));for(const w in l)if(w==="_COLOR_0"){const S=l[w];b.instanceColor=new pr(S.array,S.itemSize,S.normalized)}else w!=="TRANSLATION"&&w!=="ROTATION"&&w!=="SCALE"&&g.geometry.setAttribute(w,l[w]);Qt.prototype.copy.call(b,g),this.parser.assignFinalMaterial(b),p.push(b)}return u.isGroup?(u.clear(),u.add(...p),u):p[0]}))}}const tN="glTF",Od=12,QT={JSON:1313821514,BIN:5130562};class aye{constructor(e){this.name=nn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Od),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==tN)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-Od,r=new DataView(e,Od);let o=0;for(;o<s;){const a=r.getUint32(o,!0);o+=4;const l=r.getUint32(o,!0);if(o+=4,l===QT.JSON){const c=new Uint8Array(e,Od+o,a);this.content=i.decode(c)}else if(l===QT.BIN){const c=Od+o;this.body=e.slice(c,c+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class lye{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=nn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,s=this.dracoLoader,r=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=$b[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=$b[u]||u.toLowerCase();if(o[u]!==void 0){const f=i.accessors[e.attributes[u]],p=vu[f.componentType];c[d]=p.name,l[d]=f.normalized===!0}}return n.getDependency("bufferView",r).then(function(u){return new Promise(function(d,f){s.decodeDracoFile(u,function(p){for(const g in p.attributes){const m=p.attributes[g],y=l[g];y!==void 0&&(m.normalized=y)}d(p)},a,c,xi,f)})})}}class cye{constructor(){this.name=nn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class uye{constructor(){this.name=nn.KHR_MESH_QUANTIZATION}}class nN extends ld{constructor(e,n,i,s){super(e,n,i,s)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s*3+s;for(let o=0;o!==s;o++)n[o]=i[r+o];return n}interpolate_(e,n,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=s-n,d=(i-n)/u,f=d*d,p=f*d,g=e*c,m=g-c,y=-2*p+3*f,v=p-f,_=1-y,b=v-f+d;for(let w=0;w!==a;w++){const S=o[m+w+a],x=o[m+w+l]*u,C=o[g+w+a],T=o[g+w]*u;r[w]=_*S+b*x+y*C+v*T}return r}}const dye=new an;class fye extends nN{interpolate_(e,n,i,s){const r=super.interpolate_(e,n,i,s);return dye.fromArray(r).normalize().toArray(r),r}}const Bs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},vu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},e2={9728:vi,9729:$n,9984:wv,9985:mu,9986:Al,9987:Ws},t2={33071:Es,33648:Uu,10497:Aa},My={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},$b={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Yo={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},hye={CUBICSPLINE:void 0,LINEAR:ec,STEP:Vu},Cy={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function pye(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new dc({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Wr})),t.DefaultMaterial}function cl(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function ra(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function mye(t,e,n){let i=!1,s=!1,r=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(s=!0),d.COLOR_0!==void 0&&(r=!0),i&&s&&r)break}if(!i&&!s&&!r)return Promise.resolve(t);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(i){const f=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;o.push(f)}if(s){const f=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;a.push(f)}if(r){const f=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2];return i&&(t.morphAttributes.position=u),s&&(t.morphAttributes.normal=d),r&&(t.morphAttributes.color=f),t.morphTargetsRelative=!0,t})}function gye(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,s=n.length;i<s;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function vye(t){let e;const n=t.extensions&&t.extensions[nn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+Ey(n.attributes):e=t.indices+":"+Ey(t.attributes)+":"+t.mode,t.targets!==void 0)for(let i=0,s=t.targets.length;i<s;i++)e+=":"+Ey(t.targets[i]);return e}function Ey(t){let e="";const n=Object.keys(t).sort();for(let i=0,s=n.length;i<s;i++)e+=n[i]+":"+t[n[i]]+";";return e}function Hb(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function yye(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const bye=new Ct;class _ye{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new $0e,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,s=!1,r=-1;typeof navigator<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,s=navigator.userAgent.indexOf("Firefox")>-1,r=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||s&&r<98?this.textureLoader=new $L(this.options.manager):this.textureLoader=new qL(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ks(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,s=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][s.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:s.asset,parser:i,userData:{}};return cl(r,a,s),ra(a,s),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let s=0,r=n.length;s<r;s++){const o=n[s].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let s=0,r=e.length;s<r;s++){const o=e[s];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const s=i.clone(),r=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())r(u,a.children[c])};return r(i,s),s.name+="_instance_"+e.uses[n]++,s}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const s=e(n[i]);if(s)return s}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let s=0;s<n.length;s++){const r=e(n[s]);r&&i.push(r)}return i}getDependency(e,n){const i=e+":"+n;let s=this.cache.get(i);if(!s){switch(e){case"scene":s=this.loadScene(n);break;case"node":s=this._invokeOne(function(r){return r.loadNode&&r.loadNode(n)});break;case"mesh":s=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(n)});break;case"accessor":s=this.loadAccessor(n);break;case"bufferView":s=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(n)});break;case"buffer":s=this.loadBuffer(n);break;case"material":s=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(n)});break;case"texture":s=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(n)});break;case"skin":s=this.loadSkin(n);break;case"animation":s=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(n)});break;case"camera":s=this.loadCamera(n);break;default:if(s=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,n)}),!s)throw new Error("Unknown type: "+e);break}this.cache.add(i,s)}return s}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,s=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(s.map(function(r,o){return i.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[nn.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(r,o){i.load(va.resolveURL(n.uri,s.path),r,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const s=n.byteLength||0,r=n.byteOffset||0;return i.slice(r,r+s)})}loadAccessor(e){const n=this,i=this.json,s=this.json.accessors[e];if(s.bufferView===void 0&&s.sparse===void 0){const o=My[s.type],a=vu[s.componentType],l=s.normalized===!0,c=new a(s.count*o);return Promise.resolve(new ln(c,o,l))}const r=[];return s.bufferView!==void 0?r.push(this.getDependency("bufferView",s.bufferView)):r.push(null),s.sparse!==void 0&&(r.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(r).then(function(o){const a=o[0],l=My[s.type],c=vu[s.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,f=s.byteOffset||0,p=s.bufferView!==void 0?i.bufferViews[s.bufferView].byteStride:void 0,g=s.normalized===!0;let m,y;if(p&&p!==d){const v=Math.floor(f/p),_="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+v+":"+s.count;let b=n.cache.get(_);b||(m=new c(a,v*p,s.count*p/u),b=new kh(m,p/u),n.cache.add(_,b)),y=new Ra(b,l,f%p/u,g)}else a===null?m=new c(s.count*l):m=new c(a,f,s.count*l),y=new ln(m,l,g);if(s.sparse!==void 0){const v=My.SCALAR,_=vu[s.sparse.indices.componentType],b=s.sparse.indices.byteOffset||0,w=s.sparse.values.byteOffset||0,S=new _(o[1],b,s.sparse.count*v),x=new c(o[2],w,s.sparse.count*l);a!==null&&(y=new ln(y.array.slice(),y.itemSize,y.normalized));for(let C=0,T=S.length;C<T;C++){const E=S[C];if(y.setX(E,x[C*l]),l>=2&&y.setY(E,x[C*l+1]),l>=3&&y.setZ(E,x[C*l+2]),l>=4&&y.setW(E,x[C*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const n=this.json,i=this.options,r=n.textures[e].source,o=n.images[r];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,r,a)}loadTextureImage(e,n,i){const s=this,r=this.json,o=r.textures[e],a=r.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,i).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const f=(r.samplers||{})[o.sampler]||{};return u.magFilter=e2[f.magFilter]||$n,u.minFilter=e2[f.minFilter]||Ws,u.wrapS=t2[f.wrapS]||Aa,u.wrapT=t2[f.wrapT]||Aa,s.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const i=this,s=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=s.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const f=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(f),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(f,p){let g=f;n.isImageBitmapLoader===!0&&(g=function(m){const y=new Hn(m);y.needsUpdate=!0,f(y)}),n.load(va.resolveURL(d,r.path),g,void 0,p)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||yye(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,n,i,s){const r=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),r.extensions[nn.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[nn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=r.associations.get(o);o=r.extensions[nn.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),r.associations.set(o,l)}}return s!==void 0&&(o.colorSpace=s),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const s=n.attributes.tangent===void 0,r=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Ov,_i.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Ri,_i.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(s||r||o){let a="ClonedMaterial:"+i.uuid+":";s&&(a+="derivative-tangents:"),r&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),r&&(l.vertexColors=!0),o&&(l.flatShading=!0),s&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return dc}loadMaterial(e){const n=this,i=this.json,s=this.extensions,r=i.materials[e];let o;const a={},l=r.extensions||{},c=[];if(l[nn.KHR_MATERIALS_UNLIT]){const d=s[nn.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,r,n))}else{const d=r.pbrMetallicRoughness||{};if(a.color=new ct(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;a.color.setRGB(f[0],f[1],f[2],xi),a.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",d.baseColorTexture,pi)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}r.doubleSided===!0&&(a.side=ds);const u=r.alphaMode||Cy.OPAQUE;if(u===Cy.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===Cy.MASK&&(a.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&o!==ui&&(c.push(n.assignTexture(a,"normalMap",r.normalTexture)),a.normalScale=new qe(1,1),r.normalTexture.scale!==void 0)){const d=r.normalTexture.scale;a.normalScale.set(d,d)}if(r.occlusionTexture!==void 0&&o!==ui&&(c.push(n.assignTexture(a,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&o!==ui){const d=r.emissiveFactor;a.emissive=new ct().setRGB(d[0],d[1],d[2],xi)}return r.emissiveTexture!==void 0&&o!==ui&&c.push(n.assignTexture(a,"emissiveMap",r.emissiveTexture,pi)),Promise.all(c).then(function(){const d=new o(a);return r.name&&(d.name=r.name),ra(d,r),n.associations.set(d,{materials:e}),r.extensions&&cl(s,d,r),d})}createUniqueName(e){const n=cn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,i=this.extensions,s=this.primitiveCache;function r(a){return i[nn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return n2(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=vye(c),d=s[u];if(d)o.push(d.promise);else{let f;c.extensions&&c.extensions[nn.KHR_DRACO_MESH_COMPRESSION]?f=r(c):f=n2(new Yt,c,n),s[u]={primitive:c,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const n=this,i=this.json,s=this.extensions,r=i.meshes[e],o=r.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?pye(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let p=0,g=u.length;p<g;p++){const m=u[p],y=o[p];let v;const _=c[p];if(y.mode===Bs.TRIANGLES||y.mode===Bs.TRIANGLE_STRIP||y.mode===Bs.TRIANGLE_FAN||y.mode===void 0)v=r.isSkinnedMesh===!0?new yx(m,_):new vt(m,_),v.isSkinnedMesh===!0&&v.normalizeSkinWeights(),y.mode===Bs.TRIANGLE_STRIP?v.geometry=JT(v.geometry,lx):y.mode===Bs.TRIANGLE_FAN&&(v.geometry=JT(v.geometry,Cg));else if(y.mode===Bs.LINES)v=new xr(m,_);else if(y.mode===Bs.LINE_STRIP)v=new So(m,_);else if(y.mode===Bs.LINE_LOOP)v=new bx(m,_);else if(y.mode===Bs.POINTS)v=new _x(m,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(v.geometry.morphAttributes).length>0&&gye(v,r),v.name=n.createUniqueName(r.name||"mesh_"+e),ra(v,r),y.extensions&&cl(s,v,y),n.assignFinalMaterial(v),d.push(v)}for(let p=0,g=d.length;p<g;p++)n.associations.set(d[p],{meshes:e,primitives:p});if(d.length===1)return r.extensions&&cl(s,d[0],r),d[0];const f=new uo;r.extensions&&cl(s,f,r),n.associations.set(f,{meshes:e});for(let p=0,g=d.length;p<g;p++)f.add(d[p]);return f})}loadCamera(e){let n;const i=this.json.cameras[e],s=i[i.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new ci(JO.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):i.type==="orthographic"&&(n=new nr(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),ra(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i=[];for(let s=0,r=n.joints.length;s<r;s++)i.push(this._loadNodeShallow(n.joints[s]));return n.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",n.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(s){const r=s.pop(),o=s,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c];if(d){a.push(d);const f=new Ct;r!==null&&f.fromArray(r.array,c*16),l.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new Oh(a,l)})}loadAnimation(e){const n=this.json,i=this,s=n.animations[e],r=s.name?s.name:"animation_"+e,o=[],a=[],l=[],c=[],u=[];for(let d=0,f=s.channels.length;d<f;d++){const p=s.channels[d],g=s.samplers[p.sampler],m=p.target,y=m.node,v=s.parameters!==void 0?s.parameters[g.input]:g.input,_=s.parameters!==void 0?s.parameters[g.output]:g.output;m.node!==void 0&&(o.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",v)),l.push(this.getDependency("accessor",_)),c.push(g),u.push(m))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(d){const f=d[0],p=d[1],g=d[2],m=d[3],y=d[4],v=[];for(let _=0,b=f.length;_<b;_++){const w=f[_],S=p[_],x=g[_],C=m[_],T=y[_];if(w===void 0)continue;w.updateMatrix&&w.updateMatrix();const E=i._createAnimationTracks(w,S,x,C,T);if(E)for(let M=0;M<E.length;M++)v.push(E[M])}return new Gu(r,void 0,v)})}createNodeMesh(e){const n=this.json,i=this,s=n.nodes[e];return s.mesh===void 0?null:i.getDependency("mesh",s.mesh).then(function(r){const o=i._getNodeRef(i.meshCache,s.mesh,r);return s.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=s.weights.length;l<c;l++)a.morphTargetInfluences[l]=s.weights[l]}),o})}loadNode(e){const n=this.json,i=this,s=n.nodes[e],r=i._loadNodeShallow(e),o=[],a=s.children||[];for(let c=0,u=a.length;c<u;c++)o.push(i.getDependency("node",a[c]));const l=s.skin===void 0?Promise.resolve(null):i.getDependency("skin",s.skin);return Promise.all([r,Promise.all(o),l]).then(function(c){const u=c[0],d=c[1],f=c[2];f!==null&&u.traverse(function(p){p.isSkinnedMesh&&p.bind(f,bye)});for(let p=0,g=d.length;p<g;p++)u.add(d[p]);return u})}_loadNodeShallow(e){const n=this.json,i=this.extensions,s=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const r=n.nodes[e],o=r.name?s.createUniqueName(r.name):"",a=[],l=s._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),r.camera!==void 0&&a.push(s.getDependency("camera",r.camera).then(function(c){return s._getNodeRef(s.cameraCache,r.camera,c)})),s._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(r.isBone===!0?u=new kv:c.length>1?u=new uo:c.length===1?u=c[0]:u=new Qt,u!==c[0])for(let d=0,f=c.length;d<f;d++)u.add(c[d]);if(r.name&&(u.userData.name=r.name,u.name=o),ra(u,r),r.extensions&&cl(i,u,r),r.matrix!==void 0){const d=new Ct;d.fromArray(r.matrix),u.applyMatrix4(d)}else r.translation!==void 0&&u.position.fromArray(r.translation),r.rotation!==void 0&&u.quaternion.fromArray(r.rotation),r.scale!==void 0&&u.scale.fromArray(r.scale);return s.associations.has(u)||s.associations.set(u,{}),s.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,i=this.json.scenes[e],s=this,r=new uo;i.name&&(r.name=s.createUniqueName(i.name)),ra(r,i),i.extensions&&cl(n,r,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(s.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,d=l.length;u<d;u++)r.add(l[u]);const c=u=>{const d=new Map;for(const[f,p]of s.associations)(f instanceof _i||f instanceof Hn)&&d.set(f,p);return u.traverse(f=>{const p=s.associations.get(f);p!=null&&d.set(f,p)}),d};return s.associations=c(r),r})}_createAnimationTracks(e,n,i,s,r){const o=[],a=e.name?e.name:e.uuid,l=[];Yo[r.path]===Yo.weights?e.traverse(function(f){f.morphTargetInfluences&&l.push(f.name?f.name:f.uuid)}):l.push(a);let c;switch(Yo[r.path]){case Yo.weights:c=ic;break;case Yo.rotation:c=Pa;break;case Yo.position:case Yo.scale:c=sc;break;default:switch(i.itemSize){case 1:c=ic;break;case 2:case 3:default:c=sc;break}break}const u=s.interpolation!==void 0?hye[s.interpolation]:ec,d=this._getArrayFromAccessor(i);for(let f=0,p=l.length;f<p;f++){const g=new c(l[f]+"."+Yo[r.path],n.array,d,u);s.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),o.push(g)}return o}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const i=Hb(n.constructor),s=new Float32Array(n.length);for(let r=0,o=n.length;r<o;r++)s[r]=n[r]*i;n=s}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const s=this instanceof Pa?fye:nN;return new s(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function wye(t,e,n){const i=e.attributes,s=new Bn;if(i.POSITION!==void 0){const a=n.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(s.set(new Z(l[0],l[1],l[2]),new Z(c[0],c[1],c[2])),a.normalized){const u=Hb(vu[a.componentType]);s.min.multiplyScalar(u),s.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const a=new Z,l=new Z;for(let c=0,u=r.length;c<u;c++){const d=r[c];if(d.POSITION!==void 0){const f=n.json.accessors[d.POSITION],p=f.min,g=f.max;if(p!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(p[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(p[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(p[2]),Math.abs(g[2]))),f.normalized){const m=Hb(vu[f.componentType]);l.multiplyScalar(m)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(a)}t.boundingBox=s;const o=new di;s.getCenter(o.center),o.radius=s.min.distanceTo(s.max)/2,t.boundingSphere=o}function n2(t,e,n){const i=e.attributes,s=[];function r(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in i){const a=$b[o]||o.toLowerCase();a in t.attributes||s.push(r(i[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});s.push(o)}return gn.workingColorSpace!==xi&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${gn.workingColorSpace}" not supported.`),ra(t,e),wye(t,e,n),Promise.all(s).then(function(){return e.targets!==void 0?mye(t,e.targets,n):t})}class Nh{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const xye=new nr(-1,1,1,-1,0,1);class Sye extends Yt{constructor(){super(),this.setAttribute("position",new Et([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Et([0,2,0,0,2,0],2))}}const Mye=new Sye;class iN{constructor(e){this._mesh=new vt(Mye,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,xye)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const sN={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class Wb extends Nh{constructor(e,n){super(),this.textureID=n!==void 0?n:"tDiffuse",e instanceof Qn?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Wu.clone(e.uniforms),this.material=new Qn({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new iN(this.material)}render(e,n,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class i2 extends Nh{constructor(e,n){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,n,i){const s=e.getContext(),r=e.state;r.buffers.color.setMask(!1),r.buffers.depth.setMask(!1),r.buffers.color.setLocked(!0),r.buffers.depth.setLocked(!0);let o,a;this.inverse?(o=0,a=1):(o=1,a=0),r.buffers.stencil.setTest(!0),r.buffers.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),r.buffers.stencil.setFunc(s.ALWAYS,o,4294967295),r.buffers.stencil.setClear(a),r.buffers.stencil.setLocked(!0),e.setRenderTarget(i),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),r.buffers.color.setLocked(!1),r.buffers.depth.setLocked(!1),r.buffers.color.setMask(!0),r.buffers.depth.setMask(!0),r.buffers.stencil.setLocked(!1),r.buffers.stencil.setFunc(s.EQUAL,1,4294967295),r.buffers.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),r.buffers.stencil.setLocked(!0)}}class Cye extends Nh{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Eye{constructor(e,n){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),n===void 0){const i=e.getSize(new qe);this._width=i.width,this._height=i.height,n=new jn(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:zs}),n.texture.name="EffectComposer.rt1"}else this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Wb(sN),this.copyPass.material.blending=qs,this.clock=new jv}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,n){this.passes.splice(n,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const n=this.passes.indexOf(e);n!==-1&&this.passes.splice(n,1)}isLastEnabledPass(e){for(let n=e+1;n<this.passes.length;n++)if(this.passes[n].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const n=this.renderer.getRenderTarget();let i=!1;for(let s=0,r=this.passes.length;s<r;s++){const o=this.passes[s];if(o.enabled!==!1){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(s),o.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),o.needsSwap){if(i){const a=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}i2!==void 0&&(o instanceof i2?i=!0:o instanceof Cye&&(i=!1))}}this.renderer.setRenderTarget(n)}reset(e){if(e===void 0){const n=this.renderer.getSize(new qe);this._pixelRatio=this.renderer.getPixelRatio(),this._width=n.width,this._height=n.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,n){this._width=e,this._height=n;const i=this._width*this._pixelRatio,s=this._height*this._pixelRatio;this.renderTarget1.setSize(i,s),this.renderTarget2.setSize(i,s);for(let r=0;r<this.passes.length;r++)this.passes[r].setSize(i,s)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class da extends Nh{constructor(e,n,i,s){super(),this.renderScene=n,this.renderCamera=i,this.selectedObjects=s!==void 0?s:[],this.visibleEdgeColor=new ct(1,1,1),this.hiddenEdgeColor=new ct(.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,this._visibilityCache=new Map,this.resolution=e!==void 0?new qe(e.x,e.y):new qe(256,256);const r=Math.round(this.resolution.x/this.downSampleRatio),o=Math.round(this.resolution.y/this.downSampleRatio);this.renderTargetMaskBuffer=new jn(this.resolution.x,this.resolution.y),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new Ph,this.depthMaterial.side=ds,this.depthMaterial.depthPacking=Sv,this.depthMaterial.blending=qs,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=ds,this.prepareMaskMaterial.fragmentShader=u(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new jn(this.resolution.x,this.resolution.y,{type:zs}),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new jn(r,o,{type:zs}),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new jn(r,o,{type:zs}),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new jn(Math.round(r/2),Math.round(o/2),{type:zs}),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new jn(r,o,{type:zs}),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new jn(Math.round(r/2),Math.round(o/2),{type:zs}),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1;const a=4,l=4;this.separableBlurMaterial1=this.getSeperableBlurMaterial(a),this.separableBlurMaterial1.uniforms.texSize.value.set(r,o),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(l),this.separableBlurMaterial2.uniforms.texSize.value.set(Math.round(r/2),Math.round(o/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=l,this.overlayMaterial=this.getOverlayMaterial();const c=sN;this.copyUniforms=Wu.clone(c.uniforms),this.materialCopy=new Qn({uniforms:this.copyUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:qs,depthTest:!1,depthWrite:!1}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new ct,this.oldClearAlpha=1,this.fsQuad=new iN(null),this.tempPulseColor1=new ct,this.tempPulseColor2=new ct,this.textureMatrix=new Ct;function u(d,f){const p=f.isPerspectiveCamera?"perspective":"orthographic";return d.replace(/DEPTH_TO_VIEW_Z/g,p+"DepthToViewZ")}}dispose(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose(),this.depthMaterial.dispose(),this.prepareMaskMaterial.dispose(),this.edgeDetectionMaterial.dispose(),this.separableBlurMaterial1.dispose(),this.separableBlurMaterial2.dispose(),this.overlayMaterial.dispose(),this.materialCopy.dispose(),this.fsQuad.dispose()}setSize(e,n){this.renderTargetMaskBuffer.setSize(e,n),this.renderTargetDepthBuffer.setSize(e,n);let i=Math.round(e/this.downSampleRatio),s=Math.round(n/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(i,s),this.renderTargetBlurBuffer1.setSize(i,s),this.renderTargetEdgeBuffer1.setSize(i,s),this.separableBlurMaterial1.uniforms.texSize.value.set(i,s),i=Math.round(i/2),s=Math.round(s/2),this.renderTargetBlurBuffer2.setSize(i,s),this.renderTargetEdgeBuffer2.setSize(i,s),this.separableBlurMaterial2.uniforms.texSize.value.set(i,s)}changeVisibilityOfSelectedObjects(e){const n=this._visibilityCache;function i(s){s.isMesh&&(e===!0?s.visible=n.get(s):(n.set(s,s.visible),s.visible=e))}for(let s=0;s<this.selectedObjects.length;s++)this.selectedObjects[s].traverse(i)}changeVisibilityOfNonSelectedObjects(e){const n=this._visibilityCache,i=[];function s(o){o.isMesh&&i.push(o)}for(let o=0;o<this.selectedObjects.length;o++)this.selectedObjects[o].traverse(s);function r(o){if(o.isMesh||o.isSprite){let a=!1;for(let l=0;l<i.length;l++)if(i[l].id===o.id){a=!0;break}if(a===!1){const l=o.visible;(e===!1||n.get(o)===!0)&&(o.visible=e),n.set(o,l)}}else(o.isPoints||o.isLine)&&(e===!0?o.visible=n.get(o):(n.set(o,o.visible),o.visible=e))}this.renderScene.traverse(r)}updateTextureMatrix(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)}render(e,n,i,s,r){if(this.selectedObjects.length>0){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const o=e.autoClear;e.autoClear=!1,r&&e.state.buffers.stencil.setTest(!1),e.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1);const a=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,e.setRenderTarget(this.renderTargetDepthBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this._visibilityCache.clear(),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value.set(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,e.setRenderTarget(this.renderTargetMaskBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this._visibilityCache.clear(),this.renderScene.background=a,this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,e.setRenderTarget(this.renderTargetMaskDownSampleBuffer),e.clear(),this.fsQuad.render(e),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){const l=.625+Math.cos(performance.now()*.01/this.pulsePeriod)*.75/2;this.tempPulseColor1.multiplyScalar(l),this.tempPulseColor2.multiplyScalar(l)}this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value.set(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=da.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,e.setRenderTarget(this.renderTargetBlurBuffer1),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=da.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=da.BlurDirectionX,e.setRenderTarget(this.renderTargetBlurBuffer2),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=da.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer2),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,r&&e.state.buffers.stencil.setTest(!0),e.setRenderTarget(i),this.fsQuad.render(e),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=o}this.renderToScreen&&(this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=i.texture,e.setRenderTarget(null),this.fsQuad.render(e))}getPrepareMaskMaterial(){return new Qn({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new qe(.5,.5)},textureMatrix:{value:null}},vertexShader:`#include <morphtarget_pars_vertex>
				#include <skinning_pars_vertex>

				varying vec4 projTexCoord;
				varying vec4 vPosition;
				uniform mat4 textureMatrix;

				void main() {

					#include <skinbase_vertex>
					#include <begin_vertex>
					#include <morphtarget_vertex>
					#include <skinning_vertex>
					#include <project_vertex>

					vPosition = mvPosition;

					vec4 worldPosition = vec4( transformed, 1.0 );

					#ifdef USE_INSTANCING

						worldPosition = instanceMatrix * worldPosition;

					#endif
					
					worldPosition = modelMatrix * worldPosition;

					projTexCoord = textureMatrix * worldPosition;

				}`,fragmentShader:`#include <packing>
				varying vec4 vPosition;
				varying vec4 projTexCoord;
				uniform sampler2D depthTexture;
				uniform vec2 cameraNearFar;

				void main() {

					float depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));
					float viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );
					float depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;
					gl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);

				}`})}getEdgeDetectionMaterial(){return new Qn({uniforms:{maskTexture:{value:null},texSize:{value:new qe(.5,.5)},visibleEdgeColor:{value:new Z(1,1,1)},hiddenEdgeColor:{value:new Z(1,1,1)}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;

				uniform sampler2D maskTexture;
				uniform vec2 texSize;
				uniform vec3 visibleEdgeColor;
				uniform vec3 hiddenEdgeColor;

				void main() {
					vec2 invSize = 1.0 / texSize;
					vec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);
					vec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);
					vec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);
					vec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);
					vec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);
					float diff1 = (c1.r - c2.r)*0.5;
					float diff2 = (c3.r - c4.r)*0.5;
					float d = length( vec2(diff1, diff2) );
					float a1 = min(c1.g, c2.g);
					float a2 = min(c3.g, c4.g);
					float visibilityFactor = min(a1, a2);
					vec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;
					gl_FragColor = vec4(edgeColor, 1.0) * vec4(d);
				}`})}getSeperableBlurMaterial(e){return new Qn({defines:{MAX_RADIUS:e},uniforms:{colorTexture:{value:null},texSize:{value:new qe(.5,.5)},direction:{value:new qe(.5,.5)},kernelRadius:{value:1}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;
				uniform float kernelRadius;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}

				void main() {
					vec2 invSize = 1.0 / texSize;
					float sigma = kernelRadius/2.0;
					float weightSum = gaussianPdf(0.0, sigma);
					vec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;
					vec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);
					vec2 uvOffset = delta;
					for( int i = 1; i <= MAX_RADIUS; i ++ ) {
						float x = kernelRadius * float(i) / float(MAX_RADIUS);
						float w = gaussianPdf(x, sigma);
						vec4 sample1 = texture2D( colorTexture, vUv + uvOffset);
						vec4 sample2 = texture2D( colorTexture, vUv - uvOffset);
						diffuseSum += ((sample1 + sample2) * w);
						weightSum += (2.0 * w);
						uvOffset += delta;
					}
					gl_FragColor = diffuseSum/weightSum;
				}`})}getOverlayMaterial(){return new Qn({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;

				uniform sampler2D maskTexture;
				uniform sampler2D edgeTexture1;
				uniform sampler2D edgeTexture2;
				uniform sampler2D patternTexture;
				uniform float edgeStrength;
				uniform float edgeGlow;
				uniform bool usePatternTexture;

				void main() {
					vec4 edgeValue1 = texture2D(edgeTexture1, vUv);
					vec4 edgeValue2 = texture2D(edgeTexture2, vUv);
					vec4 maskColor = texture2D(maskTexture, vUv);
					vec4 patternColor = texture2D(patternTexture, 6.0 * vUv);
					float visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;
					vec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;
					vec4 finalColor = edgeStrength * maskColor.r * edgeValue;
					if(usePatternTexture)
						finalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);
					gl_FragColor = finalColor;
				}`,blending:xg,depthTest:!1,depthWrite:!1,transparent:!0})}}da.BlurDirectionX=new qe(1,0);da.BlurDirectionY=new qe(0,1);class Tye extends Nh{constructor(e,n,i=null,s=null,r=null){super(),this.scene=e,this.camera=n,this.overrideMaterial=i,this.clearColor=s,this.clearAlpha=r,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new ct}render(e,n,i){const s=e.autoClear;e.autoClear=!1;let r,o;this.overrideMaterial!==null&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor)),this.clearAlpha!==null&&(r=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:i),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(r),this.overrideMaterial!==null&&(this.scene.overrideMaterial=o),e.autoClear=s}}const Wc=new Z,s2=new Ct,r2=new Ct,o2=new Z,a2=new Z;class Aye{constructor(e={}){const n=this;let i,s,r,o;const a={objects:new WeakMap},l=e.element!==void 0?e.element:document.createElement("div");l.style.overflow="hidden",this.domElement=l,this.getSize=function(){return{width:i,height:s}},this.render=function(p,g){p.matrixWorldAutoUpdate===!0&&p.updateMatrixWorld(),g.parent===null&&g.matrixWorldAutoUpdate===!0&&g.updateMatrixWorld(),s2.copy(g.matrixWorldInverse),r2.multiplyMatrices(g.projectionMatrix,s2),c(p,p,g),f(p)},this.setSize=function(p,g){i=p,s=g,r=i/2,o=s/2,l.style.width=p+"px",l.style.height=g+"px"};function c(p,g,m){if(p.isCSS2DObject){Wc.setFromMatrixPosition(p.matrixWorld),Wc.applyMatrix4(r2);const y=p.visible===!0&&Wc.z>=-1&&Wc.z<=1&&p.layers.test(m.layers)===!0;if(p.element.style.display=y===!0?"":"none",y===!0){p.onBeforeRender(n,g,m);const _=p.element;_.style.transform="translate("+-100*p.center.x+"%,"+-100*p.center.y+"%)translate("+(Wc.x*r+r)+"px,"+(-Wc.y*o+o)+"px)",_.parentNode!==l&&l.appendChild(_),p.onAfterRender(n,g,m)}const v={distanceToCameraSquared:u(m,p)};a.objects.set(p,v)}for(let y=0,v=p.children.length;y<v;y++)c(p.children[y],g,m)}function u(p,g){return o2.setFromMatrixPosition(p.matrixWorld),a2.setFromMatrixPosition(g.matrixWorld),o2.distanceToSquared(a2)}function d(p){const g=[];return p.traverse(function(m){m.isCSS2DObject&&g.push(m)}),g}function f(p){const g=d(p).sort(function(y,v){if(y.renderOrder!==v.renderOrder)return v.renderOrder-y.renderOrder;const _=a.objects.get(y).distanceToCameraSquared,b=a.objects.get(v).distanceToCameraSquared;return _-b}),m=g.length;for(let y=0,v=g.length;y<v;y++)g[y].element.style.zIndex=m-y}}}const Gb={name:"FXAAShader",uniforms:{tDiffuse:{value:null},resolution:{value:new qe(1/1024,1/512)}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`
		precision highp float;

		uniform sampler2D tDiffuse;

		uniform vec2 resolution;

		varying vec2 vUv;

		// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)

		//----------------------------------------------------------------------------------
		// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag
		// SDK Version: v3.00
		// Email:       gameworks@nvidia.com
		// Site:        http://developer.nvidia.com/
		//
		// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.
		//
		// Redistribution and use in source and binary forms, with or without
		// modification, are permitted provided that the following conditions
		// are met:
		//  * Redistributions of source code must retain the above copyright
		//    notice, this list of conditions and the following disclaimer.
		//  * Redistributions in binary form must reproduce the above copyright
		//    notice, this list of conditions and the following disclaimer in the
		//    documentation and/or other materials provided with the distribution.
		//  * Neither the name of NVIDIA CORPORATION nor the names of its
		//    contributors may be used to endorse or promote products derived
		//    from this software without specific prior written permission.
		//
		// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ''AS IS'' AND ANY
		// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
		// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
		// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
		// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
		// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
		// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
		// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
		// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
		// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
		// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		//
		//----------------------------------------------------------------------------------

		#ifndef FXAA_DISCARD
			//
			// Only valid for PC OpenGL currently.
			// Probably will not work when FXAA_GREEN_AS_LUMA = 1.
			//
			// 1 = Use discard on pixels which don't need AA.
			//     For APIs which enable concurrent TEX+ROP from same surface.
			// 0 = Return unchanged color on pixels which don't need AA.
			//
			#define FXAA_DISCARD 0
		#endif

		/*--------------------------------------------------------------------------*/
		#define FxaaTexTop(t, p) texture2D(t, p, -100.0)
		#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), -100.0)
		/*--------------------------------------------------------------------------*/

		#define NUM_SAMPLES 5

		// assumes colors have premultipliedAlpha, so that the calculated color contrast is scaled by alpha
		float contrast( vec4 a, vec4 b ) {
			vec4 diff = abs( a - b );
			return max( max( max( diff.r, diff.g ), diff.b ), diff.a );
		}

		/*============================================================================

									FXAA3 QUALITY - PC

		============================================================================*/

		/*--------------------------------------------------------------------------*/
		vec4 FxaaPixelShader(
			vec2 posM,
			sampler2D tex,
			vec2 fxaaQualityRcpFrame,
			float fxaaQualityEdgeThreshold,
			float fxaaQualityinvEdgeThreshold
		) {
			vec4 rgbaM = FxaaTexTop(tex, posM);
			vec4 rgbaS = FxaaTexOff(tex, posM, vec2( 0.0, 1.0), fxaaQualityRcpFrame.xy);
			vec4 rgbaE = FxaaTexOff(tex, posM, vec2( 1.0, 0.0), fxaaQualityRcpFrame.xy);
			vec4 rgbaN = FxaaTexOff(tex, posM, vec2( 0.0,-1.0), fxaaQualityRcpFrame.xy);
			vec4 rgbaW = FxaaTexOff(tex, posM, vec2(-1.0, 0.0), fxaaQualityRcpFrame.xy);
			// . S .
			// W M E
			// . N .

			bool earlyExit = max( max( max(
					contrast( rgbaM, rgbaN ),
					contrast( rgbaM, rgbaS ) ),
					contrast( rgbaM, rgbaE ) ),
					contrast( rgbaM, rgbaW ) )
					< fxaaQualityEdgeThreshold;
			// . 0 .
			// 0 0 0
			// . 0 .

			#if (FXAA_DISCARD == 1)
				if(earlyExit) FxaaDiscard;
			#else
				if(earlyExit) return rgbaM;
			#endif

			float contrastN = contrast( rgbaM, rgbaN );
			float contrastS = contrast( rgbaM, rgbaS );
			float contrastE = contrast( rgbaM, rgbaE );
			float contrastW = contrast( rgbaM, rgbaW );

			float relativeVContrast = ( contrastN + contrastS ) - ( contrastE + contrastW );
			relativeVContrast *= fxaaQualityinvEdgeThreshold;

			bool horzSpan = relativeVContrast > 0.;
			// . 1 .
			// 0 0 0
			// . 1 .

			// 45 deg edge detection and corners of objects, aka V/H contrast is too similar
			if( abs( relativeVContrast ) < .3 ) {
				// locate the edge
				vec2 dirToEdge;
				dirToEdge.x = contrastE > contrastW ? 1. : -1.;
				dirToEdge.y = contrastS > contrastN ? 1. : -1.;
				// . 2 .      . 1 .
				// 1 0 2  ~=  0 0 1
				// . 1 .      . 0 .

				// tap 2 pixels and see which ones are "outside" the edge, to
				// determine if the edge is vertical or horizontal

				vec4 rgbaAlongH = FxaaTexOff(tex, posM, vec2( dirToEdge.x, -dirToEdge.y ), fxaaQualityRcpFrame.xy);
				float matchAlongH = contrast( rgbaM, rgbaAlongH );
				// . 1 .
				// 0 0 1
				// . 0 H

				vec4 rgbaAlongV = FxaaTexOff(tex, posM, vec2( -dirToEdge.x, dirToEdge.y ), fxaaQualityRcpFrame.xy);
				float matchAlongV = contrast( rgbaM, rgbaAlongV );
				// V 1 .
				// 0 0 1
				// . 0 .

				relativeVContrast = matchAlongV - matchAlongH;
				relativeVContrast *= fxaaQualityinvEdgeThreshold;

				if( abs( relativeVContrast ) < .3 ) { // 45 deg edge
					// 1 1 .
					// 0 0 1
					// . 0 1

					// do a simple blur
					return mix(
						rgbaM,
						(rgbaN + rgbaS + rgbaE + rgbaW) * .25,
						.4
					);
				}

				horzSpan = relativeVContrast > 0.;
			}

			if(!horzSpan) rgbaN = rgbaW;
			if(!horzSpan) rgbaS = rgbaE;
			// . 0 .      1
			// 1 0 1  ->  0
			// . 0 .      1

			bool pairN = contrast( rgbaM, rgbaN ) > contrast( rgbaM, rgbaS );
			if(!pairN) rgbaN = rgbaS;

			vec2 offNP;
			offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;
			offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;

			bool doneN = false;
			bool doneP = false;

			float nDist = 0.;
			float pDist = 0.;

			vec2 posN = posM;
			vec2 posP = posM;

			int iterationsUsed = 0;
			int iterationsUsedN = 0;
			int iterationsUsedP = 0;
			for( int i = 0; i < NUM_SAMPLES; i++ ) {
				iterationsUsed = i;

				float increment = float(i + 1);

				if(!doneN) {
					nDist += increment;
					posN = posM + offNP * nDist;
					vec4 rgbaEndN = FxaaTexTop(tex, posN.xy);
					doneN = contrast( rgbaEndN, rgbaM ) > contrast( rgbaEndN, rgbaN );
					iterationsUsedN = i;
				}

				if(!doneP) {
					pDist += increment;
					posP = posM - offNP * pDist;
					vec4 rgbaEndP = FxaaTexTop(tex, posP.xy);
					doneP = contrast( rgbaEndP, rgbaM ) > contrast( rgbaEndP, rgbaN );
					iterationsUsedP = i;
				}

				if(doneN || doneP) break;
			}


			if ( !doneP && !doneN ) return rgbaM; // failed to find end of edge

			float dist = min(
				doneN ? float( iterationsUsedN ) / float( NUM_SAMPLES - 1 ) : 1.,
				doneP ? float( iterationsUsedP ) / float( NUM_SAMPLES - 1 ) : 1.
			);

			// hacky way of reduces blurriness of mostly diagonal edges
			// but reduces AA quality
			dist = pow(dist, .5);

			dist = 1. - dist;

			return mix(
				rgbaM,
				rgbaN,
				dist * .5
			);
		}

		void main() {
			const float edgeDetectionQuality = .2;
			const float invEdgeDetectionQuality = 1. / edgeDetectionQuality;

			gl_FragColor = FxaaPixelShader(
				vUv,
				tDiffuse,
				resolution,
				edgeDetectionQuality, // [0,1] contrast needed, otherwise early discard
				invEdgeDetectionQuality
			);

		}
	`},Rye={name:"GammaCorrectionShader",uniforms:{tDiffuse:{value:null}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 tex = texture2D( tDiffuse, vUv );

			gl_FragColor = sRGBTransferOETF( tex );

		}`};var mf=function(){var t=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(u){u.preventDefault(),i(++t%e.children.length)},!1);function n(u){return e.appendChild(u.dom),u}function i(u){for(var d=0;d<e.children.length;d++)e.children[d].style.display=d===u?"block":"none";t=u}var s=(performance||Date).now(),r=s,o=0,a=n(new mf.Panel("FPS","#0ff","#002")),l=n(new mf.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=n(new mf.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:e,addPanel:n,showPanel:i,begin:function(){s=(performance||Date).now()},end:function(){o++;var u=(performance||Date).now();if(l.update(u-s,200),u>=r+1e3&&(a.update(o*1e3/(u-r),100),r=u,o=0,c)){var d=performance.memory;c.update(d.usedJSHeapSize/1048576,d.jsHeapSizeLimit/1048576)}return u},update:function(){s=this.end()},domElement:e,setMode:i}};mf.Panel=function(t,e,n){var i=1/0,s=0,r=Math.round,o=r(window.devicePixelRatio||1),a=80*o,l=48*o,c=3*o,u=2*o,d=3*o,f=15*o,p=74*o,g=30*o,m=document.createElement("canvas");m.width=a,m.height=l,m.style.cssText="width:80px;height:48px";var y=m.getContext("2d");return y.font="bold "+9*o+"px Helvetica,Arial,sans-serif",y.textBaseline="top",y.fillStyle=n,y.fillRect(0,0,a,l),y.fillStyle=e,y.fillText(t,c,u),y.fillRect(d,f,p,g),y.fillStyle=n,y.globalAlpha=.9,y.fillRect(d,f,p,g),{dom:m,update:function(v,_){i=Math.min(i,v),s=Math.max(s,v),y.fillStyle=n,y.globalAlpha=1,y.fillRect(0,0,a,f),y.fillStyle=e,y.fillText(r(v)+" "+t+" ("+r(i)+"-"+r(s)+")",c,u),y.drawImage(m,d+o,f,p-o,g,d,f,p-o,g),y.fillRect(d+p-o,f,o,g),y.fillStyle=n,y.globalAlpha=.9,y.fillRect(d+p-o,f,o,r((1-v/_)*g))}}};class l2{static batchIdHighlightShader(e){e.onBeforeCompile=n=>{n.uniforms={highlightedBatchId:{value:-1},highlightColor:{value:new ct(16761095)},unVisableBatchId:{value:-1},...Wu.clone(n.uniforms)},e.setHighlightedBatchId=s=>{n.uniforms.highlightedBatchId.value=s,n.uniforms.unVisableBatchId.value=s},e.setHighlightColor=s=>{n.uniforms.highlightedBatchId.value=s};let i=n.vertexShader.replace(/#include <uv_vertex>/,`
                #include <uv_vertex>
                batchid = _batchid;
                `);i=i.replace(/#include <fog_vertex>/,`
                #include <fog_vertex>
                if(abs( batchid - unVisableBatchId ) < 0.5 ) gl_Position = vec4( 0,0,0,0) ;
                `),n.vertexShader=`
                    attribute float _batchid;
                    varying float batchid;
                    uniform float unVisableBatchId;
                `+i,n.fragmentShader=`
                    varying float batchid;
                    uniform float highlightedBatchId;
                    uniform vec3 highlightColor;
                `+n.fragmentShader.replace(/vec4 diffuseColor = vec4\( diffuse, opacity \);/,`
                    vec4 diffuseColor =
                        abs( batchid - highlightedBatchId ) < 0.5 ?
                        vec4( highlightColor, 1 ) :
                        vec4( diffuse, opacity );
                    `)}}static pickShader(e){e.onBeforeCompile=n=>{let i=n.vertexShader.replace(/#include <fog_vertex>/,`
                #include <fog_vertex>
                float r = float((elementID >> 16) & 0xFF) / 255.0;
                float g = float((elementID >> 8) & 0xFF) / 255.0;
                float b = float((elementID >> 0) & 0xFF) / 255.0;
                vpickColor=vec3(r,g,b);
                `);n.vertexShader=`
                attribute int elementID;
                varying  vec3 vpickColor;
                `+i,n.fragmentShader=`
                 varying vec3 vpickColor;
                `+n.fragmentShader.replace(/#include <dithering_fragment>/,`
                    #include <dithering_fragment>
                    gl_FragColor =vec4(vpickColor, gl_FragCoord.z);
                    `)}}static depethShader(e){e.onBeforeCompile=n=>{n.uniforms={far:{value:Is.view3D.camera.far},...Wu.clone(n.uniforms)},e.setFar=s=>{n.uniforms.far.value=s};let i=n.vertexShader.replace(/#include <fog_vertex>/,`
                #include <fog_vertex>
                //gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                depth = gl_Position.z/far;
                `);n.vertexShader=`
                precision highp float;
                uniform float far;
                varying float depth;
                `+i,n.fragmentShader=`
                precision highp float;
                varying float depth;
                `+n.fragmentShader.replace(/#include <dithering_fragment>/,`
                    #include <dithering_fragment>
                    float hex = abs(depth) * 16777215.0; // 0xffffff
                    float r = floor(hex / 65535.0);
                    float g = floor((hex - r * 65535.0) / 255.0);
                    float b = floor(hex - r * 65535.0 - g * 255.0);
                    float a = sign(depth) >= 0.0 ? 1.0 : 0.0; 
                    gl_FragColor = vec4(r / 255.0, g / 255.0, b / 255.0, a);
                    `)}}}class Sn{static get normalMaterial(){return this._normalMaterial==null&&(this._normalMaterial=new dc,this._normalMaterial.name="batchColorMaterial"),this._normalMaterial}static get pickMaterial(){return this._pickMaterial==null&&(this._pickMaterial=new ui,l2.pickShader(this._pickMaterial)),this._pickMaterial}static get depthMaterial(){return this._depthMaterial==null&&(this._depthMaterial=new ui,l2.depethShader(this._depthMaterial)),this._depthMaterial}static get depthMaterial2(){return this._depthMaterial2==null&&(this._depthMaterial2=new Ph({depthPacking:Sv})),this._depthMaterial2}static get zeroMatrix4(){return this._zeroMatrix4==null&&(this._zeroMatrix4=new Ct,this._zeroMatrix4.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),this._zeroMatrix4}static get normalColor(){return this._normalColor==null&&(this._normalColor=new ct(1,1,1)),this._normalColor}static get selColor(){return this._selColor==null&&(this._selColor=new ct(1,0,0)),this._selColor}static get maskMaterial(){return this._maskMaterial==null&&(this._maskMaterial=new Qn({vertexShader:`
                void main() {
                    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
                }
                `,fragmentShader:`
                void main() {
                    gl_FragColor = vec4(0.0, 1.0, 1.0, 1.0);
                }
                `,depthTest:!1})),this._maskMaterial}static get edgeMaterial(){return this._edgeMaterial==null&&(this._edgeMaterial=new Qn({vertexShader:`
                varying vec2 vUv;
                void main() {
                    vUv = uv;
                    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
                }
                `,fragmentShader:`
                uniform sampler2D maskTexture;
                uniform vec2 texSize;
                uniform vec3 color;
                uniform float thickness;
                varying vec2 vUv;

                void main() {
                    vec2 invSize = thickness / texSize;
                    vec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);
                    vec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);
                    vec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);
                    vec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);
                    vec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);
                    float diff1 = (c1.r - c2.r)*0.5;
                    float diff2 = (c3.r - c4.r)*0.5;
                    float d = length(vec2(diff1, diff2));
                    gl_FragColor = d > 0.0 ? vec4(color, 1.0) : vec4(0.0, 0.0, 0.0, 0.0);
                }
                `,uniforms:{maskTexture:{value:null},texSize:{value:new qe(1920,1080)},color:{value:new ct(16711680)},thickness:{value:4}},depthTest:!1,transparent:!1})),this._edgeMaterial}}Ce(Sn,"_normalMaterial"),Ce(Sn,"_pickMaterial"),Ce(Sn,"_depthMaterial"),Ce(Sn,"_depthMaterial2"),Ce(Sn,"_zeroMatrix4"),Ce(Sn,"_normalColor"),Ce(Sn,"_selColor"),Ce(Sn,"_maskMaterial"),Ce(Sn,"_edgeMaterial");class Pye{constructor(e,n){Ce(this,"raycaster");Ce(this,"_mouse",new qe);Ce(this,"goldenContainer");Ce(this,"_view");Ce(this,"v4",new dn);Ce(this,"unpackDownscale",255/256);Ce(this,"unpackFactors",new dn(this.unpackDownscale/(256*256*256),this.unpackDownscale/(256*256),this.unpackDownscale/256,this.unpackDownscale));this.raycaster=new cd,this._mouse=new qe,this.goldenContainer=e,this._view=n}getIntersect(e){if(e.type=="dragend"){let o=this.goldenContainer.getBoundingClientRect();e={offsetX:e.x-o.x,offsetY:e.y-o.y}}this._mouse.x=e.offsetX/this.goldenContainer.clientWidth*2-1,this._mouse.y=-(e.offsetY/this.goldenContainer.clientHeight)*2+1;let n=new Z(0,0,1),i=new so(n,0);this.raycaster.setFromCamera(this._mouse,this._view.camera);let s=this.raycaster.ray,r=new Z(0,0,0);return s.intersectPlane(i,r),r}getIntersectObjByGPU(e){let n=e.offsetX,i=e.offsetY;this._mouse.x=n/this.goldenContainer.clientWidth*2-1,this._mouse.y=-(i/this.goldenContainer.clientHeight)*2+1,this.raycaster.setFromCamera(this._mouse,this._view.camera),this.raycaster.ray;let s=this._view.mapModels;this._view.camera.setViewOffset(this._view.renderer.domElement.width,this._view.renderer.domElement.height,n*window.devicePixelRatio|0,i*window.devicePixelRatio|0,1,1),this._view.renderer.setRenderTarget(this._view.pickingTexture),this._view.renderer.setClearColor(0),this._view.obj.isScene=!0,this._view.obj.overrideMaterial=Sn.pickMaterial,this._view.obj.pickRender=!0,this._view.renderer.render(this._view.obj,this._view.camera),this._view.obj.pickRender=!1,this._view.obj.overrideMaterial=null,this._view.obj.isScene=!1;for(const a of s.values())if(a.rootObject.notPick=null,a.tile)for(const l of a.tile.visibleTiles)l.cached.scene.notPick=null;const r=new Uint8Array(4);return this._view.camera.clearViewOffset(),this._view.renderer.readRenderTargetPixels(this._view.pickingTexture,0,0,1,1,r),this._view.renderer.setRenderTarget(null),r[0]<<16|r[1]<<8|r[2]}getIntersectMesh(e){if(e.type=="dragend"){let i=this.goldenContainer.getBoundingClientRect();e={offsetX:e.x-i.x,offsetY:e.y-i.y}}let n=this.getIntersectObjByGPU(e);for(const i of this._view.mapModels.values())if(i.allElementData.has(n)){let s=i.allElementData.get(n);this._mouse.x=e.offsetX/this.goldenContainer.clientWidth*2-1,this._mouse.y=-(e.offsetY/this.goldenContainer.clientHeight)*2+1,this.raycaster.setFromCamera(this._mouse,this._view.camera);let r=new Map,o=[];if(i.tile)for(const l of s.meshDatas){let c=l.mesh.matrix.clone(),u=f=>{f.parent&&(c=c.premultiply(f.parent.matrix),u(f.parent))};u(l);let d=l.mesh.clone();d.applyMatrix4(c),o.push(d),r.set(d,l.mesh)}else for(const l of s.meshDatas)o.push(l.mesh);let a=this.raycaster.intersectObjects(o,!0);if(a.length!=0){let l=a[0].object;if(i.tile){l=r.get(a[0].object);for(const c of o)c.geometry.dispose(),c.clear();r.clear()}return{id:n,mesh:l,intersectPoint:a[0].point}}return null}return null}getIntersectPointByGPU(e){if(e.type=="dragend"){let a=this.goldenContainer.getBoundingClientRect();e={offsetX:e.x-a.x,offsetY:e.y-a.y}}let n=this._view.camera,i=n.far;n instanceof nr&&(i=50),Sn.depthMaterial.setFar&&Sn.depthMaterial.setFar(i);let s=e.offsetX,r=e.offsetY;this._mouse.x=s/this.goldenContainer.clientWidth*2-1,this._mouse.y=-(r/this.goldenContainer.clientHeight)*2+1,this.raycaster.setFromCamera(this._mouse,this._view.camera),this._view.camera.setViewOffset(this._view.renderer.domElement.width,this._view.renderer.domElement.height,s*window.devicePixelRatio|0,r*window.devicePixelRatio|0,1,1),this._view.renderer.setRenderTarget(this._view.pickingTexture),this._view.renderer.setClearColor(0),this._view.obj.isScene=!0,this._view.obj.overrideMaterial=Sn.depthMaterial,this._view.obj.pickRender=!0,this._view.renderer.render(this._view.obj,this._view.camera),this._view.obj.pickRender=!1,this._view.obj.overrideMaterial=null,this._view.obj.isScene=!1;const o=new Uint8Array(4);if(this._view.camera.clearViewOffset(),this._view.renderer.readRenderTargetPixels(this._view.pickingTexture,0,0,1,1,o),this._view.renderer.setRenderTarget(null),o[2]!==0||o[1]!==0||o[0]!==0){let a=(o[0]*65535+o[1]*255+o[2])/16777215,l=Math.abs(a)*i;console.log(l);let c=new Z,u=new Z,d=new Z;c.set(this._mouse.x,this._mouse.y,1),c.applyMatrix4(n.projectionMatrixInverse),u.set(this._mouse.x,this._mouse.y,-1),u.applyMatrix4(n.projectionMatrixInverse);const f=(-l-c.z)/(u.z-c.z);return d.set(c.x+(u.x-c.x)*f,c.y+(u.y-c.y)*f,-l),d.applyMatrix4(n.matrixWorld),d}return null}getDepthByGPU(e,n){let i=this._view.camera;Sn.depthMaterial.setFar&&Sn.depthMaterial.setFar(i.far);let s=this.goldenContainer.clientWidth/2,r=this.goldenContainer.clientHeight/2,o=s,a=r;this._view.controls.saveState(),e!=null&&(this._view.controls.azimuthAngle=e),n!=null&&(this._view.controls.polarAngle=n),this._view.controls.update(),i.updateMatrixWorld(),this._view.renderer.setClearColor(0),i.setViewOffset(this._view.renderer.domElement.width,this._view.renderer.domElement.height,o*window.devicePixelRatio|0,a*window.devicePixelRatio|0,1,1),this._view.renderer.setRenderTarget(this._view.pickingTexture),this._view.obj.isScene=!0,this._view.obj.overrideMaterial=Sn.depthMaterial,this._view.renderer.render(this._view.obj,i),this._view.obj.overrideMaterial=null,this._view.obj.isScene=!1;const l=new Uint8Array(4);if(i.clearViewOffset(),this._view.renderer.readRenderTargetPixels(this._view.pickingTexture,0,0,1,1,l),this._view.renderer.setRenderTarget(null),this._view.controls.reset(),this._view.controls.update(),i.updateMatrixWorld(),!Sn.depthMaterial.setFar)return-1;if(l[2]!==0||l[1]!==0||l[0]!==0){let c=(l[0]*65535+l[1]*255+l[2])/16777215;return Math.abs(c)*i.far}return-1}getIntersectMeshPointByGPU(e,n){this._view.controls.saveState(),this._view.camera.position.copy(e);let i=e.clone();i.add(n),this._view.camera.lookAt(i),this._view.camera.updateMatrixWorld();let s={offsetX:this.goldenContainer.clientWidth/2,offsetY:this.goldenContainer.clientHeight/2},r=this.getIntersectObjByGPU(s);for(const o of this._view.mapModels.values())if(o.allElementData.has(r)){let a=o.allElementData.get(r);this._mouse.x=s.offsetX/this.goldenContainer.clientWidth*2-1,this._mouse.y=-(s.offsetY/this.goldenContainer.clientHeight)*2+1,this.raycaster.setFromCamera(this._mouse,this._view.camera);let l=new Map,c=[];if(o.tile)for(const d of a.meshDatas){let f=d.mesh.matrix.clone(),p=m=>{m.parent&&(f=f.premultiply(m.parent.matrix),p(m.parent))};p(d);let g=d.mesh.clone();g.applyMatrix4(f),c.push(g),l.set(g,d.mesh)}else for(const d of a.meshDatas)c.push(d.mesh);let u=this.raycaster.intersectObjects(c,!0);if(u.length!=0){let d=u[0].object;if(o.tile){d=l.get(u[0].object);for(const f of c)f.geometry.dispose(),f.clear();l.clear()}return this._view.controls.reset(),this._view.controls.update(),this._view.camera.updateMatrixWorld(),{id:r,mesh:d,intersectPoint:u[0].point,distance:u[0].distance}}return this._view.controls.reset(),this._view.controls.update(),this._view.camera.updateMatrixWorld(),null}return this._view.controls.reset(),this._view.controls.update(),this._view.camera.updateMatrixWorld(),null}}const Wt={LEFT:1,RIGHT:2,MIDDLE:4},Je=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768});function Ty(t,e){e.set(0,0),t.forEach(n=>{e.x+=n.clientX,e.y+=n.clientY}),e.x/=t.length,e.y/=t.length}const rN=1e-5,Ld=Math.PI/180;function Jc(t,e,n){return Math.max(e,Math.min(n,t))}function zn(t,e=rN){return Math.abs(t)<e}function An(t,e,n=rN){return zn(t-e,n)}function c2(t,e){return Math.round(t/e)*e}function Nd(t){return isFinite(t)?t:t<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Dd(t){return Math.abs(t)<Number.MAX_VALUE?t:t*(1/0)}function em(t,e,n,i,s=1/0,r){i=Math.max(1e-4,i);const o=2/i,a=o*r,l=1/(1+a+.48*a*a+.235*a*a*a);let c=t-e;const u=e,d=s*i;c=Jc(c,-d,d),e=t-c;const f=(n.value+o*c)*r;n.value=(n.value-o*f)*l;let p=e+(c+f)*l;return u-t>0==p>u&&(p=u,n.value=(p-u)/r),p}function u2(t,e,n,i,s=1/0,r,o){i=Math.max(1e-4,i);const a=2/i,l=a*r,c=1/(1+l+.48*l*l+.235*l*l*l);let u=e.x,d=e.y,f=e.z,p=t.x-u,g=t.y-d,m=t.z-f;const y=u,v=d,_=f,b=s*i,w=b*b,S=p*p+g*g+m*m;if(S>w){const U=Math.sqrt(S);p=p/U*b,g=g/U*b,m=m/U*b}u=t.x-p,d=t.y-g,f=t.z-m;const x=(n.x+a*p)*r,C=(n.y+a*g)*r,T=(n.z+a*m)*r;n.x=(n.x-a*x)*c,n.y=(n.y-a*C)*c,n.z=(n.z-a*T)*c,o.x=u+(p+x)*c,o.y=d+(g+C)*c,o.z=f+(m+T)*c;const E=y-t.x,M=v-t.y,R=_-t.z,O=o.x-y,F=o.y-v,V=o.z-_;return E*O+M*F+R*V>0&&(o.x=y,o.y=v,o.z=_,n.x=(o.x-y)/r,n.y=(o.y-v)/r,n.z=(o.z-_)/r),o}function ul(t){return t.isPerspectiveCamera}function Qo(t){return t.isOrthographicCamera}function Ay(t,e){return Qo(t)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class Iye{constructor(){Ce(this,"_listeners",{})}addEventListener(e,n){const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const s=this._listeners[e];if(s!==void 0){const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const i=this._listeners[e.type];if(i!==void 0){e.target=this;const s=i.slice(0);for(let r=0,o=s.length;r<o;r++)s[r].call(this,e)}}}const Gc=Math.PI*2,d2=Math.PI/2,kye="__VERSION",tm=1/8,oN=typeof window<"u",Oye=oN&&/Mac/.test(navigator.platform),Lye=!(oN&&"PointerEvent"in window);let f2,nm,Ry,ls,Ht,wn,Kc,Tr,Ar,dl,h2,p2,Ds,Fd,Yc,m2,Py,g2,Iy,ky,im;class yu extends Iye{constructor(n,i){super();Ce(this,"minPolarAngle",0);Ce(this,"maxPolarAngle",Math.PI);Ce(this,"minAzimuthAngle",-1/0);Ce(this,"maxAzimuthAngle",1/0);Ce(this,"minDistance",0);Ce(this,"maxDistance",1/0);Ce(this,"infinityDolly",!1);Ce(this,"minZoom",.01);Ce(this,"maxZoom",1/0);Ce(this,"smoothTime",.25);Ce(this,"draggingSmoothTime",.125);Ce(this,"maxSpeed",1/0);Ce(this,"azimuthRotateSpeed",1);Ce(this,"polarRotateSpeed",1);Ce(this,"dollySpeed",1);Ce(this,"dollyDragInverted",!1);Ce(this,"truckSpeed",2);Ce(this,"dollyToCursor",!1);Ce(this,"dollyToOrbitPoint",!1);Ce(this,"dragToOffset",!1);Ce(this,"verticalDragToForward",!1);Ce(this,"boundaryFriction",0);Ce(this,"restThreshold",.01);Ce(this,"colliderMeshes",[]);Ce(this,"mouseButtons");Ce(this,"touches");Ce(this,"cancel",()=>{});Ce(this,"lockPointer");Ce(this,"unlockPointer");Ce(this,"_enabled",!0);Ce(this,"_camera");Ce(this,"_yAxisUpSpace");Ce(this,"_yAxisUpSpaceInverse");Ce(this,"_state",Je.NONE);Ce(this,"_domElement");Ce(this,"_viewport",null);Ce(this,"_target");Ce(this,"_targetEnd");Ce(this,"curTarget");Ce(this,"_focalOffset");Ce(this,"_focalOffsetEnd");Ce(this,"_spherical");Ce(this,"_sphericalEnd");Ce(this,"_zoom");Ce(this,"_zoomEnd");Ce(this,"_cameraUp0");Ce(this,"_target0");Ce(this,"_position0");Ce(this,"_zoom0");Ce(this,"_focalOffset0");Ce(this,"_dollyControlAmount",0);Ce(this,"_dollyControlCoord");Ce(this,"_nearPlaneCorners");Ce(this,"_hasRested",!0);Ce(this,"_boundary");Ce(this,"_boundaryEnclosesCamera",!1);Ce(this,"_needsUpdate",!0);Ce(this,"_updatedLastTime",!1);Ce(this,"_elementRect",new DOMRect);Ce(this,"_isDragging",!1);Ce(this,"_activePointers",[]);Ce(this,"_lockedPointer",null);Ce(this,"_isUserControllingRotate",!1);Ce(this,"_isUserControllingDolly",!1);Ce(this,"_isUserControllingTruck",!1);Ce(this,"_isUserControllingOffset",!1);Ce(this,"_isUserControllingZoom",!1);Ce(this,"_thetaVelocity",{value:0});Ce(this,"_phiVelocity",{value:0});Ce(this,"_radiusVelocity",{value:0});Ce(this,"_targetVelocity",new Z);Ce(this,"_focalOffsetVelocity",new Z);Ce(this,"_zoomVelocity",{value:0});Ce(this,"clock",new jv);Ce(this,"_truckInternal",(n,i,s)=>{let r,o;if(ul(this._camera)){const a=Ht.copy(this._camera.position).sub(this._target),l=this._camera.getEffectiveFOV()*Ld,c=a.length()*Math.tan(l*.5);r=this.truckSpeed*n*c/this._elementRect.height,o=this.truckSpeed*i*c/this._elementRect.height}else if(Qo(this._camera)){const a=this._camera;r=n*(a.right-a.left)/a.zoom/this._elementRect.width,o=i*(a.top-a.bottom)/a.zoom/this._elementRect.height}else return;this.verticalDragToForward?(s?this.setFocalOffset(this._focalOffsetEnd.x+r,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(r,0,!0),this.forward(-o,!0)):s?this.setFocalOffset(this._focalOffsetEnd.x+r,this._focalOffsetEnd.y+o,this._focalOffsetEnd.z,!0):this.truck(r,o,!0)});Ce(this,"_rotateInternal",(n,i)=>{const s=Gc*this.azimuthRotateSpeed*n/this._elementRect.height,r=Gc*this.polarRotateSpeed*i/this._elementRect.height;this.rotate(s,r,!0)});Ce(this,"_dollyInternal",(n,i,s)=>{const r=Math.pow(.95,-n*this.dollySpeed),o=this._sphericalEnd.radius*r,a=this._sphericalEnd.radius,l=a*(n>=0?-1:1);this.dollyTo(o),this.infinityDolly&&(o<this.minDistance||this.maxDistance===this.minDistance)&&(this._camera.getWorldDirection(Ht),this._targetEnd.add(Ht.normalize().multiplyScalar(l)),this._target.add(Ht.normalize().multiplyScalar(l))),this.dollyToCursor&&(this._dollyControlAmount+=this._sphericalEnd.radius-a,this.infinityDolly&&(o<this.minDistance||this.maxDistance===this.minDistance)&&(this._dollyControlAmount-=l),this._dollyControlCoord.set(i,s))});Ce(this,"_zoomInternal",(n,i,s)=>{const r=Math.pow(.95,n*this.dollySpeed),o=this._zoomEnd;this.zoomTo(this._zoom*r),this.dollyToCursor&&(this._dollyControlAmount+=this._zoomEnd-o,this._dollyControlCoord.set(i,s))});typeof F0e>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),f2=new Z(0,0,0),nm=new Z(0,1,0),Ry=new Z(0,0,1),ls=new qe,Ht=new Z,wn=new Z,Kc=new Z,Tr=new Z,Ar=new Z,dl=new Z,h2=new Z,p2=new Z,Ds=new Wm,Fd=new Wm,Yc=new Bn,m2=new Bn,Py=new di,g2=new an,Iy=new an,ky=new Ct,im=new cd,this._camera=n,this._yAxisUpSpace=new an().setFromUnitVectors(this._camera.up,nm),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=Je.NONE,this._target=new Z,this._targetEnd=this._target.clone(),this.curTarget=new Z,this._focalOffset=new Z,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new Wm().setFromVector3(Ht.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._nearPlaneCorners=[new Z,new Z,new Z,new Z],this._updateNearPlaneCorners(),this._boundary=new Bn(new Z(-1/0,-1/0,-1/0),new Z(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlAmount=0,this._dollyControlCoord=new qe,this.mouseButtons={left:Je.ROTATE,middle:Je.DOLLY,right:Je.TRUCK,wheel:ul(this._camera)?Je.DOLLY:Qo(this._camera)?Je.ZOOM:Je.NONE},this.touches={one:Je.TOUCH_ROTATE,two:ul(this._camera)?Je.TOUCH_DOLLY_TRUCK:Qo(this._camera)?Je.TOUCH_ZOOM_TRUCK:Je.NONE,three:Je.TOUCH_TRUCK};const s=new qe,r=new qe,o=new qe,a=S=>{if(!this._enabled||!this._domElement)return;const x=S.pointerType!=="mouse"?null:(S.buttons&Wt.LEFT)===Wt.LEFT?Wt.LEFT:(S.buttons&Wt.MIDDLE)===Wt.MIDDLE?Wt.MIDDLE:(S.buttons&Wt.RIGHT)===Wt.RIGHT?Wt.RIGHT:null;if(x!==null){const T=this._findPointerByMouseButton(x);T&&this._disposePointer(T)}if((S.buttons&Wt.LEFT)===Wt.LEFT&&this._lockedPointer)return;const C={pointerId:S.pointerId,clientX:S.clientX,clientY:S.clientY,deltaX:0,deltaY:0,mouseButton:x};this._activePointers.push(C),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",d),this._isDragging=!0,y(S)},l=S=>{if(!this._enabled||!this._domElement||this._lockedPointer)return;const x=(S.buttons&Wt.LEFT)===Wt.LEFT?Wt.LEFT:(S.buttons&Wt.MIDDLE)===Wt.MIDDLE?Wt.MIDDLE:(S.buttons&Wt.RIGHT)===Wt.RIGHT?Wt.RIGHT:null;if(x!==null){const T=this._findPointerByMouseButton(x);T&&this._disposePointer(T)}const C={pointerId:1,clientX:S.clientX,clientY:S.clientY,deltaX:0,deltaY:0,mouseButton:(S.buttons&Wt.LEFT)===Wt.LEFT?Wt.LEFT:(S.buttons&Wt.MIDDLE)===Wt.LEFT?Wt.MIDDLE:(S.buttons&Wt.RIGHT)===Wt.LEFT?Wt.RIGHT:null};this._activePointers.push(C),this._domElement.ownerDocument.removeEventListener("mousemove",u),this._domElement.ownerDocument.removeEventListener("mouseup",f),this._domElement.ownerDocument.addEventListener("mousemove",u),this._domElement.ownerDocument.addEventListener("mouseup",f),this._isDragging=!0,y(S)},c=S=>{S.cancelable&&S.preventDefault();const x=S.pointerId,C=this._lockedPointer||this._findPointerById(x);if(C){if(C.clientX=S.clientX,C.clientY=S.clientY,C.deltaX=S.movementX,C.deltaY=S.movementY,this._state=0,S.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(S.buttons&Wt.LEFT)===Wt.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(S.buttons&Wt.MIDDLE)===Wt.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(S.buttons&Wt.RIGHT)===Wt.RIGHT&&(this._state=this._state|this.mouseButtons.right);v()}},u=S=>{const x=this._lockedPointer||this._findPointerById(1);x&&(x.clientX=S.clientX,x.clientY=S.clientY,x.deltaX=S.movementX,x.deltaY=S.movementY,this._state=0,(this._lockedPointer||(S.buttons&Wt.LEFT)===Wt.LEFT)&&(this._state=this._state|this.mouseButtons.left),(S.buttons&Wt.MIDDLE)===Wt.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(S.buttons&Wt.RIGHT)===Wt.RIGHT&&(this._state=this._state|this.mouseButtons.right),v())},d=S=>{const x=this._findPointerById(S.pointerId);if(!(x&&x===this._lockedPointer)){if(x&&this._disposePointer(x),S.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=Je.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=Je.NONE;_()}},f=()=>{const S=this._findPointerById(1);S&&S===this._lockedPointer||(S&&this._disposePointer(S),this._state=Je.NONE,_())};let p=-1;const g=S=>{if(!this._enabled||this.mouseButtons.wheel===Je.NONE)return;if(S.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===Je.ROTATE||this.mouseButtons.wheel===Je.TRUCK){const M=performance.now();p-M<1e3&&this._getClientRect(this._elementRect),p=M}const x=Oye?-1:-3,C=S.deltaMode===1?S.deltaY/x:S.deltaY/(x*10);let T=0,E=0;if(this.dollyToOrbitPoint){let M=this.curTarget.clone().project(n);T=M.x,E=M.y,this.dollyToCursor=!0}else this.dollyToCursor&&(T=(S.clientX-this._elementRect.x)/this._elementRect.width*2-1,E=(S.clientY-this._elementRect.y)/this._elementRect.height*-2+1);switch(this.mouseButtons.wheel){case Je.ROTATE:{this._rotateInternal(S.deltaX,S.deltaY),this._isUserControllingRotate=!0;break}case Je.TRUCK:{this._truckInternal(S.deltaX,S.deltaY,!1),this._isUserControllingTruck=!0;break}case Je.OFFSET:{this._truckInternal(S.deltaX,S.deltaY,!0),this._isUserControllingOffset=!0;break}case Je.DOLLY:{this._dollyInternal(-C,T,E),this._isUserControllingDolly=!0;break}case Je.ZOOM:{this._zoomInternal(-C,T,E),this._isUserControllingZoom=!0;break}}this.update(),(this.dollyToOrbitPoint||this.dollyToCursor)&&this.setOrbitPoint(this.curTarget.x,this.curTarget.y,this.curTarget.z),this.dispatchEvent({type:"control"})},m=S=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===yu.ACTION.NONE){const x=S instanceof PointerEvent?S.pointerId:(S instanceof MouseEvent,0),C=this._findPointerById(x);C&&this._disposePointer(C),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.removeEventListener("mousemove",u),this._domElement.ownerDocument.removeEventListener("mouseup",f);return}S.preventDefault()}},y=S=>{if(!this._enabled)return;if(Ty(this._activePointers,ls),this._getClientRect(this._elementRect),s.copy(ls),r.copy(ls),this._activePointers.length>=2){const C=ls.x-this._activePointers[1].clientX,T=ls.y-this._activePointers[1].clientY,E=Math.sqrt(C*C+T*T);o.set(0,E);const M=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,R=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;r.set(M,R)}if(this._state=0,!S)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in S&&S.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(S.buttons&Wt.LEFT)===Wt.LEFT&&(this._state=this._state|this.mouseButtons.left),(S.buttons&Wt.MIDDLE)===Wt.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(S.buttons&Wt.RIGHT)===Wt.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&Je.ROTATE)===Je.ROTATE||(this._state&Je.TOUCH_ROTATE)===Je.TOUCH_ROTATE||(this._state&Je.TOUCH_DOLLY_ROTATE)===Je.TOUCH_DOLLY_ROTATE||(this._state&Je.TOUCH_ZOOM_ROTATE)===Je.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&Je.TRUCK)===Je.TRUCK||(this._state&Je.TOUCH_TRUCK)===Je.TOUCH_TRUCK||(this._state&Je.TOUCH_DOLLY_TRUCK)===Je.TOUCH_DOLLY_TRUCK||(this._state&Je.TOUCH_ZOOM_TRUCK)===Je.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&Je.DOLLY)===Je.DOLLY||(this._state&Je.TOUCH_DOLLY)===Je.TOUCH_DOLLY||(this._state&Je.TOUCH_DOLLY_TRUCK)===Je.TOUCH_DOLLY_TRUCK||(this._state&Je.TOUCH_DOLLY_OFFSET)===Je.TOUCH_DOLLY_OFFSET||(this._state&Je.TOUCH_DOLLY_ROTATE)===Je.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&Je.ZOOM)===Je.ZOOM||(this._state&Je.TOUCH_ZOOM)===Je.TOUCH_ZOOM||(this._state&Je.TOUCH_ZOOM_TRUCK)===Je.TOUCH_ZOOM_TRUCK||(this._state&Je.TOUCH_ZOOM_OFFSET)===Je.TOUCH_ZOOM_OFFSET||(this._state&Je.TOUCH_ZOOM_ROTATE)===Je.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&Je.OFFSET)===Je.OFFSET||(this._state&Je.TOUCH_OFFSET)===Je.TOUCH_OFFSET||(this._state&Je.TOUCH_DOLLY_OFFSET)===Je.TOUCH_DOLLY_OFFSET||(this._state&Je.TOUCH_ZOOM_OFFSET)===Je.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},v=()=>{if(!this._enabled)return;Ty(this._activePointers,ls);const x=this._domElement&&document.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,C=x?-x.deltaX:r.x-ls.x,T=x?-x.deltaY:r.y-ls.y;if(r.copy(ls),((this._state&Je.ROTATE)===Je.ROTATE||(this._state&Je.TOUCH_ROTATE)===Je.TOUCH_ROTATE||(this._state&Je.TOUCH_DOLLY_ROTATE)===Je.TOUCH_DOLLY_ROTATE||(this._state&Je.TOUCH_ZOOM_ROTATE)===Je.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(C,T),this._isUserControllingRotate=!0),(this._state&Je.DOLLY)===Je.DOLLY||(this._state&Je.ZOOM)===Je.ZOOM){const E=this.dollyToCursor?(s.x-this._elementRect.x)/this._elementRect.width*2-1:0,M=this.dollyToCursor?(s.y-this._elementRect.y)/this._elementRect.height*-2+1:0,R=this.dollyDragInverted?-1:1;(this._state&Je.DOLLY)===Je.DOLLY?(this._dollyInternal(R*T*tm,E,M),this._isUserControllingDolly=!0):(this._zoomInternal(R*T*tm,E,M),this._isUserControllingZoom=!0)}if((this._state&Je.TOUCH_DOLLY)===Je.TOUCH_DOLLY||(this._state&Je.TOUCH_ZOOM)===Je.TOUCH_ZOOM||(this._state&Je.TOUCH_DOLLY_TRUCK)===Je.TOUCH_DOLLY_TRUCK||(this._state&Je.TOUCH_ZOOM_TRUCK)===Je.TOUCH_ZOOM_TRUCK||(this._state&Je.TOUCH_DOLLY_OFFSET)===Je.TOUCH_DOLLY_OFFSET||(this._state&Je.TOUCH_ZOOM_OFFSET)===Je.TOUCH_ZOOM_OFFSET||(this._state&Je.TOUCH_DOLLY_ROTATE)===Je.TOUCH_DOLLY_ROTATE||(this._state&Je.TOUCH_ZOOM_ROTATE)===Je.TOUCH_ZOOM_ROTATE){const E=ls.x-this._activePointers[1].clientX,M=ls.y-this._activePointers[1].clientY,R=Math.sqrt(E*E+M*M),O=o.y-R;o.set(0,R);const F=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,V=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&Je.TOUCH_DOLLY)===Je.TOUCH_DOLLY||(this._state&Je.TOUCH_DOLLY_ROTATE)===Je.TOUCH_DOLLY_ROTATE||(this._state&Je.TOUCH_DOLLY_TRUCK)===Je.TOUCH_DOLLY_TRUCK||(this._state&Je.TOUCH_DOLLY_OFFSET)===Je.TOUCH_DOLLY_OFFSET?(this._dollyInternal(O*tm,F,V),this._isUserControllingDolly=!0):(this._zoomInternal(O*tm,F,V),this._isUserControllingZoom=!0)}((this._state&Je.TRUCK)===Je.TRUCK||(this._state&Je.TOUCH_TRUCK)===Je.TOUCH_TRUCK||(this._state&Je.TOUCH_DOLLY_TRUCK)===Je.TOUCH_DOLLY_TRUCK||(this._state&Je.TOUCH_ZOOM_TRUCK)===Je.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(C,T,!1),this._isUserControllingTruck=!0),((this._state&Je.OFFSET)===Je.OFFSET||(this._state&Je.TOUCH_OFFSET)===Je.TOUCH_OFFSET||(this._state&Je.TOUCH_DOLLY_OFFSET)===Je.TOUCH_DOLLY_OFFSET||(this._state&Je.TOUCH_ZOOM_OFFSET)===Je.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(C,T,!0),this._isUserControllingOffset=!0),this.update(),this.dispatchEvent({type:"control"})},_=()=>{Ty(this._activePointers,ls),r.copy(ls),(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",u),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.removeEventListener("mouseup",f),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",b),this._domElement.ownerDocument.addEventListener("pointerlockerror",w),this._domElement.ownerDocument.addEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",d),y())},this.unlockPointer=()=>{this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),document.exitPointerLock(),this.cancel(),this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointerlockchange",b),this._domElement.ownerDocument.removeEventListener("pointerlockerror",w))};const b=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},w=()=>{this.unlockPointer()};this._addAllEventListeners=S=>{this._domElement=S,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",a),Lye&&this._domElement.addEventListener("mousedown",l),this._domElement.addEventListener("pointercancel",d),this._domElement.addEventListener("wheel",g,{passive:!1}),this._domElement.addEventListener("contextmenu",m)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",a),this._domElement.removeEventListener("mousedown",l),this._domElement.removeEventListener("pointercancel",d),this._domElement.removeEventListener("wheel",g,{passive:!1}),this._domElement.removeEventListener("contextmenu",m),this._domElement.ownerDocument.removeEventListener("pointermove",c,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",u),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.removeEventListener("mouseup",f),this._domElement.ownerDocument.removeEventListener("pointerlockchange",b),this._domElement.ownerDocument.removeEventListener("pointerlockerror",w))},this.cancel=()=>{this._state!==Je.NONE&&(this._state=Je.NONE,this._activePointers.length=0,_())},i&&this.connect(i),this.update(0)}static get ACTION(){return Je}get camera(){return this._camera}set camera(n){this._camera=n,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._domElement&&(n?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(n){this._spherical.radius===n&&this._sphericalEnd.radius===n||(this._spherical.radius=n,this._sphericalEnd.radius=n,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(n){this._spherical.theta===n&&this._sphericalEnd.theta===n||(this._spherical.theta=n,this._sphericalEnd.theta=n,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(n){this._spherical.phi===n&&this._sphericalEnd.phi===n||(this._spherical.phi=n,this._sphericalEnd.phi=n,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(n){this._boundaryEnclosesCamera=n,this._needsUpdate=!0}rotate(n,i,s=!1){return this.rotateTo(this._sphericalEnd.theta+n,this._sphericalEnd.phi+i,s)}rotateAzimuthTo(n,i=!1){return this.rotateTo(n,this._sphericalEnd.phi,i)}rotatePolarTo(n,i=!1){return this.rotateTo(this._sphericalEnd.theta,n,i)}rotateTo(n,i,s=!1){this._isUserControllingRotate=!1;const r=Jc(n,this.minAzimuthAngle,this.maxAzimuthAngle),o=Jc(i,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=r,this._sphericalEnd.phi=o,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,s||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const a=!s||An(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&An(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(a)}dolly(n,i=!1){return this.dollyTo(this._sphericalEnd.radius-n,i)}dollyTo(n,i=!1){this._isUserControllingDolly=!1;const s=this._sphericalEnd.radius,r=Jc(n,this.minDistance,this.maxDistance);if(this.colliderMeshes.length>=1){const l=this._collisionTest(),c=An(l,this._spherical.radius);if(!(s>r)&&c)return Promise.resolve();this._sphericalEnd.radius=Math.min(r,l)}else this._sphericalEnd.radius=r;this._needsUpdate=!0,i||(this._spherical.radius=this._sphericalEnd.radius);const a=!i||An(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(a)}zoom(n,i=!1){return this.zoomTo(this._zoomEnd+n,i)}zoomTo(n,i=!1){this._isUserControllingZoom=!1,this._zoomEnd=Jc(n,this.minZoom,this.maxZoom),this._needsUpdate=!0,i||(this._zoom=this._zoomEnd);const s=!i||An(this._zoom,this._zoomEnd,this.restThreshold);return this._createOnRestPromise(s)}pan(n,i,s=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(n,i,s)}truck(n,i,s=!1){this._camera.updateMatrix(),Tr.setFromMatrixColumn(this._camera.matrix,0),Ar.setFromMatrixColumn(this._camera.matrix,1),Tr.multiplyScalar(n),Ar.multiplyScalar(-i);const r=Ht.copy(Tr).add(Ar),o=wn.copy(this._targetEnd).add(r);return this.moveTo(o.x,o.y,o.z,s)}forward(n,i=!1){Ht.setFromMatrixColumn(this._camera.matrix,0),Ht.crossVectors(this._camera.up,Ht),Ht.multiplyScalar(n);const s=wn.copy(this._targetEnd).add(Ht);return this.moveTo(s.x,s.y,s.z,i)}forward2(n,i=!1){Ht.set(0,0,-1).applyQuaternion(this._camera.quaternion),Ht.multiplyScalar(n);const s=wn.copy(this._targetEnd).add(Ht);return this.moveTo(s.x,s.y,s.z,i)}elevate(n,i=!1){return Ht.copy(this._camera.up).multiplyScalar(n),this.moveTo(this._targetEnd.x+Ht.x,this._targetEnd.y+Ht.y,this._targetEnd.z+Ht.z,i)}moveTo(n,i,s,r=!1){this.curTarget.set(n,i,s),this._isUserControllingTruck=!1;const o=Ht.set(n,i,s).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,o,this.boundaryFriction),this._needsUpdate=!0,r||this._target.copy(this._targetEnd);const a=!r||An(this._target.x,this._targetEnd.x,this.restThreshold)&&An(this._target.y,this._targetEnd.y,this.restThreshold)&&An(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(a)}lookInDirectionOf(n,i,s,r=!1){const l=Ht.set(n,i,s).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius);return this.setPosition(l.x,l.y,l.z,r)}fitToBox(n,i,{cover:s=!1,paddingLeft:r=0,paddingRight:o=0,paddingBottom:a=0,paddingTop:l=0}={}){const c=[],u=n.isBox3?Yc.copy(n):Yc.setFromObject(n);u.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const d=c2(this._sphericalEnd.theta,d2),f=c2(this._sphericalEnd.phi,d2);c.push(this.rotateTo(d,f,i));const p=Ht.setFromSpherical(this._sphericalEnd).normalize(),g=g2.setFromUnitVectors(p,Ry),m=An(Math.abs(p.y),1);m&&g.multiply(Iy.setFromAxisAngle(nm,d)),g.multiply(this._yAxisUpSpaceInverse);const y=m2.makeEmpty();wn.copy(u.min).applyQuaternion(g),y.expandByPoint(wn),wn.copy(u.min).setX(u.max.x).applyQuaternion(g),y.expandByPoint(wn),wn.copy(u.min).setY(u.max.y).applyQuaternion(g),y.expandByPoint(wn),wn.copy(u.max).setZ(u.min.z).applyQuaternion(g),y.expandByPoint(wn),wn.copy(u.min).setZ(u.max.z).applyQuaternion(g),y.expandByPoint(wn),wn.copy(u.max).setY(u.min.y).applyQuaternion(g),y.expandByPoint(wn),wn.copy(u.max).setX(u.min.x).applyQuaternion(g),y.expandByPoint(wn),wn.copy(u.max).applyQuaternion(g),y.expandByPoint(wn),y.min.x-=r,y.min.y-=a,y.max.x+=o,y.max.y+=l,g.setFromUnitVectors(Ry,p),m&&g.premultiply(Iy.invert()),g.premultiply(this._yAxisUpSpace);const v=y.getSize(Ht),_=y.getCenter(wn).applyQuaternion(g);if(ul(this._camera)){const b=this.getDistanceToFitBox(v.x,v.y,v.z,s);c.push(this.moveTo(_.x,_.y,_.z,i)),c.push(this.dollyTo(b,i)),c.push(this.setFocalOffset(0,0,0,i))}else if(Qo(this._camera)){const b=this._camera,w=b.right-b.left,S=b.top-b.bottom,x=s?Math.max(w/v.x,S/v.y):Math.min(w/v.x,S/v.y);c.push(this.moveTo(_.x,_.y,_.z,i)),c.push(this.zoomTo(x,i)),c.push(this.setFocalOffset(0,0,0,i))}return Promise.all(c)}fitToSphere(n,i){const s=[],o=n instanceof di?Py.copy(n):yu.createBoundingSphere(n,Py);if(s.push(this.moveTo(o.center.x,o.center.y,o.center.z,i)),ul(this._camera)){const a=this.getDistanceToFitSphere(o.radius);s.push(this.dollyTo(a,i))}else if(Qo(this._camera)){const a=this._camera.right-this._camera.left,l=this._camera.top-this._camera.bottom,c=2*o.radius,u=Math.min(a/c,l/c);s.push(this.zoomTo(u,i))}return s.push(this.setFocalOffset(0,0,0,i)),Promise.all(s)}setLookAt(n,i,s,r,o,a,l=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1;const c=wn.set(r,o,a),u=Ht.set(n,i,s);this._targetEnd.copy(c),this._sphericalEnd.setFromVector3(u.sub(c).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,l||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const d=!l||An(this._target.x,this._targetEnd.x,this.restThreshold)&&An(this._target.y,this._targetEnd.y,this.restThreshold)&&An(this._target.z,this._targetEnd.z,this.restThreshold)&&An(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&An(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&An(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(d)}lerpLookAt(n,i,s,r,o,a,l,c,u,d,f,p,g,m=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1;const y=Ht.set(r,o,a),v=wn.set(n,i,s);Ds.setFromVector3(v.sub(y).applyQuaternion(this._yAxisUpSpace));const _=Kc.set(d,f,p),b=wn.set(l,c,u);Fd.setFromVector3(b.sub(_).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(y.lerp(_,g));const w=Fd.theta-Ds.theta,S=Fd.phi-Ds.phi,x=Fd.radius-Ds.radius;this._sphericalEnd.set(Ds.radius+x*g,Ds.phi+S*g,Ds.theta+w*g),this.normalizeRotations(),this._needsUpdate=!0,m||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const C=!m||An(this._target.x,this._targetEnd.x,this.restThreshold)&&An(this._target.y,this._targetEnd.y,this.restThreshold)&&An(this._target.z,this._targetEnd.z,this.restThreshold)&&An(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&An(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&An(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(C)}setPosition(n,i,s,r=!1){return this.setLookAt(n,i,s,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,r)}setTarget(n,i,s,r=!1){const o=this.getPosition(Ht),a=this.setLookAt(o.x,o.y,o.z,n,i,s,r);return this._sphericalEnd.phi=Jc(this.polarAngle,this.minPolarAngle,this.maxPolarAngle),a}setFocalOffset(n,i,s,r=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(n,i,s),this._needsUpdate=!0,r||this._focalOffset.copy(this._focalOffsetEnd);const o=!r||An(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&An(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&An(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}setOrbitPoint(n,i,s){this._camera.updateMatrixWorld(),Tr.setFromMatrixColumn(this._camera.matrixWorldInverse,0),Ar.setFromMatrixColumn(this._camera.matrixWorldInverse,1),dl.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const r=Ht.set(n,i,s),o=r.distanceTo(this._camera.position),a=r.sub(this._camera.position);Tr.multiplyScalar(a.x),Ar.multiplyScalar(a.y),dl.multiplyScalar(a.z),Ht.copy(Tr).add(Ar).add(dl),Ht.z=Ht.z+o,this.dollyTo(o,!1),this.setFocalOffset(-Ht.x,Ht.y,-Ht.z,!1),this.moveTo(n,i,s,!1)}setBoundary(n){if(!n){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(n),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(n,i,s,r){if(n===null){this._viewport=null;return}this._viewport=this._viewport||new dn,typeof n=="number"?this._viewport.set(n,i,s,r):this._viewport.copy(n)}getDistanceToFitBox(n,i,s,r=!1){if(Ay(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const o=n/i,a=this._camera.getEffectiveFOV()*Ld,l=this._camera.aspect;return((r?o>l:o<l)?i:n/l)*.5/Math.tan(a*.5)+s*.5}getDistanceToFitSphere(n){if(Ay(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const i=this._camera.getEffectiveFOV()*Ld,s=Math.atan(Math.tan(i*.5)*this._camera.aspect)*2,r=1<this._camera.aspect?i:s;return n/Math.sin(r*.5)}getTarget(n){return(n&&n.isVector3?n:new Z).copy(this._targetEnd)}getPosition(n){return(n&&n.isVector3?n:new Z).setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd)}getFocalOffset(n){return(n&&n.isVector3?n:new Z).copy(this._focalOffsetEnd)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Gc,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Gc),this._spherical.theta+=Gc*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Gc)}reset(n=!1){if(!An(this._camera.up.x,this._cameraUp0.x)||!An(this._camera.up.y,this._cameraUp0.y)||!An(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const s=this.getPosition(Ht);this.updateCameraUp(),this.setPosition(s.x,s.y,s.z)}const i=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,n),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,n),this.zoomTo(this._zoom0,n)];return Promise.all(i)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,nm),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const n=Ht.subVectors(this._target,this._camera.position).normalize(),i=wn.crossVectors(n,this._camera.up).normalize();this._camera.up.crossVectors(i,n).normalize(),this._camera.updateMatrixWorld();const s=this.getPosition(Ht);this.updateCameraUp(),this.setPosition(s.x,s.y,s.z)}update(n){n==null&&(n=.1);const i=this._sphericalEnd.theta-this._spherical.theta,s=this._sphericalEnd.phi-this._spherical.phi,r=this._sphericalEnd.radius-this._spherical.radius,o=h2.subVectors(this._targetEnd,this._target),a=p2.subVectors(this._focalOffsetEnd,this._focalOffset),l=this._zoomEnd-this._zoom;if(zn(i))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const f=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=em(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,f,1/0,n),this._needsUpdate=!0}if(zn(s))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const f=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=em(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,f,1/0,n),this._needsUpdate=!0}if(zn(r))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const f=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=em(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,f,this.maxSpeed,n),this._needsUpdate=!0}if(zn(o.x)&&zn(o.y)&&zn(o.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const f=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;u2(this._target,this._targetEnd,this._targetVelocity,f,this.maxSpeed,n,this._target),this._needsUpdate=!0}if(zn(a.x)&&zn(a.y)&&zn(a.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const f=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;u2(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,f,this.maxSpeed,n,this._focalOffset),this._needsUpdate=!0}if(this._dollyControlAmount!==0){if(ul(this._camera)){const f=this._camera,p=Ht.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),g=wn.copy(p).cross(f.up).normalize();g.lengthSq()===0&&(g.x=1);const m=Kc.crossVectors(g,p),y=this._sphericalEnd.radius*Math.tan(f.getEffectiveFOV()*Ld*.5),_=(this._sphericalEnd.radius-this._dollyControlAmount-this._sphericalEnd.radius)/this._sphericalEnd.radius,b=Ht.copy(this._targetEnd).add(g.multiplyScalar(this._dollyControlCoord.x*y*f.aspect)).add(m.multiplyScalar(this._dollyControlCoord.y*y));this._targetEnd.lerp(b,_)}else if(Qo(this._camera)){const f=this._camera,p=Ht.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(f.near+f.far)/(f.near-f.far)).unproject(f),g=wn.set(0,0,-1).applyQuaternion(f.quaternion),m=Kc.copy(p).add(g.multiplyScalar(-p.dot(f.up))),v=-(this._zoom-this._dollyControlAmount-this._zoomEnd)/this._zoom,_=Ht.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),b=this._targetEnd.dot(_);this._targetEnd.lerp(m,v);const w=this._targetEnd.dot(_),S=_.multiplyScalar(w-b);this._targetEnd.sub(S)}this._target.copy(this._targetEnd),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._dollyControlAmount=0}if(zn(l))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const f=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=em(this._zoom,this._zoomEnd,this._zoomVelocity,f,1/0,n)}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);const c=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,c),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!zn(this._focalOffset.x)||!zn(this._focalOffset.y)||!zn(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),Tr.setFromMatrixColumn(this._camera.matrix,0),Ar.setFromMatrixColumn(this._camera.matrix,1),dl.setFromMatrixColumn(this._camera.matrix,2),Tr.multiplyScalar(this._focalOffset.x),Ar.multiplyScalar(-this._focalOffset.y),dl.multiplyScalar(this._focalOffset.z),Ht.copy(Tr).add(Ar).add(dl),this._camera.position.add(Ht)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),Ht.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const d=this._needsUpdate;return d&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):d?(this.dispatchEvent({type:"update"}),zn(i,this.restThreshold)&&zn(s,this.restThreshold)&&zn(r,this.restThreshold)&&zn(o.x,this.restThreshold)&&zn(o.y,this.restThreshold)&&zn(o.z,this.restThreshold)&&zn(a.x,this.restThreshold)&&zn(a.y,this.restThreshold)&&zn(a.z,this.restThreshold)&&zn(l,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!d&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._updatedLastTime=d,this._needsUpdate=!1,d}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:Nd(this.maxDistance),minZoom:this.minZoom,maxZoom:Nd(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:Nd(this.maxPolarAngle),minAzimuthAngle:Nd(this.minAzimuthAngle),maxAzimuthAngle:Nd(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:Ht.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(n,i=!1){const s=JSON.parse(n);this.enabled=s.enabled,this.minDistance=s.minDistance,this.maxDistance=Dd(s.maxDistance),this.minZoom=s.minZoom,this.maxZoom=Dd(s.maxZoom),this.minPolarAngle=s.minPolarAngle,this.maxPolarAngle=Dd(s.maxPolarAngle),this.minAzimuthAngle=Dd(s.minAzimuthAngle),this.maxAzimuthAngle=Dd(s.maxAzimuthAngle),this.smoothTime=s.smoothTime,this.draggingSmoothTime=s.draggingSmoothTime,this.dollySpeed=s.dollySpeed,this.truckSpeed=s.truckSpeed,this.dollyToCursor=s.dollyToCursor,this.verticalDragToForward=s.verticalDragToForward,this._target0.fromArray(s.target0),this._position0.fromArray(s.position0),this._zoom0=s.zoom0,this._focalOffset0.fromArray(s.focalOffset0),this.moveTo(s.target[0],s.target[1],s.target[2],i),Ds.setFromVector3(Ht.fromArray(s.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Ds.theta,Ds.phi,i),this.dollyTo(Ds.radius,i),this.zoomTo(s.zoom,i),this.setFocalOffset(s.focalOffset[0],s.focalOffset[1],s.focalOffset[2],i),this._needsUpdate=!0}connect(n){if(this._domElement){console.warn("camera-controls is already connected.");return}n.setAttribute("data-camera-controls-version",kye),this._addAllEventListeners(n)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this._removeAllEventListeners(),this.disconnect()}_findPointerById(n){return this._activePointers.find(i=>i.pointerId===n)}_findPointerByMouseButton(n){return this._activePointers.find(i=>i.mouseButton===n)}_disposePointer(n){this._activePointers.splice(this._activePointers.indexOf(n),1)}_encloseToBoundary(n,i,s){const r=i.lengthSq();if(r===0)return n;const o=wn.copy(i).add(n),l=this._boundary.clampPoint(o,Kc).sub(o),c=l.lengthSq();if(c===0)return n.add(i);if(c===r)return n;if(s===0)return n.add(i).add(l);{const u=1+s*c/i.dot(l);return n.add(wn.copy(i).multiplyScalar(u)).add(l.multiplyScalar(1-s))}}_updateNearPlaneCorners(){if(ul(this._camera)){const n=this._camera,i=n.near,s=n.getEffectiveFOV()*Ld,r=Math.tan(s*.5)*i,o=r*n.aspect;this._nearPlaneCorners[0].set(-o,-r,0),this._nearPlaneCorners[1].set(o,-r,0),this._nearPlaneCorners[2].set(o,r,0),this._nearPlaneCorners[3].set(-o,r,0)}else if(Qo(this._camera)){const n=this._camera,i=1/n.zoom,s=n.left*i,r=n.right*i,o=n.top*i,a=n.bottom*i;this._nearPlaneCorners[0].set(s,o,0),this._nearPlaneCorners[1].set(r,o,0),this._nearPlaneCorners[2].set(r,a,0),this._nearPlaneCorners[3].set(s,a,0)}}_collisionTest(){let n=1/0;if(!(this.colliderMeshes.length>=1)||Ay(this._camera,"_collisionTest"))return n;const s=Ht.setFromSpherical(this._spherical).divideScalar(this._spherical.radius);ky.lookAt(f2,s,this._camera.up);for(let r=0;r<4;r++){const o=wn.copy(this._nearPlaneCorners[r]);o.applyMatrix4(ky);const a=Kc.addVectors(this._target,o);im.set(a,s),im.far=this._spherical.radius+1;const l=im.intersectObjects(this.colliderMeshes);l.length!==0&&l[0].distance<n&&(n=l[0].distance)}return n}_getClientRect(n){if(!this._domElement)return;const i=this._domElement.getBoundingClientRect();return n.x=i.left,n.y=i.top,this._viewport?(n.x+=this._viewport.x,n.y+=i.height-this._viewport.w-this._viewport.y,n.width=this._viewport.z,n.height=this._viewport.w):(n.width=i.width,n.height=i.height),n}_createOnRestPromise(n){return n?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(i=>{const s=()=>{this.removeEventListener("rest",s),i()};this.addEventListener("rest",s)}))}_addAllEventListeners(n){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(n){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(n){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(n,i=new di){const s=i,r=s.center;Yc.makeEmpty(),n.traverseVisible(a=>{a.isMesh&&Yc.expandByObject(a)}),Yc.getCenter(r);let o=0;return n.traverseVisible(a=>{if(!a.isMesh)return;const l=a,c=l.geometry.clone();c.applyMatrix4(l.matrixWorld);const d=c.attributes.position;for(let f=0,p=d.count;f<p;f++)Ht.fromBufferAttribute(d,f),o=Math.max(o,r.distanceToSquared(Ht))}),s.radius=Math.sqrt(o),s}}class Nye extends Qt{constructor(e,n){super(),this.isViewHelper=!0,this.animating=!1,this.center=new Z;const i=new ct("#ff3653"),s=new ct("#8adb00"),r=new ct("#2c8fff"),o=[],a=new cd,l=new qe,c=new Qt,u=new nr(-2,2,2,-2,0,4);u.position.set(0,0,2);const d=new Wn(.8,.05,.05).translate(.4,0,0),f=new vt(d,V(i)),p=new vt(d,V(s)),g=new vt(d,V(r));p.rotation.z=Math.PI/2,g.rotation.y=-Math.PI/2,this.add(f),this.add(g),this.add(p);const m=new sa(U(i,"X"));m.userData.type="posX";const y=new sa(U(s,"Y"));y.userData.type="posY";const v=new sa(U(r,"Z"));v.userData.type="posZ";const _=new sa(U(i));_.userData.type="negX";const b=new sa(U(s));b.userData.type="negY";const w=new sa(U(r));w.userData.type="negZ",m.position.x=1,y.position.y=1,v.position.z=1,_.position.x=-1,_.scale.setScalar(.8),b.position.y=-1,b.scale.setScalar(.8),w.position.z=-1,w.scale.setScalar(.8),this.add(m),this.add(y),this.add(v),this.add(_),this.add(b),this.add(w),o.push(m),o.push(y),o.push(v),o.push(_),o.push(b),o.push(w);const S=new Z,x=128,C=2*Math.PI;this.render=function(D){this.quaternion.copy(e.quaternion).invert(),this.updateMatrixWorld(),S.set(0,0,1),S.applyQuaternion(e.quaternion),S.x>=0?(m.material.opacity=1,_.material.opacity=.5):(m.material.opacity=.5,_.material.opacity=1),S.y>=0?(y.material.opacity=1,b.material.opacity=.5):(y.material.opacity=.5,b.material.opacity=1),S.z>=0?(v.material.opacity=1,w.material.opacity=.5):(v.material.opacity=.5,w.material.opacity=1);const I=n.offsetWidth-x;D.clearDepth(),D.getViewport(O),D.setViewport(I,0,x,x),D.render(this,u),D.setViewport(O.x,O.y,O.z,O.w)};const T=new Z,E=new an,M=new an,R=new an,O=new dn;let F=0;this.handleClick=function(D){if(this.animating===!0)return!1;const I=n.getBoundingClientRect(),N=I.left+(n.offsetWidth-x),k=I.top+(n.offsetHeight-x);l.x=(D.clientX-N)/(I.right-N)*2-1,l.y=-((D.clientY-k)/(I.bottom-k))*2+1,a.setFromCamera(l,u);const B=a.intersectObjects(o);if(B.length>0){const J=B[0].object;return this.prepareAnimationData(J,this.center),this.animating=!0,!0}else return!1},this.update=function(D){const I=D*C;M.rotateTowards(R,I),e.position.set(0,0,1).applyQuaternion(M).multiplyScalar(F).add(this.center),e.quaternion.rotateTowards(E,I),M.angleTo(R)===0&&(this.animating=!1)},this.dispose=function(){d.dispose(),f.material.dispose(),p.material.dispose(),g.material.dispose(),m.material.map.dispose(),y.material.map.dispose(),v.material.map.dispose(),_.material.map.dispose(),b.material.map.dispose(),w.material.map.dispose(),m.material.dispose(),y.material.dispose(),v.material.dispose(),_.material.dispose(),b.material.dispose(),w.material.dispose()},this.prepareAnimationData=function(D,I){switch(D.userData.type){case"posX":T.set(1,0,0),E.setFromEuler(new Jn(0,Math.PI*.5,0));break;case"posY":T.set(0,1,0),E.setFromEuler(new Jn(-Math.PI*.5,0,0));break;case"posZ":T.set(0,0,1),E.setFromEuler(new Jn);break;case"negX":T.set(-1,0,0),E.setFromEuler(new Jn(0,-Math.PI*.5,0));break;case"negY":T.set(0,-1,0),E.setFromEuler(new Jn(Math.PI*.5,0,0));break;case"negZ":T.set(0,0,-1),E.setFromEuler(new Jn(0,Math.PI,0));break;default:console.error("ViewHelper: Invalid axis.")}F=e.position.distanceTo(I),T.multiplyScalar(F).add(I),c.position.copy(I),c.lookAt(e.position),M.copy(c.quaternion),c.lookAt(T),R.copy(c.quaternion)};function V(D){return new ui({color:D,toneMapped:!1})}function U(D,I=null){const N=document.createElement("canvas");N.width=64,N.height=64;const k=N.getContext("2d");k.beginPath(),k.arc(32,32,16,0,2*Math.PI),k.closePath(),k.fillStyle=D.getStyle(),k.fill(),I!==null&&(k.font="24px Arial",k.textAlign="center",k.fillStyle="#000000",k.fillText(I,32,41));const B=new wx(N);return new Iv({map:B,toneMapped:!1})}}}class Dye{constructor(e,n){Ce(this,"cameraOrtho");Ce(this,"sceneOrtho");Ce(this,"frustumSize",27);Ce(this,"_raycaster");Ce(this,"_mouse",new qe);Ce(this,"selectObject");Ce(this,"oldMaterial");Ce(this,"div");Ce(this,"goldenContainer");Ce(this,"viewHelper");Ce(this,"renderer");Ce(this,"scene");Ce(this,"controls");Ce(this,"view3D");Ce(this,"viewCubeMeshs",[{vertexs:[-15,-10,-10,-15,-10,10,-15,10,-10,-15,10,10],indexes:[0,1,2,2,1,3],uvs:[5,-5,25,-5,5,-25,25,-25],number_of_triangles:2},{vertexs:[-15,-10,-10,-15,-10,10,-14.87,-11.11,-10,-14.5,-12.17,-10,-13.91,-13.12,-10,-13.12,-13.91,-10,-12.17,-14.5,-10,-11.11,-14.87,-10,-10,-15,-10,-10,-15,10,-14.87,-11.11,10,-14.5,-12.17,10,-13.91,-13.12,10,-13.12,-13.91,10,-12.17,-14.5,10,-11.11,-14.87,10],indexes:[10,1,0,10,0,2,11,2,3,11,3,4,11,10,2,12,11,4,13,4,5,13,12,4,14,5,6,14,6,7,14,13,5,15,14,7,9,7,8,9,15,7],uvs:[],number_of_triangles:14},{vertexs:[-10,-10,-15,-11.11,-10,-14.87,-12.17,-10,-14.5,-13.12,-10,-13.91,-13.91,-10,-13.12,-14.5,-10,-12.17,-14.87,-10,-11.11,-15,-10,-10,-10,10,-15,-11.11,10,-14.87,-12.17,10,-14.5,-13.12,10,-13.91,-13.91,10,-13.12,-14.5,10,-12.17,-14.87,10,-11.11,-15,10,-10],indexes:[7,14,6,15,14,7,5,13,4,6,13,5,14,13,6,13,12,4,4,11,3,12,11,4,2,10,1,3,10,2,11,10,3,10,9,1,1,8,0,9,8,1],uvs:[],number_of_triangles:14},{vertexs:[-10,-10,15,-11.11,-10,14.87,-12.17,-10,14.5,-13.12,-10,13.91,-13.91,-10,13.12,-14.5,-10,12.17,-14.87,-10,11.11,-15,-10,10,-10,10,15,-15,10,10,-14.87,10,11.11,-14.5,10,12.17,-13.91,10,13.12,-13.12,10,13.91,-12.17,10,14.5,-11.11,10,14.87],indexes:[10,7,6,10,9,7,11,5,4,11,6,5,11,10,6,12,11,4,13,4,3,13,12,4,14,2,1,14,3,2,14,13,3,15,14,1,8,1,0,8,15,1],uvs:[],number_of_triangles:14},{vertexs:[-15,10,-10,-15,10,10,-14.87,11.11,-10,-14.5,12.17,-10,-13.91,13.12,-10,-13.12,13.91,-10,-12.17,14.5,-10,-11.11,14.87,-10,-10,15,-10,-10,15,10,-11.11,14.87,10,-12.17,14.5,10,-13.12,13.91,10,-13.91,13.12,10,-14.5,12.17,10,-14.87,11.11,10],indexes:[1,15,0,0,15,2,2,14,3,3,14,4,15,14,2,14,13,4,4,12,5,13,12,4,5,11,6,6,11,7,12,11,5,11,10,7,7,9,8,10,9,7],uvs:[],number_of_triangles:14},{vertexs:[-10,-10,-15,-11.11,-10,-14.87,-12.17,-10,-14.5,-13.12,-10,-13.91,-13.91,-10,-13.12,-14.5,-10,-12.17,-14.87,-10,-11.11,-15,-10,-10,-10,-10,-15,-10,-11.11,-14.87,-10,-12.17,-14.5,-10,-13.12,-13.91,-10,-13.91,-13.12,-10,-14.5,-12.17,-10,-14.87,-11.11,-10,-15,-10,-14.87,-11.11,-10,-14.5,-12.17,-10,-13.91,-13.12,-10,-13.12,-13.91,-10,-12.17,-14.5,-10,-11.11,-14.87,-10,-11.53,-10.24,-14.76,-11.38,-10.7,-14.76,-11.09,-11.09,-14.76,-12.8,-10.91,-14.05,-10.7,-11.38,-14.76,-12.38,-11.73,-14.05,-14,-10.63,-12.94,-10.24,-11.53,-14.76,-11.73,-12.38,-14.05,-13.6,-11.84,-12.94,-10.91,-12.8,-14.05,-12.86,-12.86,-12.94,-14.52,-11.47,-11.55,-11.84,-13.6,-12.94,-13.85,-12.8,-11.55,-10.63,-14,-12.94,-12.8,-13.85,-11.55,-11.47,-14.52,-11.55],indexes:[16,7,6,15,21,14,22,2,1,23,1,0,23,22,1,24,0,8,24,23,0,25,3,2,25,2,22,25,22,23,26,8,9,26,24,8,27,23,24,27,25,23,28,4,3,28,5,4,28,3,25,29,9,10,29,26,9,30,27,24,30,24,26,31,25,27,31,28,25,32,10,11,32,26,29,32,29,10,32,30,26,33,27,30,33,31,27,34,6,5,34,17,16,34,5,28,34,28,31,34,16,6,35,30,32,35,33,30,36,18,17,36,19,18,36,17,34,36,31,33,36,34,31,37,11,12,37,12,13,37,32,11,37,35,32,38,20,19,38,19,36,38,33,35,38,36,33,39,13,14,39,21,20,39,20,38,39,14,21,39,37,13,39,35,37,39,38,35],uvs:[],number_of_triangles:56},{vertexs:[-10,-10,15,-11.11,-10,14.87,-12.17,-10,14.5,-13.12,-10,13.91,-13.91,-10,13.12,-14.5,-10,12.17,-14.87,-10,11.11,-15,-10,10,-10,-10,15,-10,-11.11,14.87,-10,-12.17,14.5,-10,-13.12,13.91,-10,-13.91,13.12,-10,-14.5,12.17,-10,-14.87,11.11,-10,-15,10,-14.87,-11.11,10,-14.5,-12.17,10,-13.91,-13.12,10,-13.12,-13.91,10,-12.17,-14.5,10,-11.11,-14.87,10,-11.53,-10.24,14.76,-11.38,-10.7,14.76,-11.09,-11.09,14.76,-12.8,-10.91,14.05,-10.7,-11.38,14.76,-12.38,-11.73,14.05,-14,-10.63,12.94,-10.24,-11.53,14.76,-11.73,-12.38,14.05,-13.6,-11.84,12.94,-10.91,-12.8,14.05,-12.86,-12.86,12.94,-14.52,-11.47,11.55,-11.84,-13.6,12.94,-13.85,-12.8,11.55,-10.63,-14,12.94,-12.8,-13.85,11.55,-11.47,-14.52,11.55],indexes:[7,16,6,21,15,14,2,22,1,1,23,0,22,23,1,0,24,8,23,24,0,3,25,2,2,25,22,22,25,23,8,26,9,24,26,8,23,27,24,25,27,23,4,28,3,5,28,4,3,28,25,9,29,10,26,29,9,27,30,24,24,30,26,25,31,27,28,31,25,10,32,11,26,32,29,29,32,10,30,32,26,27,33,30,31,33,27,6,34,5,17,34,16,5,34,28,28,34,31,16,34,6,30,35,32,33,35,30,18,36,17,19,36,18,17,36,34,31,36,33,34,36,31,11,37,12,12,37,13,32,37,11,35,37,32,20,38,19,19,38,36,33,38,35,36,38,33,13,39,14,21,39,20,20,39,38,14,39,21,37,39,13,35,39,37,38,39,35],uvs:[],number_of_triangles:56},{vertexs:[-10,-15,-10,-10,-15,10,10,-15,10,10,-15,-10],indexes:[0,2,1,3,2,0],uvs:[5,5,25,5,25,25,5,25],number_of_triangles:2},{vertexs:[-10,-10,-15,-10,10,-15,10,-10,-15,10,10,-15],indexes:[1,3,0,0,3,2],uvs:[5,5,5,25,25,5,25,25],number_of_triangles:2},{vertexs:[-10,10,-15,-11.11,10,-14.87,-12.17,10,-14.5,-13.12,10,-13.91,-13.91,10,-13.12,-14.5,10,-12.17,-14.87,10,-11.11,-15,10,-10,-10,10,-15,-10,11.11,-14.87,-10,12.17,-14.5,-10,13.12,-13.91,-10,13.91,-13.12,-10,14.5,-12.17,-10,14.87,-11.11,-10,15,-10,-14.87,11.11,-10,-14.5,12.17,-10,-13.91,13.12,-10,-13.12,13.91,-10,-12.17,14.5,-10,-11.11,14.87,-10,-11.53,10.24,-14.76,-11.38,10.7,-14.76,-11.09,11.09,-14.76,-12.8,10.91,-14.05,-10.7,11.38,-14.76,-12.38,11.73,-14.05,-14,10.63,-12.94,-10.24,11.53,-14.76,-11.73,12.38,-14.05,-13.6,11.84,-12.94,-10.91,12.8,-14.05,-12.86,12.86,-12.94,-14.52,11.47,-11.55,-11.84,13.6,-12.94,-13.85,12.8,-11.55,-10.63,14,-12.94,-12.8,13.85,-11.55,-11.47,14.52,-11.55],indexes:[7,16,6,21,15,14,2,22,1,1,23,0,22,23,1,0,24,8,23,24,0,3,25,2,2,25,22,22,25,23,8,26,9,24,26,8,23,27,24,25,27,23,4,28,3,5,28,4,3,28,25,9,29,10,26,29,9,27,30,24,24,30,26,25,31,27,28,31,25,10,32,11,26,32,29,29,32,10,30,32,26,27,33,30,31,33,27,6,34,5,17,34,16,5,34,28,28,34,31,16,34,6,30,35,32,33,35,30,18,36,17,19,36,18,17,36,34,31,36,33,34,36,31,11,37,12,12,37,13,32,37,11,35,37,32,20,38,19,19,38,36,33,38,35,36,38,33,13,39,14,21,39,20,20,39,38,14,39,21,37,39,13,35,39,37,38,39,35],uvs:[],number_of_triangles:56},{vertexs:[-10,-10,15,-10,10,15,10,-10,15,10,10,15],indexes:[3,1,0,3,0,2],uvs:[5,5,5,25,25,5,25,25],number_of_triangles:2},{vertexs:[-10,15,10,-11.11,14.87,10,-12.17,14.5,10,-13.12,13.91,10,-13.91,13.12,10,-14.5,12.17,10,-14.87,11.11,10,-15,10,10,-10,15,10,-10,14.87,11.11,-10,14.5,12.17,-10,13.91,13.12,-10,13.12,13.91,-10,12.17,14.5,-10,11.11,14.87,-10,10,15,-14.87,10,11.11,-14.5,10,12.17,-13.91,10,13.12,-13.12,10,13.91,-12.17,10,14.5,-11.11,10,14.87,-11.53,14.76,10.24,-11.38,14.76,10.7,-11.09,14.76,11.09,-12.8,14.05,10.91,-10.7,14.76,11.38,-12.38,14.05,11.73,-14,12.94,10.63,-10.24,14.76,11.53,-11.73,14.05,12.38,-13.6,12.94,11.84,-10.91,14.05,12.8,-12.86,12.94,12.86,-14.52,11.55,11.47,-11.84,12.94,13.6,-13.85,11.55,12.8,-10.63,12.94,14,-12.8,11.55,13.85,-11.47,11.55,14.52],indexes:[7,16,6,21,15,14,2,22,1,1,23,0,22,23,1,0,24,8,23,24,0,3,25,2,2,25,22,22,25,23,8,26,9,24,26,8,23,27,24,25,27,23,4,28,3,5,28,4,3,28,25,9,29,10,26,29,9,27,30,24,24,30,26,25,31,27,28,31,25,10,32,11,26,32,29,29,32,10,30,32,26,27,33,30,31,33,27,6,34,5,17,34,16,5,34,28,28,34,31,16,34,6,30,35,32,33,35,30,18,36,17,19,36,18,17,36,34,31,36,33,34,36,31,11,37,12,12,37,13,32,37,11,35,37,32,20,38,19,19,38,36,33,38,35,36,38,33,13,39,14,21,39,20,20,39,38,14,39,21,37,39,13,35,39,37,38,39,35],uvs:[],number_of_triangles:56},{vertexs:[-10,15,-10,-10,15,10,10,15,10,10,15,-10],indexes:[2,0,1,2,3,0],uvs:[5,5,25,5,25,25,5,25],number_of_triangles:2},{vertexs:[-10,-10,-15,-10,-11.11,-14.87,-10,-12.17,-14.5,-10,-13.12,-13.91,-10,-13.91,-13.12,-10,-14.5,-12.17,-10,-14.87,-11.11,-10,-15,-10,10,-10,-15,10,-11.11,-14.87,10,-12.17,-14.5,10,-13.12,-13.91,10,-13.91,-13.12,10,-14.5,-12.17,10,-14.87,-11.11,10,-15,-10],indexes:[14,7,6,14,15,7,13,5,4,13,6,5,13,14,6,12,13,4,11,4,3,11,12,4,10,2,1,10,3,2,10,11,3,9,10,1,8,1,0,8,9,1],uvs:[],number_of_triangles:14},{vertexs:[-10,-10,15,-10,-11.11,14.87,-10,-12.17,14.5,-10,-13.12,13.91,-10,-13.91,13.12,-10,-14.5,12.17,-10,-14.87,11.11,-10,-15,10,10,-10,15,10,-11.11,14.87,10,-12.17,14.5,10,-13.12,13.91,10,-13.91,13.12,10,-14.5,12.17,10,-14.87,11.11,10,-15,10],indexes:[7,14,6,15,14,7,5,13,4,6,13,5,14,13,6,13,12,4,4,11,3,12,11,4,2,10,1,3,10,2,11,10,3,10,9,1,1,8,0,9,8,1],uvs:[],number_of_triangles:14},{vertexs:[15,-10,-10,15,-10,10,14.87,-11.11,-10,14.5,-12.17,-10,13.91,-13.12,-10,13.12,-13.91,-10,12.17,-14.5,-10,11.11,-14.87,-10,10,-15,-10,10,-15,10,14.87,-11.11,10,14.5,-12.17,10,13.91,-13.12,10,13.12,-13.91,10,12.17,-14.5,10,11.11,-14.87,10],indexes:[1,10,0,0,10,2,2,11,3,3,11,4,10,11,2,11,12,4,4,13,5,12,13,4,5,14,6,6,14,7,13,14,5,14,15,7,7,9,8,15,9,7],uvs:[],number_of_triangles:14},{vertexs:[-10,10,-15,-10,11.11,-14.87,-10,12.17,-14.5,-10,13.12,-13.91,-10,13.91,-13.12,-10,14.5,-12.17,-10,14.87,-11.11,-10,15,-10,10,10,-15,10,11.11,-14.87,10,12.17,-14.5,10,13.12,-13.91,10,13.91,-13.12,10,14.5,-12.17,10,14.87,-11.11,10,15,-10],indexes:[7,14,6,15,14,7,5,13,4,6,13,5,14,13,6,13,12,4,4,11,3,12,11,4,2,10,1,3,10,2,11,10,3,10,9,1,1,8,0,9,8,1],uvs:[],number_of_triangles:14},{vertexs:[10,-10,-15,11.11,-10,-14.87,12.17,-10,-14.5,13.12,-10,-13.91,13.91,-10,-13.12,14.5,-10,-12.17,14.87,-10,-11.11,15,-10,-10,10,10,-15,11.11,10,-14.87,12.17,10,-14.5,13.12,10,-13.91,13.91,10,-13.12,14.5,10,-12.17,14.87,10,-11.11,15,10,-10],indexes:[14,7,6,14,15,7,13,5,4,13,6,5,13,14,6,12,13,4,11,4,3,11,12,4,10,2,1,10,3,2,10,11,3,9,10,1,8,1,0,8,9,1],uvs:[],number_of_triangles:14},{vertexs:[-10,15,10,-10,14.87,11.11,-10,14.5,12.17,-10,13.91,13.12,-10,13.12,13.91,-10,12.17,14.5,-10,11.11,14.87,-10,10,15,10,10,15,10,15,10,10,14.87,11.11,10,14.5,12.17,10,13.91,13.12,10,13.12,13.91,10,12.17,14.5,10,11.11,14.87],indexes:[10,0,1,10,9,0,11,1,2,11,2,3,11,10,1,12,11,3,13,3,4,13,12,3,14,4,5,14,5,6,14,13,4,15,14,6,8,6,7,8,15,6],uvs:[],number_of_triangles:14},{vertexs:[10,-10,15,11.11,-10,14.87,12.17,-10,14.5,13.12,-10,13.91,13.91,-10,13.12,14.5,-10,12.17,14.87,-10,11.11,15,-10,10,10,10,15,15,10,10,14.87,10,11.11,14.5,10,12.17,13.91,10,13.12,13.12,10,13.91,12.17,10,14.5,11.11,10,14.87],indexes:[7,10,6,9,10,7,5,11,4,6,11,5,10,11,6,11,12,4,4,13,3,12,13,4,2,14,1,3,14,2,13,14,3,14,15,1,1,8,0,15,8,1],uvs:[],number_of_triangles:14},{vertexs:[15,10,-10,15,10,10,14.87,11.11,-10,14.5,12.17,-10,13.91,13.12,-10,13.12,13.91,-10,12.17,14.5,-10,11.11,14.87,-10,10,15,-10,10,15,10,11.11,14.87,10,12.17,14.5,10,13.12,13.91,10,13.91,13.12,10,14.5,12.17,10,14.87,11.11,10],indexes:[15,1,0,15,0,2,14,2,3,14,3,4,14,15,2,13,14,4,12,4,5,12,13,4,11,5,6,11,6,7,11,12,5,10,11,7,9,7,8,9,10,7],uvs:[],number_of_triangles:14},{vertexs:[10,-10,-15,11.11,-10,-14.87,12.17,-10,-14.5,13.12,-10,-13.91,13.91,-10,-13.12,14.5,-10,-12.17,14.87,-10,-11.11,15,-10,-10,10,-10,-15,10,-11.11,-14.87,10,-12.17,-14.5,10,-13.12,-13.91,10,-13.91,-13.12,10,-14.5,-12.17,10,-14.87,-11.11,10,-15,-10,14.87,-11.11,-10,14.5,-12.17,-10,13.91,-13.12,-10,13.12,-13.91,-10,12.17,-14.5,-10,11.11,-14.87,-10,11.53,-10.24,-14.76,11.38,-10.7,-14.76,11.09,-11.09,-14.76,12.8,-10.91,-14.05,10.7,-11.38,-14.76,12.38,-11.73,-14.05,14,-10.63,-12.94,10.24,-11.53,-14.76,11.73,-12.38,-14.05,13.6,-11.84,-12.94,10.91,-12.8,-14.05,12.86,-12.86,-12.94,14.52,-11.47,-11.55,11.84,-13.6,-12.94,13.85,-12.8,-11.55,10.63,-14,-12.94,12.8,-13.85,-11.55,11.47,-14.52,-11.55],indexes:[7,16,6,21,15,14,2,22,1,1,23,0,22,23,1,0,24,8,23,24,0,3,25,2,2,25,22,22,25,23,8,26,9,24,26,8,23,27,24,25,27,23,4,28,3,5,28,4,3,28,25,9,29,10,26,29,9,27,30,24,24,30,26,25,31,27,28,31,25,10,32,11,26,32,29,29,32,10,30,32,26,27,33,30,31,33,27,6,34,5,17,34,16,5,34,28,28,34,31,16,34,6,30,35,32,33,35,30,18,36,17,19,36,18,17,36,34,31,36,33,34,36,31,11,37,12,12,37,13,32,37,11,35,37,32,20,38,19,19,38,36,33,38,35,36,38,33,13,39,14,21,39,20,20,39,38,14,39,21,37,39,13,35,39,37,38,39,35],uvs:[],number_of_triangles:56},{vertexs:[10,-10,15,11.11,-10,14.87,12.17,-10,14.5,13.12,-10,13.91,13.91,-10,13.12,14.5,-10,12.17,14.87,-10,11.11,15,-10,10,10,-10,15,10,-11.11,14.87,10,-12.17,14.5,10,-13.12,13.91,10,-13.91,13.12,10,-14.5,12.17,10,-14.87,11.11,10,-15,10,14.87,-11.11,10,14.5,-12.17,10,13.91,-13.12,10,13.12,-13.91,10,12.17,-14.5,10,11.11,-14.87,10,11.53,-10.24,14.76,11.38,-10.7,14.76,11.09,-11.09,14.76,12.8,-10.91,14.05,10.7,-11.38,14.76,12.38,-11.73,14.05,14,-10.63,12.94,10.24,-11.53,14.76,11.73,-12.38,14.05,13.6,-11.84,12.94,10.91,-12.8,14.05,12.86,-12.86,12.94,14.52,-11.47,11.55,11.84,-13.6,12.94,13.85,-12.8,11.55,10.63,-14,12.94,12.8,-13.85,11.55,11.47,-14.52,11.55],indexes:[16,7,6,15,21,14,22,2,1,23,1,0,23,22,1,24,0,8,24,23,0,25,3,2,25,2,22,25,22,23,26,8,9,26,24,8,27,23,24,27,25,23,28,4,3,28,5,4,28,3,25,29,9,10,29,26,9,30,27,24,30,24,26,31,25,27,31,28,25,32,10,11,32,26,29,32,29,10,32,30,26,33,27,30,33,31,27,34,6,5,34,17,16,34,5,28,34,28,31,34,16,6,35,30,32,35,33,30,36,18,17,36,19,18,36,17,34,36,31,33,36,34,31,37,11,12,37,12,13,37,32,11,37,35,32,38,20,19,38,19,36,38,33,35,38,36,33,39,13,14,39,21,20,39,20,38,39,14,21,39,37,13,39,35,37,39,38,35],uvs:[],number_of_triangles:56},{vertexs:[15,-10,-10,15,-10,10,15,10,-10,15,10,10],indexes:[1,0,2,1,2,3],uvs:[5,-5,25,-5,5,-25,25,-25],number_of_triangles:2},{vertexs:[10,10,-15,11.11,10,-14.87,12.17,10,-14.5,13.12,10,-13.91,13.91,10,-13.12,14.5,10,-12.17,14.87,10,-11.11,15,10,-10,10,10,-15,10,11.11,-14.87,10,12.17,-14.5,10,13.12,-13.91,10,13.91,-13.12,10,14.5,-12.17,10,14.87,-11.11,10,15,-10,14.87,11.11,-10,14.5,12.17,-10,13.91,13.12,-10,13.12,13.91,-10,12.17,14.5,-10,11.11,14.87,-10,11.53,10.24,-14.76,11.38,10.7,-14.76,11.09,11.09,-14.76,12.8,10.91,-14.05,10.7,11.38,-14.76,12.38,11.73,-14.05,14,10.63,-12.94,10.24,11.53,-14.76,11.73,12.38,-14.05,13.6,11.84,-12.94,10.91,12.8,-14.05,12.86,12.86,-12.94,14.52,11.47,-11.55,11.84,13.6,-12.94,13.85,12.8,-11.55,10.63,14,-12.94,12.8,13.85,-11.55,11.47,14.52,-11.55],indexes:[16,7,6,15,21,14,22,2,1,23,1,0,23,22,1,24,0,8,24,23,0,25,3,2,25,2,22,25,22,23,26,8,9,26,24,8,27,23,24,27,25,23,28,4,3,28,5,4,28,3,25,29,9,10,29,26,9,30,27,24,30,24,26,31,25,27,31,28,25,32,10,11,32,26,29,32,29,10,32,30,26,33,27,30,33,31,27,34,6,5,34,17,16,34,5,28,34,28,31,34,16,6,35,30,32,35,33,30,36,18,17,36,19,18,36,17,34,36,31,33,36,34,31,37,11,12,37,12,13,37,32,11,37,35,32,38,20,19,38,19,36,38,33,35,38,36,33,39,13,14,39,21,20,39,20,38,39,14,21,39,37,13,39,35,37,39,38,35],uvs:[],number_of_triangles:56},{vertexs:[10,15,10,11.11,14.87,10,12.17,14.5,10,13.12,13.91,10,13.91,13.12,10,14.5,12.17,10,14.87,11.11,10,15,10,10,10,15,10,10,14.87,11.11,10,14.5,12.17,10,13.91,13.12,10,13.12,13.91,10,12.17,14.5,10,11.11,14.87,10,10,15,14.87,10,11.11,14.5,10,12.17,13.91,10,13.12,13.12,10,13.91,12.17,10,14.5,11.11,10,14.87,11.53,14.76,10.24,11.38,14.76,10.7,11.09,14.76,11.09,12.8,14.05,10.91,10.7,14.76,11.38,12.38,14.05,11.73,14,12.94,10.63,10.24,14.76,11.53,11.73,14.05,12.38,13.6,12.94,11.84,10.91,14.05,12.8,12.86,12.94,12.86,14.52,11.55,11.47,11.84,12.94,13.6,13.85,11.55,12.8,10.63,12.94,14,12.8,11.55,13.85,11.47,11.55,14.52],indexes:[16,7,6,15,21,14,22,2,1,23,1,0,23,22,1,24,0,8,24,23,0,25,3,2,25,2,22,25,22,23,26,8,9,26,24,8,27,23,24,27,25,23,28,4,3,28,5,4,28,3,25,29,9,10,29,26,9,30,27,24,30,24,26,31,25,27,31,28,25,32,10,11,32,26,29,32,29,10,32,30,26,33,27,30,33,31,27,34,6,5,34,17,16,34,5,28,34,28,31,34,16,6,35,30,32,35,33,30,36,18,17,36,19,18,36,17,34,36,31,33,36,34,31,37,11,12,37,12,13,37,32,11,37,35,32,38,20,19,38,19,36,38,33,35,38,36,33,39,13,14,39,21,20,39,20,38,39,14,21,39,37,13,39,35,37,39,38,35],uvs:[],number_of_triangles:56}]);Ce(this,"_show",!0);this.goldenContainer=e,this.scene=n.scene,this.controls=n.controls,this.view3D=n,this.init()}init(){this._raycaster=new cd,this.renderer=new vx({antialias:!0,alpha:!0}),this.div=this.goldenContainer,this.renderer.setSize(this.goldenContainer.clientWidth,this.goldenContainer.clientHeight),this.goldenContainer.appendChild(this.renderer.domElement),this.initOrthoCamera(),this.initOrthoScene()}initOrthoScene(){this.sceneOrtho=new Ih,this.viewHelper=new Nye(this.cameraOrtho,this.renderer.domElement),this.viewHelper.prepareAnimationData=e=>{switch(e.userData.type){case"posX":this.view3D.rotateTo(Math.PI/2,Math.PI/2).then(()=>{this.viewHelper.animating=!1});break;case"posY":this.view3D.rotateTo(Math.PI,Math.PI/2).then(()=>{this.viewHelper.animating=!1});break;case"posZ":this.view3D.rotateTo(0,0).then(()=>{this.viewHelper.animating=!1});break;case"negX":this.view3D.rotateTo(-Math.PI/2,Math.PI/2).then(()=>{this.viewHelper.animating=!1});break;case"negY":this.view3D.rotateTo(0,Math.PI/2).then(()=>{this.viewHelper.animating=!1});break;case"negZ":this.view3D.rotateTo(0,Math.PI).then(()=>{this.viewHelper.animating=!1});break;default:this.viewHelper.animating=!0}},this.div.addEventListener("mousedown",e=>{e.stopPropagation(),this.viewHelper.handleClick(e)})}makeMesh(e,n,i,s=null){let r=new Yt;return r.setIndex(n),r.setAttribute("position",new Et(e,3)),s&&(r.setAttribute("uv",new Et(s,2)),r.setAttribute("uv2",new Et(s,2))),new vt(r,i)}getIntersectObj(e){this._mouse.x=(e.offsetX-(this.goldenContainer.clientWidth-170))/120*2-1,this._mouse.y=-((e.offsetY-45)/120)*2+1,this._raycaster.setFromCamera(this._mouse,this.cameraOrtho);let n=this._raycaster.intersectObjects(this.sceneOrtho.children,!0);if(n.length>0){this.selectObject!=null&&(this.selectObject.material=this.oldMaterial);let i=n[0].object;this.oldMaterial=i.material,this.selectObject=i,i.material=new Ri({color:12303291})}else this.selectObject!=null&&(this.selectObject.material=this.oldMaterial,this.selectObject==null);return n}creatTextMaterial(e,n=0){let i=512,s=512,r=document.createElement("canvas");r.width=i,r.height=s;let o=r.getContext("2d");if(o.fillStyle="#ffffff",o.fillRect(0,0,i,s),o.font='200px " bold',o.textAlign="center",o.fillStyle="#000000",o.textBaseline="middle",n!=0){let l=(r.width-i)*.5,c=(r.height-s)*.5,u=l+.5*i,d=c+.5*s;o.translate(u,d),o.rotate(Math.PI/180*n),o.translate(-u,-d)}return o.fillText(e,i/2,s/2),new Ax({map:new wx(r)})}initOrthoCamera(){this.cameraOrtho=new nr(-this.frustumSize,this.frustumSize,this.frustumSize,-this.frustumSize,.1,1e4),this.cameraOrtho.position.set(0,50,100),this.cameraOrtho.lookAt(0,0,0),this.cameraOrtho.up=new Z(0,0,1)}render(){this.cameraOrtho.position.copy(this.controls.getPosition()),this.cameraOrtho.position.sub(this.controls.getTarget()),this.cameraOrtho.lookAt(this.scene.position);let e=this.cameraOrtho.position.normalize();this.cameraOrtho.position.x=e.x*50,this.cameraOrtho.position.y=e.y*50,this.cameraOrtho.position.z=e.z*50,this.renderer.clear(),this.renderer.setViewport(0,0,this.div.clientWidth,this.div.clientHeight),this.renderer.render(this.sceneOrtho,this.cameraOrtho),this.viewHelper.render(this.renderer)}onWindowResize(){this.cameraOrtho.left=-this.frustumSize,this.cameraOrtho.right=this.frustumSize,this.cameraOrtho.top=this.frustumSize,this.cameraOrtho.bottom=-this.frustumSize,this.cameraOrtho.updateProjectionMatrix()}set show(e){this._show!=e&&(this._show=e,e?this.div.style.display="":this.div.style.display="none")}get show(){return this._show}}class Fye{constructor(e){Ce(this,"_view3D");Ce(this,"maskBuffer");Ce(this,"edgeBuffer");Ce(this,"size");Ce(this,"oldClearColor");Ce(this,"scene");Ce(this,"camera");Ce(this,"quad");Ce(this,"maskMaterial");Ce(this,"edgeMaterial");Ce(this,"copyMaterial");Ce(this,"_selectElements");this._view3D=e,this._selectElements=new Set,this.init()}init(){this.size||(this.size=new qe),this._view3D.renderer.getDrawingBufferSize(this.size),this.scene===void 0&&(this.scene=new Ih);let e=this.size.x*2,n=this.size.y*2;this.camera===void 0&&(this.camera=new nr(-e/2,e/2,n/2,-n/2,0,1),this.camera.position.z=1,this.camera.lookAt(new Z)),this.quad===void 0&&(this.quad=new vt(new za(e,n),null),this.quad.frustumCulled=!1,this.scene.add(this.quad));let i={minFilter:$n,magFilter:$n,format:hs,antialias:!0};this.maskBuffer===void 0&&(this.maskBuffer=new jn(e,n,i),this.maskBuffer.texture.generateMipmaps=!1),this.edgeBuffer===void 0&&(this.edgeBuffer=new jn(e,n,i),this.edgeBuffer.texture.generateMipmaps=!1),this.maskMaterial==null&&(this.maskMaterial=new ui({color:"#00FFFF",depthTest:!1})),this.edgeMaterial==null&&(this.edgeMaterial=new Qn({vertexShader:`
                varying vec2 vUv;
                void main() {
                    vUv = uv;
                    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
                }
                `,fragmentShader:`
                uniform sampler2D maskTexture;
                uniform vec2 texSize;
                uniform vec3 color;
                uniform float thickness;
                varying vec2 vUv;

                void main() {
                    vec2 invSize = thickness / texSize;
                    vec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);
                    vec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);
                    vec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);
                    vec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);
                    vec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);
                    float diff1 = (c1.r - c2.r)*0.5;
                    float diff2 = (c3.r - c4.r)*0.5;
                    float d = length(vec2(diff1, diff2));
                    gl_FragColor = d > 0.0 ? vec4(color, 1.0) : vec4(0.0, 0.0, 0.0, 0.0);
                }
                `,uniforms:{maskTexture:{value:this.maskBuffer.texture},texSize:{value:new qe(e,n)},color:{value:new ct(16753920)},thickness:{value:4}},depthTest:!1,transparent:!1})),this.copyMaterial===void 0&&(this.copyMaterial=new Qn({vertexShader:Gb.vertexShader,fragmentShader:Gb.fragmentShader,uniforms:{tDiffuse:{value:this.edgeBuffer.texture},resolution:{value:new qe(1/e,1/n)}},transparent:!0,depthTest:!1}))}selectElements(e){if(e==null){this._selectElements.clear(),this._view3D.enableRender();return}for(const n of e)this._selectElements.add(n)}render(){if(this._selectElements.size==0)return;let e=this._view3D.scene,n=this._view3D.camera,i=this._view3D.renderer,s=this.scene,r=this.camera,o=e.overrideMaterial,a=e.background,l=i.autoClear;this.oldClearColor||(this.oldClearColor=new ct),i.getClearColor(this.oldClearColor);let c=i.getClearAlpha(),u=i.getRenderTarget();e.background=null,i.autoClear=!1,i.setRenderTarget(this.maskBuffer),i.setClearColor(16777215),i.setClearAlpha(1),i.clear(),this.hideNonSelectedElements(),this._view3D.obj.isScene=!0,this._view3D.obj.overrideMaterial=this.maskMaterial,i.render(this._view3D.obj,n),this._view3D.obj.isScene=!1,this._view3D.obj.overrideMaterial=null,this.showNonSelectedObjects(),this.quad.material=this.edgeMaterial,e.overrideMaterial=null,i.setRenderTarget(this.edgeBuffer),i.clear(),i.render(s,r),this.quad.material=this.copyMaterial,i.setRenderTarget(null),i.render(s,r),e.overrideMaterial=o,e.background=a,i.autoClear=l,i.setClearColor(this.oldClearColor),i.setClearAlpha(c),i.setRenderTarget(u)}downloadImage(e,n,i){var s=document.createElement("canvas");s.width=n,s.height=i;var r=s.getContext("2d"),o=r.createImageData(n,i);o.data.set(e),r.putImageData(o,0,0),console.log(s.toDataURL("image/png"))}hideNonSelectedElements(){let e=this._selectElements;if(e.size==0)return;let n=new Set;for(const s of e)s.meshDatas.forEach(r=>{n.add(r.mesh)});this._view3D.obj.traverse(s=>{s instanceof vt&&!n.has(s)&&(s.oldVisible=s.visible,s.visible=!1)});let i=Is.document.allElementData;for(const s of i.values())if(!e.has(s))for(const r of s.meshDatas)n.has(r.mesh)&&(r.oldVisible=r.show,r.show=!1)}showNonSelectedObjects(){let e=this._selectElements;if(e.size==0)return;let n=new Set;for(const s of e)s.meshDatas.forEach(r=>{n.add(r.mesh)});this._view3D.obj.traverse(s=>{s instanceof vt&&!n.has(s)&&(s.visible=s.oldVisible)});let i=Is.document.allElementData;for(const s of i.values())if(!e.has(s))for(const r of s.meshDatas)n.has(r.mesh)&&(r.show=r.oldVisible)}get edgeThickness(){var e;return(e=this.edgeMaterial)==null?void 0:e.uniforms.thickness.value}set edgeThickness(e){this.edgeMaterial.uniforms.thickness.value=e}get edgeColor(){var e;return(e=this.edgeMaterial)==null?void 0:e.uniforms.color.value}set edgeColor(e){var n;(n=this.edgeMaterial)==null||n.uniforms.color.value.set(e)}}class Bye{constructor(e){Ce(this,"scene");Ce(this,"_perspectiveCamera");Ce(this,"_orthographicCamera");Ce(this,"_curCamera");Ce(this,"_selectPass");Ce(this,"renderer");Ce(this,"css2dRenderer");Ce(this,"controls");Ce(this,"raycaster");Ce(this,"obj");Ce(this,"goldenContainer");Ce(this,"vignette");Ce(this,"viewCube");Ce(this,"viewHelper");Ce(this,"stats");Ce(this,"renderEnabled",!0);Ce(this,"autoRender",!1);Ce(this,"pickingTexture");Ce(this,"onBeforeRender");Ce(this,"mapModels");Ce(this,"progressive",!1);Ce(this,"composer");Ce(this,"effectFXAA");Ce(this,"outlinePass");Ce(this,"renderPass");Ce(this,"pmremGenerator");Ce(this,"envMap");Ce(this,"_orthographicWidth");Ce(this,"_backgroundColor",new ct(16316664));Ce(this,"onWindowResize",()=>{var n;if(!this.goldenContainer.clientWidth||!this.goldenContainer.clientHeight)return;let e=this.goldenContainer.clientWidth/this.goldenContainer.clientHeight;if(this._curCamera instanceof nr){const i=this._orthographicWidth==null?this.goldenContainer.clientWidth:this._orthographicWidth,s=i/e;this._curCamera.left=-i/2,this._curCamera.right=i/2,this._curCamera.top=s/2,this._curCamera.bottom=-s/2}if(this._curCamera instanceof ci&&(this._curCamera.aspect=e),this._curCamera.updateProjectionMatrix(),this.renderer.setSize(this.goldenContainer.clientWidth,this.goldenContainer.clientHeight),this.composer){this.composer.setSize(this.goldenContainer.clientWidth,this.goldenContainer.clientHeight);let i=this.renderer.getPixelRatio();this.effectFXAA.uniforms.resolution.value.set(1/(this.goldenContainer.clientWidth*i),1/(this.goldenContainer.clientHeight*i))}this.css2dRenderer&&this.css2dRenderer.setSize(this.goldenContainer.clientWidth,this.goldenContainer.clientHeight),(n=this.viewCube)==null||n.onWindowResize(),this.enableRender()});Ce(this,"ambientLight");Ce(this,"directionalLight");Ce(this,"animate",()=>{var e;requestAnimationFrame(this.animate),this.autoRender?this.controls.update()&&this.render():this.renderEnabled&&(this.render(),this.renderEnabled=!1),(e=this.stats)==null||e.update()});Ce(this,"homeTarget");Ce(this,"homePosition");Ce(this,"mesh");this.mapModels=new Map,this.goldenContainer=e,this.init(),this.raycaster=new Pye(this.goldenContainer,this)}get selectPass(){return this._selectPass==null&&(this._selectPass=new Fye(this),this._selectPass.selectElements(null)),this._selectPass}get camera(){return this._curCamera}init(){this.initRenderer(),this.initGPURenderer(),this.initCss2dRenderer(),this.initScene(),this.initCamera(!1),this.initLight(),this.initControls(),this.initBackground(),this.initGrid(),document.getElementById("viewHelp"),this.viewCube=new Dye(document.getElementById("viewHelp"),this),this.animate(),this.onWindowResize(),window.addEventListener("resize",this.onWindowResize,!1)}initScene(){this.scene=new Ih,this.obj=new Qt,this.obj.overrideMaterial=null,this.scene.add(this.obj)}initCamera(e){let n=this.goldenContainer.clientWidth/this.goldenContainer.clientHeight;if(e){if(this._orthographicCamera==null){const i=this.goldenContainer.clientWidth,s=i/n;this._orthographicCamera=new nr(-i/2,i/2,s/2,-s/2,1e-4,1e4)}this._curCamera=this._orthographicCamera}else this._perspectiveCamera==null&&(this._perspectiveCamera=new ci(45,1,1e-4,1e4),this._perspectiveCamera.aspect=n),this._curCamera=this._perspectiveCamera;this._curCamera.up=new Z(0,0,1),this._curCamera.position.set(0,.5,.5),this.scene.add(this._curCamera)}initRenderer(){this.renderer=new vx({antialias:!0,alpha:!0}),this.renderer.setSize(this.goldenContainer.clientWidth,this.goldenContainer.clientHeight),this.goldenContainer.appendChild(this.renderer.domElement),this.renderer.setClearColor(0),this.renderer.setPixelRatio(window.devicePixelRatio)}initCss2dRenderer(){this.css2dRenderer||(this.css2dRenderer=new Aye,this.css2dRenderer.setSize(this.goldenContainer.clientWidth,this.goldenContainer.clientHeight),this.goldenContainer.appendChild(this.css2dRenderer.domElement),this.css2dRenderer.domElement.style.position="absolute",this.css2dRenderer.domElement.style.top="0px",this.css2dRenderer.domElement.style.left="0px",this.css2dRenderer.domElement.style.pointerEvents="none")}initGPURenderer(){this.pickingTexture=new jn(1,1)}initLight(){this.ambientLight==null&&(this.ambientLight=new Dx(16777215,.3)),this._curCamera.add(this.ambientLight),this.directionalLight==null&&(this.directionalLight=new Xv(16777215,.8*Math.PI),this.directionalLight.position.set(.5,0,.866)),this._curCamera.add(this.directionalLight)}initControls(){this.controls&&this.controls.dispose(),this.controls=new yu(this._curCamera,this.renderer.domElement),this.controls.mouseButtons.right=yu.ACTION.ROTATE,this.controls.mouseButtons.left=yu.ACTION.TRUCK,this.controls.dollySpeed=.5,this.controls.addEventListener("control",()=>{this.enableRender()})}initComposer(){if(this.composer==null){this.composer=new Eye(this.renderer),this.renderPass=new Tye(this.scene,this._curCamera),this.composer.addPass(this.renderPass);const e=new Wb(Rye);e.uniforms.tDiffuse.value=-1,this.composer.addPass(e),this.outlinePass=new da(new qe(this.goldenContainer.clientWidth,this.goldenContainer.clientHeight),this.scene,this._curCamera),this.outlinePass.visibleEdgeColor.set("#eb7812"),this.outlinePass.hiddenEdgeColor.set("#eb7812"),this.outlinePass.edgeStrength=3,this.outlinePass.edgeThickness=1,this.outlinePass.pulsePeriod=0,this.outlinePass.edgeGlow=0,this.composer.addPass(this.outlinePass),this.effectFXAA=new Wb(Gb);let n=this.renderer.getPixelRatio();this.effectFXAA.uniforms.resolution.value.set(1/(this.goldenContainer.clientWidth*n),1/this.goldenContainer.clientHeight*n),this.composer.addPass(this.effectFXAA)}}initGrid(){const i=new ct(13816530),s=new ct(15329769),r=new eN(100,1e3,i,s);r.rotation.x=Math.PI/2,this.scene.add(r)}render(){var e,n;this.onBeforeRender&&this.onBeforeRender();for(const i of this.mapModels.values())i.tile&&i.tile.update();this.renderer.setRenderTarget(null),this.renderer.setViewport(0,0,this.goldenContainer.clientWidth,this.goldenContainer.clientHeight),this.composer?this.composer.render():this.renderer.render(this.scene,this.camera),this.css2dRenderer&&this.css2dRenderer.render(this.scene,this.camera),this._selectPass!=null&&this._selectPass.render(),(e=this.viewCube)==null||e.render(),(n=this.viewHelper)==null||n.render(this.renderer)}clearModel(){for(const e of this.mapModels.values())e.clear();this.mapModels.clear()}initStats(){this.stats=new mf,this.stats.showPanel(0),this.stats.dom.style.position="absolute",this.stats.dom.style.bottom="0px",this.stats.dom.style.right="0px",this.stats.dom.style.top=null,this.stats.dom.style.left=null,this.goldenContainer.appendChild(this.stats.dom)}moveTo(e,n,i){this.controls.moveTo(e,n,i),this.controls.polarAngle=Math.PI/4,this.controls.azimuthAngle=2*Math.PI,this.showPoint(e,n,i),this.controls.update()}setOrbitPoint(e,n,i){this.controls.setOrbitPoint(e,n,i),this.showPoint(e,n,i),this.controls.update()}setCameraByBox(e){let n=new Z((e.max.x+e.min.x)/2,(e.max.y+e.min.y)/2,(e.max.z+e.min.z)/2);this.controls.fitToBox(e,!1,{cover:!1,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0}),this.moveTo(n.x,n.y,n.z),this.enableRender(),this.homeTarget=this.controls.getTarget(),this.homePosition=this.controls.getPosition()}showPoint(e,n,i){this.mesh==null&&(this.mesh=new vt(new $a(.1),new ui({color:16711680})),this.scene.add(this.mesh)),this.mesh.position.set(e,n,i),this.enableRender()}showBox3(e){let n=new Vx(e);n.box,this.scene.add(n)}clearObject(){this.obj.clear()}getIntersect(e){return this.raycaster.getIntersect(e)}enableRender(){this.renderEnabled=!0}initBackground(){this.scene.background=this._backgroundColor,this.renderer.toneMappingExposure=0}flyTo(e,n,i,s,r,o){this.controls.restThreshold=.1,this.controls.enabled=!1,this.autoRender=!0,this.controls.setLookAt(e,n,i,s,r,o,!0).then(()=>{this.autoRender=!1,this.controls.enabled=!0})}rotateTo(e,n){return new Promise((i,s)=>{this.controls.enabled=!1,this.autoRender=!0,this.controls.rotateTo(e,n,!0).then(()=>{this.autoRender=!1,this.controls.enabled=!0,i(!0)})})}setOutlinePass(e){this.initComposer(),e?this.outlinePass.selectedObjects=e:this.outlinePass.selectedObjects=[],this.enableRender()}setOrthogonal(e){const n=this._curCamera.position.clone(),i=this._curCamera.rotation.clone();let s=this.controls.toJSON(),r=this.controls.azimuthAngle,o=this.controls.polarAngle;this.scene.remove(this._curCamera),this._curCamera.remove(this.directionalLight),this._curCamera.remove(this.ambientLight),this.initCamera(e),e&&this.setPerCameraToOrthCamera(),this._curCamera.position.set(n.x,n.y,n.z),this._curCamera.rotation.set(i.x,i.y,i.z),this._curCamera.lookAt(this.scene.position),this._curCamera.updateProjectionMatrix(),this.initLight(),this.initControls(),this.controls.fromJSON(s),this.controls.azimuthAngle=r,this.controls.polarAngle=o,this.controls.update(),this.renderPass&&(this.renderPass.camera=this._curCamera),this.outlinePass&&(this.outlinePass.renderCamera=this._curCamera),this.enableRender()}setPerCameraToOrthCamera(){if(this._perspectiveCamera==null||this._orthographicCamera==null)return null;let e=this.scene.position.clone(),i=this._perspectiveCamera.position.clone().sub(e).length(),s=this._perspectiveCamera.aspect,r=this._perspectiveCamera.fov,o=i*Math.atan(Math.PI/180*r/2),a=o*s,l=-o,c=-a,u=this._perspectiveCamera.near,d=this._perspectiveCamera.far;this._orthographicCamera.left=c,this._orthographicCamera.right=a,this._orthographicCamera.top=o,this._orthographicCamera.bottom=l,this._orthographicCamera.near=u,this._orthographicCamera.far=d,this._orthographicWidth=a}}const kg=class kg{constructor(e){Ce(this,"id");Ce(this,"name");Ce(this,"useData");Ce(this,"uuid");Ce(this,"_meshDatas");Ce(this,"_show");Ce(this,"_color",null);Ce(this,"_boundingBox");Ce(this,"_matrix");Ce(this,"_position");Ce(this,"_euler");Ce(this,"_quaternion");Ce(this,"_scale");Ce(this,"_center");Ce(this,"_tempMatrix4");Ce(this,"_document");Ce(this,"_url");this.show=!0,this._meshDatas=[],this.id=kg.id++,this._matrix=new Ct,this._tempMatrix4=new Ct,this._position=new Z(0,0,0),this._euler=new Jn(0,0,0),this._quaternion=new an(0,0,0,1),this._scale=new Z(1,1,1),this._matrix.identity(),this._document=e}get url(){return this._url}set url(e){this._url=e}get document(){return this._document}set matrix(e){if(this._matrix.copy(e),this._meshDatas)for(const n of this._meshDatas)n.matrix=e}get matrix(){return this._matrix}get position(){return this._position}multiplyPosition(e){this._position.add(e),this._tempMatrix4.identity(),this._tempMatrix4.makeTranslation(e.x,e.y,e.z),this.matrix.premultiply(this._tempMatrix4),this.center.x+=e.x,this.center.y+=e.y,this.center.z+=e.z,this.updateMatrix()}get euler(){return this._euler}get quaternion(){return this._quaternion}multiplyQuaternion(e){this._quaternion.premultiply(e);let n=this.center;this._euler.setFromQuaternion(this._quaternion),this._tempMatrix4.identity(),this._tempMatrix4.makeTranslation(-n.x,-n.y,-n.z),this.matrix.premultiply(this._tempMatrix4),this._tempMatrix4.identity(),this._tempMatrix4.makeRotationFromQuaternion(e),this.matrix.premultiply(this._tempMatrix4),this._tempMatrix4.identity(),this._tempMatrix4.makeTranslation(n.x,n.y,n.z),this.matrix.premultiply(this._tempMatrix4),this.updateMatrix()}get scale(){return this._scale}multiplyScale(e){this._scale.multiply(e);let n=this.center;this._tempMatrix4.identity(),this._tempMatrix4.makeTranslation(-n.x,-n.y,-n.z),this.matrix.premultiply(this._tempMatrix4),this._tempMatrix4.identity(),this._tempMatrix4.makeScale(e.x,e.y,e.z),this.matrix.premultiply(this._tempMatrix4),this._tempMatrix4.identity(),this._tempMatrix4.makeTranslation(n.x,n.y,n.z),this.matrix.premultiply(this._tempMatrix4),this.updateMatrix()}updateMatrix(){for(const e of this._meshDatas)e.matrix=this._matrix;if(this._boundingBox==null&&(this._boundingBox=new Bn),this._meshDatas){this._boundingBox.makeEmpty();for(const e of this._meshDatas)this._boundingBox.union(e.boundingBox)}}set show(e){if(this._show!=e&&(this._show=e,this._meshDatas))for(const n of this._meshDatas)n.show=e}get show(){return this._show}set color(e){if(this._meshDatas)for(const n of this._meshDatas)n.color=e}get color(){return this._color}addMeshData(e){this._meshDatas.push(e)}replaceMeshData(e,n){let i=this._meshDatas.indexOf(e);i!==-1&&(this._meshDatas[i]=n),this._boundingBox=null}set boundingBox(e){this._boundingBox=e}get boundingBox(){if(this._boundingBox==null&&this._meshDatas){this._boundingBox=new Bn;for(const e of this._meshDatas)this._boundingBox.union(e.boundingBox)}return this._boundingBox}computeBoundingSphere(){if(this._meshDatas)for(const e of this._meshDatas)e.computeBoundingSphere()}get center(){return this._center==null&&(this._center=new Z,this.boundingBox.getCenter(this._center)),this._center}get meshDatas(){return this._meshDatas}dispose(){this._meshDatas=[],this._matrix=null,this._tempMatrix4=null,this._position=null,this._euler=null,this._quaternion=null,this._scale=null,this._boundingBox=null,this._color=null;for(const e of this._meshDatas)e.dispose();this._meshDatas=null}};Ce(kg,"id",1);let Rg=kg;class Bd{constructor(e,n){Ce(this,"_index");Ce(this,"_orignMatrix4");Ce(this,"_show",!0);Ce(this,"_color");Ce(this,"_matrix");Ce(this,"mesh");Ce(this,"_boundingBox");this.mesh=e,this._index=n,this._orignMatrix4=new Ct,this._matrix=new Ct,this._matrix.identity(),this.mesh.getMatrixAt(n,this._orignMatrix4)}set matrix(e){this._matrix.copy(e);let n=this._orignMatrix4.clone();n.premultiply(e),this.mesh.setMatrixAt(this._index,n),this.mesh.instanceMatrix.needsUpdate=!0,this._boundingBox=null}get matrix(){return this._matrix}computeBoundingSphere(){this.mesh.computeBoundingSphere(),this._boundingBox=null}set show(e){if(this._show!=e){if(this._show=e,e){let n=this._orignMatrix4.clone();n.premultiply(this._matrix),this.mesh.setMatrixAt(this._index,n)}else this.mesh.setMatrixAt(this._index,Sn.zeroMatrix4);this.mesh.instanceMatrix.needsUpdate=!0}}get show(){return this._show}set color(e){e==null?this.mesh.setColorAt(this._index,Sn.normalColor):this.mesh.setColorAt(this._index,e),this.mesh.instanceColor.needsUpdate=!0}get color(){return this._color}set boundingBox(e){this._boundingBox=e}get boundingBox(){if(this._boundingBox==null){this.mesh.geometry.boundingBox==null&&this.mesh.geometry.computeBoundingBox(),this._boundingBox=this.mesh.geometry.boundingBox.clone();let e=this._orignMatrix4.clone();e.premultiply(this._matrix);let n=e.multiply(this.mesh.matrix),i=s=>{s.parent&&(n=n.premultiply(s.parent.matrix),i(s.parent))};i(this.mesh),this._boundingBox.applyMatrix4(n)}return this._boundingBox}get orignMatrix4(){return this._orignMatrix4}dispose(){this._boundingBox=null,this._matrix=null,this._color=null,this._orignMatrix4=null}}const gf=class gf{static insertExternalModel(e,n,i){return new Promise((r,o)=>{if(this.mapFamilyModel==null&&(this.mapFamilyModel=new Map),this.mapFamilyModel.has(e.modelUrl)){let u=this.mapFamilyModel.get(e.modelUrl),d=u[0],f=new Rg(i);for(let g=0;g<d.meshDatas.length;g++){let y=d.meshDatas[g].mesh;y.geometry.deleteAttribute("elementID"),i.rootObject.remove(y);let v=new kl(y.geometry,y.material,y.count+1);v.orignMaterial=y.material,v.pickMaterial=Sn.pickMaterial;let _=new pr(new Int32Array(y.count+1),1);for(let w=0;w<y.count+1;w++)v.setMatrixAt(w,new Ct),v.setColorAt(w,Sn.normalColor);let b=new Bd(v,y.count);f.addMeshData(b);for(let w=0;w<u.length;w++){const S=u[w];for(const x of S.meshDatas)if(x.mesh==y){let C=new Bd(v,w);S.replaceMeshData(x,C)}_.setX(w,S.id)}_.setX(y.count,f.id),v.geometry.setAttribute("elementID",_),y.dispose(),i.rootObject.add(v)}for(let g=0;g<u.length;g++){const m=u[g];m.updateMatrix(),m.computeBoundingSphere()}u.push(f),i.allElementData.set(f.id,f),f.boundingBox,f.center,f.url=e.modelUrl,f.name=e.name;let p=n.sub(f.center.clone());p.z+=(f.boundingBox.max.z-f.boundingBox.min.z)/2,f.multiplyPosition(p),f.computeBoundingSphere(),i.computeBoundingbox(),r(f);return}let a=new V0e,l=new U0e;l.setDecoderPath("./lib/draco/"),a.setDRACOLoader(l);const c=$k.service({lock:!1,text:"模型加载中..."});a.load(e.modelUrl,u=>{console.log(e.modelUrl),new Bn().setFromObject(u.scene);let d=gf.batchAndInstance(u,i);this.mapFamilyModel.set(e.modelUrl,[d]);let f=n.clone().sub(d.center.clone());f.z+=(d.boundingBox.max.z-d.boundingBox.min.z)/2,d.multiplyPosition(f),d.computeBoundingSphere(),d.url=e.modelUrl,d.name=e.name,i.computeBoundingbox(),l.dispose(),c.close(),r(d)},void 0,u=>{window.alert(u),l.dispose()})})}static batchAndInstance(e,n){let i=new Rg(n),s=e.scene,r=new Map,o=new Map;s.traverse(function(a){if(a instanceof vt&&a.geometry.getAttribute("position")!=null){let l=a,c=!1,u=m=>{if(!c&&m&&m.parent)if(m.parent.name=="root"){l=m,c=!0;return}else u(m.parent)};u(l);let d=a.geometry,f=a.geometry.getAttribute("position").count,p=[],g=l.id;o.has(l.id)?g=o.get(l.id):(new Bn().expandByObject(l),o.set(l.id,i.id),g=i.id);for(let m=0;m<f;m++)p.push(1),p.push(1),p.push(1);if(d.setAttribute("color",new Et(p,3)),d.elementID=g,a.elementID=g,r.has(a.material.name)){let m=r.get(a.material.name);m.push(a),r.set(a.material.name,m)}else{let m=[];m.push(a),r.set(a.material.name,m)}}});for(let a of r.values()){let l=new Map;for(const d of a)if(l.has(d.geometry.uuid)){let f=l.get(d.geometry.uuid);f.push(d),l.set(d.geometry.uuid,f)}else{let f=[];f.push(d),l.set(d.geometry.uuid,f)}let c=[],u;for(const d of l.values()){let f=d.length;if(f>1){let p=d[0].geometry,g=new kl(p,d[0].material,f);g.orignMaterial=d[0].material,g.pickMaterial=Sn.pickMaterial;let m=new pr(new Int32Array(f),1);for(let y=0;y<d.length;y++){const v=d[y];let _=v.matrix,b=x=>{x.parent&&(_=_.premultiply(x.parent.matrix),b(x.parent))},w=v.elementID;b(v),_.premultiply(this.zAixMatrix4),g.setMatrixAt(y,_),g.setColorAt(y,Sn.normalColor);let S=new Bd(g,y);i.addMeshData(S),m.setX(y,w)}p.setAttribute("elementID",m)}else for(let p=0;p<d.length;p++){let g=d[0],m=g.matrix,y=_=>{_.parent&&(m=m.premultiply(_.parent.matrix),y(_.parent))};y(g),m.premultiply(this.zAixMatrix4);let v=g.geometry.applyMatrix4(m);c.push(v),u=g.material}}if(c.length>0){u.vertexColors=!0;const d=new Yt,f=new vt(d,u);f.orignMaterial=u,f.pickMaterial=Sn.pickMaterial;const p=c[0].index!==null,g=new Set(Object.keys(c[0].attributes)),m={};let y=0;const v=[];let _=new pr(new Int32Array(1),1);for(let S=0;S<c.length;++S){const x=c[S];if(x.elementID,p!==(x.index!==null))continue;const C=c[S].index;for(let T=0;T<C.count;++T){let E=C.getX(T)+y;v.push(E)}x.attributes.position.count,y+=c[S].attributes.position.count;for(const T in x.attributes)g.has(T)&&(m[T]===void 0&&(m[T]=[]),m[T].push(x.attributes[T]));x.dispose()}p&&d.setIndex(v);for(const S in m){const x=B0e(m[S]);x&&d.setAttribute(S,x)}_.setX(0,i.id),d.setAttribute("elementID",_);let b=new kl(f.geometry,f.material,1);b.orignMaterial=f.material,b.pickMaterial=Sn.pickMaterial,b.setMatrixAt(0,f.matrix.clone()),b.setColorAt(0,Sn.normalColor);let w=new Bd(b,0);i.addMeshData(w)}}n.allElementData.set(i.id,i);for(const a of i.meshDatas)n.rootObject.add(a.mesh);return i.boundingBox,i.center,n.computeBoundingbox(),i}static deleteExternalModel(e){let n=e.document;if(e.url&&this.mapFamilyModel.has(e.url)){let i=this.mapFamilyModel.get(e.url),s=i.indexOf(e);if(s!==-1){if(i.splice(s,1),n.allElementData.delete(e.id),i.length==0){for(let r=0;r<e.meshDatas.length;r++){let o=e.meshDatas[r];n.rootObject.remove(o.mesh),o.mesh.geometry.dispose(),o.mesh.clear()}e.dispose(),this.mapFamilyModel.delete(e.url),e=null;return}for(let r=0;r<e.meshDatas.length;r++){let a=e.meshDatas[r].mesh;a.geometry.deleteAttribute("elementID"),n.rootObject.remove(a);let l=new kl(a.geometry,a.material,a.count-1);l.orignMaterial=a.material,l.pickMaterial=Sn.pickMaterial;let c=new pr(new Int32Array(a.count-1),1);for(let u=0;u<l.count;u++)l.setMatrixAt(u,new Ct),l.setColorAt(u,Sn.normalColor);for(let u=0;u<i.length;u++){const d=i[u];for(const f of d.meshDatas)if(f.mesh==a){let p=new Bd(l,u);d.replaceMeshData(f,p)}c.setX(u,d.id)}l.geometry.setAttribute("elementID",c),a.dispose(),n.rootObject.add(l)}for(let r=0;r<i.length;r++){const o=i[r];o.updateMatrix(),o.computeBoundingSphere()}}}}};Ce(gf,"mapFamilyModel"),Ce(gf,"zAixMatrix4",new Ct(1,0,0,0,0,0,-1,0,0,1,0,0,0,0,0,1));let Pg=gf;const fl=new cd,Vi=new Z,Xo=new Z,Vn=new an,v2={X:new Z(1,0,0),Y:new Z(0,1,0),Z:new Z(0,0,1)},Oy={type:"change"},y2={type:"mouseDown"},b2={type:"mouseUp",mode:null},_2={type:"objectChange"};class Uye extends Qt{constructor(e,n){super(),n===void 0&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),n=document),this.isTransformControls=!0,this.visible=!1,this.domElement=n,this.domElement.style.touchAction="none";const i=new Gye;this._gizmo=i,this.add(i);const s=new Kye;this._plane=s,this.add(s);const r=this;function o(_,b){let w=b;Object.defineProperty(r,_,{get:function(){return w!==void 0?w:b},set:function(S){w!==S&&(w=S,s[_]=S,i[_]=S,r.dispatchEvent({type:_+"-changed",value:S}),r.dispatchEvent(Oy))}}),r[_]=b,s[_]=b,i[_]=b}o("camera",e),o("object",void 0),o("enabled",!0),o("axis",null),o("mode","translate"),o("translationSnap",null),o("rotationSnap",null),o("scaleSnap",null),o("space","world"),o("size",1),o("dragging",!1),o("showX",!0),o("showY",!0),o("showZ",!0);const a=new Z,l=new Z,c=new an,u=new an,d=new Z,f=new an,p=new Z,g=new Z,m=new Z,y=0,v=new Z;o("worldPosition",a),o("worldPositionStart",l),o("worldQuaternion",c),o("worldQuaternionStart",u),o("cameraPosition",d),o("cameraQuaternion",f),o("pointStart",p),o("pointEnd",g),o("rotationAxis",m),o("rotationAngle",y),o("eye",v),this._offset=new Z,this._startNorm=new Z,this._endNorm=new Z,this._cameraScale=new Z,this._parentPosition=new Z,this._parentQuaternion=new an,this._parentQuaternionInv=new an,this._parentScale=new Z,this._worldScaleStart=new Z,this._worldQuaternionInv=new an,this._worldScale=new Z,this._positionStart=new Z,this._quaternionStart=new an,this._scaleStart=new Z,this._getPointer=zye.bind(this),this._onPointerDown=$ye.bind(this),this._onPointerHover=Vye.bind(this),this._onPointerMove=Hye.bind(this),this._onPointerUp=Wye.bind(this),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp)}updateMatrixWorld(e){this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.camera.isOrthographicCamera?this.camera.getWorldDirection(this.eye).negate():this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld(e)}pointerHover(e){if(this.object===void 0||this.dragging===!0)return;e!==null&&fl.setFromCamera(e,this.camera);const n=Ly(this._gizmo.picker[this.mode],fl);n?this.axis=n.object.name:this.axis=null}pointerDown(e){if(!(this.object===void 0||this.dragging===!0||e!=null&&e.button!==0)&&this.axis!==null){e!==null&&fl.setFromCamera(e,this.camera);const n=Ly(this._plane,fl,!0);n&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(n.point).sub(this.worldPositionStart)),this.dragging=!0,y2.mode=this.mode,this.dispatchEvent(y2)}}pointerMove(e){const n=this.axis,i=this.mode,s=this.object;let r=this.space;if(i==="scale"?r="local":(n==="E"||n==="XYZE"||n==="XYZ")&&(r="world"),s===void 0||n===null||this.dragging===!1||e!==null&&e.button!==-1)return;e!==null&&fl.setFromCamera(e,this.camera);const o=Ly(this._plane,fl,!0);if(o){if(this.pointEnd.copy(o.point).sub(this.worldPositionStart),i==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),r==="local"&&n!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),n.indexOf("X")===-1&&(this._offset.x=0),n.indexOf("Y")===-1&&(this._offset.y=0),n.indexOf("Z")===-1&&(this._offset.z=0),r==="local"&&n!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),s.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(r==="local"&&(s.position.applyQuaternion(Vn.copy(this._quaternionStart).invert()),n.search("X")!==-1&&(s.position.x=Math.round(s.position.x/this.translationSnap)*this.translationSnap),n.search("Y")!==-1&&(s.position.y=Math.round(s.position.y/this.translationSnap)*this.translationSnap),n.search("Z")!==-1&&(s.position.z=Math.round(s.position.z/this.translationSnap)*this.translationSnap),s.position.applyQuaternion(this._quaternionStart)),r==="world"&&(s.parent&&s.position.add(Vi.setFromMatrixPosition(s.parent.matrixWorld)),n.search("X")!==-1&&(s.position.x=Math.round(s.position.x/this.translationSnap)*this.translationSnap),n.search("Y")!==-1&&(s.position.y=Math.round(s.position.y/this.translationSnap)*this.translationSnap),n.search("Z")!==-1&&(s.position.z=Math.round(s.position.z/this.translationSnap)*this.translationSnap),s.parent&&s.position.sub(Vi.setFromMatrixPosition(s.parent.matrixWorld))));else if(i==="scale"){if(n.search("XYZ")!==-1){let a=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(a*=-1),Xo.set(a,a,a)}else Vi.copy(this.pointStart),Xo.copy(this.pointEnd),Vi.applyQuaternion(this._worldQuaternionInv),Xo.applyQuaternion(this._worldQuaternionInv),Xo.divide(Vi),n.search("X")===-1&&(Xo.x=1),n.search("Y")===-1&&(Xo.y=1),n.search("Z")===-1&&(Xo.z=1);s.scale.copy(this._scaleStart).multiply(Xo),this.scaleSnap&&(n.search("X")!==-1&&(s.scale.x=Math.round(s.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),n.search("Y")!==-1&&(s.scale.y=Math.round(s.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),n.search("Z")!==-1&&(s.scale.z=Math.round(s.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(i==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const a=20/this.worldPosition.distanceTo(Vi.setFromMatrixPosition(this.camera.matrixWorld));let l=!1;n==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(Vi.copy(this.rotationAxis).cross(this.eye))*a):(n==="X"||n==="Y"||n==="Z")&&(this.rotationAxis.copy(v2[n]),Vi.copy(v2[n]),r==="local"&&Vi.applyQuaternion(this.worldQuaternion),Vi.cross(this.eye),Vi.length()===0?l=!0:this.rotationAngle=this._offset.dot(Vi.normalize())*a),(n==="E"||l)&&(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),r==="local"&&n!=="E"&&n!=="XYZE"?(s.quaternion.copy(this._quaternionStart),s.quaternion.multiply(Vn.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),s.quaternion.copy(Vn.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),s.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(Oy),this.dispatchEvent(_2)}}pointerUp(e){e!==null&&e.button!==0||(this.dragging&&this.axis!==null&&(b2.mode=this.mode,this.dispatchEvent(b2)),this.dragging=!1,this.axis=null)}dispose(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.traverse(function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()})}attach(e){return this.object=e,this.visible=!0,this}detach(){return this.object=void 0,this.visible=!1,this.axis=null,this}reset(){this.enabled&&this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(Oy),this.dispatchEvent(_2),this.pointStart.copy(this.pointEnd))}getRaycaster(){return fl}getMode(){return this.mode}setMode(e){this.mode=e}setTranslationSnap(e){this.translationSnap=e}setRotationSnap(e){this.rotationSnap=e}setScaleSnap(e){this.scaleSnap=e}setSize(e){this.size=e}setSpace(e){this.space=e}}function zye(t){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:t.button};{const e=this.domElement.getBoundingClientRect();return{x:(t.clientX-e.left)/e.width*2-1,y:-(t.clientY-e.top)/e.height*2+1,button:t.button}}}function Vye(t){if(this.enabled)switch(t.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(t));break}}function $ye(t){this.enabled&&(document.pointerLockElement||this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(t)),this.pointerDown(this._getPointer(t)))}function Hye(t){this.enabled&&this.pointerMove(this._getPointer(t))}function Wye(t){this.enabled&&(this.domElement.releasePointerCapture(t.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(t)))}function Ly(t,e,n){const i=e.intersectObject(t,!0);for(let s=0;s<i.length;s++)if(i[s].object.visible||n)return i[s];return!1}const sm=new Jn,Rn=new Z(0,1,0),w2=new Z(0,0,0),x2=new Ct,rm=new an,Gm=new an,Rr=new Z,S2=new Ct,Yd=new Z(1,0,0),ml=new Z(0,1,0),Xd=new Z(0,0,1),om=new Z,Ud=new Z,zd=new Z;class Gye extends Qt{constructor(){super(),this.isTransformControlsGizmo=!0,this.type="TransformControlsGizmo";const e=new ui({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),n=new Ri({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),i=e.clone();i.opacity=.15;const s=n.clone();s.opacity=.5;const r=e.clone();r.color.setHex(16711680);const o=e.clone();o.color.setHex(65280);const a=e.clone();a.color.setHex(255);const l=e.clone();l.color.setHex(16711680),l.opacity=.5;const c=e.clone();c.color.setHex(65280),c.opacity=.5;const u=e.clone();u.color.setHex(255),u.opacity=.5;const d=e.clone();d.opacity=.25;const f=e.clone();f.color.setHex(16776960),f.opacity=.25,e.clone().color.setHex(16776960);const g=e.clone();g.color.setHex(7895160);const m=new li(0,.04,.1,12);m.translate(0,.05,0);const y=new Wn(.08,.08,.08);y.translate(0,.04,0),new Yt().setAttribute("position",new Et([0,0,0,1,0,0],3));const _=new li(.0075,.0075,.5,3);_.translate(0,.25,0);function b(V,U){const D=new lo(V,.0075,3,64,U*Math.PI*2);return D.rotateY(Math.PI/2),D.rotateX(Math.PI/2),D}const w={X:[[new vt(m,r),[.5,0,0],[0,0,-Math.PI/2]],[new vt(_,r),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new vt(m,o),[0,.5,0]],[new vt(_,o)]],Z:[[new vt(m,a),[0,0,.5],[Math.PI/2,0,0]],[new vt(_,a),null,[Math.PI/2,0,0]]],XYZ:[[new vt(new nc(.1,0),d.clone()),[0,0,0]]],XY:[[new vt(new Wn(.15,.15,.01),u.clone()),[.15,.15,0]]],YZ:[[new vt(new Wn(.15,.15,.01),l.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new vt(new Wn(.15,.15,.01),c.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},S={X:[[new vt(new li(.2,0,.6,4),i),[.3,0,0],[0,0,-Math.PI/2]],[new vt(new li(.2,0,.6,4),i),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new vt(new li(.2,0,.6,4),i),[0,.3,0]],[new vt(new li(.2,0,.6,4),i),[0,-.3,0],[0,0,Math.PI]]],Z:[[new vt(new li(.2,0,.6,4),i),[0,0,.3],[Math.PI/2,0,0]],[new vt(new li(.2,0,.6,4),i),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new vt(new nc(.2,0),i)]],XY:[[new vt(new Wn(.2,.2,.01),i),[.15,.15,0]]],YZ:[[new vt(new Wn(.2,.2,.01),i),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new vt(new Wn(.2,.2,.01),i),[.15,0,.15],[-Math.PI/2,0,0]]]},x={},C={XYZE:[[new vt(b(.5,1),g),null,[0,Math.PI/2,0]]],X:[[new vt(b(.5,.5),r)]],Y:[[new vt(b(.5,.5),o),null,[0,0,-Math.PI/2]]],Z:[[new vt(b(.5,.5),a),null,[0,Math.PI/2,0]]],E:[[new vt(b(.75,1),f),null,[0,Math.PI/2,0]]]},T={AXIS:[]},E={XYZE:[[new vt(new $a(.25,10,8),i)]],X:[[new vt(new lo(.5,.1,4,24),i),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new vt(new lo(.5,.1,4,24),i),[0,0,0],[Math.PI/2,0,0]]],Z:[[new vt(new lo(.5,.1,4,24),i),[0,0,0],[0,0,-Math.PI/2]]],E:[[new vt(new lo(.75,.1,2,24),i)]]},M={X:[[new vt(y,r),[.5,0,0],[0,0,-Math.PI/2]],[new vt(_,r),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new vt(y,o),[0,.5,0]],[new vt(_,o)]],Z:[[new vt(y,a),[0,0,.5],[Math.PI/2,0,0]],[new vt(_,a),[0,0,0],[Math.PI/2,0,0]]],XY:[[new vt(new Wn(.15,.15,.01),u),[.15,.15,0]]],YZ:[[new vt(new Wn(.15,.15,.01),l),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new vt(new Wn(.15,.15,.01),c),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new vt(new Wn(.1,.1,.1),d.clone())]]},R={X:[[new vt(new li(.2,0,.6,4),i),[.3,0,0],[0,0,-Math.PI/2]],[new vt(new li(.2,0,.6,4),i),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new vt(new li(.2,0,.6,4),i),[0,.3,0]],[new vt(new li(.2,0,.6,4),i),[0,-.3,0],[0,0,Math.PI]]],Z:[[new vt(new li(.2,0,.6,4),i),[0,0,.3],[Math.PI/2,0,0]],[new vt(new li(.2,0,.6,4),i),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new vt(new Wn(.2,.2,.01),i),[.15,.15,0]]],YZ:[[new vt(new Wn(.2,.2,.01),i),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new vt(new Wn(.2,.2,.01),i),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new vt(new Wn(.2,.2,.2),i),[0,0,0]]]},O={X:[],Y:[],Z:[]};function F(V){const U=new Qt;for(const D in V)for(let I=V[D].length;I--;){const N=V[D][I][0].clone(),k=V[D][I][1],B=V[D][I][2],G=V[D][I][3],J=V[D][I][4];N.name=D,N.tag=J,k&&N.position.set(k[0],k[1],k[2]),B&&N.rotation.set(B[0],B[1],B[2]),G&&N.scale.set(G[0],G[1],G[2]),N.updateMatrix();const re=N.geometry.clone();re.applyMatrix4(N.matrix),N.geometry=re,N.renderOrder=1/0,N.position.set(0,0,0),N.rotation.set(0,0,0),N.scale.set(1,1,1),U.add(N)}return U}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=F(w)),this.add(this.gizmo.rotate=F(C)),this.add(this.gizmo.scale=F(M)),this.add(this.picker.translate=F(S)),this.add(this.picker.rotate=F(E)),this.add(this.picker.scale=F(R)),this.add(this.helper.translate=F(x)),this.add(this.helper.rotate=F(T)),this.add(this.helper.scale=F(O)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(e){const i=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:Gm;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let s=[];s=s.concat(this.picker[this.mode].children),s=s.concat(this.gizmo[this.mode].children),s=s.concat(this.helper[this.mode].children);for(let r=0;r<s.length;r++){const o=s[r];o.visible=!0,o.rotation.set(0,0,0),o.position.copy(this.worldPosition);let a;if(this.camera.isOrthographicCamera?a=(this.camera.top-this.camera.bottom)/this.camera.zoom:a=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),o.scale.set(1,1,1).multiplyScalar(a*this.size/4),o.tag==="helper"){o.visible=!1,o.name==="AXIS"?(o.visible=!!this.axis,this.axis==="X"&&(Vn.setFromEuler(sm.set(0,0,0)),o.quaternion.copy(i).multiply(Vn),Math.abs(Rn.copy(Yd).applyQuaternion(i).dot(this.eye))>.9&&(o.visible=!1)),this.axis==="Y"&&(Vn.setFromEuler(sm.set(0,0,Math.PI/2)),o.quaternion.copy(i).multiply(Vn),Math.abs(Rn.copy(ml).applyQuaternion(i).dot(this.eye))>.9&&(o.visible=!1)),this.axis==="Z"&&(Vn.setFromEuler(sm.set(0,Math.PI/2,0)),o.quaternion.copy(i).multiply(Vn),Math.abs(Rn.copy(Xd).applyQuaternion(i).dot(this.eye))>.9&&(o.visible=!1)),this.axis==="XYZE"&&(Vn.setFromEuler(sm.set(0,Math.PI/2,0)),Rn.copy(this.rotationAxis),o.quaternion.setFromRotationMatrix(x2.lookAt(w2,Rn,ml)),o.quaternion.multiply(Vn),o.visible=this.dragging),this.axis==="E"&&(o.visible=!1)):o.name==="START"?(o.position.copy(this.worldPositionStart),o.visible=this.dragging):o.name==="END"?(o.position.copy(this.worldPosition),o.visible=this.dragging):o.name==="DELTA"?(o.position.copy(this.worldPositionStart),o.quaternion.copy(this.worldQuaternionStart),Vi.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),Vi.applyQuaternion(this.worldQuaternionStart.clone().invert()),o.scale.copy(Vi),o.visible=this.dragging):(o.quaternion.copy(i),this.dragging?o.position.copy(this.worldPositionStart):o.position.copy(this.worldPosition),this.axis&&(o.visible=this.axis.search(o.name)!==-1));continue}o.quaternion.copy(i),this.mode==="translate"||this.mode==="scale"?(o.name==="X"&&Math.abs(Rn.copy(Yd).applyQuaternion(i).dot(this.eye))>.99&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),o.name==="Y"&&Math.abs(Rn.copy(ml).applyQuaternion(i).dot(this.eye))>.99&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),o.name==="Z"&&Math.abs(Rn.copy(Xd).applyQuaternion(i).dot(this.eye))>.99&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),o.name==="XY"&&Math.abs(Rn.copy(Xd).applyQuaternion(i).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),o.name==="YZ"&&Math.abs(Rn.copy(Yd).applyQuaternion(i).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),o.name==="XZ"&&Math.abs(Rn.copy(ml).applyQuaternion(i).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1)):this.mode==="rotate"&&(rm.copy(i),Rn.copy(this.eye).applyQuaternion(Vn.copy(i).invert()),o.name.search("E")!==-1&&o.quaternion.setFromRotationMatrix(x2.lookAt(this.eye,w2,ml)),o.name==="X"&&(Vn.setFromAxisAngle(Yd,Math.atan2(-Rn.y,Rn.z)),Vn.multiplyQuaternions(rm,Vn),o.quaternion.copy(Vn)),o.name==="Y"&&(Vn.setFromAxisAngle(ml,Math.atan2(Rn.x,Rn.z)),Vn.multiplyQuaternions(rm,Vn),o.quaternion.copy(Vn)),o.name==="Z"&&(Vn.setFromAxisAngle(Xd,Math.atan2(Rn.y,Rn.x)),Vn.multiplyQuaternions(rm,Vn),o.quaternion.copy(Vn))),o.visible=o.visible&&(o.name.indexOf("X")===-1||this.showX),o.visible=o.visible&&(o.name.indexOf("Y")===-1||this.showY),o.visible=o.visible&&(o.name.indexOf("Z")===-1||this.showZ),o.visible=o.visible&&(o.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),o.material._color=o.material._color||o.material.color.clone(),o.material._opacity=o.material._opacity||o.material.opacity,o.material.color.copy(o.material._color),o.material.opacity=o.material._opacity,this.enabled&&this.axis&&(o.name===this.axis||this.axis.split("").some(function(l){return o.name===l}))&&(o.material.color.setHex(16776960),o.material.opacity=1)}super.updateMatrixWorld(e)}}class Kye extends vt{constructor(){super(new za(1e5,1e5,2,2),new ui({visible:!1,wireframe:!0,side:ds,transparent:!0,opacity:.1,toneMapped:!1})),this.isTransformControlsPlane=!0,this.type="TransformControlsPlane"}updateMatrixWorld(e){let n=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(n="local"),om.copy(Yd).applyQuaternion(n==="local"?this.worldQuaternion:Gm),Ud.copy(ml).applyQuaternion(n==="local"?this.worldQuaternion:Gm),zd.copy(Xd).applyQuaternion(n==="local"?this.worldQuaternion:Gm),Rn.copy(Ud),this.mode){case"translate":case"scale":switch(this.axis){case"X":Rn.copy(this.eye).cross(om),Rr.copy(om).cross(Rn);break;case"Y":Rn.copy(this.eye).cross(Ud),Rr.copy(Ud).cross(Rn);break;case"Z":Rn.copy(this.eye).cross(zd),Rr.copy(zd).cross(Rn);break;case"XY":Rr.copy(zd);break;case"YZ":Rr.copy(om);break;case"XZ":Rn.copy(zd),Rr.copy(Ud);break;case"XYZ":case"E":Rr.set(0,0,0);break}break;case"rotate":default:Rr.set(0,0,0)}Rr.length()===0?this.quaternion.copy(this.cameraQuaternion):(S2.lookAt(Vi.set(0,0,0),Rr,Rn),this.quaternion.setFromRotationMatrix(S2)),super.updateMatrixWorld(e)}}class Yye{constructor(e,n,i){Ce(this,"_sence");Ce(this,"transform_controls");Ce(this,"sphere_mesh");Ce(this,"renderer");Ce(this,"controls");Ce(this,"_element");Ce(this,"_visible",!0);Ce(this,"_adsorb",!0);this._sence=e,this.sphere_mesh=new vt(new $a(.01),new dc),this.sphere_mesh.lastPosition=new Z,this.sphere_mesh.lastScale=new Z(1,1,1),this.sphere_mesh.lastQuaternion=new an(0,0,0,1),this.sphere_mesh.visible=!1,this._sence.add(this.sphere_mesh),this.transform_controls=new Uye(n.camera,i),this.transform_controls.attach(this.sphere_mesh),this.transform_controls.setSize(.8),this._sence.add(this.transform_controls),this.transform_controls.visible=!0,this.transform_controls.enabled=!0,this.transform_controls.dragging=!0}get setElemet(){return this._element}set setElemet(e){let n=e.center;this.position.copy(n),this.lastPosition.copy(this.position),this.lastQuaternion.copy(this.quaternion),this.quaternion.copy(e.quaternion),this._element=e}set visible(e){this._visible!=e&&(this._visible=e,this.transform_controls.visible=e)}get visible(){return this._visible}set position(e){this.sphere_mesh.position.set(e.x,e.y,e.z)}get position(){return this.sphere_mesh.position}set lastPosition(e){this.sphere_mesh.lastPosition=e}get lastPosition(){return this.sphere_mesh.lastPosition}set quaternion(e){this.sphere_mesh.quaternion.set(e.x,e.y,e.z,e.z)}get quaternion(){return this.sphere_mesh.quaternion}set lastQuaternion(e){this.sphere_mesh.lastQuaternion=e}get lastQuaternion(){return this.sphere_mesh.lastQuaternion}set scale(e){this.sphere_mesh.scale.set(e.x,e.y,e.z)}get scale(){return this.sphere_mesh.scale}set lastScale(e){this.sphere_mesh.lastScale=e}get lastScale(){return this.sphere_mesh.lastScale}set mode(e){this.transform_controls.mode=e}get mode(){return this.transform_controls.mode}set adsorb(e){this._adsorb=e}get adsorb(){return this._adsorb}}class Xye{constructor(e){Ce(this,"_selectElement");Ce(this,"_app");Ce(this,"_lastPoint",{x:0,y:0});Ce(this,"threeController");Ce(this,"euler");Ce(this,"tempVector3");Ce(this,"boxHelper");Ce(this,"_selectStatus",!1);Ce(this,"_quaternion",new an(0,0,0,1));Ce(this,"_aixX",new Z(1,0,0));Ce(this,"_aixY",new Z(0,1,0));Ce(this,"_aixZ",new Z(0,0,1));this._app=e,this._selectElement=new Set,this.threeController=new Yye(this._app.view3D.scene,this._app.view3D.controls,this._app.view3D.renderer.domElement),this.threeController.mode="translate",this.threeController.visible=!1,this.boxHelper=new Vx(new Bn),this.euler=new Jn,this.tempVector3=new Z,this.addViewEvent(!0),this.selectStatus=!1,this._app.ui.event.addEventListener("toolbarChange",bindCaller(this,this.onToolbarChange)),this._app.ui.event.addEventListener("dragend",bindCaller(this,this.onDragend)),this._app.ui.event.addEventListener("changeLocation",bindCaller(this,this.onChangeLocation)),this._app.ui.event.addEventListener("changeRotation",bindCaller(this,this.onChangeRotationn)),this._app.ui.event.addEventListener("changeScale",bindCaller(this,this.onChangeScale))}get selectElements(){return this._selectElement}get selectStatus(){return this._selectStatus}set selectStatus(e){if(this._selectStatus!=e)if(this._selectStatus=e,e)this.threeController.visible=!1,this._app.ui.panelRight.value.modelTransform.showModelData(this.threeController.setElemet),this.addTransform(!1),this.onTransformMouseUp();else for(const n of this.selectElements){this.threeController.visible=!0,this.addTransform(!0),this.threeController.setElemet=n;break}}onChangeLocation(e){let n=this.threeController.setElemet;if(n){let i=n.position,s=e.changeType,r=Number(e.value),o=new Z;switch(r/=1e3,s){case 0:o.x=r-i.x;break;case 1:o.y=r-i.y;break;case 2:o.z=r-i.z;break}n.multiplyPosition(o),n.computeBoundingSphere(),this._app.view3D.enableRender(),this.threeController.setElemet=n}}onChangeRotationn(e){let n=this.threeController.setElemet;if(n){let i=n.euler,s=e.changeType,r=Number(e.value);switch(r=r*Math.PI/180,s){case 0:this._quaternion.setFromAxisAngle(this._aixX,r-i.x);break;case 1:this._quaternion.setFromAxisAngle(this._aixY,r-i.y);break;case 2:this._quaternion.setFromAxisAngle(this._aixZ,r-i.z);break}n.multiplyQuaternion(this._quaternion),n.computeBoundingSphere(),this._app.view3D.enableRender(),this.threeController.setElemet=n}}onChangeScale(e){let n=this.threeController.setElemet;if(n){let i=e.changeType,s=Number(e.value),r=n.scale.clone();switch(i){case 0:r.x=s/r.x,r.y=1,r.z=1;break;case 1:r.x=1,r.y=s/r.y,r.z=1;break;case 2:r.x=1,r.y=1,r.z=s/r.z;break}n.multiplyScale(r),n.computeBoundingSphere(),this._app.view3D.enableRender(),this.threeController.setElemet=n}}onToolbarChange(e){e.data=="translate"?(this.threeController.mode="translate",this.selectStatus=!1):e.data=="rotate"?(this.threeController.mode="rotate",this.selectStatus=!1):e.data=="scale"?(this.threeController.mode="scale",this.selectStatus=!1):this.selectStatus=!0,this._app.view3D.enableRender()}onDragend(e){console.log(e);let n=this._app.view3D.raycaster.getIntersectPointByGPU(e.event);n||(n=this._app.view3D.raycaster.getIntersect(e.event)),Pg.insertExternalModel(e.data,n,this._app.document).then(i=>{this._app.view3D.enableRender(),this.selElemetByID(i.id),this._app.ui.panelRight.value.treeView.modelTree.data[0].children.push({label:i.name,id:i.id}),setTimeout(()=>{let s=this._app.ui.panelRight.value.treeView.modelTree.getCheckedKeys();s.push(i.id),this._app.ui.panelRight.value.treeView.modelTree.setCheckedKeys(s),this._app.ui.panelRight.value.treeView.modelTree.setCurrentKey(i.id)},1)})}addViewEvent(e){e?(this._app.view3D.renderer.domElement.addEventListener("pointerdown",bindCaller(this,this.onMouseDown)),this._app.view3D.renderer.domElement.addEventListener("mousemove",bindCaller(this,this.onMouseMove)),this._app.view3D.renderer.domElement.addEventListener("pointerup",bindCaller(this,this.onMouseUp))):(this._app.view3D.renderer.domElement.removeEventListener("mousedown",bindCaller(this,this.onMouseDown)),this._app.view3D.renderer.domElement.removeEventListener("mousemove",bindCaller(this,this.onMouseMove)),this._app.view3D.renderer.domElement.removeEventListener("mouseup",bindCaller(this,this.onMouseUp)))}addTransform(e){e?(this.threeController.transform_controls.camera=this._app.view3D.camera,this.threeController.transform_controls.addEventListener("change",bindCaller(this._app.view3D,this._app.view3D.enableRender)),this.threeController.transform_controls.addEventListener("objectChange",bindCaller(this,this.onTransformElement)),this.threeController.transform_controls.addEventListener("mouseDown",bindCaller(this,this.onTransformMouseDown)),this.threeController.transform_controls.addEventListener("mouseUp",bindCaller(this,this.onTransformMouseUp))):(this.threeController.transform_controls.removeEventListener("change",bindCaller(this._app.view3D,this._app.view3D.enableRender)),this.threeController.transform_controls.removeEventListener("objectChange",bindCaller(this,this.onTransformElement)),this.threeController.transform_controls.removeEventListener("mouseDown",bindCaller(this,this.onTransformMouseDown)),this.threeController.transform_controls.removeEventListener("mouseUp",bindCaller(this,this.onTransformMouseUp)))}onTransformElement(){let e=this.threeController.setElemet;if(e){if(this.threeController.mode=="translate"){let n=this.threeController.position.clone().sub(this.threeController.lastPosition);this.threeController.lastPosition.copy(this.threeController.position),e.multiplyPosition(n)}else if(this.threeController.mode=="rotate"){let n=this.threeController.quaternion.clone();n.multiply(this.threeController.lastQuaternion.invert()),e.multiplyQuaternion(n),this.threeController.lastQuaternion.copy(this.threeController.quaternion)}else if(this.threeController.mode=="scale"){let n=this.threeController.scale.clone();n.x/=this.threeController.lastScale.x,n.y/=this.threeController.lastScale.y,n.z/=this.threeController.lastScale.z,this.threeController.lastScale.copy(this.threeController.scale),e.multiplyScale(n)}this._app.ui.panelRight.value.modelTransform.showModelData(e)}}onTransformMouseDown(){this.threeController.visible&&(this._app.view3D.controls.enabled=!1,this.addViewEvent(!1))}onTransformMouseUp(){this._app.view3D.controls.enabled=!0,this.addViewEvent(!0),this.threeController.setElemet&&this.threeController.setElemet.computeBoundingSphere()}onMouseDown(e){this._lastPoint.x=e.clientX,this._lastPoint.y=e.clientY}onMouseMove(e){}onMouseUp(e){if(e.button==2)return;let n=e.clientX-this._lastPoint.x,i=e.clientY-this._lastPoint.y;if(Math.abs(n)<=1&&Math.abs(i)<=0){let s=this._app.view3D.raycaster.getIntersectObjByGPU(e);this.selElemetByID(s)}this._app.view3D.enableRender(),this._lastPoint.x=-1,this._lastPoint.x=-1}selElemetByID(e){this.resetSelEntity();let n=this._app.document.getElementByID(e);n&&(this._selectElement.add(n),this._app.view3D.selectPass.selectElements([n]),this._app.ui.panelRight.value.modelTransform.showModelData(n),this._app.ui.panelRight.value.treeView.modelTree.setCurrentKey(n.id),this._selectStatus||(this.addTransform(!0),this.threeController.visible=!0,this.threeController.setElemet=n),document.addEventListener("keydown",bindCaller(this,this.onKeyDown)))}resetSelEntity(){document.removeEventListener("keydown",bindCaller(this,this.onKeyDown)),this._app.ui.panelRight.value.treeView.modelTree.setCurrentKey(null),this._app.ui.panelRight.value.modelTransform.showModelData(null),this._app.view3D.selectPass.selectElements(null),this._selectElement.clear(),this._app.view3D.enableRender(),this._selectStatus||(this.addTransform(!1),this.threeController.visible=!1)}onKeyDown(e){if(e.code==="Delete"){let n=this._app.ui.panelRight.value.treeView.modelTree.data[0].children,i=this._app.ui.panelRight.value.treeView.modelTree.getCheckedKeys();for(const s of this._selectElement)Pg.deleteExternalModel(s),n=n.filter(r=>r.id!==s.id),i=i.filter(r=>r!==s.id);this.resetSelEntity(),this._app.ui.panelRight.value.treeView.modelTree.data[0].children=n}}}class qye{constructor(e){Ce(this,"_panelRight");Ce(this,"_app");Ce(this,"_event");this._app=e,this._event=new Yr,this._event.addEventListener("modelTreeClick",bindCaller(this,this.onModelTreeClick)),this._event.addEventListener("modelTreeCheck",bindCaller(this,this.onModelTreeCheck))}get panelRight(){return this._panelRight}set panelRight(e){this._panelRight=e}get event(){return this._event}onModelTreeClick(e){this._app.appSelection.selElemetByID(e.data.id)}onModelTreeCheck(){let e=this.panelRight.value.treeView.modelTree.getCheckedKeys();if(e.length==0){for(const i of this._app.document.allElementData.values())i.show=!1;this._app.view3D.enableRender();return}let n=new Set;for(const i of e)n.add(i);for(const i of this._app.document.allElementData.values())n.has(i.id)?i.show=!0:i.show=!1;this._app.view3D.enableRender()}}class jye{constructor(){Ce(this,"_view3D");Ce(this,"_ui");Ce(this,"_appSelection");Ce(this,"_document")}get view3D(){return this._view3D}get ui(){return this._ui}get appSelection(){return this._appSelection}get document(){return this._document}async init(e){this._view3D||(this._view3D=new Bye(e),this._ui=new qye(this),this._appSelection=new Xye(this),this._document=new Vb,this._document.rootObject=new Qt,this._view3D.obj.add(this._document.rootObject))}}let Is;const Zye=t=>new Promise(async n=>{window.App=new jye,Is=window.App,Is.init(t).then(()=>{console.log("App 启动完成"),n(Is)})}),Jye=t=>(nA("data-v-4a000ac7"),t=t(),iA(),t),Qye={class:"model-list-wrapper"},e1e={class:"model-list"},t1e={class:"model-item-wp"},n1e={class:"model-item"},i1e={class:"preview-img-wrap"},s1e=["alt","src","onDragend"],r1e=Jye(()=>Y("div",{class:"preview-img-cover"},null,-1)),o1e={class:"title"},a1e={class:"pagination-container"},l1e=j({__name:"ModelLib",setup(t,{expose:e}){let n=[];const i=z(Array());fetch("./model/model.json").then(c=>c.json()).then(c=>{n=c,s.value=c.length,o(1)});const s=z(),r=Xt({address:"",name:"",pageIndex:1,pageSize:20}),o=c=>{r.pageIndex=c;let u=(r.pageIndex-1)*r.pageSize<0?0:(r.pageIndex-1)*r.pageSize,d=r.pageIndex*r.pageSize>s.value?s.value:r.pageIndex*r.pageSize;i.value=n.slice(u,d)},a=c=>{c.preventDefault()},l=(c,u)=>{c.preventDefault(),Is.ui.event.dispatchEvent({type:"dragend",event:c,data:u})};return e({}),(c,u)=>{const d=bt("el-scrollbar"),f=bt("el-pagination");return P(),H("div",Qye,[X(d,null,{default:ne(()=>[Y("div",e1e,[(P(!0),H(st,null,Dt(i.value,p=>(P(),H("div",{class:"model-item-container",key:p.index},[Y("div",t1e,[Y("div",n1e,[Y("div",i1e,[Y("img",{class:"previewImg",alt:p.name,src:p.previewUrl,draggable:!0,onDrag:u[0]||(u[0]=g=>a(g)),onDragend:g=>l(g,p)},null,40,s1e),r1e])])]),Y("div",o1e,Ge(p.name),1)]))),128))])]),_:1}),Y("div",a1e,[X(f,{layout:"prev, pager, next","current-page":r.pageIndex,"page-size":r.pageSize,total:s.value,onCurrentChange:o},null,8,["current-page","page-size","total"])])])}}}),ud=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},c1e=ud(l1e,[["__scopeId","data-v-4a000ac7"]]),u1e={class:"custom-tabs-label"},d1e=j({__name:"PanelMenu",setup(t){const e=z(!0),n=z(!0),i=z("first"),s=z(),r=z();Mt(()=>{});const o=()=>{n.value=!n.value,n.value?s.value.style.transform="translateX(0px)":s.value.style.transform=`translateX(-${s.value.clientWidth}px)`},a=()=>{};return(l,c)=>{const u=bt("el-icon"),d=bt("el-tooltip"),f=bt("el-tab-pane"),p=bt("el-tabs");return P(),H("div",{ref_key:"panelRef",ref:s,class:"model-panel",onTransitionend:a},[St(Y("div",{ref_key:"containerRef",ref:r,class:"editMenu"},[X(p,{modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=g=>i.value=g),type:"border-card","tab-position":"left"},{default:ne(()=>[X(f,{name:"first"},{label:ne(()=>[X(d,{effect:"dark",content:"材质库",placement:"right"},{default:ne(()=>[Y("span",u1e,[X(u,null,{default:ne(()=>[X(h(KR))]),_:1})])]),_:1})]),default:ne(()=>[X(c1e)]),_:1})]),_:1},8,["modelValue"])],512),[[Kt,e.value]]),Y("div",{class:"toggle-btn",onClick:o},[n.value?(P(),_e(u,{key:0},{default:ne(()=>[X(h($R))]),_:1})):(P(),_e(u,{key:1},{default:ne(()=>[X(h(ev))]),_:1}))])],544)}}}),f1e={class:"treeData"},h1e=j({__name:"TreeView",setup(t,{expose:e}){const n=z(),i={children:"children",label:"label",id:0};let s=z([{id:0,label:"模型列表",children:[]}]);const r=a=>{(a.children==null||a.children.length==0)&&Is.ui.event.dispatchEvent({type:"modelTreeClick",data:a})},o=()=>{Is.ui.event.dispatchEvent({type:"modelTreeCheck"})};return e({modelTree:n}),(a,l)=>{const c=bt("el-tree");return P(),H("div",f1e,[X(c,{ref_key:"modelTree",ref:n,data:h(s),props:i,"node-key":"id","show-checkbox":"","default-expand-all":"","highlight-current":"","default-checked-keys":[0],onNodeClick:r,onCheckChange:o},null,8,["data"])])}}}),p1e=ud(h1e,[["__scopeId","data-v-bc87295c"]]),m1e=j({__name:"ModelTransform",setup(t,{expose:e}){const n=Xt({locationX:0,locationY:0,locationZ:0,RotationX:0,RotationY:0,RotationZ:0,ScaleX:0,ScaleY:0,ScaleZ:0,disabled:!0}),i=l=>{if(l==null){n.locationX=0,n.locationY=0,n.locationZ=0,n.RotationX=0,n.RotationY=0,n.RotationZ=0,n.ScaleX=0,n.ScaleY=0,n.ScaleZ=0,n.disabled=!0;return}l&&(n.disabled=!1,n.locationX=Math.round(l.position.x*1e3),n.locationY=Math.round(l.position.y*1e3),n.locationZ=Math.round(l.position.z*1e3),n.RotationX=Math.round(l.euler.x*180/Math.PI*100)/100,n.RotationY=Math.round(l.euler.y*180/Math.PI*100)/100,n.RotationZ=Math.round(l.euler.z*180/Math.PI*100)/100,n.ScaleX=Math.round(l.scale.x*1e3)/1e3,n.ScaleY=Math.round(l.scale.y*1e3)/1e3,n.ScaleZ=Math.round(l.scale.z*1e3)/1e3)},s=(l,c)=>{Is.ui.event.dispatchEvent({type:"changeLocation",changeType:l,value:c}),r(event)},r=l=>{l.target.blur()},o=(l,c)=>{Is.ui.event.dispatchEvent({type:"changeRotation",changeType:l,value:c}),r(event)},a=(l,c)=>{Is.ui.event.dispatchEvent({type:"changeScale",changeType:l,value:c}),r(event)};return e({showModelData:i}),(l,c)=>{const u=bt("el-input"),d=bt("el-form-item"),f=bt("el-form");return P(),_e(f,{size:"small","label-position":"right","label-width":"100px",model:n,style:{"margin-left":"10px","margin-right":"10px","margin-top":"5px","margin-bottom":"5px"}},{default:ne(()=>[X(d,{label:"（位置mm）X："},{default:ne(()=>[X(u,{modelValue:n.locationX,"onUpdate:modelValue":c[0]||(c[0]=p=>n.locationX=p),onBlur:c[1]||(c[1]=p=>s(0,n.locationX)),onKeyup:c[2]||(c[2]=Gt(p=>s(0,n.locationX),["enter","native"])),disabled:n.disabled},null,8,["modelValue","disabled"])]),_:1}),X(d,{label:"Y："},{default:ne(()=>[X(u,{modelValue:n.locationY,"onUpdate:modelValue":c[3]||(c[3]=p=>n.locationY=p),onBlur:c[4]||(c[4]=p=>s(1,n.locationY)),onKeyup:c[5]||(c[5]=Gt(p=>s(1,n.locationY),["enter","native"])),disabled:n.disabled},null,8,["modelValue","disabled"])]),_:1}),X(d,{label:"Z："},{default:ne(()=>[X(u,{modelValue:n.locationZ,"onUpdate:modelValue":c[6]||(c[6]=p=>n.locationZ=p),onBlur:c[7]||(c[7]=p=>s(2,n.locationZ)),onKeyup:c[8]||(c[8]=Gt(p=>s(2,n.locationZ),["enter","native"])),disabled:n.disabled},null,8,["modelValue","disabled"])]),_:1}),X(d,{label:"（旋转）X："},{default:ne(()=>[X(u,{modelValue:n.RotationX,"onUpdate:modelValue":c[9]||(c[9]=p=>n.RotationX=p),onBlur:c[10]||(c[10]=p=>o(0,n.RotationX)),onKeyup:c[11]||(c[11]=Gt(p=>o(0,n.RotationX),["enter","native"])),disabled:n.disabled},null,8,["modelValue","disabled"])]),_:1}),X(d,{label:"Y："},{default:ne(()=>[X(u,{modelValue:n.RotationY,"onUpdate:modelValue":c[12]||(c[12]=p=>n.RotationY=p),onBlur:c[13]||(c[13]=p=>o(1,n.RotationY)),onKeyup:c[14]||(c[14]=Gt(p=>o(1,n.RotationY),["enter","native"])),disabled:n.disabled},null,8,["modelValue","disabled"])]),_:1}),X(d,{label:"Z："},{default:ne(()=>[X(u,{modelValue:n.RotationZ,"onUpdate:modelValue":c[15]||(c[15]=p=>n.RotationZ=p),onBlur:c[16]||(c[16]=p=>o(2,n.RotationZ)),onKeyup:c[17]||(c[17]=Gt(p=>o(2,n.RotationZ),["enter","native"])),disabled:n.disabled},null,8,["modelValue","disabled"])]),_:1}),X(d,{label:"（缩放）X："},{default:ne(()=>[X(u,{modelValue:n.ScaleX,"onUpdate:modelValue":c[18]||(c[18]=p=>n.ScaleX=p),onBlur:c[19]||(c[19]=p=>a(0,n.ScaleX)),onKeyup:c[20]||(c[20]=Gt(p=>a(0,n.ScaleX),["enter","native"])),disabled:n.disabled},null,8,["modelValue","disabled"])]),_:1}),X(d,{label:"Y："},{default:ne(()=>[X(u,{modelValue:n.ScaleY,"onUpdate:modelValue":c[21]||(c[21]=p=>n.ScaleY=p),onBlur:c[22]||(c[22]=p=>a(1,n.ScaleY)),onKeyup:c[23]||(c[23]=Gt(p=>a(1,n.ScaleY),["enter","native"])),disabled:n.disabled},null,8,["modelValue","disabled"])]),_:1}),X(d,{label:"Z："},{default:ne(()=>[X(u,{modelValue:n.ScaleZ,"onUpdate:modelValue":c[24]||(c[24]=p=>n.ScaleZ=p),onBlur:c[25]||(c[25]=p=>a(2,n.ScaleY)),onKeyup:c[26]||(c[26]=Gt(p=>a(2,n.ScaleY),["enter","native"])),disabled:n.disabled},null,8,["modelValue","disabled"])]),_:1})]),_:1},8,["model"])}}}),g1e=ud(m1e,[["__scopeId","data-v-a0769aa1"]]),v1e={class:"toolbar"},y1e=j({__name:"Toolbar",setup(t){const e=z("translate"),n=i=>{Is.ui.event.dispatchEvent({type:"toolbarChange",data:i})};return(i,s)=>{const r=bt("el-icon"),o=bt("el-radio-button"),a=bt("el-tooltip"),l=bt("el-radio-group");return P(),H("div",v1e,[X(l,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=c=>e.value=c),onChange:n},{default:ne(()=>[X(a,{effect:"dark",content:"选择",placement:"top"},{default:ne(()=>[X(o,{label:"select"},{default:ne(()=>[X(r,null,{default:ne(()=>[X(h($V))]),_:1})]),_:1})]),_:1}),X(a,{effect:"dark",content:"移动",placement:"top"},{default:ne(()=>[X(o,{label:"translate"},{default:ne(()=>[X(r,null,{default:ne(()=>[X(h(KV))]),_:1})]),_:1})]),_:1}),X(a,{effect:"dark",content:"旋转",placement:"top"},{default:ne(()=>[X(o,{label:"rotate"},{default:ne(()=>[X(r,null,{default:ne(()=>[X(h(JV))]),_:1})]),_:1})]),_:1}),X(a,{effect:"dark",content:"缩放",placement:"top"},{default:ne(()=>[X(o,{label:"scale"},{default:ne(()=>[X(r,null,{default:ne(()=>[X(h(xV))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),b1e=ud(y1e,[["__scopeId","data-v-6e53462d"]]),aN=t=>(nA("data-v-4dd92577"),t=t(),iA(),t),_1e={class:"panelRightContainer"},w1e={class:"top-div"},x1e=aN(()=>Y("div",{class:"divider"},null,-1)),S1e={class:"bottom-div"},M1e={class:"editMenu",style:{width:"250px"}},C1e={class:"custom-tabs-label"},E1e=aN(()=>Y("div",{class:"viewHelp",id:"viewHelp"},null,-1)),T1e=j({__name:"PanelRight",setup(t,{expose:e}){const n=z("first"),i=z(!0),s=z(),r=z(),o=z(),a=()=>{i.value=!i.value,i.value?o.value.style.transform="translateX(0px)":o.value.style.transform=`translateX(${o.value.clientWidth}px)`};return e({modelTransform:s,treeView:r}),(l,c)=>{const u=bt("el-icon"),d=bt("el-tooltip"),f=bt("el-tab-pane"),p=bt("el-tabs");return P(),H("div",{class:"panelRight",ref_key:"panelRef",ref:o},[Y("div",_1e,[Y("div",w1e,[X(b1e),X(p1e,{ref_key:"treeView",ref:r},null,512)]),x1e,Y("div",S1e,[Y("div",M1e,[X(p,{modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=g=>n.value=g),type:"border-card","tab-position":"left"},{default:ne(()=>[X(f,{name:"first"},{label:ne(()=>[X(d,{effect:"dark",content:"构件变换",placement:"right"},{default:ne(()=>[Y("span",C1e,[X(u,null,{default:ne(()=>[X(h(KR))]),_:1})])]),_:1})]),default:ne(()=>[X(g1e,{ref_key:"modelTransform",ref:s},null,512)]),_:1})]),_:1},8,["modelValue"])])])]),Y("div",{class:"toggle-btn",onClick:a,style:{left:"-16px"}},[i.value?(P(),_e(u,{key:0},{default:ne(()=>[X(h(ev))]),_:1})):(P(),_e(u,{key:1},{default:ne(()=>[X(h($R))]),_:1}))]),E1e],512)}}}),A1e=ud(T1e,[["__scopeId","data-v-4dd92577"]]),R1e=j({__name:"App",setup(t){const e=z(),n=z();return Mt(()=>{Zye(e.value).then(i=>{console.log("app",i),i.ui.panelRight=n})}),(i,s)=>(P(),H("div",{class:"container",ref_key:"containerRef",ref:e},[X(d1e),X(A1e,{ref_key:"panelRight",ref:n},null,512)],512))}}),P1e=ud(R1e,[["__scopeId","data-v-86920035"]]),lN=WA(P1e);lN.use(jue);lN.mount("#app")});export default I1e();
